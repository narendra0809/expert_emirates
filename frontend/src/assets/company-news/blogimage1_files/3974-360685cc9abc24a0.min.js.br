"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="afe88dd7-047d-5e1f-8c52-91427cbdbdc3")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3974],{503596:(e,t,l)=>{l.d(t,{kL:()=>a,kg:()=>s,pU:()=>n,uZ:()=>r});let a="embed--container--KRhyf",n="embed--iframe--6z9Fq",r="embed--playIcon--8LC5v",s="embed--inactiveOverlayBackdrop--DDuMq"},846751:(e,t,l)=>{l.d(t,{U:()=>a});let a="flapp_overlay--elementContainer--b1Khv"},708618:(e,t,l)=>{l.d(t,{e:()=>a});function a(e,t,l){""!==l&&(e.delete(t),"starting-point-node-id"===t&&(e.delete("node-id"),e.append("node-id",l)),e.append(t,l))}},185006:(e,t,l)=>{l.d(t,{Z:()=>eV,v:()=>eO});var a=l(848318),n=l(768618),r=l(614092);function s(e){return function({nodeId:t,isReadOnly:l,invalidateThumbnail:s}){let i=(0,a.useCallback)((e,l)=>{let a=(0,n.UN)().get(t);a&&a.setInteractiveSlideConfigData(e,l)},[t]),o=(0,a.useCallback)(e=>{let l=(0,n.UN)().get(t);l&&l.deleteInteractiveSlideConfigData(e)},[t]),c=(0,a.useCallback)((e,l)=>{let a=(0,n.UN)().get(t);a&&a.setInteractiveSlideParticipantData(e,l)},[t]),m=(0,a.useCallback)(()=>{let e=(0,n.UN)().get(t);e&&e.resetInteractiveSlideParticipantData()},[t]),p=(0,r.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideConfigData:null},t),u=(0,r.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideParticipantData:null},t);return p&&u?a.createElement(e,{configData:p,deleteConfigData:o,invalidateThumbnail:s,isPresenter:!1,isReadOnly:l,isViewer:!1,nodeId:t,participantData:u,recordingKey:`flapp.${t}`,resetParticipantData:m,setConfigData:i,setParticipantData:c}):null}}function i(e){return function({viewer:t,nodeId:l}){let n=(0,r.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideConfigData(l):null},l),s=(0,r.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideParticipantData(l):null},l);if(!n||!s)return null;let i=(e,l,a)=>{t.setInteractiveSlideConfigData(e,l,a)},o=(e,l,a)=>{t.setInteractiveSlideParticipantData(e,l,a)},c=t.isPresenterSession();return a.createElement(e,{configData:n,participantData:s,setConfigData:(e,t)=>i(l,e,t),setParticipantData:(e,t)=>o(l,e,t),recordingKey:`flapp.${l}`,isViewer:!0,isPresenter:c,nodeId:l,viewer:t})}}var o=l(773511),c=l(106445),m=l(225555),p=l(952647),u=l(320953),d=l(536384),f=l.n(d),g=l(781239),h=l(439382),E=l(720522),v=l(297638),_=l(967688),b=l(142896),y=l(161694),N=l(125761),w=l(17753),x=l(900194),C=l(397157);let I="alignment_scale--prompt--D-cNA";var k=l(807151);function P({recordingKey:e,prompt:t,setPrompt:l}){return a.createElement(h.L,{className:f()(I,b.Qx,b.Uu),type:"text",placeholder:(0,_.t)("slides.flapp.alignment.prompt_placeholder"),value:t,onChange:e=>{l(e.target.value)},onPaste:e=>{l(e.clipboardData.getData("text"))},recordingKey:e})}function S({prompt:e}){return a.createElement("p",{className:I},e||(0,_.t)("slides.flapp.alignment.prompt_placeholder"))}function F({configData:e,setConfigData:t,recordingKey:l,participantData:n,promptElement:r,onVoteRequest:s}){var i;let o=(0,N.iZ)(),c=s&&o?(e,t)=>{s({name:o.name,userId:o.id,thumbnailUrl:o.img_url,alignmentXOffsetPercentage:e,alignmentYOffsetPercentage:t,timestamp:Date.now()})}:void 0,[m,d]=(i=o?.id,(0,a.useMemo)(()=>{let e;return n?[Object.values(n).reduce((t,l)=>{try{let a=JSON.parse(l);a.userId===i&&(e=a),t.push(a)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),e]:[[],void 0]},[n,i])),h="true"===e.resultsShown,E=u.nc.user("slides-toggle-alignment-scale-results-shown",()=>{t("resultsShown",(!h).toString())}),_=(0,C.aF)(e);return a.createElement(p.J,{mode:_.preferredTokenTheme},a.createElement("div",{className:f()(v.s.wFull.flex.flexColumn.justifyCenter.itemsCenter.$,"alignment_scale--alignmentScaleThemeWrapper--1VvHW"),"data-transparency-mode":_.transparentMode},a.createElement("div",{className:"alignment_scale--mainContainer--aIN2p"},a.createElement(U,{prompt:r,allVoteData:m,currentUserVoteData:d}),a.createElement(D,{resultsShown:h,alignmentVoteData:m,onScaleClick:c}),a.createElement(L,null)),a.createElement(V,{recordingKey:g.Pt(l,"slides-alignment-scale-reveal-results"),resultsShown:h,onToggle:E})))}function U({prompt:e,allVoteData:t,currentUserVoteData:l}){return a.createElement("div",{className:"alignment_scale--headerContainer--l688h"},a.createElement("div",{className:"alignment_scale--promptContainer--hRH11 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e),a.createElement(T,{allVoteData:t,currentUserVoteData:l}))}function D({resultsShown:e,alignmentVoteData:t,onScaleClick:l}){let n=(0,a.useRef)(null),r=l?e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;l(a/t.width,n/t.height)}:void 0;return a.createElement("div",{className:"alignment_scale--scaleContainerPseudoBorder--Jj6DE"},a.createElement("div",{className:"alignment_scale--scaleContainerSolidBackground--s4pRF"}),a.createElement(o.E,{className:f()("alignment_scale--scaleContainer--gmwd3",l?v.s.cursorPointer.$:""),ref:n,onClick:r},a.createElement("div",{className:"alignment_scale--scaleLine--uHC-I"}),a.createElement("div",{className:"alignment_scale--scaleMarkerContainer--X5x-j"},a.createElement("div",{className:"alignment_scale--scaleMarker0--QIykm alignment_scale--_scaleMarker---mTsV"}),a.createElement("div",{className:"alignment_scale--scaleMarker25--3Xe8a alignment_scale--_scaleMarker---mTsV"}),a.createElement("div",{className:"alignment_scale--scaleMarker50--L4exg alignment_scale--_scaleMarker---mTsV"}),a.createElement("div",{className:"alignment_scale--scaleMarker75--Urto8 alignment_scale--_scaleMarker---mTsV"}),a.createElement("div",{className:"alignment_scale--scaleMarker100--AHcJW alignment_scale--_scaleMarker---mTsV"})),e&&n.current?t.map(e=>a.createElement("img",{src:(0,y.p)(e.thumbnailUrl),key:e.userId,alt:e.name,className:"alignment_scale--alignmentScaleVote--zkhC9",style:{left:`${Math.floor(100*e.alignmentXOffsetPercentage)}%`,top:`${Math.floor(100*e.alignmentYOffsetPercentage)}%`,transform:"translate(-15px, -15px)"}})):null))}function L(){return a.createElement("div",{className:"alignment_scale--scaleLabelContainer--HF5-I"},a.createElement("div",{className:"alignment_scale--stronglyDisagreeLabel--1Yzc0 alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.strongly_disagree_label")),a.createElement("div",{className:"alignment_scale--neutralLabel--qqm5f alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.neutral_label")),a.createElement("div",{className:"alignment_scale--stronglyAgreeLabel--Dhs7h alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.strongly_agree_label")))}function T({allVoteData:e,currentUserVoteData:t}){let l,n=e;return t&&(n=[t,...e.filter(e=>e.userId!==t.userId)]),l=0===n.length?(0,_.t)("slides.flapp.results.no_votes_yet"):1===n.length?t?(0,_.t)("slides.flapp.results.single_self_vote"):(0,_.t)("slides.flapp.results.single_other_vote",{person:n[0].name}):t?(0,_.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:n.length-1}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:n.length}),a.createElement("div",{className:"alignment_scale--voteDisplayContainer--upm2F text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("p",{className:"alignment_scale--description--kxZH3"},l),a.createElement(B,{allVoteData:n,maxToShow:2}))}function B({allVoteData:e,maxToShow:t}){let l=e.length;e.length>t+1&&(l=t);let n=e.slice(0,l),r=e.slice(l),s=r.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return a.createElement("div",{className:"alignment_scale--voteProfilesContainer--wbH0G"},n.map(e=>a.createElement("img",{className:"alignment_scale--voteProfile--Um0e6",key:e.userId,alt:e.name,src:(0,y.p)(e.thumbnailUrl),"data-tooltip-type":w.Ib.TEXT,"data-tooltip":e.name})),r.length>0?a.createElement("div",{className:"alignment_scale--overflowVote--KIoww text--fontPos11--2LvXf text--_fontBase--QdLsd","data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":x.c,"data-tooltip-overflow-user-data":JSON.stringify(s)},`+${r.length}`):null)}function V({recordingKey:e,resultsShown:t,onToggle:l}){return a.createElement("div",{className:"alignment_scale--resultToggleContainer--euX1O"},a.createElement(E.B,{className:"alignment_scale--resultToggleContainerSvg--PFGWI",svg:k.A}),a.createElement(o.E,{className:"alignment_scale--resultToggle--alry6 text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:l,recordingKey:e},t?a.createElement(c.l,null):a.createElement(m.f,null),a.createElement("p",null,t?(0,_.t)("slides.flapp.results.results_shown"):(0,_.t)("slides.flapp.results.results_hidden"))))}let O={EditorFlapp:s(function(e){let{configData:t,setConfigData:l,recordingKey:n}=e,r=a.createElement(P,{recordingKey:g.Pt(n,"slides-alignment-scale-prompt-input"),prompt:t.prompt,setPrompt:e=>{u.l7.user("slides-update-alignment-scale-prompt",()=>{l("prompt",e)})}});return a.createElement(F,{...e,promptElement:r})}),ViewerFlapp:i(function(e){return a.createElement(F,{...e,promptElement:a.createElement(S,{prompt:e.configData.prompt}),onVoteRequest:t=>{u.l7.user("slides-update-alignment-scale-vote",()=>{e.setParticipantData(t.userId,JSON.stringify(t))})}})})};var M=l(173811),$=l(637640),A=l(656329),Q=l(140357);function z({configData:e}){let t=(0,Q.hk)(),l=(0,M.gD)(e);return a.createElement(M.wL,{deviceFrame:l},a.createElement(M.lu,{isViewer:!0,onClick:()=>{e.url&&t&&$.Ay.redirect(e.url,A.uG?void 0:"_blank")}}))}let K={EditorFlapp:s(M.DR),ViewerFlapp:i(M.E$)},R={EditorFlapp:s(z),ViewerFlapp:i(z)};var W=l(230618),q=l(363895);function H({prompt:e,setPrompt:t}){return a.createElement(h.L,{className:f()(b.Qx,b.Uu),type:"text",placeholder:(0,_.t)("slides.flapp.facepile.prompt_placeholder"),value:e,onChange:e=>{t(e.target.value)},onPaste:e=>{t(e.clipboardData.getData("text"))},recordingKey:"facepile-prompt-input"})}function J({prompt:e}){return a.createElement("p",null,e||(0,_.t)("slides.flapp.facepile.prompt_placeholder"))}function Y({isViewer:e,configData:t,participantData:l,promptElement:n,onToggleStampRequest:r}){let s=(0,N.iZ)(),i=function(e,t){if(!e||0===Object.keys(e).length)return{stamps:[],currentUserStamped:!1};let l=!1;return{stamps:Object.values(e).reduce((e,a)=>{try{let n=JSON.parse(a);n.userId===t&&(l=!0),e.push(n)}catch(e){}return e},[]).sort((e,l)=>e.userId===t?-1:l.userId===t?1:e.timestamp-l.timestamp),currentUserStamped:l}}(l,s?.id),o=function(e,t){let{stamps:l,currentUserStamped:a}=e;return 0===l.length?t?(0,_.t)("slides.flapp.facepile.description_click_to_stamp"):(0,_.t)("slides.flapp.results.no_stamps_yet"):1===l.length?a?(0,_.t)("slides.flapp.results.single_self_stamp"):(0,_.t)("slides.flapp.results.single_other_stamp",{person:l[0].name}):a?(0,_.t)("slides.flapp.results.multiple_stamps_including_user",{totalStamps:l.length-1}):(0,_.t)("slides.flapp.results.multiple_other_stamps",{totalStamps:l.length})}(i,e),c=(0,C.aF)(t);return a.createElement(p.J,{mode:c.preferredTokenTheme},a.createElement("div",{className:f()("facepile--container--k1p6f","facepile--facepileThemeWrapper--dG-S8"),"data-transparent-mode":c.transparentMode},a.createElement("div",{className:"facepile--prompt--6Xfxz text--fontPos24--YppUD text--_fontBase--QdLsd"},n),a.createElement(j,{isStampingEnabled:e,stampsWithMetadata:i,maxStampsToShow:3,currentUser:s,onToggleStampRequest:r}),a.createElement("p",{className:"facepile--description--SesIh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},o)))}function j({isStampingEnabled:e,stampsWithMetadata:t,maxStampsToShow:l,currentUser:n,onToggleStampRequest:r}){let{stamps:s,currentUserStamped:i}=t,o=s.length;s.length>l+1&&(o=l);let c=s.slice(0,o),m=s.slice(o),p=e&&n&&!i;return a.createElement("div",{className:v.s.flex.gap12.pt36.pb24.itemsCenter.alignCenter.$},c.map(e=>{let t=r&&n&&e.userId===n.id,l={text:e.name,subtext:t?(0,_.t)("slides.flapp.facepile.tooltip.click_to_remove"):void 0};return a.createElement(X,{stamp:e,tooltipToShow:l,onClick:()=>{t&&r(n.id,void 0)},key:`${e.userId}-stamp`})}),m.length>0?a.createElement(Z,{overflowStamps:m}):null,a.createElement(G,{previewStamp:p?ee(n):void 0,onClick:()=>{p&&r&&r(n.id,ee(n))}}))}function X({stamp:e,tooltipToShow:t,onClick:l}){return a.createElement(o.E,{onClick:l,htmlAttributes:{"data-tooltip-type":w.Ib.TEXT,"data-tooltip":t?.text,"data-tooltip-subtext":t?.subtext,"data-tooltip-offset-y":8}},a.createElement(W.oW,{className:"facepile--facepileStamp---gzFz facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",src:(0,y.p)(e.thumbnailUrl),alt:e.name,draggable:!1}))}function Z({overflowStamps:e}){let t=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return a.createElement("div",{className:"facepile--overflowStamp--j3fn3 text--fontPos22--4H4Fc text--_fontBase--QdLsd facepile--_stampBase--eCNDB","data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":x.c,"data-tooltip-overflow-user-data":JSON.stringify(t),"data-tooltip-offset-y":8},a.createElement("p",null,`+${e.length}`))}function G({previewStamp:e,onClick:t}){return a.createElement(o.E,{className:f()("facepile--emptyStampContainer--dAbYv facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",e?"facepile--displayPreviewOnHover--qPtfX":""),onClick:t},a.createElement(E.B,{className:"facepile--emptyStamp--KiqZH",svg:q.A}),e?a.createElement("div",{className:"facepile--previewStamp--TbFAQ"},a.createElement(X,{stamp:e})):null)}function ee(e){return{name:e.name,userId:e.id,thumbnailUrl:e.img_url,timestamp:Date.now()}}let et={EditorFlapp:s(function(e){let t=a.createElement(H,{prompt:e.configData.prompt,setPrompt:t=>{u.l7.user("slides-update-facepile-question",()=>{e.setConfigData("prompt",t)})}});return a.createElement(Y,{...{...e,promptElement:t}})}),ViewerFlapp:i(function(e){return a.createElement(Y,{...{...e,promptElement:a.createElement(J,{prompt:e.configData.prompt}),onToggleStampRequest:(t,l)=>{u.l7.user("slides-add-user-facepile-stamp",()=>{e.setParticipantData(t,JSON.stringify(l))})}}})})};var el=l(301168),ea=l(907727),en=l(990140),er=l(979890),es=l(314979);let ei="poll--question--F1M7f text--fontPos30--N-YT7 text--_fontBase--QdLsd",eo="poll--optionContainer--ds9OS",ec="poll--optionContentText---N25s";function em(e){let t=[];for(let l=0;l<6;l++){let a=e[`option${l}`];void 0!==a&&t.push(a)}return t}function ep({resultsShown:e,setResultsShown:t}){return a.createElement(er.GG,{className:"poll--toggleResultVisibilityButton--mcWJq text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e),recordingKey:"resultsButton"},e?a.createElement(a.Fragment,null,a.createElement(c.l,null),(0,_.tx)("slides.flapp.results.results_shown")):a.createElement(a.Fragment,null,a.createElement(m.f,null),(0,_.tx)("slides.flapp.results.results_hidden")))}function eu({totalVotes:e,hasUserVote:t,firstVoteByTimestamp:l}){let n;return n=0===e?(0,_.t)("slides.flapp.results.no_votes_yet"):1===e?t?(0,_.t)("slides.flapp.results.single_self_vote"):l?(0,_.t)("slides.flapp.results.single_other_vote",{person:l.name}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}):t?(0,_.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:e-1}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}),a.createElement("p",null,n)}function ed({votes:e,children:t,isWinningVote:l,isUserVote:n,percentage:r,resultsShown:s,recordingKey:i,onClick:o}){let c=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return a.createElement("div",{className:eo},a.createElement(er.GG,{className:f()("poll--optionInner--WmnWP",o?"poll--hoverable--uHwKu":""),recordingKey:i,onClick:o,"data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":c.length>0?x.c:void 0,"data-tooltip-overflow-user-data":JSON.stringify(c),"data-tooltip-offset-y":8},s&&a.createElement("div",{className:f()("poll--optionFill--birzf",l?"poll--winning--ZgYy7":""),style:{width:`${r}%`}}),a.createElement("div",{className:"poll--optionContent--XecHh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t,a.createElement("div",{className:v.s.flex.gap8.itemsCenter.$},n&&a.createElement(ea.l,{height:"24px",width:"24px"}),s&&a.createElement("span",null,`${r}%`)))))}function ef({onClick:e,recordingKey:t}){return a.createElement(er.D8,{className:eo,onClick:e,recordingKey:g.Pt(t,"addOption")},a.createElement("div",{className:f()("poll--newOption--H35l3",{[v.s.invisible.$]:!e})},a.createElement(en.e,null)))}let eg="slides-update-poll-question",eh="slides-update-poll-option",eE="slides-update-poll-options";function ev({nodeId:e,preferredTheme:t,transparencyMode:l,configData:r,participantData:s,setConfigData:i,setParticipantData:o,deleteConfigData:c,isViewer:m,recordingKey:d}){let E=(0,el.wA)(),v=(0,N.iZ)(),y=r.question||"",w=em(r),x="true"===r.resultsShown,[C,I]=a.useState(!1),k=a.useMemo(()=>[],[]);(0,a.useEffect)(()=>{if(C&&k.length>0){let e=k.slice(-1)[0];e&&e.current&&e.current.focus()}},[w.length,k,C]);let P=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(m)return;let t=P.current,l=new ResizeObserver(t=>{let l=(0,n.UN)().get(e);if(l)for(let e of t)u.l7.system("slides-poll-auto-resize",()=>{let t=getComputedStyle(e.target),a=parseFloat(t.paddingTop),n=a+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),r=e.contentRect.height+n;l&&r>l.size.y&&(l.size={x:l.size.x,y:r})})});return t&&l.observe(t),()=>{t&&l.unobserve(t)}},[e,m]);let S=u.nc.user(eg,e=>{i("question",e.target.value)}),F=u.nc.user(eg,e=>{i("question",e.clipboardData.getData("text"))}),U=e=>`option${e}`,D=u.nc.user(eh,(e,t)=>{i(U(e),t.currentTarget.value)}),L=u.nc.user(eh,(e,t)=>{i(U(e),t.clipboardData.getData("text"))}),T=u.nc.user(eE,(e,t)=>{e===w.length-1&&("Enter"===t.key&&w.length<6?(i(U(e+1),""),I(!0)):w.length>2&&0===w[e].length&&("Backspace"===t.key||"Delete"===t.key)&&(c&&(c(U(e)),t.preventDefault()),I(!0)))}),B=u.nc.user("slides-update-poll-results-visibility",e=>{i("resultsShown",e?"true":"false")}),{groupedVotes:V,totalVotes:O,votePercentages:M,winningVoteIndices:$,userVoteIndex:A,firstVoteByTimestamp:Q}=function(e,t,l){let a;let n=em(t),r=-1,s=Object.values(l).reduce((t,l)=>{try{let n=JSON.parse(l);n.userId===e&&(r=n.selectedOption),a=a&&a.timestamp>n.timestamp||!a?n:a,t.push(n)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),i=0,o=n.map((e,t)=>{let l=s.filter(e=>e.selectedOption===t);return i=l.length>i?l.length:i,l}),c=s.length,m=n.map((e,t)=>Math.round(100*(o[t].length/c||0))),p=o.reduce((e,t,l)=>t.length===i&&0!==t.length?[...e,l]:e,[]);return{groupedVotes:o,votePercentages:m,totalVotes:c,winningVoteIndices:p,userVoteIndex:r,firstVoteByTimestamp:a}}(v?.id,r,s),z=u.nc.system("slides-update-poll-votes",e=>{if(!v){E(es.s.error((0,_.t)("slides.flapp.poll.vote_failure")));return}let t={userId:v.id,name:v.name,thumbnailUrl:v.img_url,timestamp:Date.now(),selectedOption:e};o(t.userId,JSON.stringify(t))});return a.createElement(p.J,{mode:t},a.createElement("div",{className:f()("poll--pollThemeWrapper--z0UVm","poll--container--UKRlY"),"data-transparency-mode":l,ref:P},m?a.createElement("div",{className:ei},y):a.createElement(h.L,{type:"text",className:f()(ei,b.Qx,b.Uu),value:y,placeholder:(0,_.t)("slides.flapp.poll.question_placeholder"),onChange:S,onPaste:F,recordingKey:g.Pt(d,"questionInput")}),w.map((e,t)=>{let l=a.createRef();k.push(l);let n=-1!==$.indexOf(t);return m?a.createElement(ed,{votes:V[t],key:t,isWinningVote:n,isUserVote:t===A,percentage:M[t],resultsShown:x,recordingKey:g.Pt(d,`option${t}`),onClick:()=>z(t)},a.createElement("div",{className:ec},e)):a.createElement(ed,{votes:V[t],key:t,isWinningVote:n,isUserVote:t===A,percentage:M[t],resultsShown:x},a.createElement(h.L,{className:f()(ec,b.Qx,b.Uu),type:"text",value:e,placeholder:(0,_.t)("slides.flapp.poll.option_placeholder"),onChange:e=>D(t,e),onKeyDown:e=>T(t,e),onPaste:e=>L(t,e),ref:l,recordingKey:g.Pt(d,`optionInput${t}`)}))}),a.createElement(ef,{onClick:m||w.length>=6?void 0:u.nc.user(eE,()=>{i(U(w.length),""),I(!0)}),recordingKey:d}),a.createElement("div",{className:"poll--resultContainer--cQQVk text--fontPos20--Bcz97 text--_fontBase--QdLsd"},a.createElement(eu,{totalVotes:O,hasUserVote:A>=0,firstVoteByTimestamp:Q}),a.createElement(ep,{resultsShown:x,setResultsShown:e=>B(e)}))))}function e_({configData:e,participantData:t,setConfigData:l,setParticipantData:n,deleteConfigData:r,isViewer:s,isPresenter:i,recordingKey:o,nodeId:c}){let m=(0,C.aF)(e);return a.createElement(ev,{configData:e,deleteConfigData:r,isPresenter:i,isViewer:s,nodeId:c,participantData:t,preferredTheme:m.preferredTokenTheme,recordingKey:o,setConfigData:l,setParticipantData:n,transparencyMode:m.transparentMode})}let eb={EditorFlapp:s(e_),ViewerFlapp:i(e_)};var ey=l(938982),eN=l(204571),ew=l(810503),ex=l(345964),eC=l(579407),eI=l(439952),ek=l(200141);async function eP(e){if(!e)return;let t=(0,eN.KJ)(e.trim());if(t)try{let l=(await ek.E.getLinkMetadata({text:t.isFromIFrame?e:t.url,useEmbedsAllowList:"true",useLinkPreviewsV2:"true"})).data.meta;if(!l||"embed"!==l.type)return;return{srcUrl:l.srcUrl.replace("&autoplay=1","").replace("&auto_play=1","")+"&enablejsapi=1",url:decodeURIComponent(l.url||""),height:800*(l.height||450)/(l.width||800),width:800,title:decodeURIComponent(l.title||"YouTube"),thumbnailImage:l.thumbnailImage,thumbnailUrl:l.thumbnailUrl}}catch(e){(0,ew.x1)(ey.e.SLIDES,"Failed to get youtube embed",e)}}function eS({configData:e,disablePointerEvents:t,onIframeLoad:l}){return a.createElement("div",{className:v.s.wFull.hFull.$},e.srcUrl&&e.title?a.createElement("iframe",{src:e.srcUrl,className:v.s.wFull.hFull.$,onLoad:e=>l?.(e.target),title:e.title,allowFullScreen:!1,allow:"autoplay"}):null,t?a.createElement("div",{className:v.s.wFull.hFull.absolute.top0.left0.$}):null)}function eF({configData:e}){return e.url&&e.title?a.createElement("a",{className:v.s.wFull.hFull.cursorPointer.relative.$,style:{pointerEvents:"auto"},href:e.url,target:"_blank",rel:"noopener noreferrer",title:e.title},e.thumbnailUrl?a.createElement("img",{src:e.thumbnailUrl,alt:e.title,className:v.s.wFull.hFull.$,style:{objectFit:"cover"}}):null):null}let eU={EditorFlapp:s(function(e){let{configData:t,nodeId:l,setConfigData:r,isReadOnly:s}=e;return((0,a.useEffect)(()=>{s||t.srcUrl||eP(t.url).then(async e=>{if(!e)return;let t=(0,n.UN)().get(l);if(t&&(u.l7.system("initializing-youtube",()=>{(0,eC.r)(()=>{t.resizeWithConstraints(e.width,e.height),t.proportionsConstrained=!0;let l=t.relativeTransform;l.m02=t.relativeTransform.m02-e.width/2,l.m12=t.relativeTransform.m12-e.height/2,t.relativeTransform=l,r("srcUrl",e.srcUrl),r("title",e.title),e.url&&r("url",e.url),e.thumbnailUrl&&r("thumbnailUrl",e.thumbnailUrl)})}),e.thumbnailImage))try{let l=new Uint8Array(e.thumbnailImage.data),a=await (0,eI.UD)(l,"image/png",e.title);u.l7.system("initializing-youtube-thumbnail",()=>{(0,eC.r)(()=>{t.insertImageInFillPaint(a)})})}catch(e){}})},[t.url,t.srcUrl,l,r,s]),t.url&&!t.srcUrl)?a.createElement("div",{className:v.s.absolute.w48.h48.$},a.createElement(ex.kt,{size:"custom",className:v.s.w48.h48.$})):a.createElement(eS,{...e,disablePointerEvents:!0})}),ViewerFlapp:i(function(e){let t=(0,a.useCallback)(t=>{e.viewer&&e.viewer.associateYoutubeWithNode(e.nodeId,t)},[e.viewer,e.nodeId]);return(0,a.useEffect)(()=>()=>{e.viewer&&e.viewer.disassociateYoutubeWithNode(e.nodeId)},[e.viewer,e.nodeId]),a.createElement(eS,{...e,onIframeLoad:t})})},eD={EditorFlapp:s(eF),ViewerFlapp:i(eF)},eL={EMBED:K,POLL:eb,FACEPILE:et,ALIGNMENT:O,YOUTUBE:eU},eT={EMBED:R,POLL:eb,FACEPILE:et,ALIGNMENT:O,YOUTUBE:eD},eB={EditorFlapp:()=>null,ViewerFlapp:()=>null};function eV(e){return null===e?eB:eL[e]||eB}function eO(e){return null===e?eB:eT[e]||eB}},340204:(e,t,l)=>{l.d(t,{_:()=>m,s:()=>o});var a=l(848318),n=l(186606),r=l(999667),s=l(355755);let i=(0,l(231159).bt)(e=>e.mirror.appModel.activeUserAction);function o(e){let t=(0,s.KH)(),l=t&&1===Object.keys(t).length&&t[e],a=(0,r.md)(i);return l&&a===n.QOV.DEFAULT}let c=(0,r.eU)(null);function m(e){let[t,l]=(0,r.fp)(c);return{isEmbedActive:t===e,setActiveEmbed:a.useCallback(()=>{l(e)},[e,l])}}},54462:(e,t,l)=>{l.d(t,{o:()=>n});var a=l(933454);function n(e){if(!window.opener){console.error("No parent window found! Did you open this window manually?");return}a.L?.addAction("postMessageToPresenterView",{type:e.type}),window.opener.postMessage(e,"*")}},12559:(e,t,l)=>{l.d(t,{l:()=>n});var a=l(749214);let n=(0,l(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.774 19.963c.32-.03.63.142.747.441.084.215-.028.476-.257.508a9 9 0 1 1 7.648-7.648c-.032.229-.292.34-.507.256a.72.72 0 0 1-.442-.747Q20 12.39 20 12a8 8 0 1 0-7.226 7.963M18 11.883c.007.342-.343.558-.662.433a.55.55 0 0 1-.34-.5 5 5 0 1 0-5.18 5.18c.218.01.418.138.498.342.125.319-.09.669-.433.662A6 6 0 1 1 18 11.882m-7.17 2.88c.224.095.423-.132.334-.359a3 3 0 0 1-.06-.167 2 2 0 0 0-.51-.814 2 2 0 1 1 2.828-2.829c.227.23.507.414.815.51q.084.026.168.06c.226.088.453-.11.358-.335a3 3 0 1 0-3.933 3.934m5.075 6.226a1.5 1.5 0 0 0 1.376-1.058l.624-2.027 2.027-.623a1.5 1.5 0 0 0 .107-2.83l-6-2.357a1.5 1.5 0 0 0-1.945 1.945l2.358 6a1.5 1.5 0 0 0 1.453.95m4.085-5.123a.5.5 0 0 1-.352.46l-2.533.778-.78 2.533a.5.5 0 0 1-.943.036l-2.357-6a.5.5 0 0 1 .648-.648l6 2.357a.5.5 0 0 1 .317.484",clipRule:"evenodd"})})})}}]);

//# debugId=afe88dd7-047d-5e1f-8c52-91427cbdbdc3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/886647e121c7c4be5301d8373a99b6acc689330c/3974-360685cc9abc24a0.min.js.map