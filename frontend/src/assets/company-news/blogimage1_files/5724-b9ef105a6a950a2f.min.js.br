"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="600e89b5-62f8-5e32-97b1-7929ffc5dc1f")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5724],{575061:(e,t,n)=>{n.d(t,{AR:()=>Y,A_:()=>F,DN:()=>v,E3:()=>S,FK:()=>h,Gv:()=>c,Hd:()=>o,JX:()=>H,Kl:()=>l,Mf:()=>_,Ng:()=>d,ON:()=>w,PP:()=>g,Pt:()=>N,QF:()=>W,Qu:()=>Q,S:()=>z,Ub:()=>f,Uj:()=>C,VA:()=>X,VN:()=>V,Wz:()=>k,Ye:()=>s,ZE:()=>B,bV:()=>P,bq:()=>D,cB:()=>U,d3:()=>L,dJ:()=>i,gC:()=>r,gD:()=>A,gP:()=>I,jT:()=>a,k8:()=>y,kb:()=>G,lX:()=>b,mH:()=>E,nN:()=>m,nZ:()=>M,oB:()=>u,q_:()=>x,sH:()=>T,x0:()=>O,xR:()=>p,yl:()=>R,zN:()=>K});let a="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",_="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",p="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--searchBarContainer--Q2kZ7",E="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",f="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",v="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",w="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",h="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",I="fd_browse_resource_modal--searchBarFilterButton--hQeym",N="fd_browse_resource_modal--filterButtonActive--8krHg",P="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",C="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",x="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",A="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",R="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",D="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",S="fd_browse_resource_modal--mainViewSelector--chQy5",B="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",O="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",M="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",G="fd_browse_resource_modal--left--si6Cj",F="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",V="fd_browse_resource_modal--close--G1pa0",W="fd_browse_resource_modal--expandedViewContainer--EvsBd",Q="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",H="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",K="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",z="fd_browse_resource_modal--loadingSpinner--0IwJ9",X="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",Y="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},861090:(e,t,n)=>{n.d(t,{H:()=>a});let a=n(848318).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},354099:(e,t,n)=>{n.d(t,{O:()=>s});var a=n(848318),r=n(773511),l=n(967688),o=n(303397),i=n(17753);function s({children:e}){let t=(0,l.t)("fullscreen_actions.expand-ui");return a.createElement(r.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":i.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},e)}},480259:(e,t,n)=>{n.d(t,{n:()=>u,A:()=>m});var a=n(848318),r=n(140415),l=n(223931),o=n(967688),i=n(303397),s=n(831271),c=n(17753),d=n(43258);function u(){let e=(0,s.q)()?(0,o.t)("fullscreen_actions.expand-ui"):(0,o.t)("fullscreen_actions.minimize-ui");return a.createElement(l.J,{"aria-label":e,onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},a.createElement(r.C,null))}function m(){return a.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},a.createElement(r.C,null))}},340427:(e,t,n)=>{n.d(t,{A:()=>Q});var a=n(848318),r=n(301168),l=n(762217),o=n(954703),i=n(315696),s=n(721494),c=n(749214);let d=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5V8h10v-.5a.5.5 0 0 0-.5-.5m.5 2H7v7.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5zM7.5 6A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm7 7a1 1 0 0 0-.486-.857l-2.5-1.5A1 1 0 0 0 10 11.5v3a1 1 0 0 0 1.515.857l2.5-1.5A1 1 0 0 0 14.5 13m-1.972-.583L13.5 13l-.972.583L12 13.9l-1 .6v-3l1 .6z",clipRule:"evenodd"})})});var u=n(186606),m=n(320953),_=n(999667),p=n(536384),g=n.n(p),E=n(238462),f=n(781239),v=n(810503),y=n(156137),w=n(401970),b=n(967688),h=n(792533),I=n(476421),N=n(755860),P=n(303397),T=n(489082),k=n(963307),C=n(355755),x=n(730143),L=n(313405),A=n(244979),R=n(17753),D=n(698429),S=n(368085),B=n(341090),O=n(967045),M=n(83677),U=n(614892),G=n(712615),F=n(322266),V=n(985908);function W({selected:e,hasFocus:t,flowItemsCount:n,item:r,index:c,hasFile:m,fileKey:_,fileProtoUrl:p,isDragging:E,viewOnly:v,dispatch:y,onMouseDown:N,onMouseMove:P,onMouseUp:T,renamingStartingPointNodeId:k,setRenamingStartingPointNodeId:C,submitRename:x,selectFlowRowAndSetToEditName:D,recordingKey:S}){return a.createElement(B.e,{key:r.nodeID,className:"prototype_flows_panel--flowRow--pqvyi","data-testid":"prototype-flow-panel-row",dragging:E,onDoubleClick:()=>{var e;return e=r.nodeID,void(v||k===e||(C(e),u.X3B.centerViewportOnNodeIfNecessary(e)))},onMouseDown:N,onMouseMove:P,onMouseUp:T,recordingKey:f.Pt(S,"draggableRow"),selected:e&&t,singletonRow:n<=1},!v&&k&&k===r.nodeID?a.createElement(M.m,{defaultValue:r.prototypeStartingPoint.name||"",submitRename:e=>x(r.nodeID,e),recordingKey:f.Pt(S,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>D(e?c-1:c+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):a.createElement(U.JU,{className:"prototype_flows_panel--flowName--kg1JF"},r.prototypeStartingPoint.name),k!==r.nodeID&&a.createElement("div",{className:g()(["prototype_flows_panel--panelInfoContainer--pVsR6","prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ"])},a.createElement(l.o,{display:"contents",eventListeners:["onMouseDown"]},a.createElement(o.K,{onClick:()=>{var e;return e=r.nodeID,void u.glU.selectInstances(e,!u.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,b.t)("proto.flows_panel.select_frame"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.select_frame")}},a.createElement(w.U,{svg:V.A,fallbackSvg:V.A},a.createElement(i.A,null))),a.createElement(o.K,{disabled:!m,onClick:()=>(function(e){let t=u.X3B.currentDeviceType(),n=(0,A.vp)({scalingInfo:{viewportScalingMode:(0,L.qb)(t),contentScalingMode:(0,L.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});y(h.lW({stringToCopy:`${p}${n}`}))})(r.nodeID),"aria-label":(0,b.t)("proto.flows_panel.copy_link"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")}},a.createElement(w.U,{svg:F.A,fallbackSvg:F.A},a.createElement(s.r,null))),a.createElement(o.K,{disabled:!_,onClick:function(){y((0,I.K)({fileKey:_,startingPointNodeId:r.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"aria-label":(0,b.t)("proto.flows_panel.preview"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.preview")}},a.createElement(w.U,{svg:G.A,fallbackSvg:G.A},a.createElement(d,null))))))}let Q=function(e){let t=(0,k.kl)("prototypeStartingPointsInfo"),n=(0,r.d4)(x.sS)||"",l=(0,x.q5)(),o=(0,x.Cq)({useSinatraType:!0}),i=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),s=(0,C.eY)(),c=(0,D.ks)(),[d,p]=a.useState(null),g=(0,r.wA)(),w=c||e.viewOnly,h=(0,r.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&w),I=(0,T._W)(t,[]),{collapsedInspectionPanelAtom:L,collapseEnabled:A}=(0,S.QZ)("prototype_flows"),[R,B]=(0,_.fp)(L),M=a.useCallback(()=>{B(!R)},[B,R]);if(a.useEffect(()=>{o||(0,v.x1)("prototyping","No file available in flows panel",{fileKey:n})},[o,n]),!t||c&&0===(I=I.filter(e=>s.get(e.nodeID)?.visible)).length)return null;function G(e){let t=e;e>=I.length?t=0:e<0&&(t=I.length-1),P.Y5.updateAppModel({currentSelectedProperty:{type:u.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),p(I[t].nodeID)}function F(e,t){p(null),t&&m.l7.user("update-prototype-starting-point-name",()=>{u.glU.updatePrototypeStartingPointName(e,t)})}let V=c&&A&&R;return a.createElement(y.k,{name:"prototype_flows_panel"},a.createElement(U.Zk,{className:R?"noBottomPadding":void 0},a.createElement(O.h6,{addProperty:E.lQ,boldHeaderRow:V,currentSelectedProperty:i,dispatch:g,hideAddButton:!0,isPanelBodyCollapsedAtom:A?L:void 0,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=I.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=I[i.indices[0]].nodeID,a=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,r=I[i.indices[i.indices.length-1]].nodeID,l=e[e.length-1].nodeID===r?"":e[e.findIndex(e=>e.nodeID===r)+1].nodeID;m.l7.user("change-starting-points",()=>{u.glU.insertPrototypeStartingPointsBetween(t,a,l)})},onDeleteProperty:w?()=>{}:e=>{let t=I.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&u.glU.deletePrototypeStartingPoints(t)},onHeaderClick:A?M:void 0,openFile:l,pickerShown:null,propertyList:I,recordingKey:"prototypeFlowsList",renderProperty:(e,t,r,l,i,s,c,u,m)=>a.createElement(W,{key:t,dispatch:g,fileKey:n,fileProtoUrl:o?.prototype_url,flowItemsCount:I.length,hasFile:!!o,hasFocus:i,index:t,isDragging:l,item:e,onMouseDown:c,onMouseMove:u,onMouseUp:m,recordingKey:f.Pt("prototypeFlowsList",t),renamingStartingPointNodeId:d,selectFlowRowAndSetToEditName:G,selected:r,setRenamingStartingPointNodeId:p,submitRename:F,viewOnly:!!w}),reversed:!1,selectedPropertyType:u.rrT.PROTOTOTYPE_STARTING_POINT,shouldIgnoreKeyboardEventDuplicateProperty:!0,showVisibleFlowsButton:w&&!V,stylePickerShown:{isShown:!1},title:(0,b.t)("proto.flows"),toggleVisibleFlows:e=>{A&&e.stopPropagation(),N.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:h})))}},83677:(e,t,n)=>{n.d(t,{m:()=>q,A:()=>Z});var a=n(848318),r=n(301168),l=n(954703),o=n(773511),i=n(762217),s=n(749214);let c=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var d=n(990140),u=n(721494),m=n(92778),_=n(186606),p=n(320953),g=n(536384),E=n.n(g),f=n(813009),v=n(857607),y=n(781239),w=n(401970),b=n(967688),h=n(792533),I=n(696786),N=n(303397),P=n(489082),T=n(963307),k=n(730143),C=n(313405),x=n(244979),L=n(17753),A=n(21614),R=n(483157),D=n(410441),S=n(540882),B=n(454805),O=n(755534),M=n(1896),U=n(175393),G=n(27776);let F=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:r}){let[l,o]=(0,a.useState)(e?.description||""),i=(0,a.useRef)(l);(0,a.useEffect)(()=>{i.current=l},[l]);let s=(0,A.uQ)(),c=(0,a.useRef)(s),d=(0,a.useCallback)(()=>{p.l7.user("submit-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)}),t()},[t]);(0,a.useEffect)(()=>d,[d]);let u=(0,a.useCallback)(()=>{p.l7.user("blur-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)})},[]);return(0,a.useEffect)(()=>(window.addEventListener("blur",u),window.addEventListener("focus",u),()=>{window.removeEventListener("blur",u),window.removeEventListener("focus",u)}),[u]),a.createElement(U.vx,{title:(0,b.t)("proto.starting_point_modal.description"),initialPosition:new B.Mi(n.x-(0,D.hG)(G.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:d},a.createElement(O.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},a.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},a.createElement(S.X,{fallback:null,errorFallback:null,placeholder:(0,b.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:l,onInputChange:e=>{M.wt.reportEditAction("change-flow-description"),o(e)},onBlur:u,mountBehavior:"focusAndSelectAll",toolbarOptions:"minimal",toolbarProps:{"aria-label":(0,b.t)("proto.starting_point_modal.description")}}))))};var V=n(614892),W=n(699848);let Q="prototype_starting_point_panel--rightIconButton--ID6ZQ";var H=n(322266),K=n(952200),z=n(389075),X=n(80876),Y=n(954184),j=n(546131);function Z(e){let[t,n]=(0,T.lJ)("prototypeStartingPoint"),s=(0,I.GS)(),g=!!(0,f.R)($),[v,D]=(0,a.useState)(!1),[S,B]=(0,a.useState)(P.E7(t)?.name||""),[O,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=P.E7(t)?.name||"";e!==S&&(B(e),!S&&O&&(M(!1),D(!0)))},[t,S,O]);let[U,G]=(0,a.useState)(!1),Z=(0,a.useRef)(null),J=(0,a.useRef)(null),ee=(0,A.Tv)(),et=(0,k.Cq)({useSinatraType:!0}),en=!!et,ea=et?.prototype_url,er=(0,r.d4)(e=>e.mirror.appModel.urlNodeId),el=(0,r.wA)(),eo=(0,a.useCallback)(()=>{G(!1)},[]);(0,a.useEffect)(()=>{eo()},[eo,ee]);let ei=p.nc.user("delete-prototype-starting-points",()=>{ee&&_.glU.deletePrototypeStartingPoints(ee)}),es=y.rf(y.Pt(e.recordingKey,"minusButton"),"click",e=>{ei()}),ec=y.rf(y.Pt(e.recordingKey,"nameLabel"),"click",e=>{D(!0)});(0,a.useEffect)(()=>(N.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ec),()=>{N.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ec)}),[ec]);let ed=y.rf(e.recordingKey,"click",e=>{M(!0),p.l7.user("add-prototype-starting-point",()=>{N.Y5.triggerAction("add-prototype-starting-point")})}),eu=ee&&ee.length>1,em=(0,P._W)(t,{}),e_=a.createElement(a.Fragment,null,v?a.createElement(q,{defaultValue:S,submitRename:function(e){D(!1),e?n({name:e,description:(0,P.E7)(t)?P.E7(t)?.description:"",position:(0,P.E7)(t)?P.E7(t)?.position:""}):B(P.E7(t)?.name||"")},recordingKey:y.Pt(e,"startingPointNameInput")}):a.createElement(V.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ec},S)),ep=a.createElement(l.K,{onClick:()=>{G(!0)},htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.edit_description")},"aria-label":(0,b.t)("proto.starting_points.edit_description"),recordingKey:y.Pt(e,"startingPointPanelIcon")},a.createElement(w.U,{svg:X.A,fallbackSvg:X.A},a.createElement(c,null))),eg=s?a.createElement(W.DE,{ref:J,label:null,input:e_,icon:ep}):a.createElement(V.fI,{ref:Z},e_,a.createElement("span",{className:Q},ep));return g?a.createElement(V.Zk,null,a.createElement(V.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},a.createElement(R.Q,{extended:!0},(0,b.tx)("proto.starting_points.flow_starting_point_title")),a.createElement("span",{className:"prototype_starting_point_panel--fadeOutOnUnhover--6-o5B"},!eu&&a.createElement(l.K,{disabled:!en,onClick:()=>(function(e){let t=_.X3B.currentDeviceType(),n=(0,x.vp)({scalingInfo:{viewportScalingMode:(0,C.qb)(t),contentScalingMode:(0,C.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});el(h.lW({stringToCopy:`${ea}${n}`}))})(er),htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")},"aria-label":(0,b.t)("proto.flows_panel.copy_link")},a.createElement(w.U,{svg:H.A,fallbackSvg:H.A},a.createElement(u.r,null)))),a.createElement("span",{className:Q},a.createElement(l.K,{onClick:es,htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},a.createElement(w.U,{svg:K.A,fallbackSvg:z.A},a.createElement(m.O,null))))),eu?a.createElement(V.fI,null,a.createElement(V.UZ,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,b.tx)("proto.starting_points.click_to_remove_mixed_content"))):a.createElement(a.Fragment,null,eg,U&&a.createElement(F,{startingPoint:em,closeModal:eo,parentPanelRectObject:(s?J.current:Z.current).getBoundingClientRect(),recordingKey:y.Pt(e,"startingPointDescriptionModal")}))):eu?null:a.createElement(V.Zk,null,a.createElement(V.fI,{className:E()("prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR draggable_list--hover--yEfA5","prototype_starting_point_panel--hover--5t-WV")},a.createElement(R.Q,{faded:!0,extended:!0},a.createElement(o.E,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onClick:ed,recordingKey:y.Pt(e,"panelTitle")},(0,b.tx)("proto.starting_points.flow_starting_point_title"))),a.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement(l.K,{onClick:ed,htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.add_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.add_starting_point_tooltip"),recordingKey:y.Pt(e,"plusButton")},a.createElement(w.U,{svg:Y.A,fallbackSvg:j.A},a.createElement(d.e,null)))))))}function $(e){return e.mirror.selectionProperties.prototypeStartingPoint}function q(e){let[t,n]=a.useState(e.defaultValue),r=y.AF(e.recordingKey,"change",e=>{n(e.target.value)}),l=y.iQ(e.recordingKey,"blur",p.nc.user("rename-starting-point",()=>e.submitRename(t))),o=y.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===v.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement("input",{autoFocus:!0,className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,dir:"auto",onBlur:l,onChange:r,onFocus:e=>{e.currentTarget.select()},onKeyDown:o,placeholder:"Flow name",type:"text"}))}},881658:(e,t,n)=>{let a,r,l,o;n.d(t,{k:()=>D});var i=n(848318),s=n(301168),c=n(329228),d=n(454805),u=n(66699),m=n(566726),_=n(212885),p=n(453370),g=n(986368),E=n(863270),f=n(995218),v=n(696786),y=n(755860),w=n(760641),b=n(511067),h=n(259964),I=n(645445),N=n(219990),P=n(122586),T=n(18455),k=n(638166),C=n(731889),x=n(175393),L=n(162773),A=n(515640),R=n(575061);function D(){let e=(0,s.d4)(e=>e.universalInsertModal),t=(0,s.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:n,initialFdView:D,initialFdResourceTab:B}=e,O=n?.type,{activeTab:M,setCurrentViewOrTab:U,currentView:G}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,s.d4)(e=>e.universalInsertModal),[n,a]=i.useState(e||r||C.s.COMPONENT),[c,d]=i.useState(e===C.s.PLUGIN&&t||l||"recents_and_saved"),[u,m]=i.useState(e===C.s.WIDGET&&t||o||"recents_and_saved"),_=i.useCallback(e=>{e===C.s.PLUGIN?l=c:e===C.s.WIDGET&&(o=u)},[c,u]),p=n===C.s.PLUGIN?c:u,g=i.useCallback(({newView:e,newTab:t})=>{let l=t===C.s.PLUGIN?c:t===C.s.WIDGET?u:void 0;e&&l!==e&&(_(n),(t||n)===C.s.PLUGIN?d(e):(t||n)===C.s.WIDGET&&m(e)),t&&n!==t&&(_(n),r=n,a(t))},[n,c,u,_]);return i.useEffect(()=>{g({newView:t,newTab:e})},[e,t]),i.useEffect(()=>{r=n,_(n)},[n,_]),i.useMemo(()=>({activeTab:n,currentView:p,setCurrentViewOrTab:g}),[n,p,g])}(),F=(0,v.GS)(),V=(0,s.wA)(),W=i.useRef(null),[Q]=i.useState(D?"":a||"");i.useEffect(()=>{(0,u.YQ)({id:"figma-inserts-opened"}),(0,u.YQ)({id:N.ko})},[]);let H=(0,P.Au)();i.useEffect(()=>{H&&V(g.eo())}),i.useEffect(()=>{a=Q},[Q]),i.useEffect(()=>V(_.aq()),[V]),(0,c.IT)((0,m.se)()),(0,c.IT)((0,m.fd)()),i.useEffect(()=>{U({newTab:O||B})},[B,O]);let K=(0,f.E3)(),[z,X]=i.useState(),Y=F?k.tS:k.Zv;(0,w.J$)(e.pinned===I.t.NOT_PINNED,W,Y);let j=(0,k.CK)(),Z=(0,k.CG)(),{bounds:$,showLeftPinBound:q,setShowLeftPinBound:J,shouldSnapToPosition:ee,setPinned:et}=(0,T.C)(S,X,e.pinned,j,Z,e.showing),en=(0,w.LR)(),ea=(0,b.Um)(),er=i.useCallback(e=>{e.stopPropagation(),ea&&V(p.oB())},[V,ea]),el=i.useMemo(()=>({activeTab:M,viewResource:e=>{V(g.IN({fdPreviewResource:e}))},closeResource:()=>{V(g.IN({fdPreviewResource:void 0}))},closeModal:en,pinModal:et,setCurrentViewOrTab:U,currentView:G}),[M,en,et,V,U,G]),eo=i.useCallback(e=>{y.VU.get("set-tool-default","toolbar")(),V(g.jy({pinned:I.t.PINNED})),er(e)},[V,er]),ei=i.useCallback(()=>{q&&et()},[q,et]);if(!e.showing)return null;let es={height:"auto",overflow:"hidden"};return(e.pinned!==I.t.NOT_PINNED||F||(es.borderTopLeftRadius="0px"),K===h.nT.DevHandoff)?null:i.createElement(E.fu,{name:"universal-insert"},e.pinned===I.t.PINNED&&q&&i.createElement("div",{className:A.k,style:{left:j.x,top:j.y,width:k.AN}}),i.createElement(k.B0.Provider,{value:el},i.createElement(x.vx,{ref:W,bounds:$,canResetPosition:ee,containerClassName:e.pinned===I.t.PINNED_AND_DOCKED_LEFT?R.gC:R.jT,frameStyle:es,initialPosition:z||new d.Mi(e.initialX,e.initialY),initialWidth:k.AN,minTopMargin:t?void 0:0,onClick:er,onClose:en,onDragEnd:ei,onDragStart:eo,onEnterBound:()=>{F||J(!0)},onLeaveBound:()=>{J(!1)}},i.createElement(L.z,null))))}function S(){return{x:-k.AN,y:0,width:2*k.AN+k.wR,height:window.innerHeight}}},162773:(e,t,n)=>{let a;n.d(t,{z:()=>t0});var r=n(848318),l=n(301168),o=n(62034),i=n(749214);let s=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14M8 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m1.5 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm1 2.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var c=n(947078),d=n(999667),u=n(536384),m=n.n(u),_=n(277930),p=n(857607),g=n(156974),E=n(561258),f=n(755534),v=n(847240),y=n(401970),w=n(297638),b=n(967688),h=n(843117),I=n(828237),N=n(453370),P=n(863270),T=n(652576),k=n(338104),C=n(760641),x=n(511067),L=n(180294),A=n(794025),R=n(324747),D=n(17753),S=n(698429),B=n(335744),O=n(120846),M=n(274563),U=n(660182),G=n(466930),F=n(679044),V=n(277454),W=n(337609),Q=n(663934),H=n(100970),K=n(524873),z=n(638166);function X(e){let t=(0,l.wA)(),n=(0,l.Pj)(),a=(0,l.d4)(K.m),o=(0,l.d4)(e=>(0,W.CX)(e)),i=r.useRef(null),s=(0,z.NF)(z.gC+z.Kr+z.Ix);r.useEffect(()=>{(async()=>{if(t((0,G.zK)()),o){await V.NW;let{fileVersion:e}=n.getState();e&&!(0,V.El)("INVALID-FILE-KEY-SHOULD-BE-REMOVED",o)&&n.dispatch((0,F.n)({libraryKey:o}))}})()},[t,o,n]);let[c,d]=r.useState(!1);return r.createElement("div",null,e.header,r.createElement("div",{"data-not-draggable":!0},r.createElement(H.LL,{drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},entrypointForLogging:null,isSearching:c,pickerType:U.Zl.RESOURCE_INSERT_MODAL,query:e.query,recordingKey:"componentInsert",scrollContainerHeight:s,searchBarRef:i,selectedItems:a?[a]:[],setIsSearching:d,setQuery:e.setQuery,toggleGridViewButton:r.createElement(H.Cc,{isSwapPicker:!1})}),r.createElement(Q.Q,null)))}var Y=n(954703),j=n(408193),Z=n(572220),$=n(580494),q=n(540882),J=n(264478),ee=n(345964),et=n(720522),en=n(118937),ea=n(317573),er=n(511806),el=n(982588),eo=n(125761),ei=n(522242),es=n(267849);function ec({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),n=(0,eo.iZ)(),a=(0,el.ej)(e);return r.createElement("div",{className:ei.I4,"data-not-draggable":!0},r.createElement("div",{className:ei.QW},r.createElement(et.B,{svg:es.A})),r.createElement("div",{className:ei.hI},(0,b.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),r.createElement("div",{className:ei.JL},r.createElement("button",{onClick:()=>{(0,er.mG)(e,R.aL.INSERTS,n.id,t?.id),a()}},(0,b.tx)("community.buyer.update_payment"))))}var ed=n(327836);n(14323),n(459633),n(861090);var eu=n(913026);n(175393),n(414607),n(593713);let em="rating_stats_data--averageStar--YdqTY";function e_({isHovered:e}){return r.createElement("span",{className:em,"aria-label":(0,b.t)("community.detail_view.full_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function ep(){return r.createElement("span",{className:em,"aria-label":(0,b.t)("community.detail_view.empty_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let eg="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var eE=n(833198),ef=n(733948);function ev({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:a=!0,isOptional:l=!1,disabled:o=!1,disabledTooltip:i}){let[s,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,_]=(0,r.useState)(!1),p=[(0,b.t)("community.star_ratings.i_really_dont_like_it"),(0,b.t)("community.star_ratings.i_dont_like_it"),(0,b.t)("community.star_ratings.its_okay"),(0,b.t)("community.star_ratings.i_like_it"),(0,b.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let g=a?r.createElement(et.B,{svg:eE.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,b.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):r.createElement(ep,null),E=a?r.createElement(et.B,{svg:ef.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,b.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):r.createElement(e_,{isHovered:m}),f=e=>{o||(c(e+1),_(!0))},v=t=>{o||(t+1===d&&l?(u(0),e(0)):(u(t+1),e(t+1)))};return r.createElement("div",{className:a?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},r.createElement("div",{className:o?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{o||d===s||c(d)},"data-tooltip-type":o?D.Ib.TEXT:void 0,"data-tooltip":o?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(r.createElement("span",{className:w.s.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>f(t),onMouseLeave:()=>_(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:g));return e})()),r.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},r.createElement(r.Fragment,null,n&&r.createElement("div",{className:a?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":eg},p[s-1]),l&&0===s&&r.createElement("div",{className:eg},o?(0,b.tx)("community.rating_review.ratings_not_available"):(0,b.tx)("community.rating_review.optional")))))}function ey({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:a,openRatingModal:l}){return r.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},r.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?r.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,b.tx)("community.detail_view.edit_rating")):(0,b.tx)("community.detail_view.leave_a_rating")),r.createElement(ev,{onSelect:l,existingRating:e?.ratingValue,disabled:n,disabledTooltip:a}))}var ew=n(900003),eb=n(823898),eh=n(566726),eI=n(792533),eN=n(661642),eP=n(531851),eT=n(14837),ek=n(61993),eC=n(903691),ex=n(20687),eL=n(125952),eA=n(877686),eR=n(714351),eD=n(881457),eS=n(113158),eB=n(215533),eO=n(564422);function eM({onBack:e,text:t}){let n=(0,S.ks)();return r.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},r.createElement(et.B,{"data-not-draggable":!0,svg:eO.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!n&&r.createElement(z.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eU=n(870271),eG=n(731889),eF=n(879411),eV=n(695567);let eW="detail_view--ratingSelectorContainer--zbvCM";var eQ=n(55550),eH=n(580012),eK=n(415431),ez=n(86097);function eX(e){let t=(0,l.wA)(),{activeTab:n}=(0,z.IT)(),a=n===eG.s.PLUGIN,o=(0,T.cW)(),i=(0,T.ZT)(),s=(a?o:i)[e.resourceId];return(r.useEffect(()=>{s&&s.community_publishers||t(eh.af({id:e.resourceId,resourceType:a?R.bD.PLUGIN:R.bD.WIDGET}))},[t,s,e.resourceId,a]),s)?r.createElement(eY,{resourceId:e.resourceId,resource:s}):r.createElement("div",{className:w.s.flex.wFull.borderBox.justifyCenter.pt32.$},r.createElement(ee.kt,{size:"medium"}))}function eY(e){let{resource:t}=e,{activeTab:n}=(0,z.IT)(),a=n===eG.s.PLUGIN,o=(0,l.wA)(),i=(0,S.ks)(),s=(0,T.x)(),c=(0,x.Um)(),d=(0,z.NF)((0,eT.T)()?z.gC+64:z.gC),u=(0,l.d4)(e=>e.authedUsers),_=(0,el.EO)(t),p=(0,el.lt)(t),g=(0,el.gn)(t),E=(0,ew.QQ)(p),v=(0,l.d4)(e=>e.authedActiveCommunityProfile),h=(0,eB.b)(),I=(0,L.sZ)(),k=(0,T.ll)(),C=(0,T.U6)(),A=Object.values((0,T.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:B,onInsertableResourcePointerDown:O}=(0,eC.P)({resource:(0,ex.uF)(t),clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:h,triggeredFrom:"universal-insert"}),{canRate:M=!1}={},U=r.useCallback(()=>{o(eI.S({url:a?(0,eA.ab)(e.resourceId):(0,eA.ox)(e.resourceId),linkType:a?"plugin":"widget"}))},[o,e.resourceId,a]),G=a&&c?.type===eU.yW&&c.data.pluginId===e.resourceId&&c.data.targetRect,F=r.useCallback(t=>{t.stopPropagation(),a&&(G?o(N.oB()):o(N.j7({type:eU.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[a,G,o,e.resourceId]),V=r.useCallback(()=>{o(N.oB())},[o]);if(!t)return null;t.community_resource_payment=p;let W=(0,ex.uF)(t),Q=(0,el.Zk)(v,u,t),H=(0,ex.og)({canAssociatedUserPurchaseThisResource:Q,resource:t}),K=!A&&(0,eP.XV)({org:I,extension:t,allowlistedExtensions:a?k:C}),X=a?r.createElement(eV.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):r.createElement(eV.GJ,{widgetId:e.resourceId});return r.createElement(P.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:a?R.bD.PLUGIN:R.bD.WIDGET,isMonetized:(0,R.m3)(t),editorType:"figma"}},r.createElement(ej,null),r.createElement(f.P,{height:d,onScroll:V,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement("div",{className:"detail_view--contentContainer--nSBG8"},r.createElement("div",{className:(0,eT.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},r.createElement("div",{className:(0,eT.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},r.createElement("img",{className:m()([(0,eT.T)()?"detail_view--coverImageVsCode--ZtGDB":a?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",w.s.if((0,eT.T)(),w.s.bRadius5).$]),src:W.redirect_cover_image_url||"",alt:`${W.name}`,onPointerDown:e=>!a&&O(e)}),r.createElement(ek.E,{dragState:B})),g&&r.createElement(eD.cu,null),H&&!g&&!E&&r.createElement(ec,{resource:t}),r.createElement("div",{className:(0,eT.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},r.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},W.name),(0,en.$3)({resource:t,validBadges:[en.op.PURCHASED],authedActiveCommunityProfile:v})||r.createElement(ea.I,{badges:t.badges,height:"16",hideTooltip:!0})),r.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&r.createElement(r.Fragment,null,r.createElement(eL.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,z.kB)(t)))),(!i||s)&&r.createElement("div",{className:"detail_view--actionsRow--sAwdf"},r.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},_&&!(0,$.k)().community_hub_admin_reviewer?r.createElement(ed.I,{resource:t,context:R.aL.INSERTS,payment:p}):K?r.createElement(eF.s,{version:W,isPlugin:a}):X),r.createElement("div",{className:w.s.ml8.flex.itemsCenter.$},r.createElement(eS._W,{resourceId:e.resourceId,resourceType:a?R.vt.PLUGIN:R.vt.WIDGET,parentView:eS.nN.DETAIL})),i&&(0,ex.Th)(W,I,k)?r.createElement(r.Fragment,null,r.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.more_options")},onClick:F},r.createElement(y.U,{className:"detail_view--moreOptionsIcon--najos",svg:eH.A,fallbackSvg:eK.A},r.createElement(j.J,null)))),G&&r.createElement(eU.Gq,{resourceId:e.resourceId,plugin:W,resourceType:a?R.vt.PLUGIN:R.vt.WIDGET})):r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.copy_link"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.copy_link")},onClick:U},r.createElement(y.U,{className:"detail_view--copyLinkIcon--PFKiL",svg:ez.A},r.createElement(Z.W,null)))),r.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),r.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},r.createElement(eR.f,{resource:t})),r.createElement("div",{className:eW},M&&(0,eb.Ul)(t)&&r.createElement("div",{className:eW},r.createElement(ey,{openRatingModal:e=>{},isInsertsModal:!0}))),r.createElement(q.R,{fallback:null,errorFallback:null,value:W.description})))),r.createElement(eZ,{resourceId:e.resourceId})))}function ej(){let{closeResource:e,activeTab:t}=(0,z.IT)();return r.createElement(eM,{onBack:e,text:t===eG.s.PLUGIN?(0,b.tx)("universal_insert.plugin"):(0,b.tx)("universal_insert.widget")})}function eZ(e){let{activeTab:t}=(0,z.IT)(),n=t===eG.s.PLUGIN?"plugin":"widget",{href:a,onClick:l}=(0,eN.y)(`/community/${n}/${e.resourceId}`);return r.createElement(r.Fragment,null,r.createElement(J.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:a,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},r.createElement(et.B,{svg:eQ.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,b.tx)("universal_insert.see_more_details_in_community")),r.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var e$=n(925085),eq=n(469508),eJ=n(531788),e0=n(990140),e1=n(88706),e5=n(833420),e4=n(87463),e7=n(65541),e3=n(4102);function e2({isDesktop:e}){return r.createElement(e5.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},r.createElement(et.B,{svg:e3.A,className:w.s.colorIconSecondary.pb24.$,autosize:!0,height:(0,eT.T)()?"64px":void 0}),r.createElement(e8,{isDesktop:e}))}function e8({isDesktop:e}){let t={learnMoreLink:r.createElement(eq.N,{href:"https://www.figma.com/plugin-docs",newTab:!0},(0,b.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement("div",{className:w.s.alignCenter.$},r.createElement(e4.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.create_first_here")),r.createElement("br",null),r.createElement(e4.E,null,(0,b.tx)("dev_handoff.inspect_panel.learn_more_link",t))),r.createElement(e6,null)):r.createElement("div",{className:w.s.alignCenter.$},r.createElement(e4.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),r.createElement("br",null),r.createElement(e4.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),r.createElement("br",null),r.createElement(e4.E,null,(0,b.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e6(){let e=(0,l.wA)(),t=(0,x.Um)(),n=t?.type===e7.kt,a=r.useCallback(t=>{n?e(N.oB()):e(N.j7({type:e7.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,n]);return r.createElement("div",{className:w.s.pt16.$},r.createElement(eJ.$n,{onClick:a,variant:"secondary"},r.createElement(e5.Y1,{direction:"horizontal",verticalAlignItems:"center",padding:0},r.createElement(e0.e,{className:w.s.pr8.$}),r.createElement(e4.E,null,(0,b.tx)("dev_handoff.inspect_panel.new_plugin")),r.createElement(e1.r,null))),n&&r.createElement("div",null,r.createElement(e7.Pq,{resourceType:R.bD.PLUGIN})))}var e9=n(490889);function te(){let{activeTab:e}=(0,z.IT)(),t=(0,S.$A)((0,l.d4)(e=>e.selectedView)),n=(0,T.nl)({allowNonVsCodePluginsInVsCode:!0}),a=(0,T.yQ)(),o=e===eG.s.WIDGET,i=o?a:n,s=(0,A.M)(),c=(0,T.sp)(o);return s&&(Object.keys(i).length>0||c.length>0)?r.createElement(P.fu,{name:"Development"},Object.keys(i).map((e,t)=>r.createElement(eV.ff,{resourceId:e,key:e,type:eV.R7.DEVELOPMENT,keyboardNavigationPath:[z.B6,t]})),c.map((e,t)=>r.createElement(eV.ff,{resourceId:e.id,key:e.id,type:eV.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[z.B6,Object.keys(i).length+t]}))):t?r.createElement(e$.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,eT.T)()?"start":"center"},r.createElement(e2,{isDesktop:!!s})):r.createElement(e9.W,{isWidget:o})}var tt=n(834053),tn=n(542510),ta=n(7148),tr=n(575061);function tl(){let{activeTab:e}=(0,z.IT)(),t=(0,ta.BI)(),n=(0,S.ks)(),{href:a,onClick:l}=(0,eN.y)(`/community/${e===eG.s.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:r.createElement(J.Ph,{className:tr.Qu,href:a,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},r.createElement(et.B,{svg:eQ.A,className:tr.JX}),(0,b.tx)("universal_insert.browse_more_in_community"))}function to({viewType:e,onBackPress:t}){let n=(0,z.NF)(z.gC);return r.createElement(r.Fragment,null,r.createElement(ti,{viewType:e,onBackPress:t}),r.createElement(f.P,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(ts,{viewType:e}),r.createElement(tl,null)))}function ti({viewType:e,onBackPress:t}){let n;let{activeTab:a}=(0,z.IT)(),l=a===eG.s.PLUGIN;return n=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,b.tx)("universal_insert.all_internal_plugins"):(0,b.tx)("universal_insert.all_internal_widgets"):l?(0,b.tx)("universal_insert.all_approved_plugins"):(0,b.tx)("universal_insert.all_approved_widgets"),r.createElement("div",{className:tr.cB},r.createElement("div",{className:tr.kb},r.createElement(et.B,{svg:eO.A,className:tr.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),r.createElement("div",{className:tr.A_},n)),r.createElement(z.Ex,{containerClassName:tr.VN}))}function ts({viewType:e}){let t;let{activeTab:n}=(0,z.IT)(),a=(0,tn.h)("plugin"),l=(0,tn.h)("widget"),o=n===eG.s.WIDGET,i=(0,T.ll)(),s=(0,tt.bT)(Object.values(i)),c=(0,T.U6)(),d=o?Object.keys(c):s.map(e=>e.plugin_id);return t=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?r.createElement(r.Fragment,null,(o?l:a).map((e,t)=>r.createElement(eV.ff,{resourceId:e.plugin_id,type:eV.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[z.B6,t]}))):r.createElement(r.Fragment,null,d.map((e,t)=>r.createElement(eV.ff,{resourceId:e,type:eV.R7.COMMUNITY,key:e,keyboardNavigationPath:[z.B6,t]}))),r.createElement("div",{className:tr.QF},t)}var tc=n(135451),td=n(813009),tu=n(757202),tm=n(730143),t_=n(318147),tp=n(922484),tg=n(138528),tE=n(764474),tf=n(987294),tv=n(16929);function ty(e){let t=(0,tg.rs)("OrgView").unwrapOr(null),n=(0,tg.H3)(t);return n?r.createElement(tw,{currentOrgId:n,viewExpandedList:e.viewExpandedList}):r.createElement(ee.kt,{className:tr.S})}function tw(e){let{currentOrgId:t,viewExpandedList:n}=e,a=(0,tg.tJ)("_OrgView").unwrapOr(null),o=a?.pluginsWhitelistEnforced??!1,i=a?.widgetsWhitelistEnforced??!1,{activeTab:s}=(0,z.IT)(),c=s===eG.s.WIDGET,d=(0,tn.h)("plugin"),u=(0,tt.bT)(d),m=(0,tn.h)("widget"),_=c?m:u,p=_.length>0,g=c?i:o,E=c?tE.n_:tE.Gb,f=(0,tm.tS)(),v=(0,tp.mC)(E(t,f)),w=(0,T.ll)(),h=(0,tt.bT)(Object.values(w)).map(e=>e.plugin_id),I=(0,T.U6)(),N=r.useMemo(()=>Object.keys(I),[I]),k=(0,T.Be)(),C=(0,T.pR)(k),x=C.orgWidgets,L=C.orgPlugins,A=(0,l.d4)(e=>e.orgUsersByOrgId[t][e.user.id]?.permission===t_._D.GUEST),R=(0,td.R)(e=>A?{}:(0,ex.Qt)((0,ex.i8)(Object.values(e.publishedPlugins)),t)),S=r.useMemo(()=>{let e=Object.values(L).filter(e=>!R[e.plugin_id]);return o&&(e=e.filter(e=>w[e.plugin_id])),e.sort(T.YW)},[w,o,R,L]),B=(0,tt.Ol)(S);B=(0,tt.bT)(B);let O=r.useMemo(()=>B.map(e=>e.plugin_id),[B]),M=r.useMemo(()=>h.filter(e=>!L[e]),[h,L]),U=r.useMemo(()=>{let e=Object.values(x).filter(e=>!(0,tu.s7)(e,t));return i&&(e=e.filter(e=>I[e.plugin_id])),e.sort(T.YW)},[x,i,t,I]),G=(0,tt.Ol)(U),F=r.useMemo(()=>G.map(e=>e.plugin_id),[G]),V=r.useMemo(()=>N.filter(e=>!x[e]),[N,x]),W=c?V:M,Q=c?F:O,H=p?r.createElement(r.Fragment,null,(g?_.slice(0,z.Xo):_).map((e,t)=>r.createElement(eV.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eV.R7.ORG_PRIVATE,keyboardNavigationPath:[z.B6,t]})),g&&_.length>z.Xo&&r.createElement(tb,{viewExpandedList:()=>{n(eG.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:c?(0,b.t)("universal_insert.all_internal_widgets"):(0,b.t)("universal_insert.all_internal_plugins")})):r.createElement("div",{className:tr.zN},c?(0,b.tx)("universal_insert.no_internal_widgets"):(0,b.tx)("universal_insert.no_internal_plugins")),{href:K,onClick:X}=(0,eN.y)(`/community/${c?"widgets":"plugins"}`),j=g&&r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Uj}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.approved_from_figma_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{onClick:X,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")}},r.createElement(y.U,{svg:tv.A},r.createElement(tc.N,null))))),v&&0===W.length?r.createElement("div",{className:tr.zN},c?(0,b.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,b.tx)("universal_insert.organization_has_no_approved_community_plugins")):r.createElement(r.Fragment,null,(p?W.slice(0,5):W).map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.COMMUNITY,keyboardNavigationPath:[z.B6+1,t]})),p&&W.length>5&&r.createElement(tb,{viewExpandedList:()=>{n(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:c?(0,b.t)("universal_insert.all_approved_widgets"):(0,b.t)("universal_insert.all_approved_plugins")}))),Z=Q.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")},onClick:X},r.createElement(y.U,{svg:tv.A},r.createElement(tc.N,null))))),Q.map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.SAVED,keyboardNavigationPath:[z.B6+2,t]}))):r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{onClick:X,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")}},r.createElement(y.U,{svg:tv.A},r.createElement(tc.N,null))))),r.createElement("div",{className:tr.zN},c?(0,b.tx)("universal_insert.no_saved_widgets"):(0,b.tx)("universal_insert.no_saved_plugins")));return r.createElement(P.fu,{name:"Org"},H,Z,j)}function tb(e){return r.createElement("button",{onClick:e.viewExpandedList,className:tr.nZ},r.createElement("span",null,e.ctaText),r.createElement(et.B,{svg:tf.A}))}var th=n(29420),tI=n(430385),tN=n(938982),tP=n(989232),tT=n(998568),tk=n(149841),tC=n(178806),tx=n(49821),tL=n(664449),tA=n(700660),tR=n(221511),tD=n(660948);function tS({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:a}=(0,z.IT)(),o=a===eG.s.WIDGET,i=(0,S.ks)(),s=(0,d.md)(I.RB)&&i,[c,u]=r.useState(!1),{allowListIsLoading:m,allowList:_,hasAllowList:p,hasPluginAllowList:g,hasWidgetAllowList:E,publicExtensionsDisallowed:f}=(0,T.jA)(o),v=(0,tt.bT)(Object.values(_)).map(e=>e.plugin_id),[w,h]=r.useState(null),[N,k]=r.useState(null),[C,x]=r.useState(!1),[L,A]=r.useState(!1),R=(0,l.wA)();r.useEffect(()=>{let e=c!==s;if(g||f||!e&&null!==w||C)return;x(!0);let t={sort_by:tD.eg.POPULAR};i?(t.editor_type=tA.k.Editors.DEV_MODE,s&&(t.capability_type=tL.h.CODEGEN)):t.editor_type=tA.k.Editors.FIGMA,(0,tx.nC)().filter(t).browse(tR.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;R(eh.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),h((0,tI.k4)(t)),x(!1),u(s)}).catch(e=>{(0,tT.$D)(tN.e.COMMUNITY,e),x(!1),h([]),u(s)})},[R,w,C,i,p,g,f,s,c]),r.useEffect(()=>{E||null!==N||L||(A(!0),(0,tx.nC)().filter({sort_by:tD.eg.POPULAR,editor_type:tA.k.Editors.FIGMA}).browse(tR.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;R(eh.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),k((0,tI.k4)(t)),A(!1)}).catch(e=>{(0,tT.$D)(tN.e.COMMUNITY,e),A(!1),k([])}))},[R,N,L,p,E]);let B=o?N:w,O=o?L:C,{href:M,onClick:U}=(0,eN.y)(`/community/${a===eG.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(p?m:O)return r.createElement(ee.kt,{className:tr.S});if(!(null!==B)&&!p)return null;let l=p?v:B.map(e=>e.id);return f||0===l.length?null:r.createElement(P.fu,{name:p?"Approved plugins":"From Community"},r.createElement("div",{className:n?tr.Wz:tr.Uj}),r.createElement("div",{className:tr.sH,"data-onboarding-key":"community_feed_header"},p?(0,b.tx)("universal_insert.approved_from_figma_community"):(0,b.tx)("universal_insert.from_community"),r.createElement("a",{href:M,target:"_blank"},r.createElement(tC.Me,{onClick:U,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")},trackingEventName:"Inserts - Browse More From Community Icon Button"},r.createElement(y.U,{svg:tv.A},r.createElement(tc.N,null))))),l.slice(0,p?5:10).map((e,n)=>r.createElement(eV.ff,{key:e,type:eV.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]})),p&&l.length>5?r.createElement(tb,{viewExpandedList:()=>{e(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:o?(0,b.t)("universal_insert.all_approved_widgets"):(0,b.t)("universal_insert.all_approved_plugins")}):r.createElement(r.Fragment,null,r.createElement(tl,null),r.createElement(tk.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tP.trackEvent)("community_feed_bottom_reached",{location:"inserts",resourceType:a})},style:i?{paddingBottom:30}:void 0})))},[p,m,O,B,v,f,M,U,o,e,t,n,a,i])}var tB=n(179507);function tO(e){let t=(0,T.Be)(),n=t.widgets,a=Object.values(t.plugins).sort(T.YW).filter(e=>"user"===e.installed_by),l=(0,tB.xx)(()=>a),o=(0,tt.Ol)(l()),i=(o=(0,tt.bT)(o)).map(e=>e.plugin_id),s=Object.values(n).sort(T.YW).filter(e=>"user"===e.installed_by),c=(0,tB.xx)(()=>s),d=(0,tt.Ol)(c()).map(e=>e.plugin_id);return r.useMemo(()=>e?d:i,[i,d,e])}function tM(e){let t=tO(e.isWidget),[n,a]=r.useState(!1),l=r.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:r.createElement(P.fu,{name:"saved"},r.createElement("div",{className:tr.VA},(0,b.tx)("universal_insert.saved")),l.map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.SAVED,keyboardNavigationPath:[z.B6+1,t]})),t.length>40&&!n&&r.createElement("button",{className:tr.AR,onClick:()=>a(!0)},e.isWidget?(0,b.tx)("universal_insert.show_all_saved_widgets"):(0,b.tx)("universal_insert.show_all_saved_plugins")))}function tU(e){let{activeTab:t}=(0,z.IT)(),n=(0,T.op)(),a=(0,T.qr)(),l=(0,T.Be)(),o=t===eG.s.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:s}=(0,T.jA)(o),c=o?a:n;c=s(c=i(c)),c=(0,tt.bT)(c);let d=r.useMemo(()=>c.length>0?r.createElement(P.fu,{name:"recents"},r.createElement("div",{className:tr.VA,"data-onboarding-key":"recents_plugin_header"},(0,b.tx)("universal_insert.recents")),c.slice(0,z.Zm).map((e,t)=>r.createElement(eV.ff,{key:e.plugin_id,type:eV.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[z.B6,t]}))):r.createElement(r.Fragment,null),[c]),u=tO(o);if(!0===l.loaded&&c.length+u.length===0)return r.createElement(P.fu,{name:"Recents and saved"},r.createElement(th.H,{isWidget:t===eG.s.WIDGET}),r.createElement(tS,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:z.B6+2}));let m=r.createElement(tM,{isWidget:t===eG.s.WIDGET}),_=c.length>0,p=u.length>0;return r.createElement(P.fu,{name:"Recents and saved"},d,p&&_&&r.createElement("div",{className:tr.Wz}),m,r.createElement(tS,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:z.B6+2}))}var tG=n(127974);function tF(){let e=r.useRef({}),t=r.useCallback((t,n)=>{e.current[t]=n},[]),n=r.useCallback(t=>e.current[t]||[],[]),a=r.useCallback(t=>t in e.current,[]),l=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:a,resetCache:l}),[t,n,a,l])}var tV=n(193743);let tW=new tV.Ef([],{...eu.Pk,keys:eu.Kj}),tQ=new tV.Ef([],{...eu.Pk,keys:[{name:"name",weight:1}]}),tH=new tV.Ef([],{...eu.Pk,keys:eu.Kj});function tK(e){let t;let{activeTab:n}=(0,z.IT)(),a=n===eG.s.WIDGET,l=(0,S.ks)(),o=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,T.I5)(tA.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,T.SG)(tA.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:p,resetCache:g}=tF(),E=_(o),{getResultsForQuery:v,setResultsForQuery:y,resetCache:w}=tF(),h=v(o),{getResultsForQuery:I,setResultsForQuery:N,hasQueryResultsCached:C,resetCache:x}=tF(),A=tz(I(o),[E]),{getResultsForQuery:R,setResultsForQuery:D,hasQueryResultsCached:B,resetCache:O}=tF(),M=tz(R(o),[E,A]),{getResultsForQuery:U,setResultsForQuery:G,resetCache:F}=tF(),V=tz(U(o),[E,A,M]),{getResultsForQuery:W,setResultsForQuery:Q,hasQueryResultsCached:H,resetCache:K}=tF(),X=tz(W(o),[E,A,M,V]);r.useEffect(()=>{g(),w(),x(),O(),K(),F()},[a,F,K,x,w,O,g]);let Y=(0,T.Tg)(),j=(0,T.qr)(),Z=(0,T.$1)(),$=(0,T.yQ)(),q=(0,T.ll)(),J=(0,T.U6)(),et=(0,T.cW)(),en=(0,T.ZT)(),ea=(0,tG.k9)(()=>Object.keys(a?J:q).map(e=>(0,ex.uF)((a?en:et)[e])),[q,en,et,J,a]);r.useEffect(()=>{tW.set(Object.values(a?j:Y))},[Y,j,a]),r.useEffect(()=>{tQ.set(Object.values(a?$:Z))},[Z,$,a]),r.useEffect(()=>{tH.set(ea)},[ea]);let er=(0,L.sZ)(),{serverSideSearch:el,isLoading:eo,hasResolved:ei}=n===eG.s.PLUGIN?{serverSideSearch:i,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};r.useEffect(()=>{""!==o&&(H(o)&&B(o)&&C(o)||el(o,e=>Q(o,e),e=>D(o,e),e=>N(o,e)),p(o,tW.search(o).map(e=>e.plugin_id)),y(o,tQ.search(o).map(e=>e.localFileId.toString())),G(o,tH.search(o).map(e=>e.plugin_id)))},[o,H,C,B,el,G,Q,N,y,D,p]);let es=k.z4.getIsExtension()?z.gC+z.Ix:l?z.gC+z.Ix+z.ff+8:z.gC+z.Ix,ec=(0,z.NF)(es),ed=l?tr.mH:tr.PP,eu=l?tr.k8:tr.DN,em=r.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=eu:n.className=ed)},[e.searchContainerRef,eu,ed]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let e_=er&&(a?er.widgets_whitelist_enforced:er.plugins_whitelist_enforced),ep=(!e_||(0,eP.Cs)({org:er,isWidget:a}))&&X&&X.length>0&&ei,eg=e_&&V.length>0,eE=er&&M&&M.length>0&&ei,ef=A.length>0&&ei,ev=E.length>0,ey=h.length>0,ew=ei&&(ep||eE||ev||ef||eg);if(ei&&!(ev||ey||ew))t=r.createElement("div",{className:tr.zN},a?e_?(0,b.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,b.tx)("universal_insert.no_widgets_matching_query",{query:o}):e_?(0,b.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,b.tx)("universal_insert.no_plugins_matching_query",{query:o}));else{t=[];let e=z.B6;ev&&(t.push(r.createElement(tY,{sectionHeader:(0,b.tx)("universal_insert.recents"),ids:E,type:eV.R7.RECENT,sectionIdx:e,key:eV.R7.RECENT})),e+=1),ey&&(t.push(r.createElement(tY,{sectionHeader:(0,b.tx)("universal_insert.development"),ids:h,type:eV.R7.DEVELOPMENT,key:eV.R7.DEVELOPMENT,sectionIdx:e})),e+=1),eo&&!ew?t.push(r.createElement(ee.kt,{className:tr.S,key:"Loading spinner"})):(ef&&(t.push(r.createElement(tY,{sectionHeader:(0,b.tx)("universal_insert.saved"),ids:A,type:eV.R7.SAVED,key:eV.R7.SAVED,sectionIdx:e})),e+=1),eE&&(t.push(r.createElement(tY,{sectionHeader:er.name,ids:M,type:eV.R7.ORG_PRIVATE,key:eV.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eg&&(t.push(r.createElement(tY,{sectionHeader:(0,b.tx)("universal_insert.approved_from_figma_community"),ids:V,type:eV.R7.COMMUNITY,key:`ALLOW_LIST_${eV.R7.COMMUNITY}`,sectionIdx:e})),e+=1),ep&&t.push(r.createElement(tY,{sectionHeader:(0,b.tx)("universal_insert.from_community"),ids:X,type:eV.R7.COMMUNITY,key:eV.R7.COMMUNITY,sectionIdx:e})))}return r.createElement(f.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(P.fu,{name:"search",properties:{searchQuery:o,resourceType:n}},t))}let tz=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function tX(e){return r.createElement("div",{onClick:()=>(0,tP.trackEvent)("search result clicked"),"data-testid":`browse-resource-tile-${e.resourceId}`},r.createElement(eV.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tY(e){return r.createElement(r.Fragment,null,e.sectionIdx>z.B6&&r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.bV},e.sectionHeader),e.ids.map((t,n)=>r.createElement(tX,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]})))}let tj=()=>({[eG.s.COMPONENT]:{label:(0,b.t)("universal_insert.components"),tab:eG.s.COMPONENT,resourceTypeLabel:(0,b.t)("universal_insert.components_resource_type")},[eG.s.PLUGIN]:{label:(0,b.t)("community.view_bar.plugins"),tab:eG.s.PLUGIN,resourceTypeLabel:(0,b.t)("community.plugins.plugin")},[eG.s.WIDGET]:{label:(0,b.t)("community.view_bar.widgets"),tab:eG.s.WIDGET,resourceTypeLabel:(0,b.t)("community.plugins.widget")}});function tZ(e){let t=tr.Mf,n=tr.xR;return r.createElement("div",{className:tr.Ng},r.createElement("div",{className:tr.oB},Object.entries(tj()).map(([a,l])=>r.createElement("div",{className:tr.nN,key:a,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},r.createElement("div",{key:a,"data-label":l.label,className:l.tab===e.selectedTab?n:t},l.label)))),r.createElement(z.Ex,{containerClassName:tr.VN}))}var t$=n(343167),tq=n(383262);let tJ="BROWSE_CODEGEN_FILTER_DROPDOWN";function t0(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,l.d4)(e=>e.universalInsertModal),o=t?.id,{activeTab:i,currentView:s,setCurrentViewOrTab:c}=(0,z.IT)(),d=(0,S.ks)(),u=d?tr.Hd:tr.Kl,[m,_]=r.useState(n?"":a||""),[g,f]=r.useState(eG.Y.MAIN),v=r.useCallback(e=>{if(e.keyCode===p.Uz.ENTER){let t=e.target,n=t?.querySelector("button");n?.click()}},[]);r.useEffect(()=>{a=m},[m]);let y=r.useMemo(()=>r.createElement(tZ,{onClick:t=>{t!==eG.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:i}),[i,c]),w=r.useMemo(()=>{let t=d?tr.mH:tr.PP;return i===eG.s.COMPONENT?r.createElement(P.fu,{name:i},r.createElement(X,{header:y,query:m,setQuery:_})):r.createElement(P.fu,{name:i},!d&&y,r.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(E.dP,{onKeyDown:v},r.createElement("div",{className:t,ref:e},r.createElement(t1,{searchQuery:m,placeholder:i===eG.s.PLUGIN?(0,b.t)("universal_insert.search_all_plugins"):i===eG.s.WIDGET?(0,b.t)("universal_insert.search_all_widgets"):(0,b.t)("universal_insert.search_all_extensions"),setSearchQuery:_})),0===m.length&&r.createElement(t5,{viewExpandedList:f,currentView:s,setCurrentView:e=>c({newView:e})}),m.length>0&&r.createElement(tK,{query:m,searchContainerRef:e}))))},[i,v,m,d,y,s,c]),h=null;return o?h=r.createElement(eX,{resourceId:o}):(g===eG.Y.ORG_PRIVATE_EXPANDED_LIST||g===eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(h=r.createElement(E.dP,{onKeyDown:v},r.createElement(to,{viewType:g,onBackPress:()=>f(eG.Y.MAIN)}))),r.createElement("div",{className:u},r.createElement("div",{className:h?tr.Ye:tr.dJ},w),h&&r.createElement("div",{className:tr.dJ},h))}function t1({searchQuery:e,setSearchQuery:t,placeholder:n}){let a=(0,l.wA)(),{setKeyboardNavigationElement:i}=(0,E.M3)({id:"search",path:[z.np,0]}),u=(0,x.Um)(),p=u?.type===tJ,f=r.useRef(null),[w,P]=(0,d.fp)(I.RB),T=w&&!p,k=(0,C.LR)(),L=r.useCallback(n=>"Escape"===n.key&&(e?t(""):k(),!0),[k,e,t]),A=(0,_.A)(e=>{e.length>0?a(h.Dy({entryPoint:"figma:inserts"})):a(h.ky()),t(e)},300);r.useEffect(()=>()=>{a(h.ky())},[a]);let R=r.useCallback(()=>{p?a(N.oB()):a(N.j7({type:tJ}))},[a,p]),O=[];O.push(r.createElement(g.MM,{checked:w,onClick:()=>{P(!w),R()},role:"menuitemcheckbox"},(0,b.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let M=(0,S.ks)(),U=r.createElement(v.IW,{ref:e=>i(e?.searchInput??null),className:m()(M?tr.FK:tr.ON,{[tr.lX]:""===e}),clearSearch:()=>{a(h.ky()),t("")},focusOnMount:!M,hideXIcon:!e,isKeyDownHandled:L,onChange:A,placeholder:n,query:e,selectTextOnMount:!M});if(!M||e)return U;let G="dev-mode-codegen-filter-menu";return r.createElement("div",{className:tr.Ub},U,r.createElement("div",{className:tr.gP},r.createElement("div",{ref:f},r.createElement(o.d,{"aria-expanded":p,onClick:R,htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.inspect_panel.search_bar_filter")},"aria-label":(0,b.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-controls":G},r.createElement(y.U,{svg:T?tq.A:t$.A},T?r.createElement(s,{className:m()({[tr.Pt]:T})}):r.createElement(c.S,{className:m()({[tr.Pt]:T})}))))),p&&f.current&&r.createElement(B.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,hideDropdown:R,id:G,options:O,propagateCloseClick:!0,showPoint:!0,targetRect:f.current.getBoundingClientRect()}))}function t5(e){let t=r.useRef(null),n=(0,S.ks)(),a=k.z4.getIsExtension()?z.Ix+z.gC+48:n?z.gC+z.Kr+z.Ix+z.ff:z.gC+z.Kr+z.Ix,{activeTab:o,currentView:i}=(0,z.IT)(),s=(0,z.NF)(a),c=r.useRef(null),d=(0,l.wA)(),u=r.useCallback(e=>{t.current&&(e>0?t.current.className=m()(tr.gD,tr.d3):t.current.className=m()(tr.q_,tr.d3),d(N.oB()))},[t,d]);r.useEffect(()=>{c.current?.scrollToTop()},[o,i]);let _=r.createElement(r.Fragment,null,r.createElement(t4,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&r.createElement(tU,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&r.createElement(te,null),"org"===e.currentView&&r.createElement(ty,{viewExpandedList:e.viewExpandedList}));return r.createElement("div",null,r.createElement("div",{className:m()(tr.q_,tr.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},r.createElement(t7,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&r.createElement("div",{className:tr.x0},r.createElement(M.n,{resourceType:o===eG.s.WIDGET?R.bD.WIDGET:R.bD.PLUGIN}))),r.createElement(f.P,{height:s,onScroll:u,innerClassName:n?w.s.hFull.$:"",ref:c},_))}function t4({currentView:e}){let{activeTab:t}=(0,z.IT)(),n=L.sZ()?.id,a=(0,T.f6)(),l=(0,T.wW)(),o=t===eG.s.WIDGET?l:a,i="org"===e?o.filter(e=>e.org_id&&e.org_id===n):o;return 0===i.length?null:r.createElement("div",null,i.map((e,t)=>r.createElement(eV.ff,{resourceId:e.id,key:e.id,type:eV.R7.INVITED,keyboardNavigationPath:[z.dQ,t]})),r.createElement("div",{className:tr.Wz}))}function t7(e){let t=(0,l.wA)(),n=(0,x.Um)(),a=(0,L.sZ)(),o=(0,A.M)(),i=r.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,b.t)("universal_insert.recents_and_saved");case"development":return(0,b.t)("universal_insert.development");case"org":return t?.name||(0,b.t)("universal_insert.from_your_org")}})(e,a),[a]),s=["recents_and_saved"];return(o&&s.push("development"),1!==s.length||a)?r.createElement(O.l6,{chevronClassName:tr.bq,className:tr.E3,dispatch:t,dropdownShown:n,dropdownWidth:173,formatter:{format:i},id:"fd-browse-modal-main-view-select",inputClassName:tr.yl,onChange:e.onChange,property:e.currentView},s.map(e=>r.createElement(O.c$,{value:e,key:e},i(e))),a&&r.createElement(O.sK,null),a&&r.createElement(O.c$,{value:"org"},i("org"))):r.createElement("div",{className:tr.ZE},r.createElement("div",{className:tr.yl},i(s[0])))}},14323:(e,t,n)=>{n.d(t,{P:()=>r,R:()=>l});var a=n(848318);function r(e){(0,a.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function l(e){let[t,n]=(0,a.useState)(window.innerWidth<=e);return r(a=>{a.width<=e&&!t?n(!0):a.width>e&&t&&n(!1)}),t}}}]);

//# debugId=600e89b5-62f8-5e32-97b1-7929ffc5dc1f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/97e49ed696fa0cdaa29cca94de6bc4c34fa18a82/5724-b9ef105a6a950a2f.min.js.map