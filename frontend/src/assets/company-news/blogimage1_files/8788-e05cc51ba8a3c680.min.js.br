"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="79703430-abfd-598b-9701-311681a858cf")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8788],{850568:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(848318),a=r(301168),s=r(768618),i=r(580494),l=r(536384),o=r.n(l),c=r(410441),d=r(454805),u=r(959750),m=r(489082),p=r(963307),y=r(601167),h=r(554326),g=r(314774),b=r(273555),E=r(276595),_=r(27776);let f="offscreen_indicators--indicatorGraphicBlue---nYr-",k="offscreen_indicators--indicatorGraphicPurple--FAz-M",T=(0,c.jz)(_.y9S);function v(){let e=[],t=(0,p.kl)("selectionRegions"),r=(0,m.E7)(t);r&&(e=r);let l=(0,a.d4)(e=>e.mirror.appModel.hoveredNode);if(l&&(0,i.k)().ce_offscreen_indicators_for_hovered_nodes){let t=(0,s.UN)().get(l);if(t){let r=t.absoluteBoundingBox;e=[...e,{bounds:{height:r.h,width:r.w,x:r.x,y:r.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isComponentish||t.isSymbolSublayer?b.fV.SYMBOLS_ONLY:b.fV.MIXED_OR_NO_SYMBOLS}]}}let o=!!e&&e.length>=1,c=(0,y._X)({subscribeToUpdates_expensive:o});return c&&e?n.createElement(w,{viewportInfo:c,regions:e}):null}function w({viewportInfo:e,regions:t}){let r=(0,n.useContext)(g.kw),s=(0,n.useMemo)(()=>r.getCommentsWrapperOffset(e),[r,e]),i=s.x,l=s.y,o={transform:`translate(${i}px, ${l}px)`},c=(0,a.d4)(e=>e.mirror?.appModel.showUi),d=(0,h.J2)((0,u.UK)().renderRulers)&&c?T:0,m={x:-3.5+d,y:-3.5+d,width:e.width- -7-d,height:e.height- -7-d},p={x:-3.5+d,y:-3.5+d,width:e.width- -7-d,height:e.height- -7-d};return n.createElement(n.Fragment,null,n.createElement(E.p,null,n.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--pNOlw",style:o},!!t?.length&&n.createElement("div",null,t.map((t,r)=>{let a=(0,y.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),s=(0,y.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),i={x:a.x,y:a.y,width:s.x-a.x,height:s.y-a.y};return i.x<m.x+m.width&&i.x+i.width>m.x&&i.y+i.height>m.y&&i.y<m.y+m.height?null:n.createElement(x,{key:r,viewportBounds:p,viewportInfo:e,indicatorViewportBounds:i,selectionBoundsScaledWidth:function(e,t){let r=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-r,10)}(i,p),selectionBoundsScaledHeight:function(e,t){let r=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-r,10)}(i,p),selectionRegionType:t.regionType})})))))}function x({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:r,selectionBoundsScaledWidth:s,selectionBoundsScaledHeight:i,selectionRegionType:l}){let c=function(e,t){let r=0-t.x,n=0+e.width-t.x,a=0-t.y,s=0+e.height-t.y,i=Math.abs(r)<n?r:n,l=Math.abs(a)<s?a:s,o=r<0!=n<0,c=a<0!=s<0;return o&&c?Math.abs(i)<Math.abs(l)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+l}:!o&&c?{x:t.x+i,y:t.y}:o&&!c?{x:t.x,y:t.y+l}:{x:t.x+i,y:t.y+l}}(t,{x:r.x+r.width/2,y:r.y+r.height/2});c.x-=s/2,c.y-=i/2;let m=(0,a.d4)(e=>e.mirror?.appModel.showUi),p=(0,h.J2)((0,u.UK)().renderRulers)&&m?T:0,y=1+p,g=Math.max(y,t.width-1-s),E=1+p,_=Math.max(E,t.height-1-i-1),v=d.Mi.bound(c,{min:{x:y,y:E},max:{x:g,y:_}}),w=r.y+r.height<e.y,x=r.y>e.y+e.height,S=r.x+r.width<e.x,I=r.x>e.x+e.width;v.x+=t.x,v.y+=t.y;let L=Math.min(t.width-2,s),N=Math.min(t.height-2,i);return n.createElement("div",{className:"offscreen_indicators--indicator---T9xk",style:{transform:`translate3D(${v.x}px, ${v.y}px, 0)`}},(w||x)&&n.createElement("div",{style:{position:"absolute",height:1.5,width:L,marginTop:x?N-1.5:0},className:o()({[f]:l===b.fV.MIXED_OR_NO_SYMBOLS,[k]:l===b.fV.SYMBOLS_ONLY})}),(S||I)&&n.createElement("div",{style:{position:"absolute",left:0,height:N,width:1.5,marginLeft:I?L-1.5:0},className:o()({[f]:l===b.fV.MIXED_OR_NO_SYMBOLS,[k]:l===b.fV.SYMBOLS_ONLY})}))}},220559:(e,t,r)=>{r.d(t,{m:()=>rA});var n=r(848318),a=r(186606),s=r(999667),i=r(66699),l=r(361964),o=r(696786),c=r(355755),d=r(730143),u=r(554326),m=r(535884),p=r(792682),y=r(141454),h=r(506777),g=r(79810),b=r(126072),E=r(957017),_=r(63340),f=r(228845),k=r(301168),T=r(563029),v=r(898700),w=r(644216),x=r(353231),S=r(859480),I=r(14837),L=r(837988),N=r(605381),C=r(244942),P=r(774121),A=r(967688),F=r(659717),M=r(731991),K=r(896967),O=r(15105),H=r(601167),R=r(17753),B=r(16808),G=r(583484),U=r(555806),W=r(702051);function z(){let e=(0,k.wA)(),t=(0,k.d4)(e=>!!e.modalShown),r=(0,k.d4)(e=>e.versionHistory.compareId),s=a.AWq.getChunkChangeCount(),i=(0,O.Z)("chunk_change_navigator_navigate"),l=(0,K.E)(),o=n.useCallback(e=>{a.Egt.setSelectedNodeAndCanvas(e,!0),i((0,H.QZ)({nodeId:e,...G.ob}),G.kh),l(e)},[i,l]),c=n.useCallback(e=>{t||0===s||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?o(a.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&o(a.glU.navigateToNextChange(1)))},[t,s,o]);return(n.useEffect(()=>{e(M.Q.dequeue({type:F._.SEE_WHATS_CHANGED}))},[e]),n.useEffect(()=>{r&&0!==s&&o(a.glU.navigateToFirstVisibleOrClosestChange())},[s,r,o]),n.useLayoutEffect(()=>{if(0!==s)return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[s,c]),0===s)?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,A.tx)("collaboration.feedback.change_count",{changeCount:s})),n.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},n.createElement(B.K0,{svg:W.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(-1))},"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===s}),n.createElement(B.K0,{svg:U.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(1))},"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===s})))}var D=r(625024),V=r(325498),$=r(277930),j=r(989232),Y=r(410441),q=r(359822),X=r(410725),Q=r(61503),Z=r(692711),J=r(561258),ee=r(345964),et=r(834428),er=r(31898),en=r(30575),ea=r(267670),es=r(271326),ei=r(97795),el=r(702038),eo=r(760641),ec=r(125761),ed=r(931451),eu=r(83742),em=r(55116),ep=r(526594),ey=r(253332),eh=r(620964),eg=r(700436),eb=r(715880),eE=r(561327),e_=r(775030),ef=r(295156),ek=r(874728),eT=r(882839),ev=r(536384),ew=r.n(ev),ex=r(857607),eS=r(656329),eI=r(689347),eL=r(710481),eN=r(168852);function eC({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:r}){let s=(0,ed.I)(eu.Cn.AssetsPanel),{activeTab:i,shouldFocusSearchBar:l}=(0,k.d4)(e=>e.leftPanel),o=i===a.xae.ASSETS,c=n.useRef(null),d=(0,k.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),u=(0,eL.vb)({isVisible:o,autofocus:!0,selectOnFocus:!0,ref:c});n.useEffect(()=>{let e=e=>{(eS.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===ex.Uz.KEY_2:e.altKey&&e.keyCode===ex.Uz.KEY_2)&&d!==a.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[d,u]);let m=n.useCallback(t=>{let r;e&&((0,eI.eu)(e.type)?r=e.type:(r={type:eN.I.ALL},e.onSetAssetType(r))),s.setQuery(t,r)},[s,e]),p=ew()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?n.createElement(eL.E1,{autofocus:l,className:p,column:r,entryPointForTracking:"editor:assets_panel",forwardedRef:c,hideSearchIcon:!0,isVisible:o,onChange:m,path:t,placeholder:(0,A.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0}):n.createElement(eL.aU,{autofocus:l,className:p,entryPointForTracking:"editor:assets_panel",forwardedRef:c,hideSearchIcon:!0,isVisible:o,onChange:m,placeholder:(0,A.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0})}var eP=r(561882),eA=r(946678),eF=r.n(eA),eM=r(750294),eK=r(292024),eO=r(389541),eH=r(992288),eR=r(680004),eB=r(900980),eG=r(949598),eU=r(789253),eW=r(120846);function ez(e){let{assetType:t,libraryNameByLibraryKey:r,fileKeyToLibraryKey:a,onSetAssetType:s,onSetKeyboardNavigationElement:i,validAssetTypeOptions:l}=e,o=(0,k.wA)(),c=(0,k.d4)(e=>e.modalShown),u=(0,k.d4)(e=>e.dropdownShown),m=(0,k.d4)(d.tB),p=(0,eO.Fl)(),y=n.useCallback(()=>{c?.type===eU.V&&o(er.AS()),j.definedAnalyticsHandler.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:m?.key,assetsPanelVersion:2})},[o,c,m?.key]),h=n.useMemo(()=>{if((0,eR.NX)(p)){let e=Object.entries(a).map(([e,t])=>({name:r[t]??"",key:e,library_key:t}));return(0,eR.k9)({libraries:e,approvedLibraryKeysByResourceType:p}),e.map(({key:e})=>e)}return Object.keys(r??{}).sort((e,t)=>eM.f.LEXICOGRAPHICALLY(r[e],r[t]))},[p,a,r]),g=(0,es.n1)(),[b,E]=eF()(h,e=>!(0,eK.wJ)(e)),_=E.length>0&&g,f=n.useMemo(()=>({format:e=>{switch(e.type){case eN.I.RECENT:return(0,A.t)("design_systems.assets_panel.dropdown_type_recents");case eN.I.ALL:return(0,A.t)("design_systems.assets_panel.dropdown_type_all_libraries");case eN.I.LOCAL:return(0,A.t)("design_systems.assets_panel.created_in_this_file");case eN.I.FILE:return r[e.libraryKey]??"";case eN.I.SITE_KIT:return""}},isEqual:eD}),[r]);return n.createElement(eW.l6,{chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",className:"sidebar_asset_type_select--select--PTmwH",dispatch:o,dropdownAlignment:"left",dropdownShown:e.useLocalState?e.dropdownShown:u,dropdownWidth:260,formatter:f,id:"component-sidebar-asset-type-select",inputClassName:"sidebar_asset_type_select--input--sSEn2",inputRef:i,onChange:s,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,onShowDropdown:y,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,openOnKeyPressed:[ex.Uz.SPACE,ex.Uz.ENTER],property:t,rightIcon:n.createElement(eG.P,{libraryKey:t.type===eN.I.FILE?t.libraryKey:void 0})},!!l[eN.I.ALL]&&n.createElement(eW.c$,{value:{type:eN.I.ALL}}),!!l[eN.I.RECENT]&&n.createElement(eW.c$,{value:{type:eN.I.RECENT}}),!!l[eN.I.LOCAL]&&n.createElement(eW.c$,{value:{type:eN.I.LOCAL}}),b.length>0?n.createElement(eW.sK,null):null,b.length>0?n.createElement(eW.c$,{isHeader:!0,formattedValue:m?.org?.name?(0,A.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:m.org.name}):(0,A.t)("design_systems.assets_panel.dropdown_libraries")}):null,b.map(e=>(0,eR.sF)(a[e])?n.createElement(eW.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(eH.FX,null)}):n.createElement(eW.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},fullWidth:!0})),_?n.createElement(eW.sK,null):null,_?n.createElement(eW.c$,{isHeader:!0,formattedValue:(0,A.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,_&&E.map(e=>n.createElement(eW.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(eB.t,null)})))}function eD(e,t){return e.type===eN.I.FILE&&t.type===eN.I.FILE?e.libraryKey===t.libraryKey:e.type===t.type}var eV=r(781239),e$=r(346480),ej=r(951032);function eY({disabled:e,isList:t,onSetKeyboardNavigationElement:r,onToggleViewMode:a,recordingKey:s}){let i=t?(0,A.t)("design_systems.assets_panel.show_as_grid"):(0,A.t)("design_systems.assets_panel.show_as_list");return n.createElement(B.K0,{ref:r,recordingKey:eV.Pt(s,"toggleComponentsSidebarViewMode"),"data-tooltip-type":R.Ib.TEXT,"data-tooltip":i,svg:t?e$.A:ej.A,onClick:a,disabled:e})}var eq=r(669465),eX=r(712964),eQ=r(4881),eZ=r(336004);let eJ=(0,eQ.Wh)(()=>(0,s.eU)(0)),e0=(0,eQ.Wh)(()=>(0,s.eU)(eZ.Bk.Grid));var e1=r(391375),e4=r(475166);function e5(e,t,r){return null!=e&&(t[e.type]||e.type===eN.I.FILE&&r[e.libraryKey])?e:{type:eN.I.ALL}}var e8=r(587745),e2=r(106358),e6=r(692454),e3=r(138842);function e7(e,t){return`${t}:${e.key}`}function e9(e){return`${e}:stickySection`}var te=r(722692),tt=r(660376),tr=r(580494),tn=r(550984),ta=r(901558),ts=r(865114),ti=r(540698),tl=r(345249),to=r(720522),tc=r(925085),td=r(446244),tu=r(87148),tm=r(555958),tp=r(452086),ty=r(940016),th=r(410739),tg=r(357741),tb=r(796490),tE=r(824662),t_=r(709114),tf=r(444441),tk=r(478581),tT=r(645801),tv=r(775065);function tw({asset:e,fileName:t,sourceForTracking:r,thumbHeight:a,thumbLayout:i,thumbWidth:l,viewMode:o,sectionNameForTracking:c,sectionPosition:d,noFlyout:u,preventDrag:p,disableContextMenu:y}){let h=(0,k.wA)(),g=(0,k.d4)(e=>e.dropdownShown),{query:b,searchOption:E}=(0,ed.I)(eu.Cn.AssetsPanel),_=(0,k.d4)(eg.dK),f=(0,k.d4)(m.F9),T=(0,s.md)(ty.T),v=E?.type===eN.I.ALL,w=(0,eO.fV)(e.library_key),x=(0,tu.fd)(e.library_key),S=v&&(w||x),I=n.useRef(null),L=(0,tm.kH)(e.name),N=(0,tl.NG)({text:L,textRef:I}),C=n.useRef(null),P=(0,tl.NG)({text:t??"",textRef:C}),A=g?.type===t_.K.ASSETS_PANEL?g?.data?.component:void 0,F=A?.node_id===e.node_id,M=o===eZ.Bk.List,K=M?"list-no-padding":"grid",O=!!b,H=(0,tg.F)(e,t_.K.ASSETS_PANEL,d,c),R=(0,th.n)(e),B=(0,ts.ZC)(R),G=!u;n.useEffect(()=>{R&&!B&&h(td.jD())},[R,h,B]);let U=e.isLocal&&(0,ti.PN)()?(0,tf.eT)(e.node_id,_).join("-"):e.node_id,W="Local components"===c||"Local private components"===c||e.isLocal,z=i!==tk.rp.SMALL&&!M,D=!M&&(0,tr.k)().api_asset_search_with_scores,V=(0,tb.Y)(e),$=M?a:a-2,j=M?l:l-2,Y=n.useMemo(()=>p?void 0:{sourceForTracking:r,clickToInsert:!1,afterSuccessfulInsert:tp.$z,sectionNameForTracking:c},[p,c,r]),q=W?n.createElement(tE.MT,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:H},displayType:K,draggable:Y,fileName:N||P?t:void 0,height:$,hideNameOverlay:z,isFilePublished:f,isSearch:O,item:e,numVariants:V,recordingNodePath:U,sectionPosition:d,shouldHideTooltip:G||F||R,showTooltipImmediately:!1,useBaseTile:!0,width:j}):n.createElement(tE.lX,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:H},displayType:K,draggable:Y,fileName:N||P?t:void 0,height:$,hideNameOverlay:z,isSearch:O,item:e,numVariants:V,recordingNodePath:U,sectionPosition:d,shouldHideTooltip:G||F||R,showName:!0,showTooltipImmediately:!1,useBaseTile:!0,width:j});return n.createElement("div",{className:M?tT.AD:tT.iE},M?q:n.createElement("div",{className:ew()(tT.QX,{[tT.Gr]:R,[tT.HR]:R&&T})},q),z&&n.createElement("div",{role:"button",className:tT.Bm,style:{width:l}},n.createElement("span",{className:tT.UU,ref:I},L),G&&n.createElement(to.B,{ariaHidden:!0,className:tT.OW,svg:tv.A})),z&&!!t&&n.createElement(tc.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:ew()(tT.Md,tT.Rm),ref:C,style:S?{maxWidth:l-eG.J}:{width:l}},t),S&&n.createElement(eG.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),D&&n.createElement(n.Fragment,null,n.createElement("div",{className:ew()(tT.Md,tT.Rm),style:S?{maxWidth:l-eG.J}:{width:l}},"Score: "+(e.server_score?.toFixed(2)??"N/A")),n.createElement("div",{className:ew()(tT.Md,tT.Rm),style:S?{maxWidth:l-eG.J}:{width:l}},"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")")),G&&M&&n.createElement(to.B,{ariaHidden:!0,className:tT.Ki,svg:tv.A}))}var tx=r(297638),tS=r(863270),tI=r(486383),tL=r(475869);let tN="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",tC="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",tP="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var tA=r(523860),tF=r(85206);let tM=e=>"isExpandable"in e&&e.isExpandable,tK=(e,t)=>{switch(e){case tN:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case tP:return tC;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},tO=e=>{let t=[];if(e&&e.length){t.push(n.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let r=e.slice(1).join(" / ");t.push(n.createElement("div",{className:tC,key:r},r,"\xa0"))}return t};class tH extends n.Component{componentDidUpdate(e){tM(this.props)&&tM(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,i.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?tN:tP,t=tM(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",r=tK(e,this.props.shouldShowDividerLine),a=tM(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return n.createElement(tS.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!tM(this.props)&&this.props.isExpanded},trackingTargets:tI.K.RCS},n.createElement("div",{className:ew()(r,e,t,a)},tM(this.props)&&n.createElement(to.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?tA.A:tF.A}),tM(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&n.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),tM(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?tO(this.props.stickyHeadertokens):n.createElement("div",{className:r},this.props.title),(0,eR.sF)(this.props.subscribedLibraryKey)&&n.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},n.createElement(eH.KP,{libraryKey:this.props.subscribedLibraryKey})),((0,tu.o3)(this.props.subscribedLibraryKey)||(0,tu.Ag)(this.props.subscribedLibraryKey))&&n.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},n.createElement(eB.E,{libraryKey:this.props.subscribedLibraryKey,showTooltip:!0,redirectToHubFile:!0}))))}}tH.H1_HEIGHT=(0,Y.hG)(tL.BS),tH.H3_HEIGHT=(0,Y.hG)(tL.T);class tR extends n.Component{render(){return n.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}tR.HEIGHT=(0,Y.hG)(tL.FX);let tB=(0,Y.hG)(tL.FX),tG=(0,Y.hG)(tL.FX)/2,tU=(0,Y.hG)(tL.Nz),tW=(0,Y.hG)(tL.cP);function tz({parent:e,outputElements:t,libraryNameByLibraryKey:r,items:a,keyPrefix:s,sharedOptions:i,sectionNameForTracking:l}){let o=(0,tk.PI)(a,!0),c={layout:o,...i},d=(0,tk.A5)(c),{width:u,height:m}=(0,tk.rj)(c,d),p=i.isList?1:0,y=i.isList?0:tU,h=i.isList||!r?0:tW,g=m+(i.isList?tG:tB)+y+h+p+(i.isList?0:-2);(0,tr.k)().api_asset_search_with_scores&&(g+=2*(0,Y.hG)(tL.uY));let b=u+(i.isList?tG:tB)+(i.isList?0:-2),E=0,_=tn.oz.getNextRenderedElementTop(t)+tG;for(let[c,p]of a.entries()){let a=i.isList?_+E*g:_+Math.floor(E/d)*g,y=i.isList?0:3+E%d*b,h=(0,ta.V)(p),f=p.library_key?r?.[p.library_key]:void 0;t.push({parent:e,type:tn.zq.TILE,top:a,left:y,height:g,key:`${s}:${h}`,element:function({item:e,fileName:t,sourceForTracking:r,sectionNameForTracking:a,thumbLayout:s,thumbHeight:i,thumbWidth:l,isList:o,sectionPosition:c}){return n.createElement(tw,{asset:e,fileName:t,sourceForTracking:r,sectionNameForTracking:a,thumbLayout:s,thumbHeight:i,thumbWidth:l,viewMode:o?eZ.Bk.List:eZ.Bk.Grid,sectionPosition:c})}({containerWidth:i.containerWidth,fileName:f,sourceForTracking:i.sourceForTracking,sectionNameForTracking:l,thumbLayout:o,thumbHeight:m,thumbWidth:u,isList:i.isList,item:p,isExpanded:i.isExpanded,sectionPosition:c}),item:p,numCols:d,containerWidth:i.containerWidth,sectionNameForTracking:l,sectionPosition:c}),E+=1}}let tD=(e,t,r)=>{let a=e9(r.keyPrefix),s=tn.oz.getNextRenderedElementTop(t),i={parent:e,type:tn.zq.ROW,top:s,height:"h1"==r.size?tH.H1_HEIGHT:tH.H3_HEIGHT,key:a,element:n.createElement(tH,{size:r.size,isExpandable:!0,isExpanded:r.isExpanded,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,isFixed:!1,subscribedLibraryKey:r.subscribedLibraryKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:r.isExpanded,getExpandableElement:e=>n.createElement(tH,{size:r.size,isExpandable:!0,isExpanded:e,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,subscribedLibraryKey:r.subscribedLibraryKey}),sectionNameForTracking:r.sectionNameForTracking,rowType:r.rowType,fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:"component_sidebar--stickyHeaderSpacer--SaKsM"}),n.createElement(tH,{size:"h1",isExpandable:!0,isExpanded:r.isExpanded,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,isFixed:!0,subscribedLibraryKey:r.subscribedLibraryKey}))};return t.push(i),i};function tV({prevParent:e,outputElements:t,inputSubtree:r,inputParentTree:a,keyPrefix:s,sharedOptions:i,sectionNameForTracking:l,hideTitle:o}){let c=e7(r,s),d=!o&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(r,a),u=function(e,t,r,n,a,s){if(!e)return null;let i=e7(n,a),l=e9(i),o=s.isExpanded(l,(0,te.pR)(n.type,n.sectionNameForTracking));switch(n.type){case"FILE":return tD(null,r,{keyPrefix:i,size:"h1",title:n.name,isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedLibraryKey:n.subscribedLibraryKey,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.LIBRARY});case"PAGE":return tD(t,r,{keyPrefix:i,title:n.name,size:"h3",isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.PAGE});case"NAME_GROUP":return tD(t,r,{keyPrefix:i,size:"h3",title:n.flattenedPath?n.flattenedPath:n.name,isExpanded:o,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:void 0,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.NAME_GROUP});case"ASSET_TYPE":let c=t$(n.sectionNameForTracking);return tD(t,r,{keyPrefix:i,size:"h3",title:n.name,isExpanded:!0,sectionNameForTracking:n.sectionNameForTracking,rowType:c})}}(d,e,t,r,s,i),m=u?u.children:t,p=u||e;if((0,tr.k)().dse_templates_proto){let e=r.subtrees.find(e6.Qe);null!=e&&tV({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:r,keyPrefix:s,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(r.type){case"PAGE":case"ASSET_TYPE":case"FILE":tz({parent:p,outputElements:m,items:r.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:l});break;case"NAME_GROUP":r.skipElementsInRendering||tz({parent:p,outputElements:m,items:r.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:l});break;default:(0,tt.xb)(r.type)}for(let e of r.subtrees)(0,tr.k)().dse_templates_proto&&(0,e6.Qe)(e)||tV({prevParent:p,outputElements:m,inputSubtree:e,inputParentTree:r,keyPrefix:c,sharedOptions:i,sectionNameForTracking:l});"FILE"===r.type&&d&&function(e,t,r){let a=tn.oz.getNextRenderedElementTop(t);t.push({parent:e,type:tn.zq.SEPARATOR,top:a,height:r.size,key:`${r.keyPrefix}:spacer${r.size}`,element:n.createElement(tR,{size:r.size})})}(p,m,{keyPrefix:c,size:16})}let t$=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?tn.l$.LOCAL_TEMPLATES:tn.l$.TEMPLATES:t?tn.l$.LOCAL_COMPONENTS:tn.l$.COMPONENTS},tj="root",tY=[];function tq(e,t,r){let n=[];return e&&tV({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:tj,sharedOptions:r,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),n}var tX=r(562027);let tQ="library-section-asset-type-v2";function tZ(e){switch(e){case"all":return{type:eN.I.ALL};case"recent":return{type:eN.I.RECENT};case"local":return{type:eN.I.LOCAL};default:return{type:eN.I.FILE,libraryKey:(0,tX.l)(e)}}}var tJ=r(331084),t0=r(316581),t1=r(185643),t4=r(901878),t5=r(27776);let t8=(0,Y.hG)(t5.gNA),t2={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function t6(e,t){(0,j.trackEvent)("Component Sidebar Viewed",{viewMode:(0,eZ.RN)(e),assetsPanelVersion:2,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,componentSuggestionSessionId:(0,e_.r6)()})}function t3({containerSizingOptions:e,recordingKey:t}){let r=(0,ec.iZ)(),a=(0,d.q5)(),[i,l]=(0,s.fp)(eJ),o=(0,$.A)(e=>{l(e),r&&(0,x.uE)("action_left_panel_scroll",{user:r},{assetsPanelVersion:2,tab:"assets",fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},500),[c,u]=(0,s.fp)(e0);(0,q.h)(()=>{t6(c,a)});let m=n.useCallback(()=>{u(e=>{let t=e===eZ.Bk.Grid?eZ.Bk.List:eZ.Bk.Grid;return t6(t,a),t})},[a,u]);return n.createElement(J.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},n.createElement(t7,{initialScrollTop:i,onScroll:o,viewMode:c,toggleViewMode:m,containerSizingOptions:e,recordingKey:t}))}function t7({initialScrollTop:e,onScroll:t,viewMode:r,toggleViewMode:a,containerSizingOptions:i,recordingKey:l}){let o=(0,k.wA)(),c=(0,k.d4)(e=>e.dropdownShown),u=(0,k.d4)(m.e_),p=(0,k.d4)(eh.h),y=(0,k.d4)(eg.dK),h=(0,k.d4)(eg.Xt),g=(0,k.d4)(eb.P),b=(0,k.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),E=(0,k.d4)(e=>e.isFreeUser),_=(0,k.d4)(e=>e.user),f=(0,Q.Av)(),T=(0,d.q5)(),v=(0,e3.D)(),{query:w,searchSessionId:x}=(0,ei.Gq)();(0,tJ.y)(),(0,ea.S)();let S=(0,J.q_)();n.useEffect(()=>{o(et.cr({shouldSearchDefaultLibraries:!1}))},[o]);let{assetType:I,libraryNameByLibraryKey:L,fileKeyToLibraryKey:N,onSetAssetType:C,scrollContent:P,validAssetTypeOptions:F}=function({containerSizingOptions:e,viewMode:t}){var r;let a=function(){let e=(0,k.d4)(m.e_),t=(0,k.d4)(d.tB),r=(0,k.d4)(e=>e.hubFiles),a=(0,k.d4)(m.MH),i=(0,k.d4)(m.dM),l=(0,k.d4)(eb.P),o=(0,es.n1)(),c=(0,s.md)(e2.qp),u=(0,eO.Fl)(),p=t?.teamId?l[t.teamId]:null,y=!!p&&(0,ey.w5)(p),h=n.useMemo(()=>(0,eZ.Sg)(a,i),[a,i]),g=(0,eZ.$1)({library:e,fileDataByLibraryKey:c}),b=(0,eZ.Tk)(e,r),E=n.useMemo(()=>o?b:null,[o,b]);return n.useMemo(()=>(0,e6.Nx)({localLibraryItemsInfo:h,subscribedItemsInfo:g,subscribedCommunityItemsInfo:E,defaultSubscribedItemsInfo:(0,eZ.Mt)(),canPublish:y,currentFileKeyForPublish:t?(0,e8.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:u}),[h,g,E,y,t,u])}(),{productComponents:i}=(0,e1.g5)(e4.$A.Design),{query:l}=(0,ed.I)(eu.Cn.AssetsPanel),o=(0,e3.D)(),c=n.useMemo(()=>({productComponents:i}),[i]),u=n.useMemo(()=>{var e;return l?eN.v:(e=a.localSubtree,{[eN.I.ALL]:!0,[eN.I.RECENT]:!!i.length,[eN.I.LOCAL]:e.items.length>0||e.subtrees.length>0,[eN.I.FILE]:!1,[eN.I.SITE_KIT]:!1})},[l,i,a.localSubtree]),p=(r=a.subscribedFileSubtrees,n.useMemo(()=>{let e={};for(let[,t]of Object.entries(r))t?.subscribedLibraryKey&&(e[t.subscribedLibraryKey]=t.name);return e},[r])),y=a.fileKeyToLibraryKey,{assetType:h,onSetAssetType:g}=function(e,t){let[r,a]=n.useState(!1),[s,i]=n.useState({type:eN.I.ALL}),l=(0,k.wA)(),o=(0,k.d4)(eI.q5),c=(0,d.q5)();n.useEffect(()=>{r||"loading"===e||(i(e5(function(){if(V.x4)try{let e=V.x4.getItem(tQ);if(!e)return;return tZ(e)}catch(e){return}}(),e,t)),a(!0))},[r,e,t]);let u=n.useCallback(e=>{(!o||(0,eI.eu)(e))&&(i(e),V.x4?.setItem(tQ,function(e){switch(e.type){case eN.I.ALL:return"all";case eN.I.RECENT:return"recent";case eN.I.LOCAL:return"local";case eN.I.FILE:return e.libraryKey;case eN.I.SITE_KIT:return""}}(e)),o&&l(et.gP({searchOptions:e})),j.definedAnalyticsHandler.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!o,fileKey:e.type===eN.I.FILE?e.libraryKey:void 0,openFileKey:c?.key,fileTeamId:c?.teamId??void 0,fileOrgId:c?.parentOrgId??void 0,assetsPanelVersion:2}))},[o,l,c?.key,c?.parentOrgId,c?.teamId]),m=n.useCallback(e=>e.key===tQ&&null!=e.newValue,[]),p=n.useCallback(r=>{if(!r)return;let n=tZ(r);"loading"!==e&&i(e5(n,e,t))},[e,t]);return(0,V.tl)({onSync:p,shouldSyncValue:m}),{assetType:s,onSetAssetType:u}}(o?"loading":u,p),b=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:r,treeWithSubtrees:a,viewMode:i}){let[l,o]=n.useState(!1),c=i===eZ.Bk.List,d=(0,ed.I)(eu.Cn.AssetsPanel),u=(0,s.md)(e2.oE),m=n.useMemo(()=>({isList:c,isExpanded:te.xO,sourceForTracking:eZ.mZ,...t}),[t,c]),p=n.useMemo(()=>{let{query:e,results:{normalizedSearchResults:t,unsubscribedSearchResults:r}}=d;if(!e)return tY;let a=t.length+r.length;if(0===a)return tY;!l&&0===t.length&&r.length>0&&o(!0);let s=[];return a>0&&!function({outputElements:e,results:t,moreResults:r,showMoreResults:a,keyPrefix:s,overallOptions:i,libraryNameByLibraryKey:l,toggleShowMoreResults:o,parent:c}){if(t.length>0&&tz({parent:c??null,outputElements:e,items:t,keyPrefix:`${s}:results`,sharedOptions:i,libraryNameByLibraryKey:l,sectionNameForTracking:"Primary search results"}),r.length>0){let t=tn.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:tn.zq.ROW,top:t,height:40,key:`${s}:moreResultsLink`,element:n.createElement("div",{className:"component_sidebar--text--g20jk"},a&&(0,A.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!a&&n.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:o},(0,A.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:r.length}))),sectionNameForTracking:"More search results"}),a&&tz({parent:null,outputElements:e,items:r,keyPrefix:`${s}:moreResults`,sharedOptions:i,libraryNameByLibraryKey:l,sectionNameForTracking:"More search results"})}}({outputElements:s,results:t,moreResults:r,showMoreResults:l,keyPrefix:`${tj}:searchResults`,overallOptions:m,libraryNameByLibraryKey:u,toggleShowMoreResults:()=>{o(e=>!e)}}),s},[d,l,m,u]),{productComponents:y}=r,h=n.useMemo(()=>{if(!y.length)return tY;let e=[];return tz({parent:null,outputElements:e,items:y,keyPrefix:`${tj}:recentlyUsed`,sharedOptions:m}),e},[y,m]),g=n.useMemo(()=>tq(a.localSubtree,a.tree,m),[a.localSubtree,a.tree,m]),b=n.useMemo(()=>e.type===eN.I.FILE?Object.entries(a.fileKeyToLibraryKey).find(([t,r])=>e.libraryKey===r)?.[0]??"":"",[e,a.fileKeyToLibraryKey]),E=n.useMemo(()=>tq(e.type===eN.I.FILE?a.subscribedFileSubtrees[b]:void 0,a.tree,m),[e.type,b,m,a.subscribedFileSubtrees,a.tree]),_=n.useMemo(()=>{let e=[];return!function(e,t,r,n){if((0,tr.k)().dse_templates_proto){let a=t.subtrees.find(e6.Qe);null!=a&&tV({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:r,sharedOptions:n,sectionNameForTracking:a.sectionNameForTracking})}for(let a of(t.items.length>0&&tz({parent:null,outputElements:e,items:t.items,keyPrefix:r,sharedOptions:n}),t.subtrees))(0,tr.k)().dse_templates_proto&&(0,e6.Qe)(a)||tV({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:r,sharedOptions:n,sectionNameForTracking:a.sectionNameForTracking})}(e,a.tree,tj,m),e},[m,a.tree]);return d.query?p:e.type===eN.I.RECENT?h:e.type===eN.I.LOCAL?g:e.type===eN.I.FILE?E:_}({assetType:h,containerSizingOptions:e,recentlyUsedItems:c,treeWithSubtrees:a,viewMode:t});return{assetType:h,libraryNameByLibraryKey:p,fileKeyToLibraryKey:y,onSetAssetType:g,scrollContent:b,validAssetTypeOptions:u}}({viewMode:r,containerSizingOptions:i}),[M,K]=(0,s.fp)(ef.dL);n.useEffect(()=>{M&&(C({type:eN.I.FILE,libraryKey:M}),K(null))},[M,C,K]);let O=(0,eo.LR)(),H=(0,k.d4)(e=>e.universalInsertModal.showing),R=n.useCallback(()=>{H&&O()},[O,H]),B=n.useCallback((e,t,r)=>{R(),o((0,er.to)({type:eX.m,data:{asset:e,searchSessionId:x??void 0,query:w??void 0,sectionPosition:t,sectionNameForTracking:r,assetTypeDropdownSelection:I?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:S}}))},[I,i.containerWidth,o,R,S,x,w]),G=n.useMemo(()=>({onOpenFlyout:B,assetTypeDropdownSelection:I?.type}),[I,B]);(0,t1.d)({allElements:P});let U=r===eZ.Bk.List,W=(0,ed.I)(eu.Cn.AssetsPanel),z=0===P.length,D=c?.type===t_.K.ASSETS_PANEL,$=D&&c?.data?.component||null,Y=(0,t0.K)(!0),q=n.useCallback(()=>{D||(0,el.wr)()},[D]),[ec,e_]=(0,V.Vc)("has-auto-expanded-component-libraries-for-nux",!1),eT=(0,es.n1)(),ev=n.useRef(null);n.useEffect(()=>{let e=ev.current;e&&0!==P.length&&eT&&!ec&&e.expandAllComponentLibraries(308)>0&&e_(!0)},[ec,eT,P.length,e_]);let ew=n.useCallback(()=>{let e=!!W.query,t=0===P.length;return n.createElement("div",null,e&&t&&n.createElement(ek.Wq,null),!e&&t&&n.createElement(ek.od,null))},[W.query,P.length]),ex=v||W.isLoading,eS=(0,ep.jO)(),eL=T?.teamId?g[T.teamId]:null,eC=(0,X.Rs)(em.kQI,{id:T?.teamId??""},{enabled:!!T?.teamId}),eP=eC.data?.team?.hasPermission,eA=!b&&E&&(!eL||!(0,ey.w5)(eL)&&eP)&&T?.canEdit&&eS&&Object.keys(u.local.components).length>0&&(0,en.Hz)(_?.id);return n.createElement(eq.U.Provider,{value:G},n.createElement(t9,{assetType:I,componentsEmpty:z,fileKeyToLibraryKey:N,isComponentSidebarInitialLoading:v,isList:U,isSearching:!!W.query,libraryNameByLibraryKey:L,onSetAssetType:C,onToggleViewMode:a,recordingKey:l,validAssetTypeOptions:F}),ex?n.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},n.createElement(ee.kt,null)):n.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},n.createElement(Z.O,{ref:ev,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",enableKeyboardNavigation:!0,fileKey:T?.key,getViewportHeight:e=>e-2*f,initialScrollTop:e,isList:U,isTileSelected:e=>!!e.item.isLocal&&h&&(0,eE.sp)(y,h,e.item.node_id),onMouseUp:q,onScroll:t,orgId:T?.parentOrgId??void 0,recordingKey:"componentsListContainer",renderEmptyState:ew,scrollContent:P,shouldRefocusAfterKeyboardInsert:I.type===eN.I.RECENT,teamId:T?.teamId??void 0,topOffset:t8,width:i.containerWidth}),!!$&&n.createElement(t_.h,{selectedView:p,dropdownShown:c,onJumpToLocalComponent:Y,onOpenFlyout:B,usePortal:!0}),eA&&n.createElement(t4.V,null)))}function t9({assetType:e,componentsEmpty:t,isList:r,isSearching:a,isComponentSidebarInitialLoading:s,libraryNameByLibraryKey:i,fileKeyToLibraryKey:l,onSetAssetType:o,onToggleViewMode:c,validAssetTypeOptions:d,recordingKey:u}){let m=t2.improved,{setKeyboardNavigationElement:p}=(0,J.M3)({path:m.libraryModal.path,column:m.libraryModal.column}),{setKeyboardNavigationElement:y}=(0,J.M3)({path:t2.improved.dropdown.path,column:t2.improved.dropdown.column}),{setKeyboardNavigationElement:h}=(0,J.M3)({path:m.viewToggle.path,column:m.viewToggle.column});return n.createElement("div",null,n.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},n.createElement(eC,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:m.search.path,keyboardNavigationColumn:m.search.column}),n.createElement(eP.b,{entrypoint:eT.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:p,recordingKey:u})),s||t&&!a?null:n.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},n.createElement(ez,{assetType:e,libraryNameByLibraryKey:i,fileKeyToLibraryKey:l,onSetAssetType:o,onSetKeyboardNavigationElement:y,validAssetTypeOptions:d}),n.createElement(eY,{isList:r,onToggleViewMode:c,onSetKeyboardNavigationElement:h,recordingKey:u})))}var re=r(399906),rt=r(765917),rr=r(359418),rn=r(443054),ra=r(353620),rs=r(614092),ri=r(21614);function rl(){let e=(0,n.useContext)(ra.y0).focusSelectedNodes;return!!((0,tr.k)().ce_il_layer_focus&&e)}let ro=new Set;function rc(e){let t=(0,n.useRef)(e),r=t.current;return t.current=e,r}var rd=r(453761),ru=r(149928),rm=r(412840),rp=r(353956),ry=r(762703),rh=r(485558),rg=r(773511),rb=r(979890),rE=r(67188),r_=r(201588),rf=r(226455),rk=r(214758);function rT({showTabs:e,activeTab:t,isComparingChanges:r,pageTabChevron:s,currentPageName:i,onCanvasSearch:l,onPageContextMenu:o,onTogglePages:c,recordingKey:d}){let u=(0,ry.U)(),m=(0,S.dh)(),p=(0,eV.rf)(eV.Pt(d,"collapsedRow"),"contextmenu",(0,n.useCallback)(e=>{(0,rE.jo)(e),o({nodeId:m,clientX:e.clientX,clientY:e.clientY})},[o,m]));return n.createElement(rh.y,{withBorder:!0},e&&n.createElement(n.Fragment,null,n.createElement(r_._,{onClick:l}),n.createElement(rb.Bx,{className:t===a.xae.LAYERS?rk.yR:rk.Mf,dataTestId:rf.pk,onMouseDown:u.showLayersPanel,onContextMenu:rE.jo,"data-label":(0,A.t)("fullscreen.pages_panel.layers_tab"),recordingKey:eV.Pt(d,"tab","layers"),innerText:"Layers"},(0,A.tx)("fullscreen.pages_panel.layers_tab")),n.createElement(rb.Bx,{className:rk.dB,onMouseDown:()=>u.showPublish(),onContextMenu:rE.jo,recordingKey:eV.Pt(d,"tab","assets"),innerText:"Assets","data-onboarding-key":rf.Qr},n.createElement("div",{className:t===a.xae.ASSETS?rk.yR:rk.Mf,"data-label":(0,A.t)("fullscreen.pages_panel.assets_tab")},n.createElement("div",null,(0,A.tx)("fullscreen.pages_panel.assets_tab"))))),!e&&n.createElement("div",{className:ew()("ui2_tabs_row--viewOnlySearchRow--lXeEC",{"ui2_tabs_row--hidden--H29bc":r})},n.createElement(y.Y,{onFocus:l})),n.createElement(rg.E,{className:ew()("ui2_tabs_row--toggleButton--3lJw1",{"ui2_tabs_row--viewOnly--crQc4":!e}),onClick:c,htmlAttributes:{onContextMenu:p},recordingKey:eV.Pt(d,"collapsedRow")},n.createElement("span",{className:"ui2_tabs_row--pageTitle--PPrKt ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},i||""),n.createElement(to.B,{className:"ui2_tabs_row--chevron--GSVx7",svg:s})))}var rv=r(476762),rw=r(33692),rx=r(90206),rS=r(455945);let rI=new Map;var rL=r(364616),rN=r(844411);function rC(){let e=(0,f.cT)(),{pagesList:t,pageToNumChangesMap:r,isComparingChanges:s}=function(){let e=(0,f.n0)(),t=(0,k.d4)(e=>!!(0,tr.k)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===a.m1T.COMPARE_CHANGES),r=(0,k.d4)(e=>e.versionHistory.compareId);return n.useMemo(()=>{if(!t||!r)return{pagesList:e,pageToNumChangesMap:rI,isComparingChanges:t};let n=(0,G.ee)(e);return{pagesList:e,pageToNumChangesMap:n,isComparingChanges:t}},[t,r,e])}(),i=(0,rx.g)({pagesList:t}),l=(0,f.GQ)();return t.length?n.createElement(rP,{recordingKey:"pagesPanel",isReadOnly:e,width:l,pagesList:t,isComparingChanges:s,pageToNumChanges:r,onPageContextMenu:i}):null}function rP({width:e,isReadOnly:t,pagesList:r,onPageContextMenu:i,isComparingChanges:l,pageToNumChanges:u,recordingKey:m}){let p=(0,o.GS)(),y=(0,re.M)(),h=(0,tf._j)(),g=(0,d.q5)(),b=(0,k.d4)(e=>t||!g?a.xae.LAYERS:e.leftPanel.activeTab),E=(0,k.d4)(e=>e.versionHistory),_=(0,S.dh)(),A=(0,S.nn)(),F=(0,s.md)(rp.l7),M=(0,ry.U)(),{toggleManageMemoryModal:K,closeManageMemoryModal:O}=(0,P.P)({sidebarWidth:e}),H=(0,I.T)(),{isLayersOpen:R,toggleLayersAction:B}=(0,f.vr)(),{renamingNodeGuid:G,startRenamingNode:U,stopRenamingNode:W}=(0,f.TU)(),V=(0,f._4)(),{height:$,setHeight:j,isOpen:Y,setIsOpen:q}=(0,rS.d)({defaultIsOpen:r.length>1||p}),X=b===a.xae.LAYERS,Q=X&&(!!p||Y),Z=Y&&X?rN.A:rL.A,J=a.AWq.getChunkChangeCount(),ee=(0,k.Pj)(),et=(0,n.useCallback)(e=>{M.showLayersPanel(),(0,x.ds)("pages_panel_open_toggle",g?.key,ee.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),q(e)},[g,M,q,ee]),er=(0,n.useCallback)(()=>{et(!0)},[et]),en=(0,v.F)(Y),ea=(0,n.useCallback)(()=>{et(!en.current)},[en,et]),es=(0,T.$)(F);(0,n.useEffect)(()=>{F&&es&&!t&&er()},[es,F,t,er]);let{focusedNodes:ei,onSelectNodesFromLayersPanel:el,clearFocusedNodes:eo}=function(){let e=(0,ri.Tv)(),t=(0,c.eY)(),r=rl(),a=function(){let e=(0,c.KH)(),t=rl(),r=(0,rs.Fk)((e,r)=>{if(!t)return[];let n=new Set;return Object.keys(r).forEach(t=>{let r=function(e){for(;e;){if(e.parentNode?.type==="CANVAS")return e;e=e.parentNode}return null}(e.get(t));r&&n.add(r.guid)}),Array.from(n)},e);return(0,n.useMemo)(()=>new Set(r),[r])}(),s=rc(r),i=rc(a),l=rc(e),o=(0,n.useRef)(!1),d=(0,n.useRef)(new Set),u=i!==a,m=s!==r;(l!==e||u||m)&&function({focusedNodesRef:e,supportsFocus:t,isObjectsPanelClickRef:r,topLevelParents:n,didTopLevelParentsChange:a}){if(!t){e.current=ro;return}if(r.current){if(a&&e.current.size){let t=new Set(e.current);n.forEach(e=>t.add(e)),e.current=t}r.current=!1;return}e.current=n}({focusedNodesRef:d,supportsFocus:r,isObjectsPanelClickRef:o,nodeIds:e,scene:t,topLevelParents:a,didTopLevelParentsChange:u});let p=(0,rn.C)(),y=(0,n.useCallback)(()=>{d.current=ro,p()},[p]),h=(0,n.useCallback)(()=>{o.current=!0},[]);return{onSelectNodesFromLayersPanel:r?h:void 0,focusedNodes:r?d.current:void 0,clearFocusedNodes:r?y:void 0}}();return n.createElement(rd.A,{isFullHeight:!0},p?n.createElement(n.Fragment,null,n.createElement(w.$,null),!t&&n.createElement(rw.I,{recordingKey:m,activeTab:b,onCanvasSearch:V})):n.createElement(n.Fragment,null,n.createElement(rT,{recordingKey:m,showTabs:!t,activeTab:b,pageTabChevron:Z,isComparingChanges:l,currentPageName:A,onCanvasSearch:V,onTogglePages:b===a.xae.ASSETS?er:ea,onPageContextMenu:i}),b===a.xae.LAYERS&&n.createElement(w.$,null)),l&&X&&n.createElement(n.Fragment,null,E.compareId&&n.createElement(D.ZI,{compareId:E.compareId,versions:E.versions}),J>0&&n.createElement(rh.y,{withBorder:!0},n.createElement(z,null))),g&&n.createElement(C.QU,{fileKey:g.key,toggleManageMemoryModal:K,closeManageMemoryModal:O}),Q&&n.createElement(rm.R,{height:$,isComparingChanges:l,isOpen:Y,isReadOnly:t,onCanvasSearch:V,onHeightChange:j,onPageContextMenu:i,onToggle:ea,pageToNumChanges:u,pages:r,showHeader:!H}),X&&n.createElement(ru.m,null,h&&R&&n.createElement(L.p,null,n.createElement(N.Ay,null)),p?n.createElement(rv.o,{currentPage:_,focusedNodes:ei,isLayersOpen:R,isReadOnly:t,onSelectNodesFromLayersPanel:el,onToggleLayers:B,recordingKey:m,renamingGuid:G,reserveBottomHeight:ei?.size!==0,showAllLayers:eo,startRenaming:U,stopRenaming:W,topNodeProperties:null,versionHistory:E,width:e}):n.createElement(rr.X,{isReadOnly:t,currentPage:_,width:e,renamingGuid:G,startRenaming:U,stopRenaming:W,thumbnailGuid:g?.thumbnailGuid||null,topNodeProperties:null,versionHistory:E})),b===a.xae.ASSETS&&n.createElement(n.Fragment,null,y?n.createElement(rt.g,{width:e}):n.createElement(t3,{recordingKey:"componentsSidebar",containerSizingOptions:{containerWidth:e,maxSmallThumbSize:40,maxWideColWidth:300}})))}let rA=n.memo(function(){let e=(0,s.md)((0,m.Xh)(void 0)),t=(0,d.q5)(),r=(0,o.GS)(),k=(0,c.aV)();(0,f.bi)();let T=(0,l.X0)(),v=!!t&&e,w=(0,u.J2)(a.Ez5.uiState().showCanvasSearch);return n.useEffect(()=>{v&&(0,i.YQ)({id:"Found Updates To Publish"})},[v]),n.createElement(_.Q,{ignoreRulers:k},n.createElement(g.s,null),n.createElement(h.$,null,r&&n.createElement(E.n,null),r&&n.createElement(b.d,{shouldUseBottomBorder:!T}),w?n.createElement(p.EA.Provider,{value:!0},n.createElement(y.f,{showFilter:!0})):n.createElement(rC,null)))})},812045:(e,t,r)=>{r.d(t,{q:()=>y});var n=r(848318),a=r(863270),s=r(963307),i=r(355755),l=r(730143),o=r(394882),c=r(991675),d=r(919645),u=r(247852),m=r(827930),p=r(340427);function y({scrollContainer:e}){let t=(0,l.q5)(),r=(0,i.KH)(),y=(0,s.Gt)("prototypeStartingPointsInfo"),h=!y||y.length>0,g=0===Object.keys(r).length,b=t?.canEdit,E=n.createElement(o.VF,{isVisible:g&&!b&&h},()=>n.createElement(p.A,{viewOnly:!0})),_=n.createElement(o.VF,{isVisible:g},()=>n.createElement(d.Q,{key:"code-local-styles",recordingKey:"code-local-styles",scrollContainer:e}));return n.createElement(a.fu,{name:c.e0.CODE_PANEL},n.createElement(u.Mw,{panelName:u.ON.INSPECT}),n.createElement(m.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:E,localStylesPanel:_}))}},984079:(e,t,r)=>{r.d(t,{K:()=>u});var n=r(848318),a=r(186606),s=r(865114),i=r(324762),l=r(355755),o=r(937629),c=r(880801),d=r(122586);function u(){let e=(0,i.VW)(),t=(0,s.ZC)(e?.guid),r=(0,l.p8)("activeUserAction"),u=(0,o.LC)();n.useEffect(()=>{(e?.guid!==t&&t||![a.QOV.DEFAULT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(r))&&(0,d.KY)({actionToClear:c.JT.FIND_INSPIRATION})},[e,r,t,u])}},197183:(e,t,r)=>{r.d(t,{t:()=>l});var n=r(848318),a=r(301168),s=r(186606),i=r(7148);function l(){let e=(0,i.m0)(),t=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return n.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{s.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===s.m1T.TEXT&&s.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{s.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{s.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{s.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{s.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}}}]);

//# debugId=79703430-abfd-598b-9701-311681a858cf

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/74e8aeee361c7f8e1e8237f5fd8640329e7560fc/8788-e05cc51ba8a3c680.min.js.map