"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="51bb66dc-7db4-54bf-9360-ea48c33ff2c9")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4173],{823759:(e,t,n)=>{n.d(t,{Lt:()=>i,ai:()=>l,hF:()=>r,kL:()=>o});let o="whiteboard_menu_selector--container--ye4aw",l="whiteboard_menu_selector--chevron--kjs2p",r="whiteboard_menu_selector--input--GTjdY",i="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},239604:(e,t,n)=>{n.d(t,{jk:()=>$});var o=n(848318),l=n(301168),r=n(320953),i=n(179507),a=n(536384),c=n.n(a),u=n(141760),p=n(277930),s=n(621464),m=n(813009),d=n(238462),g=n(781239),h=n(720861),f=n(297638),y=n(142896),_=n(632727),N=n(995218),v=n(609458),w=n(244813),b=n(511067),E=n(259964),k=n(17753),C=n(120846),T=n(289520),x=n(782288),D=n(823759);let I="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",B="widget_controls--img--bNdQj",V=(0,i.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(s.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function L(e){let t=(0,N.E3)(),n=e.icon?V(e.icon):null,l=void 0!==t&&t===E.nT.Design;return n?o.createElement(P,{label:e.label,propertyName:e.propertyName,href:e.href,size:l?"small":"large",tooltip:e.tooltip,icon:n,onClick:e.onClick,active:e.active?e.active:"NONE"}):o.createElement(M,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function P(e){let t=e.href?o.createElement(h.N,{href:e.href,className:f.s.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1},o.createElement("img",{src:e.icon,className:B,alt:`${e.propertyName}`})):o.createElement("img",{src:e.icon,className:B,alt:`${e.propertyName}`});return o.createElement(x.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,g.Pt)("widgetControl",e.propertyName)},t)}function M(e){let t=e.href?o.createElement(h.N,{href:e.href,className:c()([I,f.s.cursorDefault.wFull.hFull.$]),target:"_blank",trusted:!1},e.label):o.createElement("span",{className:I},e.label);return o.createElement(x.$n,{className:f.s.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,g.Pt)("widgetControl",e.propertyName)},t)}function O({widgetInfo:e,item:t}){let n=(0,N.E3)(),l=r.nc.user("widget-select-color",n=>{let o=(0,u.colorToHex)(n.option);v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,h[o]??o)}),i=(0,p.A)(l,100),[a,c]=o.useState(!1),m=[t.selectedOption,...t.options.map(e=>e.option)],d={},h={};for(let e of m)try{let t=_.z5.parse(e);d[e]=t,h[(0,u.colorToHex)(t)]=e}catch(t){return s.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),o.createElement("div",{"data-testid":"emptyColorSelector"})}let f=n===E.nT.Design;return o.createElement(T.qW,{buttonSize:f?"xsmall":"small",inlineButtonTooltip:t.tooltip,isColorPopoverOpen:a,isDesignInlineMenu:f,onColorChange:e=>{i(e)},optionSize:"medium",options:t.options.map(e=>({option:d[e.option],tooltip:e.tooltip})),paletteType:"widget",recordingKey:(0,g.Pt)("widgetControl",t.propertyName),setIsColorPopoverOpen:c,value:{option:d[t.selectedOption]}})}function S({widgetInfo:e,item:t}){return o.createElement(L,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:r.nc.user("widget-action",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}let A=C.l6,j=C.c$;function H({item:e,widgetInfo:t}){let n=(0,N.E3)(),r=(0,l.wA)(),i=(0,b.Um)(),a=e.options.find(t=>t.option===e.selectedOption),c=(0,g.Pt)("widgetControl",e.propertyName),u=void 0!==n&&n===E.nT.Design;return o.createElement("div",{className:u?void 0:D.kL,"data-tooltip-show-above":!0,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":e.tooltip},o.createElement(A,{blurOnChange:!0,chevronClassName:u?"widget_controls--chevron--a3ua2":D.ai,className:u?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":D.Lt,dispatch:r,dropdownAlignment:"left",dropdownClassName:y.Dm,dropdownShown:i,dropdownWidth:144,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},id:`widgetControl.${e.propertyName}`,inputClassName:u?"widget_controls--input--Z6nHO":D.hF,onChange:n=>{v.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,n.option)},property:{option:e.selectedOption,tooltip:a?a.tooltip:e.selectedOption},recordingKey:c,targetDomNode:document.body},e.options.map((t,n)=>o.createElement(j,{key:n,value:t,formattedValue:t.tooltip,recordingKey:(0,g.Pt)(c,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0}))))}function F({widgetInfo:e,item:t}){return o.createElement(L,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:r.nc.user("widget-toggle",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function W({widgetInfo:e,item:t}){let n;let l="https://www.figma.com/exit?url="+t.href;return null!==t.icon&&(n=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),o.createElement(L,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:n,onClick:d.lQ,href:l})}function $(){let e=function(){let e=(0,m.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return o.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,w.Vi)(t))return e;let n=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,w.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:n}},[e])}();return e&&e.propertyMenu.length?o.createElement(o.Fragment,null,e.propertyMenu.map((t,n)=>{switch(t.itemType){case"action":return o.createElement(S,{key:n,item:t,widgetInfo:e});case"separator":return o.createElement(x.wv,{key:n});case"color-selector":return o.createElement(O,{key:n,item:t,widgetInfo:e});case"dropdown":return o.createElement(H,{key:n,item:t,widgetInfo:e});case"toggle":return o.createElement(F,{key:n,item:t,widgetInfo:e});case"link":return o.createElement(W,{key:n,item:t,widgetInfo:e})}})):null}},398872:(e,t,n)=>{n.d(t,{x:()=>F});var o=n(848318),l=n(301168),r=n(531788),i=n(749214);let a=(0,o.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",d:"M18 4a.5.5 0 0 1 .5.5V19h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1v-6h-11v6h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V4.5a.5.5 0 0 1 1 0V7h11V4.5A.5.5 0 0 1 18 4M9.847 8.354l-2.993 2.994-.354.353V12h1.302l-.009-.009L11.784 8H10.2zM9.198 12h1.603l-.008-.008L14.785 8h-1.587zm3.001 0h1.588L17.5 8.287V8h-1.3zm3.002 0H17.5V9.701zM6.5 10.286 8.786 8H6.5z"})})});var c=n(223926),u=n.n(c),p=n(918777),s=n(813009),m=n(781239),d=n(967688),g=n(566726),h=n(877146),f=n(481406),y=n(652576),_=n(730143),N=n(20687),v=n(567587),w=n(280361),b=n(324747),E=n(259964),k=n(764474),C=n(17753),T=n(770686);let x=(0,n(244052).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:n}=e;return o.createElement("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--d289K text--fontPos11--2LvXf text--_fontBase--QdLsd"},o.createElement("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--XUJNp"},t),n&&o.createElement("div",null,n))},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var D=n(734045),I=n(773511),B=n(347701);function V({onClick:e,recordingKey:t,ariaLabel:n,tooltip:l,tooltipType:r,tooltipName:i,tooltipDescription:a,showChevron:c,children:u}){return o.createElement(I.E,{className:"whiteboard_inline_menu_icon_button--iconButton40--yjNDz",onClick:e,recordingKey:t,"aria-label":n,htmlAttributes:{"data-tooltip":l,"data-tooltip-type":r,"data-tooltip-show-above":!0,"data-tooltip-name":i,"data-tooltip-description":a,"data-testid":t}},o.createElement("span",{"aria-hidden":!0,className:"whiteboard_inline_menu_icon_button--icon--SUTLm"},u,c&&o.createElement(B.O,{className:"whiteboard_inline_menu_icon_button--chevron--tjrn4"})))}var L=n(782288),P=n(12080),M=n(476254),O=n(952039),S=n(113752);function A(e){let{tooltipName:t,tooltipDescription:n,onClick:l,hasMultipleOptions:r,recordingKey:i,plugin:c}=e,u=(0,D._r)(),p=r?(0,d.t)("whiteboard.inline_menu.open_relaunch_menu.aria_label",{pluginName:c.name}):t??c.name,s=r?{tooltip:c.name,tooltipType:C.Ib.TEXT}:{tooltip:x,tooltipType:u&&t?C.Ib.SPECIAL:void 0,tooltipName:t,tooltipDescription:"string"==typeof n?n:String(n)};return o.createElement(V,{onClick:l,recordingKey:i,showChevron:r,ariaLabel:p,...s},(0,k.ZQ)(c)?o.createElement(a,null):o.createElement(T.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:c,alt:c.name}))}function j({children:e}){return o.createElement("div",{className:"plugin_relaunch_content--flexColumn--3aDVl"},e)}function H(e){let{relaunchData:t}=e,n=e=>parseInt(e||"0");return o.createElement(P.Fn,{onChange:o=>{let l=t[n(o)];l&&e.onSelect(l)},value:null,renderOption:({value:e,onClick:l})=>{let i=t[n(e)];if(!i)return null;let a=i.relaunchButton.name.length>34||"string"==typeof i.relaunchButton.description&&i.relaunchButton.description.length>34,c=(0,m.Pt)("relaunchMenuSelectorOption",i.pluginTypeAndID,i.relaunchButton.command);return o.createElement("div",{key:`${i.pluginTypeAndID}-${e}`,"data-tooltip":x,"data-tooltip-type":i.relaunchButton.name&&a?C.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":i.relaunchButton.name,"data-tooltip-description":i.relaunchButton.description},o.createElement("div",{className:"plugin_relaunch_content--menuItem--fZT86"},o.createElement(r.WW,{variant:"secondary",onClick:l,recordingKey:c},o.createElement("div",{className:"plugin_relaunch_content--name--VYXnN ellipsis--ellipsis--Tjyfa"},i.relaunchButton.name),i.relaunchButton.description&&o.createElement("div",{className:"plugin_relaunch_content--description--aAoGx ellipsis--ellipsis--Tjyfa"},String(i.relaunchButton.description)))))},renderButton:({onClick:e,value:l})=>{let r=t[n(l)];return r?o.createElement(A,{hasMultipleOptions:!0,onClick:e,plugin:r.plugin,recordingKey:(0,m.Pt)("relaunchMenuSelectorIconButton",r.pluginTypeAndID)}):null},options:t.map((e,t)=>`${t}`),OptionWrapper:j})}function F(){let e=(0,s.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,l.d4)(e=>e.mirror.selectionProperties.numSelected),n=(0,s.R)(e=>e.publishedPlugins),r=(0,s.R)(e=>e.localPlugins),i=(0,f.Yo)(),a=(0,_.tS)(),c=(0,o.useRef)(new v.O(p.A.duration(1,"day"))),C=(0,y.V2)(),T=(0,l.wA)(),x=e=>T(g.af({id:e,resourceType:n[e]?.is_widget?b.bD.WIDGET:b.bD.PLUGIN})),D=(0,N.vA)(e,n,r,i,t||0,(e,t)=>c.current.debounceRefresh(e,()=>x(e),t),k.FW.FIGJAM),I=u()(D,e=>e.pluginTypeAndID),B=e=>{var t,n;if(!a)return;if(!C){w.R.instance.handleUpgrade(h.Q7.RUN_WIDGET);return}t=(0,d.t)("whiteboard.inline_menu.relaunching_plugin",{commandName:e.relaunchButton.name}),n="figjam-plugin-relaunched",M.D.dispatch(O.F.enqueue({message:t,type:n,icon:S.zX.CHECK,timeoutOverride:3e3}));let{canRun:o}=(0,N.JT)({plugin:e.plugin,editorType:E.nT.Whiteboard});o&&w.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:a||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===D.length?null:o.createElement(o.Fragment,null,o.createElement(L.wv,null),Object.values(I).map(e=>{if(!e||!e[0])return;let t=e[0],n=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?o.createElement(A,{key:n,tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>B(t),recordingKey:(0,m.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)}):o.createElement(H,{key:n,relaunchData:e,onSelect:B})}))}}}]);

//# debugId=51bb66dc-7db4-54bf-9360-ea48c33ff2c9

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/cddcf34c1faf1f9e14735fc13d9a55f93988d7a0/4173-c100acc9dfe248cf.min.js.map