"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a14cc698-36ff-5e62-9965-ce91f207b049")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3144,8325],{722541:(e,t,n)=>{n.d(t,{JP:()=>s,O6:()=>o,R3:()=>a,Rg:()=>l,Xq:()=>i,b:()=>r,j:()=>d,zu:()=>c});let a="ready_for_dev_signals_upsell--tooltipContainer--MfMyF pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",r="ready_for_dev_signals_upsell--closeButton--IqINb",l="ready_for_dev_signals_upsell--tooltipHeader--vN9FE utilities--bodyMediumStrong--1R5cZ",i="ready_for_dev_signals_upsell--tooltipPageIdNodeHeader--9D-dA ready_for_dev_signals_upsell--tooltipHeader--vN9FE utilities--bodyMediumStrong--1R5cZ",o="ready_for_dev_signals_upsell--tooltipBody--LCLlM utilities--bodyMediumStrong--1R5cZ",s="ready_for_dev_signals_upsell--tooltipFooter--bN45f",c="ready_for_dev_signals_upsell--tooltipBodyText--fXjaC",d="ready_for_dev_signals_upsell--videoContainer--Hcl5T"},320848:(e,t,n)=>{n.d(t,{$s:()=>s,IP:()=>l,Lx:()=>d,R9:()=>o,RL:()=>i,UD:()=>c,ZS:()=>r,hQ:()=>a,xn:()=>u});let a="figjam_onboarding_make_something--contentContainer--gVph-",r="figjam_onboarding_make_something--imageContainer--RoSk9",l="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",i="figjam_onboarding_make_something--tooltipBodyXSmall--sONX7",o="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",s="figjam_onboarding_make_something--tooltipBodyLarge--jkc-5",c="figjam_onboarding_make_something--buttonContainer--78iSl",d="figjam_onboarding_make_something--skipButtonPosition--Rzzb8",u="figjam_onboarding_make_something--standaloneModal--Ksh8z"},214758:(e,t,n)=>{n.d(t,{As:()=>f,Dq:()=>m,KE:()=>v,Mf:()=>I,Mp:()=>y,Nr:()=>M,Nz:()=>C,O0:()=>O,Pl:()=>h,Pz:()=>l,RE:()=>r,Sp:()=>a,VC:()=>T,VQ:()=>D,Vt:()=>_,YW:()=>w,_J:()=>b,aY:()=>o,dB:()=>x,hi:()=>S,iB:()=>p,jE:()=>L,jG:()=>k,l$:()=>i,mB:()=>A,n6:()=>s,oG:()=>d,q8:()=>P,sR:()=>E,sl:()=>g,vu:()=>c,vy:()=>R,wH:()=>u,yR:()=>N});let a="legacy_pages_panel--pageChangesCount--ZvU4X",r="legacy_pages_panel--pagesHeaderContainer--LWPh-",l="legacy_pages_panel--pagesHeaderText--vgHeJ",i="legacy_pages_panel--pagesList--20gAo",o="legacy_pages_panel--pendingPagesList--Kqq9Y legacy_pages_panel--pagesList--20gAo",s="legacy_pages_panel--pageIcon--2SeMV",c="legacy_pages_panel--active--4gxmS",d="legacy_pages_panel--pageRow--RXLs9 legacy_pages_panel--pageRowBase--2BLqh",u="legacy_pages_panel--selected--ZWcge",m="legacy_pages_panel--hoverByMouse--QLchE",p="legacy_pages_panel--hoverState--Jq0dh",f="legacy_pages_panel--pageRowButton--ZYdDc",g="legacy_pages_panel--pageRowActive--wbZe-",h="legacy_pages_panel--activePageBrand--X-F3Y",E="legacy_pages_panel--pageRowActiveUI2--Lwdqd",_="legacy_pages_panel--flipVertically--ZvNfN",y="legacy_pages_panel--pageRowSvgV2--QicIQ legacy_pages_panel--pageRowSvg--nbDOj",b="legacy_pages_panel--pageRowSvgV2Unselected--1IlVx legacy_pages_panel--pageRowSvgV2--QicIQ legacy_pages_panel--pageRowSvg--nbDOj",C="legacy_pages_panel--renameableNode--JPw8y",v="legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",w="legacy_pages_panel--disabledNodeText--2HBBi legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",T="legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",S="legacy_pages_panel--renameableNodeTextEndDisabled--fFOaW legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",k="legacy_pages_panel--scrollContainer--YR8Lw",I="legacy_pages_panel--tab--inhND",N="legacy_pages_panel--tabActive--hmo0j legacy_pages_panel--tab--inhND",x="legacy_pages_panel--assetsTab--nMUmk",A="legacy_pages_panel--pageRowDividerContainer--eWfpW legacy_pages_panel--pageRowBase--2BLqh",L="legacy_pages_panel--pageRowDivider--0c9dh",O="legacy_pages_panel--pageRowDividerTitleText--WSgbm",R="legacy_pages_panel--hasDividerWithTitleAbove--QYBGL",M="legacy_pages_panel--offlineContainer--zrR3y",D="legacy_pages_panel--offlineIcon--sLbbs",P="legacy_pages_panel--pageRowRight--N3-uE"},50742:(e,t,n)=>{n.d(t,{IK:()=>i,Vi:()=>s,cJ:()=>a,iZ:()=>o,pf:()=>l,yF:()=>r});let a="pages_list--pagesRowWrapper--Plig-",r="pages_list--divider--idUOu",l="pages_list--withInsertBefore---ui-o",i="pages_list--withInsertAfter--7QoMA",o="pages_list--withInsertBeforeTop--IQT63",s="pages_list--withInsertAfterBottom--yG3xD"},574786:(e,t,n)=>{n.d(t,{BK:()=>I,C7:()=>s,EI:()=>o,Ge:()=>f,K$:()=>u,Km:()=>S,MT:()=>M,O5:()=>_,QD:()=>x,Rt:()=>B,VV:()=>i,Vr:()=>k,WY:()=>P,Wh:()=>a,XE:()=>p,_L:()=>c,a1:()=>v,aK:()=>L,ai:()=>O,cu:()=>A,hg:()=>T,i3:()=>F,me:()=>b,qN:()=>N,qb:()=>m,qc:()=>D,r9:()=>l,rR:()=>r,ro:()=>U,wH:()=>h,ws:()=>d,yo:()=>E,yx:()=>g,zK:()=>R,zW:()=>C,zb:()=>y,zk:()=>w});let a="multiplayer_view--multiplayerView---Lf04",r="multiplayer_view--onboardingTarget--Ja9Ak",l="multiplayer_view--disabled--K9QcN",i="multiplayer_view--users--DcWtM",o="multiplayer_view--usersContainer--bzaNI",s="multiplayer_view--userIconView--XlLWC",c="multiplayer_view--userIconViewHorizontal--CRVT- multiplayer_view--userIconView--XlLWC",d="multiplayer_view--userIconAvatar--qt4Vz",u="multiplayer_view--userIconAvatarLoading--s5PPI",m="multiplayer_view--normal--xHQOT",p="multiplayer_view--avatarWithCollaborationToolsContainer--7lq5U",f="multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",g="multiplayer_view--fullHeightSidebarAvatarWithToolsOverridesWithOverflow--hExNS multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",h="multiplayer_view--selected--PrEy3",E="multiplayer_view--hovered--X1V8M",_="multiplayer_view--textAvatarContainer--SwGAW",y="multiplayer_view--overflowTextAvatar--ouAgh multiplayer_view--textAvatar--P-4wz",b="multiplayer_view--separator--d7XC2",C="multiplayer_view--separatorContainer--3NXhc",v="multiplayer_view--overflowDropdown--5PCUX",w="multiplayer_view--multiplayerUserCount--VN79F",T="multiplayer_view--fileSeenStateSubtitle--xTYdr",S="multiplayer_view--avatarWithGroupActionsTightened---blv6",k="multiplayer_view--groupActions--C2jLX",I="multiplayer_view--presenterButtonAction--7CCnt",N="multiplayer_view--pointingDropdown--4CD2d",x="multiplayer_view--pointingDropdownAdditionalPaddingUI2--zc-aF",A="multiplayer_view--listBox--9RJ5F",L="multiplayer_view--listBoxNew--z88cs",O="multiplayer_view--chevron--Vn-C1",R="multiplayer_view--ui3SearchContainerNew--brZ7S",M="multiplayer_view--searchContainer--q6zE8",D="multiplayer_view--searchIcon--C9Aoz",P="multiplayer_view--xIconButtonContainerWrapper--wSUus",F="multiplayer_view--xIcon--Oq2hB",B="multiplayer_view--searchInput--f43Gp text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",U="multiplayer_view--withOverflow---4XmW"},515640:(e,t,n)=>{n.d(t,{_:()=>a,k:()=>r});let a="dock--dock--A6jIs",r="dock--dockDesign--kbym5 dock--dock--A6jIs"},874933:(e,t,n)=>{n.d(t,{Cb:()=>r,M4:()=>i,Q$:()=>l,Q0:()=>c,_d:()=>u,iZ:()=>s,k9:()=>o,mT:()=>d,qW:()=>a});let a="inline_preview_device_frames--previewDeviceContainer--fNvYG",r="inline_preview_device_frames--fillGapsBetweenDeviceAndIframe--DuNNK",l="inline_preview_device_frames--hideCornersForOverlyRoundedDevice--Rn1BM",i="inline_preview_device_frames--previewDeviceImage--pSzed",o="inline_preview_device_frames--previewDeviceHeader--KHpCv",s="inline_preview_device_frames--deviceFrameHitTargetSvg--w7930",c="inline_preview_device_frames--rotatedHorizontal--5yjwl",d="inline_preview_device_frames--positionRotatedHorizontalDeviceFrame--mPJzu",u="inline_preview_device_frames--positionRotatedHorizontalDeviceFrameHitTarget--zmylC"},855699:(e,t,n)=>{n.d(t,{CN:()=>s,FO:()=>c,KW:()=>a,VR:()=>l,Wc:()=>r,Xt:()=>u,aq:()=>o,cD:()=>d,dS:()=>i});let a="inline_preview_modal--prototypeModalTitle--Y5Zqk",r="inline_preview_modal--iframeContainer--ylTh5",l="inline_preview_modal--previewIframe--RpUIN",i="inline_preview_modal--disablePointerEvents--sc1Yf",o="inline_preview_modal--previewModal--FO-5S",s="inline_preview_modal--previewModalSlides--0PFWB",c="inline_preview_modal--previewModalHeader--parjV",d="inline_preview_modal--previewFocused--DQTOg",u="inline_preview_modal--previewNotFocused--cr3Ii"},232922:(e,t,n)=>{n.d(t,{AL:()=>k,BI:()=>h,Cu:()=>y,DL:()=>u,FH:()=>S,Fp:()=>l,G7:()=>r,Hl:()=>i,L8:()=>N,LH:()=>v,Lk:()=>A,MO:()=>g,Nn:()=>I,TV:()=>m,UD:()=>_,VQ:()=>C,Vs:()=>f,Xg:()=>O,YM:()=>T,e6:()=>p,ev:()=>w,fJ:()=>R,hv:()=>b,j7:()=>o,ko:()=>c,nP:()=>s,nr:()=>a,tE:()=>L,vO:()=>d,yH:()=>E,zO:()=>x});let a="voice_users--participantRowHideMenuButton--i7IiO",r="voice_users--secondaryMenuIconButtonContainer--aAh8o",l="voice_users--voiceParticipantAvatar--7mhMG",i="voice_users--overflowRow--dyDR2",o="voice_users--nameAndSuffixContainer--GGoKj",s="voice_users--flexContainer--bWLmT",c="voice_users--flexLeftContainer--EVDRS",d="voice_users--flexRightContainer--Su6EL",u="voice_users--voiceParticipantName--MPxav text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m="voice_users--voiceParticipantNameGreyedOut--4zNHd text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="voice_users--participantStatus--cnVtZ",f="voice_users--participantRowNewPadding--b0v2c",g="voice_users--participantRow--D4Yar",h="voice_users--hoverable--tq5aE",E="voice_users--containsCursor--Wx6C4",_="voice_users--showSecondaryDropdownOnHover--AWGE6",y="voice_users--currentUserHeaderRow--Jiv6z",b="voice_users--secondaryActionsMenuButton--2emFq",C="voice_users--secondaryActionsMenuButtonActive--QoLJK",v="voice_users--multiplayerUserView--7nAcD",w="voice_users--voiceUsersWrapper--83FhS",T="voice_users--voiceUsersOverflowScrollingContainer--KXSUW",S="voice_users--userSuffixNew--husrg text--fontPos11--2LvXf text--_fontBase--QdLsd",k="voice_users--voiceUserHeadphonesIcon--wLuPW",I="voice_users--mutedContainer--JL7uZ",N="voice_users--cardButton--xv6Tg",x="voice_users--userSuffixNewShowOnHover--awrl4",A="voice_users--cardRootWithHover--EMdKA text--fontPos11--2LvXf text--_fontBase--QdLsd",L="voice_users--cardRootActive--Jw4N- text--fontPos11--2LvXf text--_fontBase--QdLsd",O="voice_users--secondaryActionsMenuButtonNew--M2k36",R="voice_users--showSecondaryMenuButton--W3cqq"},47263:(e,t,n)=>{n.d(t,{BT:()=>g,CN:()=>d,CY:()=>E,Ct:()=>w,It:()=>o,TJ:()=>p,TN:()=>h,YC:()=>i,Yq:()=>u,_v:()=>l,bb:()=>r,ct:()=>_,gJ:()=>b,jJ:()=>T,qD:()=>v,sf:()=>C,tS:()=>s,vx:()=>a,xE:()=>c,yG:()=>m,z9:()=>f,zR:()=>y});let a="video_controls--loadingFallback--h7m81",r="video_controls--videoLoadingState--4Zns5",l="video_controls--videoControls--Quuxg",i="video_controls--videoControlsHidden--zDCq5",o="video_controls--videoTimeScrubberContainer--eK5J0",s="video_controls--videoTimeScrubber--cTYLR",c="video_controls--videoTimeScrubberBackground--zxzn9",d="video_controls--videoTimeScrubberProgress--HVurL",u="video_controls--videoTimeScrubberNub--wHLOA",m="video_controls--videoRightControls--2bknv",p="video_controls--videoControlButton--JjLnM",f="video_controls--lastVideoControl--n-LwE",g="video_controls--selectedVolumeControlButton--qBhkt",h="video_controls--videoTime--6YDW4",E="video_controls--videoButton--Toro-",_="video_controls--videoButtonHidden--Y-m7r",y="video_controls--videoButtonIcon--jRNW7",b="video_controls--videoButtonMaximizedScale--rBDvP",C="video_controls--volumeBox--zjSGe",v="video_controls--volumeContainer--HySTO",w="video_controls--volumeSliderInput--N2gRT",T="video_controls--croppedClipPath--t83uT"},25542:(e,t,n)=>{n.d(t,{H:()=>a});let a="0.5s"},318798:(e,t,n)=>{n.d(t,{D9:()=>c,Mt:()=>s,RG:()=>i,WW:()=>r,XF:()=>d,nR:()=>o,qA:()=>l});var a=n(752181);let r="agreed_to_cooper_modal",l="cooper_locked_template_insert_event",i="seen_cooper_internal_template_banner",o="seen_cooper_internal_template_creation_banner",s="Copying 3 or more non-instance assets",c="cooper_publish_templates_target_key";function d(){return!!(0,a.f)(r)}},214625:(e,t,n)=>{n.d(t,{AP:()=>A,DG:()=>O,O7:()=>x,QI:()=>L});var a=n(848318),r=n(301168),l=n(469508),i=n(193675);n(82433);var o=n(999667),s=n(359822),c=n(615233),d=n(230618),u=n(967688),m=n(237100),p=n(111962),f=n(453370),g=n(533737),h=n(957872),E=n(506428),_=n(34375),y=n(34542),b=n(539829),C=n(263336),v=n(45937),w=n(566901),T=n(391301),S=n(556049),k=n(136169),I=n(756672),N=n(318798);function x(){let e=(0,N.XF)(),{show:t,isShowing:n,complete:s}=(0,y.e)({overlay:k.SAR,priority:C.N.DEFAULT_MODAL}),p=(0,o.Xr)(m.Tw),_=(0,r.wA)(),v=(0,I.EI)(),T=(0,o.md)(b.LZ),S=()=>{_?.(f.$T({view:"recentsAndSharing"}))};(0,a.useEffect)(()=>{e||(t(),p(!1))},[e,p,t]);let x="dark"===(0,E.DP)();return T||!v?null:a.createElement(w._l,{description:a.createElement("span",{style:{whiteSpace:"pre-line"}},a.createElement("span",null,(0,u.tx)("cooper.onboarding.from_concept_to_creation_design",{learnMoreLink:a.createElement(l.N,{newTab:!0,href:"https://help.figma.com/hc/articles/31271566667543"},(0,u.tx)("cooper.onboarding.learn_more"))}))),disclaimerFooter:a.createElement("span",null,(0,u.tx)("cooper.onboarding.this_beta_is_a_free",{betaTermsLink:a.createElement(l.N,{newTab:!0,href:"https://www.figma.com/product-specific-terms/"},(0,u.tx)("cooper.onboarding.figma_beta_terms"))})),isShowing:n,media:a.createElement(d.oW,{src:(0,c.ck)(x?"e612d68148023be0522bcd3b3251aaa6bb7c716d":"31fcc873278da276aab06196bdcb7e377d28ab6e"),alt:(0,u.t)("cooper.onboarding.welcome.image_alt"),width:332}),onClose:S,preventUserClose:!0,primaryCta:{type:"button",label:(0,u.tx)("cooper.onboarding.welcome.primary_cta"),onClick:()=>{_?.(g.b({[N.WW]:!0})),s(),p(!0)},ctaTrackingDescriptor:h.c.TRY_IT_OUT},secondaryCta:{type:"button",label:(0,u.tx)("cooper.onboarding.welcome.secondary_cta"),onClick:S,ctaTrackingDescriptor:h.c.CLOSE},title:a.createElement("div",{className:"x78zum5 x6s0dn4 x1pulhmw"},(0,u.tx)("cooper.onboarding.meet_figma_buzz"),a.createElement("div",{className:"x78zum5 x2lah0s"},a.createElement(i.E,{variant:"brandOutline",size:"lg"},(0,u.tx)("general.beta")))),trackingContextName:"Slides Onboarding > Welcome"})}function A({hasMappings:e}){let{show:t,isShowing:n,complete:r}=(0,y.e)({overlay:k.jk,priority:C.N.DEFAULT_MODAL}),l=(0,p.yB)(),i=l.length?l[0]:null;return(0,s.h)(()=>{t()}),(0,a.useEffect)(()=>{e&&r()},[e,r]),n&&!i&&r(),a.createElement(T.rq,{arrowPosition:S.F_.RIGHT_BODY,description:(0,u.tx)("cooper.onboarding.simply_select_text_or_an",{connectDataBold:a.createElement("p",{className:"x1xlr1w8"},(0,u.t)("cooper.onboarding.connect_data_bold")),spaceChar:a.createElement(a.Fragment,null,"\xa0")}),isCanvasNode:!0,isShowing:n,media:a.createElement(v.y,{src:(0,c.ck)("3d9047607fffbfc98f0176cecba9d57fad7cac48"),alt:(0,u.t)("cooper.onboarding.bulk_create.image_alt"),aspectRatio:240/135}),onClose:r,onTargetLost:r,primaryCta:{label:(0,u.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:h.c.GOT_IT},shouldDisableAnimation:!0,targetKey:i??"",title:(0,u.tx)("cooper.onboarding.select_a_text_or_image"),trackingContextName:"Slides Onboarding > Bulk Create Callout"})}function L(){let{show:e,isShowing:t,complete:n,uniqueId:r}=(0,y.e)({overlay:k.ODB,priority:C.N.DEFAULT_MODAL}),l=(0,p.yB)(),i=l.length?l[0]:null;return t&&!i&&n(),(0,_.E)(r,N.qA,()=>{e()}),a.createElement(T.rq,{arrowPosition:S.F_.RIGHT_BODY,description:(0,u.tx)("cooper.onboarding.internal_templates_let_you_update",{lineBreak:a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null))}),isCanvasNode:!0,isShowing:t,onClose:n,onTargetLost:n,pointToLeftEdge:!0,pointToTopEdge:!0,primaryCta:{label:(0,u.tx)("general.got_it"),onClick:n,type:"button",ctaTrackingDescriptor:h.c.GOT_IT},shouldDisableAnimation:!0,targetKey:i??"",title:(0,u.tx)("cooper.onboarding.edit_content_unlock_if_needed"),trackingContextName:"Slides Onboarding > Inserted Locked Template"})}function O(){let{show:e,isShowing:t,complete:n,uniqueId:r}=(0,y.e)({overlay:k.QKV,priority:C.N.DEFAULT_MODAL});return(0,_.E)(r,N.Mt,()=>{e()}),a.createElement(T.rq,{arrowPadding:8,description:(0,u.tx)("cooper.onboarding.templates_help_your_team_stay"),isShowing:t,media:a.createElement(v.y,{src:(0,c.ck)("7c5445059896c65ae2098087f34d2f35cc5a8b20"),alt:(0,u.t)("cooper.onboarding.overlay_image_alt"),aspectRatio:240/135}),onClose:n,onTargetLost:n,primaryCta:{label:(0,u.tx)("general.got_it"),onClick:n,type:"button",ctaTrackingDescriptor:h.c.GOT_IT},targetKey:N.D9,title:(0,u.tx)("cooper.onboarding.publish_templates_to_your_team"),trackingContextName:"Slides Onboarding > Publishing Overview"})}},82280:(e,t,n)=>{n.d(t,{h:()=>c});var a=n(186606),r=n(999667),l=n(651273),i=n(616178),o=n(959750),s=n(554326);function c(){let e=(0,o.dP)(),t=(0,s.ut)(a.Ez5?.interopToolMode(),a.nQ7.SELF),n=!(0,s.J2)(a.Ez5.cooperFocusView().isInFocusedNodeView),[c]=(0,r.fp)(i.Lk),d=c===i.x.ASSETS&&n&&t===a.nQ7.SELF,u=t===a.nQ7.DESIGN,m=(0,o.qw)(),p=d?l._:e+l._,f=(0,s.J2)(a.Ez5.uiState().showPropertiesPanel);return{leftOffset:p,rightOffset:u&&f?m:0}}},597452:(e,t,n)=>{n.d(t,{L:()=>r});var a=n(848318);function r(e,t,n){a.useEffect(()=>{let a=a=>{let r=a.target;n&&!r.isConnected||e.current?.contains(r)||t()};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}})}},786775:(e,t,n)=>{n.d(t,{o:()=>B});var a=n(848318),r=n(301168),l=n(186606),i=n(476254),o=n(898700),s=n(212984),c=n(967688),d=n(972402),u=n(696786),m=n(353231),p=n(959750),f=n(859480),g=n(14837),h=n(730143),E=n(244942),_=n(774121),y=n(228845),b=n(834497),C=n(453761),v=n(137098),w=n(412840),T=n(773511),S=n(720522),k=n(133685),I=n(361964),N=n(67188),x=n(303397),A=n(141454),L=n(485558);function O({togglePagesExpanded:e,onPageContextMenu:t,pageTabChevron:n}){let l=(0,r.wA)(),i=(0,r.d4)(e=>e.selectedView),o=(0,I.l7)(),s=(0,f.nn)(),c=(0,f.dh)(),d=(0,a.useCallback)(e=>{(0,N.jo)(e),t({nodeId:c,clientX:e.clientX,clientY:e.clientY})},[t,c]);return a.createElement(L.y,{withBorder:!0},a.createElement(A.Y,{onFocus:()=>{(0,k._$)(l,i,"overview_search_clicked"),x.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!o&&a.createElement(T.E,{className:"ui2_dev_handoff_header_row--toggleButton--LW2BM",onClick:e,htmlAttributes:{onContextMenu:d}},a.createElement("span",{className:"ui2_dev_handoff_header_row--pageTitle--lcNMS ellipsis--ellipsis--Tjyfa"},s||""),a.createElement(S.B,{className:"ui2_dev_handoff_header_row--chevron--wHgKd",svg:n})))}var R=n(90206),M=n(455945),D=n(644216),P=n(364616),F=n(844411);function B(){let e=(0,p.dP)(),t=(0,I.l7)(),n=(0,o.F)(t),T=(0,y.n0)(),S=(0,R.K)(),N=(0,u.GS)(),x=(0,h.tS)(),{height:A,setHeight:L,isOpen:B,setIsOpen:U,devHandoffShowAllPages:G,setDevHandoffShowAllPages:K}=(0,M.d)({defaultIsOpen:T.length>1}),V=(0,o.F)(B);(0,a.useLayoutEffect)(()=>{t&&U(!0)},[t,U]);let H=(0,r.Pj)(),z=a.useCallback(()=>{if(n.current)return;let e=!V.current;(0,m.ds)("pages_panel_open_toggle",x,H.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),U(e)},[x,V,U,n,H]),{pagesToDisplay:W,showAllButton:j}=function({pagesList:e,showAll:t,setShowAll:n}){let r=(0,d._I)(),i=(0,f.dh)();if(!r)return{pagesToDisplay:e};let o=!1,u=e.filter(e=>{let t=l.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(o=!0),t||e.nodeId===i});return o&&u.length!==e.length?t?{pagesToDisplay:e,showAllButton:a.createElement(s.d,{label:(0,c.t)("dev_handoff.pages.hide_other"),onClick:()=>n(!1)})}:{pagesToDisplay:u,showAllButton:a.createElement(s.d,{label:(0,c.t)("dev_handoff.pages.show_all"),onClick:()=>n(!0)})}:{pagesToDisplay:e}}({pagesList:T,showAll:G,setShowAll:K}),Y=B?F.A:P.A,{toggleManageMemoryModal:J,closeManageMemoryModal:q}=(0,_.P)({sidebarWidth:e}),X=!!N||B,Z=!(0,g.T)(),Q=b.uF+72+32,$=(0,y._4)(),ee=(0,r.wA)(),et=(0,a.useCallback)(()=>{(0,k._$)(ee,i.D.getState().selectedView,"overview_search_clicked"),$()},[ee,$]);return a.createElement(C.A,{isFullHeight:!1},!N&&a.createElement(O,{togglePagesExpanded:z,onPageContextMenu:S,pageTabChevron:Y}),a.createElement(D.$,null),x&&a.createElement(E.QU,{fileKey:x,toggleManageMemoryModal:J,closeManageMemoryModal:q}),X&&a.createElement(w.R,{extraControls:j,filterState:G?v.m.ALL:v.m.FILTERED,height:A,isOpen:B,isReadOnly:!0,onCanvasSearch:et,onHeightChange:L,onPageContextMenu:S,onToggle:z,pages:W,panelHeadersHeight:Q,shouldHighlightActivePage:!t,showHeader:Z}))}},301360:(e,t,n)=>{n.d(t,{$:()=>N,A:()=>L});var a=n(848318),r=n(413927),l=n(186606),i=n(768618),o=n(999667),s=n(989232),c=n(615233),d=n(178806),u=n(967688),m=n(740495),p=n(957872),f=n(34375),g=n(34542),h=n(338104),E=n(15105),_=n(531288),y=n(601167),b=n(263336),C=n(556049),v=n(593713),w=n(67391),T=n(136169),S=n(555637),k=n(722541);let I=(0,c.ck)("bfb358109ac5994e69048d8390d3a0c334253aa8"),N="rfd-upsell-page-title";function x({nodeToHighlight:e,complete:t}){let[n,l]=a.useState(null),i=a.useRef(null),o=(0,y._X)({subscribeToUpdates_expensive:!0}),s=a.useCallback(()=>{i.current&&l(i.current.absoluteBounds.height*o.zoomScale)},[o.zoomScale]);return a.useEffect(()=>{if(!e){l(null);return}let t=`dev-page-change-upsell-${e}`,n=(0,_.EE)(t,[e],e=>{i.current=e.position,s()});return i.current=n.currentNodePosition[e]?.position||null,s(),()=>{(0,_.lB)(t)}},[e,s]),a.createElement(v.NJ,{arrowPosition:C.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:k.R3,closeButtonClassName:k.b,dismissModal:t,hideIfArrowPositionDoesNotMatch:!0,hideIfTargetLost:!0,isCanvasNode:!0,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:e,topOffset:n?-n/2-15:0,width:240},a.createElement("div",{className:k.Xq},(0,u.t)("dev_handoff.rfd_signals_upsell.mark_as_ready")),a.createElement("div",{className:k.O6},a.createElement("div",{className:k.zu},(0,u.t)("dev_handoff.rfd_signals_upsell.description"))),a.createElement("div",{className:k.JP},a.createElement(r.v,{mode:"dev-handoff"},a.createElement(d.$z,{trackingProperties:{trackingDescriptor:p.c.MARK_READY_FOR_DEV},variant:"primary",onClick:function(){e&&(t(),h.z4.setNodesReady(!0,[e],"dev-node-change-upsell",null))}},(0,u.t)("dev_handoff.rfd_signals_upsell.mark_ready_for_dev")))))}function A(e){s.definedAnalyticsHandler.trackDefinedEvent("activation.rfd_signal_upsell.disqualification_reason",{reason:e,upsellSubject:"page"})}function L(){let[e,t]=a.useState("show_page_tooltip"),[n,s]=a.useState(null),[c,h]=(0,o.fp)(S.hj),_=(0,o.Xr)(S.d1),L=(0,o.md)(S.Sp),O=(0,o.Xr)(S.Sp),R=(0,E.Z)("dev-handoff-rfd-signals-page-upsell"),M=(0,m.cR)(),{show:D,complete:P,uniqueId:F,isShowing:B}=(0,g.e)({overlay:T.ZNl,priority:b.N.HIGH_PRIORITY_MODAL,experiment:{check:M,predicate:e=>e,postCheck:()=>!0}});async function U(){c&&n&&l.Egt&&(await (0,i.UN)().setCurrentPageAsync(n),l.Egt.replaceSelection([c],!0),await R(await (0,y.QZ)({nodeId:c,alwaysPan:!0}),{alwaysNavToSimilarViewport:!0}),t("show_node_tooltip"))}return(a.useEffect(()=>{_({fn:P})},[P,_]),(0,f.E)(F,["page_name_changed_with_rfd_indicator"],e=>{if(!e.properties.pageId){A("no_page_id");return}if(L){A("already_seen_upsell_this_session");return}let t=(0,i.UN)().get(e.properties.pageId);if(!t){A("page_not_found");return}let n=function(e){let t=null,n=0,a=new Set;return function e(r){if(!a.has(r.guid)){if("FRAME"===r.type&&r.childCount>n&&r.canHaveStatus){let e=function e(t){let n=0;if(t.childCount>0)for(let a of t.childrenNodes)n+=1+e(a);return a.add(t.guid),n}(r);e>n&&(n=e,t=r)}r.childCount>0&&r.childrenNodes?.forEach(e)}}(e),t}(t);if(!n){A("no_upsell_frame_for_page");return}s(e.properties.pageId),h(n.guid),D({onShow:()=>O(!0)})}),B)?"show_page_tooltip"===e?a.createElement(v.NJ,{arrowPosition:C.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:k.R3,closeButtonClassName:k.b,dismissModal:P,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:N,width:240},a.createElement("div",{className:k.Rg},(0,u.t)("dev_handoff.rfd_signals_upsell.title")),a.createElement("div",{className:k.O6},a.createElement("div",{className:k.j},a.createElement(w.GV,{src:I,width:240})),a.createElement("div",{className:k.zu},(0,u.t)("dev_handoff.rfd_signals_upsell.page_upsell.description"))),a.createElement("div",{className:k.JP},a.createElement(r.v,{mode:"dev-handoff"},a.createElement(d.$z,{trackingProperties:{trackingDescriptor:p.c.SHOW_ME_HOW},variant:"primary",onClick:U},(0,u.t)("dev_handoff.rfd_signals_upsell.page_upsell.show_me_how"))))):c?a.createElement(x,{nodeToHighlight:c,complete:P}):null:null}},368575:(e,t,n)=>{n.d(t,{M3:()=>v,kv:()=>b,xY:()=>C});var a=n(848318),r=n(301168),l=n(999667),i=n(142917),o=n(989232),s=n(315933),c=n(996202),d=n(269781),u=n(324762),m=n(304859),p=n(31898),f=n(355755),g=n(730143),h=n(125761),E=n(897713),_=n(21614),y=n(955730);function b(e){let t=(0,_.Vr)(),n=(0,u.mJ)(e),{singleBackingSymbol:l}=(0,y.$)([e??""]),i=(0,r.wA)();return a.useCallback(()=>{n&&l&&(s.sn.reset("dev_handoff.view_history",n.guid),s.sn.start("dev_handoff.view_history",{key:n.guid}),(0,o.trackEvent)("Diff Modal Compare Changes Clicked",{nodeId:n.guid,mainComponentNodeId:l.guid,origin:"cc_overrides"}),i(p.to({type:E.ku,data:{changeNodeId:n.guid,basisNodeId:l.guid,initialSelectedNodeId:t?.guid&&t?.guid!==n.guid?t.guid:void 0,isComparingOverrides:!0}})))},[i,t,n,l])}function C(e){let t=(0,d.wS)(),n=(0,u.uQ)(),l=(0,r.wA)(),i=(0,c.U)();return a.useCallback(()=>{n&&"loaded"===t.status&&(i("Diff Modal Compare Changes Clicked",{nodeId:n,origin:"cc_detached_component"}),s.sn.reset("dev_handoff.view_history",n),s.sn.start("dev_handoff.view_history",{key:n}),l(p.to({type:E.jo,data:{nodeId:n,detachedInfoStatus:t,origin:e}})))},[n,t,i,l,e])}function v(e,t){let n=h.iZ()?.id,c=_.Vr()?.name.trim(),d=(0,g.tS)(),u=(0,r.wA)(),y=(0,l.md)(m.d),b=(0,f.eY)();return a.useCallback(()=>{if(s.sn.reset("dev_handoff.view_history",e||void 0),s.sn.start("dev_handoff.view_history",{key:e||void 0}),(0,o.trackEvent)("Diff Modal Compare Changes Clicked",{userId:n,fileKey:d,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,i.BJ)(b,e,!0);if(t){let n=t.lastEditedAt;y[e]=new Date(n),l.zl.set(m.d,{...y})}}u(p.to({type:E.EH,data:{nodeId:e,layerName:c}}))},[t,u,d,e,c,b,y,n])}},304859:(e,t,n)=>{n.d(t,{d:()=>a});let a=(0,n(999667).eU)({})},229731:(e,t,n)=>{n.d(t,{f:()=>v});var a=n(848318),r=n(773511),l=n(720522),i=n(967688),o=n(730143),s=n(633468),c=n(422232),d=n(301168),u=n(597452),m=n(786775),p=n(17753),f=n(65963);let g="vscode_extension_page_picker--pagePickerButtonContent--JXaX-";var h=n(344432),E=n(391812),_=n(769773);function y(){return a.createElement("div",{className:"vscode_extension_page_picker--floatingContainer--HgY6-"},a.createElement(m.o,null))}function b({additionalPages:e,onClickAdditionalPage:t,selectedAdditionalPageId:n,isOnReadyForDevPage:r}){let[o,s]=a.useState(!1),c=a.useRef(null),m=(0,d.d4)(e=>e.mirror.appModel.pagesList),b=(0,d.d4)(e=>e.mirror.appModel.currentPage),C=m.find(e=>e.nodeId===b);return((0,u.L)(c,()=>{o&&s(!1)}),m)?a.createElement("div",{className:"vscode_extension_page_picker--pagePicker--AFcyx",ref:c},a.createElement("button",{className:"vscode_extension_page_picker--pagePickerButton--xunuS",onClick:()=>s(!o),"data-tooltip":(0,i.t)("dev_handoff.pages_list"),"data-tooltip-type":p.Ib.TEXT},r?a.createElement(a.Fragment,null,a.createElement(l.B,{className:"vscode_extension_page_picker--readyIcon--MjlB1",svg:h.A}),a.createElement("span",{className:g},(0,i.t)("dev_handoff.workflows.overview.title"))):a.createElement(a.Fragment,null,a.createElement(f.v,{pageGuid:b,margin:"marginRight",fallback:a.createElement(l.B,{svg:E.A,className:"vscode_extension_page_picker--pagePickerIcon--miPBV"})}),a.createElement("span",{className:g},C?.name||"")),a.createElement(l.B,{svg:_.A,className:"vscode_extension_page_picker--pagePickerButtonChevron--MpjMi"})),o&&a.createElement(y,null)):null}var C=n(322086);function v({children:e,isOnReadyForDevPage:t}){let n=(0,o.tS)(),d=a.useCallback(()=>{let e=(0,s.jN)({file:{key:n},isDevHandoff:!0});(0,c.Qn)(e)},[n]);return a.createElement("div",{className:"vscode_extension_header--vscodeExtensionHeader--1-R98"},a.createElement(b,{isOnReadyForDevPage:t}),a.createElement("div",{className:"vscode_extension_header--children--sHtI3"},a.createElement(r.E,{onClick:d,"aria-label":(0,i.t)("dev_handoff.overview_mode.open_in_figma"),className:"vscode_extension_header--focusVisible--NjfH0"},a.createElement("div",{className:"vscode_extension_header--openFigmaText--e2tMf"},(0,i.t)("dev_handoff.overview_mode.open_in_figma"),a.createElement(l.B,{svg:C.A,className:"vscode_extension_header--openFigmaSVG--02Jd3"}))),e))}},870792:(e,t,n)=>{n.d(t,{c:()=>w,v:()=>v});var a=n(848318),r=n(954703),l=n(218742),i=n(232167),o=n(536384),s=n.n(o),c=n(401970),d=n(967688),u=n(972402),m=n(885683),p=n(338104),f=n(614092),g=n(17753);let h="complete_button--completeButton--OC0XP",E="complete_button--disabled--jWBRb",_="complete_button--completedIcon--Op6qF",y="complete_button--disabledIcon--n9m3s";var b=n(325876),C=n(214487);function v({nodeId:e,sourceForLogging:t,isMinimal:n}){let r=(0,f.g0)(e);return a.createElement(w,{node:r,sourceForLogging:t,isMinimal:n})}function w({node:e,sourceForLogging:t,onboardingKey:n,isMinimal:o}){let f=(0,m.D)(),v=(0,u._I)(),w=(0,u.xo)(),T=f&&v&&!w;if(!e)return null;let S=()=>{T&&p.z4.setNodesCompleted([e.guid],`${t}-complete-button`)},k=()=>{T&&p.z4.setNodesReady(!0,[e.guid],`${t}-complete-button`,null)},I=!T;return e.hasReadyStatus?o?a.createElement(r.K,{onClick:S,disabled:I,"aria-label":(0,d.t)("dev_handoff.status.mark_as_completed"),htmlAttributes:{"data-tooltip":T?(0,d.t)("dev_handoff.status.mark_as_completed"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":g.Ib.TEXT}},a.createElement(l.W,null)):a.createElement("button",{className:s()(h,{[E]:!T}),onClick:S,disabled:I,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":T?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":n},a.createElement(c.U,{svg:b.A,className:s()(_,{[y]:!T})},a.createElement(l.W,{className:s()({[y]:!T})})),(0,d.tx)("dev_handoff.status.mark_completed")):e.hasCompletedStatus?o?a.createElement(r.K,{onClick:k,disabled:I,"aria-label":(0,d.t)("dev_handoff.status.mark_as_ready"),htmlAttributes:{"data-tooltip":T?(0,d.t)("dev_handoff.status.mark_as_ready"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":g.Ib.TEXT}},a.createElement(i.g,null)):a.createElement("button",{className:s()(h,{[E]:!T}),onClick:k,disabled:I,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":T?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":n},a.createElement(c.U,{svg:C.A,className:s()(_,{[y]:!T})},a.createElement(i.g,{className:s()({[y]:!T})})),(0,d.tx)("dev_handoff.status.completed")):a.createElement("button",{className:s()(h,E),disabled:!0,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":(0,d.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),"data-tooltip-text-left":!0,"data-onboarding-key":n},a.createElement(c.U,{svg:b.A,className:s()(_,y)},a.createElement(l.W,{className:y})),(0,d.tx)("dev_handoff.status.mark_completed"))}},644216:(e,t,n)=>{n.d(t,{s:()=>F,$:()=>B});var a=n(848318),r=n(301168),l=n(999667),i=n(536384),o=n.n(i),s=n(979890),c=n(129170),d=n(720522),u=n(297638),m=n(967688),p=n(972402),f=n(467138),g=n(359822),h=n(361964),E=n(957872),_=n(34542),y=n(263336),b=n(43258),C=n(698429),v=n(391301),w=n(556049),T=n(136169);function S(){let e=(0,C.ks)(),t=(0,h.l7)(),n=(0,r.wA)(),i=(0,l.md)(f.d),o=(0,l.md)(f.cR),s=l.md(f.hv)?.data,{show:c,isShowing:d,complete:u}=(0,_.e)({overlay:T.xjb,priority:y.N.DEFAULT_MODAL});(0,g.h)(()=>{t&&!s&&(0,b.nT)(n),!t&&!s&&(i||o)&&c()});let p={label:(0,m.tx)("dev_handoff.workflows.overview.onboarding.primary_cta"),type:"button",onClick:u,ctaTrackingDescriptor:E.c.GOT_IT},S={label:(0,m.tx)("dev_handoff.workflows.overview.onboarding.secondary_cta"),type:"link",href:"https://help.figma.com/hc/articles/23918228264855",ctaTrackingDescriptor:E.c.LEARN_MORE};return a.createElement(v.rq,{arrowPosition:w.F_.LEFT_TITLE,description:i?(0,m.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.description"):e?(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.dev_mode.description"):(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.design.description"),disableHighlight:!0,isShowing:d,onClose:u,primaryCta:p,secondaryCta:S,targetKey:b.o5,title:i?(0,m.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.title"):(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.title"),trackingContextName:"Dev Mode Overview Onboarding"})}var k=n(453370),I=n(142896),N=n(995218),x=n(696786),A=n(839255),L=n(656320),O=n(17753),R=n(837988),M=n(485558);let D="overview_entry--isSelected--E6mSl";var P=n(344432);function F({count:e,isInTab:t,isActive:n}){return a.createElement(c.Ex,{className:o()("overview_entry--countBadge---5UQw",t&&"overview_entry--isInTab--J7wAV",n&&u.s.colorText.$),text:`${e}`,size:c.vj.SMALL,color:c.zE.DEFAULT,subtle:!0})}function B(){let e=(0,h.X0)(),t=!(0,p.U4)(),n=(0,r.wA)(),i=(0,h.U0)(),c=(0,r.d4)(e=>t?void 0:(0,L.Np)(e,i)),u=(0,h.l7)(),g=(0,h.ZI)(),E=l.md(f.hv)?.data,[_,y]=(0,l.fp)(f.cR),C=(0,p.xo)(),v=(0,l.md)(f.d),w=(0,N.ow)(),T=(0,x.GS)(),B=(0,A.n)(),U=(0,h.Xd)(),G=(0,a.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),t)return;let{clientX:a,clientY:r}=e;n((0,k.j7)({type:I.bx,data:{clientX:a,clientY:r}}))},[t,n]);return!e||w?null:0===g?null:(u||E||_||v||y(!0),a.createElement(M.y,{autoHeight:T,withBorder:!0},a.createElement(s.lt,{className:o()("overview_entry--entryRow--l-Ofr",u&&D,t&&"overview_entry--isDisabled--OAHeM"),onClick:function(e){e.preventDefault(),U()},onContextMenu:G,href:c,"data-tooltip-type":O.Ib.TEXT,"data-tooltip":t?(0,m.t)("dev_handoff.paywall.org_not_member_hint"):void 0,"data-tooltip-text-left":!0,recordingKey:"dev_handoff.workflows.overview_entry"},a.createElement("div",{className:o()("overview_entry--entryRowInner--fPECV",u&&D)},a.createElement("div",{className:"overview_entry--leftSide--0zNy- text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(d.B,{className:"overview_entry--readyIcon--QwDeG",svg:P.A}),(0,m.tx)("dev_handoff.workflows.overview.title")),a.createElement("div",{"data-onboarding-key":b.o5},a.createElement(F,{count:g})))),!C&&!B&&a.createElement(R.p,null,a.createElement(S,null))))}},982659:(e,t,n)=>{n.d(t,{QV:()=>s,YA:()=>o,n9:()=>i});var a=n(999667),r=n(647029);let l=(0,a.E2)("workflows_recently_viewed",{},r.z.record(r.z.string(),r.z.record(r.z.string(),r.z.number())));function i(e){let[t]=(0,a.fp)(l);return e?t[e]:null}function o(e,t){return(t.lastViewedTimestamp??0)-(e.lastViewedTimestamp??0)}function s(){let[e,t]=(0,a.fp)(l);return(n,a)=>{let r=Date.now();t({...e,[n]:{...e[n],[a]:r}})}}},797688:(e,t,n)=>{n.d(t,{zU:()=>T,FQ:()=>S,LO:()=>w,Oo:()=>v});var a,r=n(848318),l=n(301168),i=n(658839),o=n(940807),s=n(999667),c=n(127974),d=n(410441),u=n(753269),m=n(376852);function p(e,t,n,a){let r=[f(e,t,n),f(e,t,a),f(n,a,e),f(n,a,t)];return r[0]!==r[1]&&r[2]!==r[3]||r.every(e=>"COLLINEAR"===e)&&g(e.x,t.x,n.x,a.x)&&g(e.y,t.y,n.y,a.y)}function f(e,t,n){let a=(t.y-e.y)*(n.x-t.x)-(n.y-t.y)*(t.x-e.x);return 0===a?"COLLINEAR":a>0?"CLOCKWISE":"COUNTERCLOCKWISE"}function g(e,t,n,a){let r=Math.min(e,t),l=Math.max(e,t),i=Math.min(n,a);return r<=Math.max(n,a)&&l>=i}!function(e){e.CLOCKWISE="CLOCKWISE",e.COUNTERCLOCKWISE="COUNTERCLOCKWISE",e.COLLINEAR="COLLINEAR"}(a||(a={}));var h=n(269466),E=(e=>(e.TOP="TOP",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.UNKNOWN="UNKNONWN",e))(E||{}),_=(e=>(e.TOP_LEFT="TOP_LEFT",e.TOP="TOP",e.TOP_RIGHT="TOP_RIGHT",e.RIGHT="RIGHT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM="BOTTOM",e.BOTTOM_LEFT="BOTTOM_LEFT",e.LEFT="LEFT",e.OVERLAP="OVERLAP",e))(_||{}),y=n(959750);n(554326);var b=n(696786),C=n(786175);function v(){return(0,s.md)(u.uc)}function w(){let e=(0,b.GS)(),t=(0,l.d4)(({mirror:{appModel:e}})=>e.showUi),n=0;return(0,y.lK)()&&t&&(n+=e?(0,d.jz)(C.ui3RulerMargin):(0,d.jz)(C.rulerThickness)),(0,r.useMemo)(()=>({left:n,right:0}),[n,0])}let T=20;function S(e,t=T){let n=function(e,t){let[n,a]=(0,r.useState)([]),l=(0,i.PU)(),s=(0,c.wm)(()=>t?l.filter(e=>e!==t&&!e.contains(t)&&!t.contains(e)):l,[l,t]),d=(0,r.useCallback)(t=>{a(t.map(t=>{let{x:n,y:a,width:r,height:l}=t.getBoundingClientRect();return 0===r||0===l?o.r.fromOriginAndSize(n,a,r,l):k(n,a,r,l,e)}))},[a,e]);(0,r.useLayoutEffect)(()=>{d(s)},[d,s]),(0,r.useLayoutEffect)(()=>{let e=()=>{d(s)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[d,s]);let u=(0,r.useCallback)(t=>{let n=t.map(t=>{let n=s.findIndex(e=>e===t.target);if(-1!==n){let{x:a,y:r,width:l,height:i}=t.target.getBoundingClientRect();return[n,0===l||0===i?o.r.fromOriginAndSize(a,r,l,i):k(a,r,l,i,e)]}}).filter(e=>!!e);a(e=>{let t=[...e];return n.forEach(([e,n])=>{t[e]=n}),t})},[s,e]);return(0,r.useLayoutEffect)(()=>{let e=new ResizeObserver(u);return s.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[s,u]),(0,r.useLayoutEffect)(()=>{if(!("IntersectionObserver"in window))return()=>{};let e=new IntersectionObserver(e=>{u(e)},{root:null,rootMargin:"0px",threshold:1});return s.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[s,u]),(0,r.useMemo)(()=>n.filter(e=>!e.isEmpty()),[n])}(t,e.current??void 0);return(0,r.useCallback)((e,a,r)=>(function(e,t,n,a){let r=function(e,t){if(t.containsIncludingBoundary(e))return e;let n=e.width()<=t.width()?(0,m.qE)(e.left(),t.left(),t.right()-e.width()):e.left(),a=e.height()<=t.height()?(0,m.qE)(e.top(),t.top(),t.bottom()-e.height()):e.top();return new o.r(new h.M(n,a),e.size)}(e,t),l=(()=>{if(a)return a;let n=o.r.fromCenterSize(t.center(),e.size);return[n.left(),n.top()]})();return[...n,...n].reduce((e,t)=>e.hasIntersectionWith(t)?function({target:e,obstacle:t,targetPreviousXY:n}){let[a,r]=n,l=new o.r(new h.M(a,r),e.size);switch(function(e,t,n){switch(function(e,t){let n=e.right()<=t.left(),a=e.left()>=t.right(),r=e.bottom()<=t.top(),l=e.top()>=t.bottom();if(n&&r)return"TOP_LEFT";if(a&&r)return"TOP_RIGHT";if(a&&l)return"BOTTOM_RIGHT";if(n&&l)return"BOTTOM_LEFT";if(r)return"TOP";if(a)return"RIGHT";if(l)return"BOTTOM";else if(n)return"LEFT";else return"OVERLAP"}(t,n)){case"TOP":return"TOP";case"RIGHT":return"RIGHT";case"BOTTOM":return"BOTTOM";case"LEFT":return"LEFT";case"TOP_LEFT":return p(t.bottomRight(),e.bottomRight(),n.topLeft(),n.topRight())?"TOP":"LEFT";case"TOP_RIGHT":return p(t.bottomLeft(),e.bottomLeft(),n.topLeft(),n.topRight())?"TOP":"RIGHT";case"BOTTOM_RIGHT":return p(t.topLeft(),e.topLeft(),n.bottomLeft(),n.bottomRight())?"BOTTOM":"RIGHT";case"BOTTOM_LEFT":return p(t.topRight(),e.topRight(),n.bottomLeft(),n.bottomRight())?"BOTTOM":"LEFT";default:return"UNKNONWN"}}(e,l,t)){case"TOP":return new o.r(new h.M(e.left(),t.top()-e.height()),e.size);case"BOTTOM":return new o.r(new h.M(e.left(),t.bottom()),e.size);case"LEFT":return new o.r(new h.M(t.left()-e.width(),e.top()),e.size);case"RIGHT":return new o.r(new h.M(t.right(),e.top()),e.size);default:return e}}({target:e,obstacle:t,targetPreviousXY:l}):e,r)})(e,a.expand(-t),n,r),[n,t])}function k(e,t,n,a,r){return o.r.fromOriginAndSize(e-r,t-r,n+2*r,a+2*r)}},474248:(e,t,n)=>{n.d(t,{d:()=>d});var a=n(410441),r=n(186112),l=n(82280),i=n(858160),o=n(959750),s=n(228845),c=n(27776);function d(){let e=(0,o.qw)(),{isPropertiesPanelCollapsed:t}=(0,i.iT)(),n=(0,s.Ye)(),d=(0,o.dP)(),u=(0,o.Bv)(),m=(n?0:d)+((0,o.lK)()?(0,a.jz)(c.T_r):0)+u,p=(0,r.ge)(),{leftOffset:f,rightOffset:g}=(0,l.h)();return p?[f,g]:[m,t?0:e]}},542510:(e,t,n)=>{n.d(t,{h:()=>m});var a=n(848318),r=n(301168),l=n(212885),i=n(481406),o=n(652576),s=n(180294),c=n(138528),d=n(897198),u=n(20687);function m(e){let t=(0,s.dq)(),n=(0,c.u3)({migrationGroup:d.L.GROUP_12,component:"useOrgPrivateExtensions"}),m=(0,o.cW)(),p=(0,o.ZT)(),f="plugin"===e?m:p,g=(0,r.wA)(),h=(0,i.Cb)(),E=(0,u.K$)(),_="plugin"===e?l.Xt:l.gI;return a.useEffect(()=>{n&&!h&&g(_())},[g,n,h,_]),(0,a.useMemo)(()=>{if(!n||h)return[];let e=(0,u.Qt)((0,u.i8)(Object.values(f)),t||"");return E&&(e=(0,u._w)(e,E)),Object.values(e).map(e=>(0,u.uF)(e))},[E,h,n,f,t])}},572282:(e,t,n)=>{n.d(t,{a:()=>i});var a=n(301168),r=n(831271),l=n(696786);function i(){let e=(0,l.GS)(),t=(0,a.d4)(e=>e.mirror?.appModel.showUi),n=(0,r.q)();return e&&t&&n}},552637:(e,t,n)=>{n.d(t,{f:()=>V});var a=n(6406),r=n(186606),l=n(320953),i=n(195124),o=n(768618),s=n(580494),c=n(206639),d=n(594680),u=n(810503),m=n(51624),p=n(17698),f=n(261357),g=n(864277),h=n(996115),E=n(486879),_=n(902649),y=n(763467),b=n(861868),C=n(989232),v=n(468415),w=n(409893),T=n(708692),S=n(45453),k=n(29830);function I(e,t,n){let a=r.XJn.getCustomizableVariableName(n.guid,e);if(!a)return;let l=(0,k.tm)(a);if(l)return t[l]}let N={bottomLeftRadius:"rectangleBottomLeftCornerRadius",bottomRightRadius:"rectangleBottomRightCornerRadius",topLeftRadius:"rectangleTopLeftCornerRadius",topRightRadius:"rectangleTopRightCornerRadius"};function x(e,t){l.l7.ai("first-draft-override-radius",()=>{e.setBoundVariable(t,null)})}let A={itemSpacing:"stackSpacing",paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"};function L(e,t){l.l7.ai("first-draft-override-spacing",()=>{e.setBoundVariable(t,null)})}function O(e){l.l7.ai("first-draft-set-font-name",()=>{e.setRangeBoundVariable(0,e.characters.length,"fontFamily",null),e.setRangeBoundVariable(0,e.characters.length,"fontStyle",null),e.setRangeBoundVariable(0,e.characters.length,"fontWeight",null)})}async function R(e,t,n){let a=r.XJn.inheritedTextStyleGuid(e.guid);if(null===a){O(e);return}let i=(0,o.UN)().get(a);if(!i||!n||!n.variableMaps?.fontVariableMap){O(e);return}if(!("fontFamily"in i.boundVariablesForStyle))return;let s=i.boundVariablesForStyle.fontFamily,c=function(e,t,n){let a=r.XJn.getCustomizableVariableName(t.guid,e);if(!a)return null;let l=(0,k.tm)(a);return l?n[l]??null:null}(s.id,e,n.variableMaps.fontVariableMap);if(!c){O(e);return}try{await (0,b.uW)(c.fontName),l.l7.ai("first-draft-set-font-name",()=>{e.fontName=c.fontName,c.letterSpacing&&(e.letterSpacing=c.letterSpacing)}),t[s.id]=c.fontName.family}catch(n){O(e);let t=void 0===n?"undefined":n instanceof Error?n.message:JSON.stringify(n);C.definedAnalyticsHandler.trackDefinedEvent("ai_generation.first_draft_font_error",{error:t,family:c.fontName.family,style:c.fontName.style,location:"override-variables"})}}async function M(e){await Promise.all(e.node.childrenNodes.map(t=>D({...e,node:t}))),(0,T.V5)(e.node)}async function D(e){var t;let{node:n,variableOverrideMap:a,theme:i,colorOptions:o}=e;!function(e,t){if("HORIZONTAL"===e.stackMode||"VERTICAL"===e.stackMode)for(let[n,a]of Object.entries(A)){let r=e.boundVariables&&e.boundVariables[n];if(!r)continue;if(!t||!t.variableMaps){L(e,n);continue}let i=I(r.id,t.variableMaps.numberVariableMap,e)??void 0;if(void 0===i){L(e,n);continue}l.l7.ai("first-draft-override-spacing",()=>{let t=e[a],n=(0,w.o$)(t);e[a]=(0,w.nV)({value:t,rangeSize:n},i,1)})}}(n,i),function(e,t,n){if(e.boundVariables)for(let[a,r]of Object.entries(N)){let i=e.boundVariables&&e.boundVariables[a];if(!i)continue;if(!n||!n.variableMaps){x(e,a);continue}let o=I(i.id,n.variableMaps.numberVariableMap,e)??void 0;if(void 0===o){x(e,a);continue}l.l7.ai("first-draft-override-radius",()=>{let n=(0,w.UO)(e,e[r],o,1);e[r]=n,t[i.id]=n})}}(n,a,i),"TEXT"===n.type&&await R(n,a,i);let s=n.fills.some(e=>"IMAGE"===e.type),c=!s&&o.modeChanged;if(t={node:n,getNewColor:(e,t)=>{let a=t.varId&&i?function(e,t,n){if(!t.variableMaps)return;let a=r.XJn.getCustomizableVariableName(n.guid,e);if(!a)return;let l=(0,k.tm)(a);if(l)return t.variableMaps.colorVariableMap[l]}(t.varId,i,n):void 0;return(0,y.Jv)(e,{...t,brandColor:a})},variableOverrideMap:a,options:{...o,modeChanged:c,role:(0,_.Dk)(n)}},l.l7.ai("first-draft-override-paints",()=>{(0,y.oR)(t)}),n.childCount){let e=(0,y.gU)(n.fills,s?void 0:o.parentFillColor);await M({node:n,variableOverrideMap:a,theme:i,colorOptions:{...o,modeChanged:c,parentFillColor:e}})}}async function P(e,t,n){await D({node:e,variableOverrideMap:t,theme:n,colorOptions:{mode:n&&n.darkMode?_.lH.DARK:_.lH.LIGHT,modeChanged:!!n?.darkMode}})}async function F(e){for(let t of(0,v._F)(e,["INSTANCE","FRAME"],{sharedPluginData:{namespace:"jsx",keys:["theme"]}})){(0,g.xF)(t.guid);let e=t.getSharedPluginData("jsx","theme");if(e)try{let n=JSON.parse(e),a=(0,S.Vx)(n);await P(t,{},a)}catch(t){(0,u.x1)("First Draft theming","Failed to parse theme",{themeStr:e,e:t})}}}var B=n(818543);async function U(e,t,n){let r=(0,f.D)({enableNativeJsx:!0});r.skipInvisibleInstanceChildren=!0;let l=(0,o.UN)(),i=null;if((0,s.k)().first_draft_share_jsx){let r=await (0,a._1)(e,n,{showUnhandled:!!(0,s.k)().first_draft_debug,headless:!1});if(!(i=r.node))throw Error("Could not find new node");t&&(t.trackComponentLookupSuccess(r.stats?.componentLookupSuccesses??0),t.trackComponentLookupFailure(r.stats?.componentLookupFailures??0))}else{let t=await r.createNodeFromJSXAsync(e);i=l.get(t.id)}return i.localOpacity=0,i}async function G(e,t,n){let a=(0,B.uP)(e,{ignoreOpacity:!0}),r=(0,B.rO)(e,a);l.l7.ai("first-draft-override-paints",()=>{let n=t.darkMode?_.lH.DARK:_.lH.LIGHT;n!==(0,E.P)(e)&&(0,E.t)(e,n);let a=(0,c.tK)(t.brandColor);if(a){let t=(0,y.gU)(e.fills);t&&e.childrenNodes.forEach(e=>{(0,h.l9)(e,a,n,{},"",t)})}}),l.l7.ai("first-draft-remove-fill",()=>{e.fills=[]}),await (0,B.jR)(e,(0,B.k5)({fontFamilies:r.fontFamilies},{fontFamilies:t.fontFamilies}),n)}async function K(e,t,n){let a={};for(let r of e){if(l.l7.ai("first-draft-set-plugin-data",()=>{if(n.frameName&&r.name!==n.frameName&&(r.name=n.frameName),t&&r.setSharedPluginData(m.SV,"jsx",t),n.theme&&r.setSharedPluginData(m.SV,"theme",JSON.stringify(n.theme)),n.sharedPluginData)for(let[e,t]of Object.entries(n.sharedPluginData))r.setSharedPluginData(m.SV,e,t)}),n.addWireframeBorder&&l.l7.ai("first-draft-set-wireframe-border",()=>{(0,g._Y)(r)}),(0,g.jZ)(r,n.dsKitKey,n.clientLifecycleId),n.directGeneration&&(0,s.k)().first_draft_direct_gen_layout_heuristics?(0,g.WY)(r):n.autoFillParent&&r&&(0,g.tG)(r),await P(r,a,n.theme),n.themeProperties){if(!n.deviceType)throw Error("deviceType must be provided if themeProperties is provided");await G(r,n.themeProperties,n.deviceType)}n.isEval&&await F(r),(0,g.Zu)(r)}return{themeOverrideMap:a}}async function V({jsxStr:e,jsxElement:t,prevExpandedJsx:n,customJsxElementRegistry:c,options:m},h){let E=(0,o.UN)(),_=(0,f.D)({enableNativeJsx:!0});if(_.skipInvisibleInstanceChildren=!0,!m.prevNodeId){let n=await U(t,h,c.getShareJsxComponentInfoByJSXName());if(!n)throw Error("Could not find new node");l.l7.ai("first-draft-insert-jsx",()=>{if(m.parentNodeId){let e=E.get(m.parentNodeId);if(!e)throw(0,u.x1)("first-draft","Could not find parent node with parentNodeId",{parentNodeId:m.parentNodeId}),Error("Could not find parent node with parentNodeId");let t=[n];for(let n of(t.reverse(),t))m.insertAtIndex?m.insertAtIndex===e.childCount?e.appendChild(n):e.insertChild(n,m.insertAtIndex):e.appendChild(n)}}),n.materializeDescendants();let a=await K([n],e,m);return await (0,g.U_)(n,m),n.removeLocalOpacity(),{insertNodeIds:[n.guid],customizationResult:a}}let y=E.get(m.prevNodeId);if(!y)throw(0,u.x1)("first-draft","Could not find node with prevNodeId",{prevNodeId:m.prevNodeId}),Error("Could not find node with prevNodeId");let b=(0,a.JF)(n),C=null;if((0,s.k)().first_draft_share_jsx){let e=await (0,d.m)({nodeId:y.guid,jsxElement:t,oldJSXElement:b,options:{...a.RP,transformUnhandledNodes:!!(0,s.k)().first_draft_debug,componentInfoByJSXName:c.getShareJsxComponentInfoByJSXName()}});C=e.node,h&&(h.trackComponentLookupSuccess(e.stats?.componentLookupSuccesses??0),h.trackComponentLookupFailure(e.stats?.componentLookupFailures??0))}else{let e=await _.reconcileNodeFromJSXAsync({id:y.guid},b,t);C=E.get(e.id)}if(!C)throw Error("Could not find updated node");C.materializeDescendants();let v=await K([C],e,m);return m.shouldAnimateLoading&&m.doneTextLayerIds&&function(e,t,n){let a=[];for(let e of((0,i.hV)(t,e=>{"TEXT"===e.type&&a.push(e)}),a))n.has(e.guid)||((0,g.us)(e)?(r.zuo.cancelAllAnimationsForNode(e.guid),n.add(e.guid)):r.zuo.isAnimating(e.guid)||e.setOpacityWithAnimation(1,p._E.forOpacityOscillation(45,.25,.8,60),"first-draft-text-layer-opacity"))}(0,C,m.doneTextLayerIds),C.guid!==m.prevNodeId&&await (0,g.U_)(C,m),{insertNodeIds:[C.guid],customizationResult:v}}},996115:(e,t,n)=>{n.d(t,{N_:()=>d,l9:()=>u,tb:()=>c});var a=n(376852),r=n(803565),l=n(206639),i=n(902649),o=n(763467);function s(e){let t=new Set,n=new Set;return e.forEach(e=>{7===e.length?t.add(e):n.add(e)}),[Array.from(t),Array.from(n)]}function c(e,t){let{bg:n,content:c}=t,d=(0,l.HD)(e)?i.lH.DARK:i.lH.LIGHT,u=(0,l.F_)(e),m=(0,r.oB)(e),p=n.filter(e=>e!==u),[f,g]=s(p),h=function(e){let t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t}(p),E=f.sort((e,t)=>h[t]-h[e]),_=E.find(e=>{let t=(0,l.tK)(e);if(!t)return!1;let n=(0,r.oB)(t);return(0,o.x)(n.l,d)&&!(0,a.xN)(n.l,m.l,.12)});if(_)return _;let[y,b]=s(c),C=y.find(e=>{let t=(0,l.tK)(e);return t&&(0,i.Yx)((0,r.oB)(t).l,i.lg.CONTENT)});if(C)return C;if((0,o.x)(m.l,d)&&!(0,o.c4)(m.l))return u;let v=g.sort((e,t)=>h[t]-h[e]).find(e=>{let t=(0,l.tK)(e);if(!t)return!1;let n=(0,r.oB)(t);return(0,o.x)(n.l,d)});return v?v:b.find(e=>{let t=(0,l.tK)(e);return t&&(0,i.Yx)((0,r.oB)(t).l,i.lg.CONTENT)})||(E.length?E[0]:y.length?y[0]:u)}function d(e){let t={};if(!e)return t;let n=[e];for(;n.length>0;){let e=n.pop();if(e){if(e.fills.length>0){let n=(0,o.gU)(e.fills);if(n){let a=(0,r.oB)(n);t[e.guid]={s:a.s,l:a.l}}}else if(e.strokePaints.data.length>0){let n=(0,o.gU)(e.strokePaints.data);if(n){let a=(0,r.oB)(n);t[e.guid]={s:a.s,l:a.l}}}"childrenNodes"in e&&n.push(...e.childrenNodes)}}return t}function u(e,t,n,a,r,l){e&&function e(t,n,a,r){if(t.name.toLowerCase().includes("swatch"))return;let l=a[t.guid];if((0,o.oR)({node:t,getNewColor:n,options:{...r,modeChanged:!1,role:(0,i.Dk)(t),originalSL:l}}),t.childCount){let l=t.fills.some(e=>"IMAGE"===e.type),i=(0,o.gU)(t.fills,l?void 0:r.parentFillColor);t.childrenNodes.forEach(t=>{e(t,n,a,{...r,parentFillColor:i})})}}(e,(e,n)=>(0,o.Jv)(e,{...n,brandColor:t}),a,{mode:n,currentBrandHex:r,parentFillColor:l})}},486879:(e,t,n)=>{n.d(t,{P:()=>i,t:()=>o});var a=n(206639),r=n(902649),l=n(763467);function i(e){let t=(0,l.X6)(e);if(t)return(0,a.HD)(t)?r.lH.DARK:r.lH.LIGHT}function o(e,t,n){e&&function e(t,n,a){let i=t.fills.some(e=>"IMAGE"===e.type),o=!i&&a.modeChanged;if((0,l.oR)({node:t,getNewColor:n,options:{...a,modeChanged:o,role:(0,r.Dk)(t)}}),t.childrenNodes){let r=(0,l.gU)(t.fills,i?void 0:a.parentFillColor);t.childrenNodes.forEach(t=>{e(t,n,{...a,modeChanged:o,parentFillColor:r})})}}(e,(e,t)=>(0,l.Jv)(e,{...t,brandColor:void 0}),{mode:t,modeChanged:!0,currentBrandHex:n})}},45453:(e,t,n)=>{n.d(t,{t_:()=>p,Vx:()=>m});var a=n(938982),r=n(206639),l=n(998568),i=n(904331),o=n(111427),s=n(902649),c=n(763467);let d={[i.GS.DEFAULT]:[{"font/title/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Plus Jakarta Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/title/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/title/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/body/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}],[i.GS.SERIF]:[{"font/title/bold":{fontName:{family:"Domine",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Domine",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Roboto Serif",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Roboto Serif",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}]};function u(e){return e[Math.floor(Math.random()*e.length)]}function m(e){let t={numberVariableMap:{},colorVariableMap:{}},n="true"===e[i.u7.DARK_MODE];for(let[a,l]of Object.entries(e||{}))switch(a.split("/")[0]){case i.u7.COLOR:let e=(0,r.tK)(l);if(!e)continue;t.colorVariableMap[a]=(0,c.qO)(e,n?s.lH.DARK:s.lH.LIGHT);break;case i.u7.CORNER_RADIUS:case i.u7.SPACING:let m=parseFloat(l);!isNaN(m)&&m>=o.Xy&&m<=o.Ne&&(t.numberVariableMap[a]=m);break;case i.u7.FONT:switch(l){case i.GS.SERIF:case i.GS.DEFAULT:t.fontVariableMap=u(d[l]);break;default:t.fontVariableMap=u(d[i.GS.DEFAULT])}}return{darkMode:n,variableMaps:t}}function p(e,t){try{return m(e)}catch(n){return n instanceof Error&&(0,l.$D)(a.e.AI_GENERATION,Error(`[First Draft theme] Error parsing theme from output: ${n.message}`),{extra:{...t,theme:JSON.stringify(e),error:n}}),{}}}},604383:(e,t,n)=>{n.d(t,{fv:()=>f,pK:()=>E});var a=n(947239),r=n(854685),l=n(938982),i=n(186606),o=n(768618),s=n(476254),c=n(998568),d=n(304756),u=n(656320),m=n(944239),p=n(51624);function f(e){let t=new Set([]),n=[...e];for(;n.length;){let e=n.pop();if(e){for(let l of(e.type.startsWith(a.COMPONENT_PREFIX)&&t.add(e.type),e.children))(0,r.id)(l)&&n.push(l);for(let t of Object.values(e.props))if("string"!=typeof t){if((0,r.id)(t))n.push(t);else if(Array.isArray(t))for(let e of t)(0,r.id)(e)&&n.push(e)}}}return t}async function g(e,t,n){if(t?.type==="LOCAL")throw Error("Can only insert library components");if(!n)return(0,c.$D)(l.e.AI_GENERATION,Error("[First Draft] Attempted to insert component without kitContents")),{status:"error"};let r=function(e,t){let n=t.toLowerCase();if(e.components[n]){let t=e.components[n];return{assetType:"component",key:t.key,version:t.version}}if(e.state_groups[n]){let t=e.state_groups[n];return{assetType:"state_group",key:t.key,version:t.version}}return null}(n,e);if(!r)return{status:"error"};let{assetType:u,key:m,version:p}=r;if("component"===u){let t=i.XJn.getComponentByKeyAndVersion(m,p);if(t)return{status:"success",key:m,version:p,jsxName:(0,a.getComponentJSXName)(e),guid:t}}if("state_group"===u){let t=i.XJn.getStateGroupByKeyAndVersion(m,p);if(t)return{status:"success",key:m,version:p,jsxName:(0,a.getComponentJSXName)(e),guid:t}}try{let e=s.D?.getState().fileVersion||0,t=await (0,d.GD)(`/api/file_proxy/${u}/${m}/version/${p}/canvas`,{fv:e.toString()},{responseType:"arraybuffer"}),n=new Uint8Array(t.response),r=i.NfO.deserializeProductComponentFromBuffer(m,n),l=(0,o.UN)().get(r);if(!l)throw Error("Deserialized component not found in scene graph");return{status:"success",key:m,version:p,jsxName:(0,a.getComponentJSXName)(l.name),guid:r}}catch(e){if(e instanceof d.Dr&&e.status>=400)return{status:"error"};throw e}}let h=(0,m.n)(async function(e,t){let n=(0,u.U2)(s.D?.getState().selectedView),a=await d.Ay.post(`/api/first_draft/kit_contents/${e.key}`,{jsx_names:t,file_key:n});return a?.data?.meta??null});async function E({dsKitKey:e,jsxJSON:t,componentNameToInsertResult:n}){if("LOCAL"===e.type)return;let a=f(t),r=new Set;for(let e of a)e in n||r.add(e);if(0===r.size)return;let l=await h(e,Array.from(r)),i=l?.components??{},o=(0,p.Q$)(i),s=l?.state_groups??{},c={components:o,state_groups:(0,p.Q$)(s)};await Promise.all(Array.from(r).map(async t=>{let a=await g(t,e,c);return"success"===a.status&&(n[a.jsxName]=a),a}))}},737033:(e,t,n)=>{n.d(t,{C2:()=>b,Vh:()=>v});var a=n(848318),r=n(6406),l=n(92454),i=n(938982),o=n(186606),s=n(768618),c=n(580494),d=n(277930),u=n(879263),m=n(405531),p=n(998568),f=n(810503),g=n(552637),h=n(864277),E=n(604383),_=n(51624),y=n(69946);function b(e){return new r.yT({dsKitKey:e.dsKitKey,publishedComponentToInsertResult:e.componentNameToInsertResult??{},componentInfoByName:e.componentNameToInfo??{},options:{enableTsArrays:!!(0,c.k)().first_draft_ts_arrays,shareJSX:!!(0,c.k)().first_draft_share_jsx,useAllComponents:!!(0,c.k)().first_draft_publish_all_components,onError:(e,t)=>{(0,p.$D)(i.e.AI_GENERATION,e,t)}}})}async function C(e,t,n={}){let a;let l=(0,r.eb)(e.jsxStr),o=l&&""!==l?l:e.jsxStr;if((n.prevJsxStr??"")===o)return{};if(!n.prevNodeId&&n.prevJsxJSON&&n.prevJsxJSON.length>0)throw Error("prevJsxJSON should be null");let s=await (0,r.Kf)(o);if(!s)return{};await n.onBeforeInsertJSX?.(s);let d={prevNodeId:n.prevNodeId,isIncomplete:!function(e){let t=e.match(/<([^\/\s>]+)[^>]*>/),n=e.match(/<\/([^>]+)>/g)?.pop();return!!t&&!!n&&t[1]===n.replace("</","").replace(">","")}(o),autoFillParent:!0,insertBehavior:"viewport-ease",shouldGenerateImages:!0,...e.options},u=b(d);t.resetComponentStats();let m=await (0,r.BW)(s,u,t,{directGen:!!d.directGeneration,showUnhandled:!!(0,c.k)().first_draft_debug,useShareJSX:!!(0,c.k)().first_draft_share_jsx});if(0===m.length)return{};try{a=(0,r.JF)(m)}catch(t){let e={elements:m.length};return(0,p.$D)(i.e.AI_GENERATION,t,e),{}}let{insertNodeIds:f,customizationResult:h}=await (0,g.f)({jsxStr:o,jsxElement:a,prevExpandedJsx:n.prevExpandedJsx??[],customJsxElementRegistry:u,options:d},t);return{insertNodeIds:f,customizationResult:h,jsxStr:o,jsxJSON:s,expandedJsx:m}}function v({onAfterInsertPartialJsx:e,onReset:t,onImageProgress:n,shouldContinueStream:g,clientLifecycleId:b,insertType:v}){let w=(0,a.useRef)({}),T=(0,a.useRef)(null),S=(0,a.useRef)({}),k=(0,a.useRef)({}),I=(0,a.useRef)({}),N=(0,a.useRef)(new r.sw(v||"generate",u.rI)),x=(0,a.useRef)(null);(0,a.useEffect)(()=>{x.current=m.J6.startUserFlow({name:"first_draft_generate",team:i.e.AI_GENERATION})},[]);let A=(0,a.useCallback)(async t=>{try{let n=x.current?.startDuration("first_draft_insert_jsx");w.current.isRunning=!0,w.current.donePromise=(async()=>{try{let e={jsxStrLength:t.jsxStr?.length,options:{parentNodeId:t.options.parentNodeId,isIncomplete:t.options.isIncomplete,prevNodeId:t.options.prevNodeId},clientLifecycleId:b},r={...e,jsxStr:t.jsxStr};(0,f.ED)("first-draft","Inserting Streamed JSX Updates",e,{createSentryBreadcrumb:!0,logToConsole:p.NU.NEVER}),(0,f.ED)("first-draft","Inserting Streamed JSX Updates",r,{createSentryBreadcrumb:!1}),w.current.doneTextLayerIds=w.current.doneTextLayerIds||new Set,w.current.componentNameToInfo={...w.current.componentNameToInfo,...t.options.componentNameToInfo},w.current.componentNameToInsertResult=w.current.componentNameToInsertResult||{};let{insertNodeIds:l,customizationResult:i,jsxJSON:o,jsxStr:s,expandedJsx:d}=await C({...t,options:{...t.options,componentNameToInsertResult:w.current.componentNameToInsertResult,componentNameToInfo:w.current.componentNameToInfo,shouldAnimateLoading:(0,c.k)().first_draft_animations,doneTextLayerIds:w.current.doneTextLayerIds,clientLifecycleId:b}},N.current,{prevNodeId:T.current,prevJsxStr:w.current.jsxStr,prevJsxJSON:w.current.jsxJSON,prevExpandedJsx:w.current.expandedJsx,onBeforeInsertJSX:async e=>{await (0,E.pK)({jsxJSON:e,dsKitKey:t.options.dsKitKey,componentNameToInsertResult:w.current.componentNameToInsertResult??{}})}});if(n?.addContext({hasJson:void 0!==o,insertNodeIdsLength:l?.length}),n?.stop(),!l){if(void 0===o)return;throw Error("Failed to insert any nodes")}if(l.length>1)throw Error("Expected at most one node to be inserted");(0,h.OJ)(l[0]),T.current!==l[0]&&(T.current&&(0,y.ks)(T.current),(0,y.Vm)(l[0],a.createElement(a.Fragment,null),{overflowHidden:!0})),T.current=l[0],S.current={...S.current,...i?.themeOverrideMap??{}},w.current.jsxStr=s,w.current.jsxJSON=o,w.current.expandedJsx=d,w.current.queuedEffects=w.current.queuedEffects||{}}catch(e){(0,p.$D)(i.e.AI_GENERATION,e instanceof Error?e:Error(e)),T.current&&!(0,s.UN)().get(T.current)&&(T.current=null,w.current.jsxStr=void 0,w.current.jsxJSON=void 0,w.current.expandedJsx=void 0)}try{if(T.current){if(t.options?.shouldGenerateImages){if(t.options.imageArgs)(0,h.Ms)({containingNodeId:T.current,queuedEffects:w.current.queuedEffects,shouldContinueStream:g,imagesTrace:I.current,jsxJSON:w.current.jsxJSON,initialUserPrompt:t.options.imageArgs?.initialUserPrompt||"",clientLifecycleId:b,instrumentationRef:N});else throw Error("Tried to generate images without image args")}(0,h.D9)(T.current,w.current.queuedEffects,t.options),(0,c.k)().first_draft_direct_gen||(0,h.fE)({containingNodeId:T.current}),e?.(T.current)}}catch(e){(0,p.$D)(i.e.AI_GENERATION,e instanceof Error?e:Error(e))}})(),await w.current.donePromise,w.current.insertAgainWhenDone&&((0,f.ED)("first-draft","Re-Inserting JSX Updates (Immediate)",{jsxStrLength:w.current.lastArgs?.jsxStr?.length,options:{parentNodeId:w.current.lastArgs?.options.parentNodeId,isIncomplete:w.current.lastArgs?.options.isIncomplete,prevNodeId:w.current.lastArgs?.options.prevNodeId}}),w.current.insertAgainWhenDone=!1,await A(w.current.lastArgs))}finally{w.current.isRunning=!1}},[e,g,b]),L=(0,d.A)(A,500,{leading:!0,maxWait:1e3}),O=(0,a.useCallback)(async()=>{await x.current?.measureDurationAsync("flushPending",async()=>{for(L.isPending()&&await L.flush();w.current.isRunning;)w.current.donePromise&&await w.current.donePromise,await _.Mb(10);let e=w.current.queuedEffects??{};(await Promise.allSettled(Array.from(Object.values(e)))).forEach(e=>{"rejected"!==e.status||e.reason instanceof l.G1&&500>l.Iu(e.reason)||p.$D(i.e.AI_GENERATION,e.reason)})})},[L]),R=(0,a.useCallback)(async()=>{try{await O()}finally{if(t?.(),T.current&&((0,y.ks)(T.current),(0,h.RY)(T.current)),w.current.lastArgs){let e=Object.keys(S.current).length>0;await (0,h.oT)(w.current.lastArgs.options?.dsKitKey,T.current,o.oVz.CURRENT,{detachVariables:e})}T.current=null,w.current={},k.current={},I.current={}}},[O,t]),M=(0,a.useCallback)(e=>(w.current.lastArgs=e,w.current.isRunning)?(w.current.insertAgainWhenDone=!0,Promise.resolve()):L?.(e)||Promise.resolve(),[L]);return(0,a.useEffect)(()=>{let e=N.current;if(!n)return;let t=()=>n(e.instrumentationData.imageSuccesses,e.instrumentationData.numImages);return e.imageProgressEmitter.on("statusChanged",t),()=>{e.imageProgressEmitter.removeListener("statusChanged",t)}},[N,n]),{insertJSX:M,resetAsync:R,flushPending:O,nodeIdRef:T,imagesTraceRef:I,themeOverrideMapRef:S,userFlowRef:x,instrumentationRef:N}}},214925:(e,t,n)=>{n.d(t,{Dp:()=>S,WX:()=>k,TM:()=>I});var a=n(848318),r=n(6406),l=n(871043),i=n(938982),o=n(186606),s=n(320953),c=n(768618),d=n(998568),u=n(810503),m=n(33103),p=n(45453),f=n(36312),g=n(303397),h=n(702038),E=n(730143),_=n(413238),y=n(929414),b=n(596224),C=n(737033),v=n(51624);async function w(e={}){let{sleepTime:t=100}=e;await new Promise(e=>setTimeout(e,t))}async function*T(e,t={}){let{chunksPerYield:n=20,useWords:a=!0}=t;if(a){let a=e.split(" "),r=[];for(let e=0;e<a.length;e+=n)r.push(...a.slice(e,e+n)),await w(t),yield r.join(" ")}else{let a=e.split(""),r=[];for(let e=0;e<a.length;e+=n)r.push(...a.slice(e,e+n)),await w(t),yield r.join("")}}function S(){return{loadingComponentType:"ComponentLoading",shouldGenerateImages:!0}}function k(e){return e?.metadata.direct_generation||e?.dsKitKey?.type==="USER_LIBRARY"||e?.dsKitKey?.type==="LOCAL"}function I({mockStreamOptions:e,onInsertJSXDone:t,onAfterInsertPartialJsx:n,shouldContinueStream:I,clientLifecycleId:x,insertType:A}){let L=(0,E.tS)(),O=(0,b.cJ)(),R=(0,a.useRef)(null),M=(0,a.useRef)(void 0),D=(0,a.useRef)(void 0),P=(0,a.useRef)(null),F=(0,a.useRef)(null),[B,U]=(0,a.useState)({loaded:0,total:0}),{insertJSX:G,resetAsync:K,flushPending:V,nodeIdRef:H,imagesTraceRef:z,instrumentationRef:W,userFlowRef:j,themeOverrideMapRef:Y}=(0,C.Vh)({onAfterInsertPartialJsx:e=>{if(O&&e){let t=(0,c.UN)().get(e);t?.isBreakpointFrame&&(t?.parentNode?.childrenNodes??[]).length>1&&(s.l7.ai("first-draft-sites-page-remove",()=>{t.parentNode?.childrenNodes.filter(e=>e.guid!==t.guid).forEach(e=>e.removeSelfAndChildren())}),setTimeout(()=>{o.glU.triggerAction("goto-layer",{args:{nodeId:e}})},200))}n?.(e)},onReset:()=>{M.current=void 0,U({loaded:0,total:0})},onImageProgress:(e,t)=>{U({loaded:e,total:t})},shouldContinueStream:I,clientLifecycleId:x,insertType:A}),{isRunning:J,runPrompt:q,runPromptMocked:X}=function({onPromptOutput:e,onBeforeRunPrompt:t,onRunPromptSuccess:n,onRunPromptError:r,shouldContinueStream:l,mockStreamOptions:i,clientLifecycleId:o}){let[s,c]=(0,a.useState)(!1),d=(0,a.useRef)({}),u=(0,a.useCallback)(async(a,i)=>{if(!s)try{d.current={},c(!0),t?.(i),await a(t=>{e?.(t,i),d.current=t},l),await n?.(d.current,i)}catch(e){throw await r?.(e,d.current,i),e}finally{c(!1)}},[s,t,e,r,n,l]);return{isRunning:s,runPrompt:(0,a.useCallback)(async(e,t)=>await u(async(t,n)=>{await (0,v._J)(e,t,n,o)},t),[o,u]),runPromptMocked:(0,a.useCallback)(async(e,t)=>await u(async t=>{if(await w(i),!e.dsKit)throw Error("dsKit is required in mockedResponse");let n=e.dsKit,a=e.theme??{},r=e.jsx??"";for await(let e of(t({theme:a}),await w(i),T(r,i)))t({dsKit:n,theme:a,jsx:e});t({dsKit:n,theme:a,jsx:r})},t),[u,i])}}({mockStreamOptions:e,shouldContinueStream:I,clientLifecycleId:x,onBeforeRunPrompt:e=>{if(e.analyticsOptions){let{dsKitType:t,isLocal:n,kitKey:a}=N(null,e.insertJSXOptions);W.current.start(),j.current?.addContext({file_key:L,generateId:x,clientLifecycleId:x,dsKitType:t,isLocal:n,kitKey:a,kitIdentifier:F.current?.metadata.identifier??null}),j.current?.trackEvent("First Draft: Layout Generation Started",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptSuccess:async(e,n)=>{if(W.current.trackLastStreamByteReceived(),await V(),e.trace){let t={...R.current,...e.trace,children:[...R.current?.children??[],...e.trace.children,...Object.values(z.current)]};R.current=t}if(I()){let n=(0,r.eb)(e.jsx??"");if(!e.dsKit&&!H.current)throw Error("No dsKit in prompt output");if(n&&!H.current)throw Error("JSX was present in the prompt output but no node was inserted");try{await t?.(H.current,Y.current,P.current,D.current??[])}catch(e){(0,d.$D)(i.e.AI_GENERATION,e,{extra:{nodeId:H.current,themeOverrideMap:Y.current,dsKitKey:P.current,presets:D.current}})}}if(n.analyticsOptions){let{dsKitType:t,isLocal:a,kitKey:r}=N(e,n.insertJSXOptions);j.current?.addContext({promptOutput:JSON.stringify({dsKit:e.dsKit,theme:e.theme,presets:e.presets}),timeElapsedMs:Date.now()-n.analyticsOptions.startTime,dsKitType:t,isLocal:a,kitKey:r,file_key:L,generateId:x,clientLifecycleId:x,kitIdentifier:F.current?.metadata.identifier??null}),I()?H.current?(W.current.trackFinished("success"),j.current?.addContext({nodeId:H.current,status:"completed",instrumentationData:JSON.stringify(W.current.instrumentationData)})):(W.current.trackFinished("failure"),j.current?.addContext({status:"failed",reason:"empty generation",instrumentationData:JSON.stringify(W.current.instrumentationData)})):(W.current.trackFinished("stopped"),j.current?.addContext({nodeId:H.current,status:"failed",reason:"stopped",instrumentationData:JSON.stringify(W.current.instrumentationData)})),j.current?.end(),j.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptError:(e,t,n)=>{W.current.trackFinished("failure"),t.trace&&(R.current={...R.current,...t.trace});let{dsKitType:a,isLocal:r,kitKey:l}=N(t,n.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:t.dsKit??{},jsx:t.jsx??"",theme:t.theme??{}}),error:e.toString(),timeElapsedMs:Date.now()-(n.analyticsOptions?.startTime??0),dsKitType:a,isLocal:r,kitKey:l,file_key:L,clientLifecycleId:x,kitIdentifier:F.current?.metadata.identifier??null},s=(0,d.$D)(i.e.AI_GENERATION,e,{extra:o});j.current?.addContext({...o,status:"failed",reason:"error",nodeId:H.current,sentryEventId:s}),j.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},onPromptOutput:(e,t)=>{if(W.current.trackFirstByteReceived(),e.dsKit){if(e.dsKit.isLocal){let e=t.insertJSXOptions.dsKitKey;P.current={type:"LOCAL",pageId:e.pageId}}else e.dsKit.isDirectGenLibrary?P.current={type:"USER_LIBRARY",key:e.dsKit.kitKey}:P.current={type:"1P_LIBRARY",key:e.dsKit.kitKey};if(!M.current&&e.theme&&(M.current=(0,p.t_)(e.theme,{generateId:x})),!D.current&&e.presets&&(D.current=e.presets),e.jsx)return G({jsxStr:e.jsx,options:{...t.insertJSXOptions,theme:M.current,dsKitKey:P.current}})}}}),Z=(0,f.B)(),Q=(0,a.useCallback)(async e=>{"LOCAL"===e.dsKitKey.type&&L&&await (0,m.p4)(L,e,Z)},[L,Z]),$=(0,a.useCallback)(async(e,t,n)=>{let a;let r=e.prompt;if(J)return{nodeId:null,success:!0};await K();let{designSystem:m}=t;F.current=m;try{m&&await Q(m)}catch(e){return(0,d.$D)(i.e.AI_GENERATION,e),{nodeId:null,success:!1,error:e}}let p=function(e,t){if(!t)return{userPrompt:e};if("LOCAL"!==t.dsKitKey.type)return{userPrompt:e,kitKey:t.dsKitKey.key,isLocal:!1,isDirectGenerationCompatible:t.metadata?.direct_generation};let n=o.XJn.getKitKey(t.dsKitKey.pageId);if(!n)throw Error("Failed to get a kitKey for local kit");return{userPrompt:e,kitKey:n,isLocal:!0,isDirectGenerationCompatible:t.metadata?.direct_generation}}(r,m),f=null;if(t.selectedNodeIds&&t.selectedNodeThumbnailsCache&&t.selectedNodeIds.length>0){let n=t.selectedNodeIds.map(e=>(0,c.UN)().get(e)).filter(l.Vq);n.length!==t.selectedNodeIds.length&&(0,u.xi)("first-draft","Some selected nodes were not found",{selectedNodeIds:t.selectedNodeIds,selectedNodes:n}),f=(0,y.ce)(n),p.extraMessagesFigmateOnly=await (0,y.yh)(n,t.selectedNodeThumbnailsCache,e.attachmentMetadata)}let E={};if(O){let e=(0,c.UN)().getCurrentPage();if(e){let t=1===e.childCount&&e.childrenNodes[0].isResponsiveSet&&1===e.childrenNodes[0].childCount&&e.childrenNodes[0].childrenNodes[0].isBreakpointFrame&&0===e.childrenNodes[0].childrenNodes[0].childCount,n=null;t?(h.wr(),(0,_.S)("panel"),h.Dh([e.childrenGuids[0]])):s.l7.ai("first-draft-sites-page-create",()=>{o.glU.createResponsiveSet(null)}),n=(0,c.UN)().get(o.glU.getFirstSelectedNodeIdForCurrentPage()),E.parentNodeId=n?.guid,E.createNewSitesWebpage=!0,E.frameName="Primary"}}try{W.current.start(),await q(p,{insertJSXOptions:{frameName:r,imageArgs:{initialUserPrompt:r},...S(),...n,...f?{componentNameToInfo:{...f,...n.componentNameToInfo}}:{},...E,sharedPluginData:{userPrompt:r,...n.sharedPluginData},dsKitKey:m?.dsKitKey,directGeneration:k(m)},analyticsOptions:{startTime:W.current.startTime,clientLifecycleId:x}})}catch(e){a=e}let b=H.current;if(await K(),b&&!(0,c.UN)().get(b))throw Error("Failed to insert node");return g.Y5.commit(),{nodeId:b,success:!a,error:a}},[J,K,q,H,x,Q,O,W]);return{submitPromptMocked:(0,a.useCallback)(async(e,t)=>{if(J)return{nodeId:null,success:!0};await K(),await X(e,{insertJSXOptions:{...S(),...t,imageArgs:{initialUserPrompt:"website"}},analyticsOptions:null});let n=H.current;return await K(),{nodeId:n,success:!0}},[J,K,X,H]),submitPrompt:$,isRunning:J,executionTrace:R.current,imageProgress:B}}function N(e,t){let n=t.dsKitKey,a=n?.type??"AUTO",r=n?.type==="LOCAL"||e?.dsKit?.isLocal,l=n?"key"in n?n.key:n.pageId:e?.dsKit?.kitKey??null;return{dsKitOption:n,dsKitType:a,isLocal:r,kitKey:l}}},178109:(e,t,n)=>{n.d(t,{iK:()=>y,wP:()=>b});var a=n(848318),r=n(439682),l=n(320953),i=n(768618),o=n(267721),s=n.n(o),c=n(642935),d=n(752214),u=n(335709),m=n(388902),p=n(51624),f=n(468415),g=n(303397);function h(e){return!!("SYMBOL"===e.type||e.isStateGroup||(0,m.Gs)(e))}async function E({components:e,clientLifecycleId:t}){let n=await Promise.all(e.map(async e=>{let t=await (0,p.gC)(e);return{imageB64:t.base64,jsx:t.jsx,isStateGroup:e.isStateGroup}}));return(await c.Ay.design.firstDraftSuggestProps({requests:n},(0,f.Lp)({clientLifecycleId:t}))).responses.map((t,n)=>{let a=e[n];return t&&a?{component:a,componentName:t.componentName,componentDescription:t.componentDescription,nodeIdsToPropertyNames:t.nodeIdsToPropertyNames.reduce((e,t)=>(e[t.id]=t.propertyName,e),{})}:null})}function _(e){let t=e.component;if(h(t)){if(t.name=e.componentName,(0,m.Gs)(t)){let n={componentPropertyDefinitions:[],componentPropertyReferences:{}};for(let[t,a]of Object.entries(e.nodeIdsToPropertyNames)){let e=(0,i.UN)().guidFromDeveloperFriendlyId(t),r=(0,i.UN)().get(e);r&&"TEXT"===r.type&&(n.componentPropertyDefinitions.push({name:a,type:"TEXT"}),n.componentPropertyReferences[t]={characters:a})}(0,m.p0)(t,n),(0,m.aj)(t,e.componentDescription)}else for(let n of(t.description||(t.description=e.componentDescription),Object.keys(e.nodeIdsToPropertyNames))){let a=(0,i.UN)().get(n);if(!a||"TEXT"!==a.type||a.isInstanceSublayer)continue;let r=t.componentPropertyDefinitions(),l=a.componentPropertyReferences();if(l?.characters)continue;let o=e.nodeIdsToPropertyNames[n],s=function(e,t){for(let n in e)if("VARIANT"!==e[n].type){let e=n.split("#");if(e.slice(0,e.length-1).join("#")===t)return n}else if(n===t)return n;return null}(r,o);s&&r[s]?.type==="TEXT"||(s=t.addComponentPropertyDefinition(o,"TEXT",a.characters,void 0)),a.setComponentPropertyReferences({...a.componentPropertyReferences(),characters:s})}}}function y(){let[e,t]=a.useState({loaded:0,total:0}),n=a.useContext(u.x),o=n?.getSuggestedProps;return{submit:a.useCallback(async(e,n,a)=>{let c=i.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&e.name===d.vh),u=i.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&"Atoms"===e.name);if(0===(a=a??[...c?.childrenNodes??[],...u?.childrenNodes??[]]).length)return;let m=a.filter(h);for(let a of(t({loaded:1,total:m.length}),s()(m,30))){let i=await (0,r.Z)(o?o(a):E({components:a,clientLifecycleId:e}),n);if(n.aborted)return;l.l7.user("apply-suggested-props",()=>{for(let e of i)e&&_(e)}),t(e=>({loaded:Math.min(e.loaded+a.length,e.total),total:e.total}))}g.Y5.commit()},[o]),progress:e}}function b(){return{submit:a.useCallback(E,[]),apply:a.useCallback(e=>{_(e),g.Y5.commit()},[])}}},335709:(e,t,n)=>{n.d(t,{x:()=>a});let a=n(848318).createContext(void 0)},51624:(e,t,n)=>{n.d(t,{Mb:()=>d,Q$:()=>m,SV:()=>c,_J:()=>u,gC:()=>p});var a=n(936733),r=n(642935),l=n(129921),i=n(468415),o=n(866384),s=n(944239);let c="plugin_playground";async function d(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let u=(0,s.n)(async function(e,t,n=()=>!0,a){let l=(await r.Ay.design.firstDraftGenerateV2Stream(e,(0,i.Lp)({clientLifecycleId:a}))).getReader(),o={};try{for(;;){let e=l.read(),{done:a,value:r}=await e;if(a||(r.theme&&(o.theme=r.theme??{}),r.dsKit&&(o.dsKit=r.dsKit),r.jsx&&(o.jsx+=r.jsx),r.trace&&(o.trace=r.trace),r.presets&&(o.presets=r.presets),!n()))break;t(o)}}finally{l.releaseLock()}});function m(e){return Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})}async function p(e){let t=await e.loadImagesAndExport([{imageType:"PNG",constraint:{type:"CONTENT_WIDTH",value:Math.min(e.size.x,function(e,t=1024){return e.size.y>e.size.x?Math.floor(t*e.size.x/e.size.y):t}(e))},contentsOnly:!0,useAbsoluteBounds:!1,colorProfile:"DOCUMENT"}]),n=`data:image/png;base64,${(0,a.lF)(t)}`,r=(0,l.YJ)({nodeIds:[e.guid],options:{skipNodeIds:!1,includeName:!0,detachInstances:!0,componentUsageOrDefinition:"DEFINITION",autoLayoutTagName:"div",frameTagName:"div"}});if(!r.jsxStr)throw Error(`Could not get node JSX for node ID: ${e.guid}`);return{base64:n,jsx:r.jsxStr}}(0,s.n)(async function(e){return(await o.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta})},848751:(e,t,n)=>{n.d(t,{M:()=>d});var a=n(848318),r=n(891627),l=n(536384),i=n.n(l),o=n(230618),s=n(534619),c=n(357202);function d(e){if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let t=e.dragState.dragPosition.subtract(e.dragState.dragOffset),n=(0,s.AE)(e.dragState.draggingResource);return(0,r.createPortal)(void 0!==e.icon?a.createElement("div",{className:i()(c.Az,{[c.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y}},e.icon):a.createElement(o.oW,{src:n,alt:"",className:i()(c._D,{[c.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},draggable:!1}),document.getElementById("fullscreen-root"))}},89729:(e,t,n)=>{n.d(t,{V7:()=>o,kg:()=>i});var a=n(660376);let r=["Table","CodeBlock","MindMap","Text","Section"],l=["Timer","Image","Link"];function i(e){return"string"==typeof e&&r.includes(e)}function o(e){return i(e)||"string"==typeof e&&l.includes(e)?e:"object"==typeof e&&e.id&&e.name&&e.img?"FaceStamp":void(0,a.xb)(e)}},534619:(e,t,n)=>{n.d(t,{AE:()=>f,E:()=>g,Ik:()=>h});var a=n(660376),r=n(615233),l=n(464950),i=n(781239),o=n(967688),s=n(995218),c=n(102382),d=n(106420),u=n(625844),m=n(982323),p=n(89729);function f(e){switch(e){case"Table":return(0,r.ck)("ac41ded88c50f0359c02ec3927394b7b33e210b6");case"CodeBlock":return(0,r.ck)("8a035152916712353b045f442c2c6c5879ef3e17");case"MindMap":return(0,r.ck)("1dd4c6f9e1fbf269895ee58e7be79d9f9ee79b9e");default:return""}}function g(e){switch(e){case"Table":return(0,o.t)("whiteboard.inserts.table_title");case"CodeBlock":return(0,o.t)("whiteboard.inserts.code_block_title");case"MindMap":return(0,o.t)("whiteboard.inserts.mind_map_title");case"Text":return(0,o.t)("whiteboard.inserts.text_title");case"Section":return(0,o.t)("whiteboard.inserts.section_title");default:(0,a.xb)(e)}}function h(e){let t="whiteboard"===(0,s.lg)(),n=(0,d.F5)(),a=(0,p.V7)(e.resource),r=async r=>(e.insertAction(r),t&&(0,d.oM)({type:c.p.MORE,id:a,source:e.triggeredFrom,options:{...n,query:e.searchQuery}}),await Promise.resolve());return(0,u.t)(e,{insertAction:r,dragPreviewPointerPosition:m.N.CENTERED,getDragPreviewSrc:e.icon?()=>"data:image/svg+xml;utf8,"+(0,l.F)(e.icon):()=>f(e.resource),recordingKey:i.Pt(e.triggeredFrom,"whiteboardResource",a)})}},782328:(e,t,n)=>{n.d(t,{x:()=>r});var a=n(848318);function r(e,t="0px"){let n="IntersectionObserver"in window,[l,i]=(0,a.useState)(!n);return(0,a.useEffect)(()=>{if(!n||!e.current)return;let a=e.current,r=new IntersectionObserver(([e])=>{i(e.isIntersecting)},{rootMargin:t});return r.observe(a),()=>{r.unobserve(a)}},[e,t,n]),l}},605885:(e,t,n)=>{n.d(t,{OS:()=>u,_2:()=>c,w$:()=>d});var a=n(848318),r=n(989232),l=n(536490),i=n(967688),o=n(730143),s=n(472287);let c="audio-paywall-key",d=(()=>{let e=!0,t=!1;return n=>{t||setTimeout(()=>{n>0&&e?(e=!1,(0,r.trackEvent)("Context Viewed",{name:"join-call-with-others"})):e||0!==n||(t=!0,(0,r.trackEvent)("Context Viewed",{name:"should-close-open-audio-nux"}))},200)}})();function u(){let e;let t=(0,o.q5)(),{userIdsInCall:n}=(0,s.W5)(t?.key||null),r=(0,s.bF)(n,t?.key||null).map(e=>e.name);e=r.length>3?[...r.slice(0,2),(0,i.t)("collaboration.voice.n_others",{numUsers:r.length-2})]:r;let c=a.createElement(l.T,null,e);return(0,i.tx)("collaboration.voice.are_talking_in_this_file",{numVoiceUsers:e.length,voiceUserNames:c,joinText:a.createElement("b",null,(0,i.tx)("collaboration.voice.join_lower"))})}},497032:(e,t,n)=>{n.d(t,{A:()=>sc});var a=n(848318),r=n(580494),l=n(999667),i=n(656329),o=n(540698),s=n(204295),c=n(214625),d=n(972402),u=n(301168),m=n(533737),p=n(863270),f=n(34542),g=n(263336),h=n(991675),E=n(506794),_=n(136169),y=n(954703),b=n(469508),C=n(531788),v=n(124810),w=n(749214);let T=(0,a.memo)(function(e){return(0,w.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,w.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.015 3.441 5.7 4.701l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0m0 12L5.7 16.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 18.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 16.7l-.315-1.26c-.126-.505-.844-.505-.97 0M5.7 10.7l.315-1.26c.126-.505.844-.505.97 0L7.3 10.7l1.26.315c.505.126.505.844 0 .97L7.3 12.3l-.315 1.26c-.126.505-.844.505-.97 0L5.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM10.5 5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var S=n(186606),k=n(940807),I=n(720522),N=n(297638),x=n(967688),A=n(87463),L=n(797688),O=n(696786),R=n(702038),M=n(601167),D=n(17753),P=n(385301),F=n(355032),B=n(859524),U=n(49633),G=n(541634),K=n(768618),V=n(350075);let H=(e,t)=>e.filter(e=>t.get(e));var z=(e=>(e.DismissImmediately="dismiss-immediately",e.NoAutoDismiss="no-auto-dismiss",e.StartAutoDismissTimer="start-auto-dismiss-timer",e.noop="no-op",e))(z||{}),W=n(30328);function j(e){return a.useMemo(()=>{if(!e)return!0;let{data:t}=(0,W.b7)((0,K.UN)());return JSON.stringify(t.map(e=>({t:e.t,id:e.id,type:e.type,stamps:e.stamps}))).length>12e3},[e])}var Y=n(277930);function J(e=2e3){let t=(0,u.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[n,r]=a.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),l=(0,Y.A)(e=>{r({hasDebounceSettled:!0,numNodesSelected:e})},e);a.useEffect(()=>{r({hasDebounceSettled:!1,numNodesSelected:t}),l(t??0)},[l,t]);let i=n.numNodesSelected!==t;return n.hasDebounceSettled&&!i}var q=n(579221);let X="ai_summary_nudge--buttonContents--oUSGP",Z="ai_summary_nudge--badgeWrapper--QRaRq";var Q=n(339098);function $({onClose:e,onSummarize:t,onAutoDismiss:n}){let i;let o=J(500),s=j(o),{lastSummarizableSelection:c}=function({onAutoDismiss:e,selectionIsStable:t}){let n=(0,V.cF)(),[r,l]=(0,a.useState)(0),i=(0,u.d4)(e=>e.mirror.sceneGraphSelection),o=a.useMemo(()=>Object.entries(i).filter(([e,t])=>t).map(([e,t])=>e),[i]),[s,c]=(0,a.useState)([]),d=(0,K.UN)(),m=0===o.length&&s.length>0&&!H(s,d).length;return(0,a.useEffect)(()=>{switch(function({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,lastSummarizableSelectionHasBeenDeleted:n,selectionSize:a,canRecomputeAutoDismissAction:r}){if(0===a&&n)return"dismiss-immediately";if(r){if(t)return"no-auto-dismiss";if(!e)return"start-auto-dismiss-timer"}return"no-op"}({currentAutoDismissTimeoutId:r,stickySummarizationEnabledForSelection:n,lastSummarizableSelectionHasBeenDeleted:m,selectionSize:o.length,canRecomputeAutoDismissAction:t})){case z.DismissImmediately:window.clearTimeout(r),l(0),e();break;case z.NoAutoDismiss:c(o),window.clearTimeout(r),l(0);break;case z.StartAutoDismissTimer:l(window.setTimeout(()=>{e()},1e4))}},[o.length,o,n,m,r,t,e]),{lastSummarizableSelection:s}}({onAutoDismiss:n,selectionIsStable:o});(0,a.useEffect)(()=>{l.zl.set(q.EH,e=>e+1),l.zl.set(q.ji,()=>new Date().toISOString())},[]);let{summarizeCanvasSelection:d}=(0,F.ss)(S.cfv.ABOVE,!1,"DISCOVERY_NUDGE"),m=(0,G.Cb)(),p=(0,l.Xr)(B.v),f=!!(0,r.k)().figjam_summary_nudge_too_many_tokens&&o&&s;f&&(i=(0,x.t)("whiteboard.ai_summary.nudge.too_many_tokens"));let g=(0,a.useRef)(null),h=(0,O.GS)(),E=(0,M.ni)(),_=(0,L.FQ)(g,h?8:void 0);return(0,a.useLayoutEffect)(()=>{let e=g.current;if(!e)return;let t=h?E.y-8:E.y-L.zU,n=k.r.fromOriginAndSize(E.x,t,E.width,E.height),a=e.getBoundingClientRect(),r=_(k.r.fromOriginAndSize(n.right()-a.width-(h?12:24),n.top()+(h?20:0),a.width,a.height),n);if(a.x<0||a.y<0){let t=new Animation(new KeyframeEffect(e,[{transform:`translateX(${r.left()}px) translateY(-250px)`},{transform:`translateX(${r.left()}px) translateY(${r.top()}px)`}],{duration:600}));t.onfinish=()=>{e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},t.play()}else e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},[g,h,-250,E,_]),a.createElement("div",{ref:g,className:"ai_summary_nudge--container--Xt3Ld"},a.createElement("div",{className:"ai_summary_nudge--topContent--EYXY0"},a.createElement("div",{className:"ai_summary_nudge--topBar--3FRaK"},a.createElement("span",{className:N.s.textHeadingMedium.$},(0,x.tx)("whiteboard.ai_summary.nudge.title")),a.createElement("div",{className:"ai_summary_nudge--closeButton--2Lr8q"},a.createElement(y.K,{onClick:e,"aria-label":(0,x.t)("general.close"),htmlAttributes:{"data-testid":"close-button"}},a.createElement(v.A,null)))),a.createElement("div",{className:N.s.textBodyLarge.colorTextSecondary.$},(0,x.tx)("whiteboard.ai_summary.nudge.subtitle")),a.createElement("div",{className:"ai_summary_nudge--numberContainer--JqUxZ"},a.createElement(et,{num:1}),a.createElement(et,{num:2})),a.createElement(ee,{disabled:f,disabledTooltip:i,"data-testid":"summarize-button",onClick:()=>{R.wr(),R.Dh(c),d(),t(),m&&p(!0)},trackingProperties:{text:"summarize"}})),a.createElement("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),a.createElement("div",{className:"ai_summary_nudge--bottomContent--EiPHE"},a.createElement("div",null,a.createElement("span",{className:N.s.textBodyMedium.colorTextSecondary.mr2.$},(0,x.tx)("whiteboard.ai_summary.nudge.disclaimer")),a.createElement(b.N,{href:U.nG,newTab:!0,trusted:!0},(0,x.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))),a.createElement("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"}))}let ee=(0,p.tf)(function({onClick:e,disabled:t,disabledTooltip:n}){let r=(0,O.GS)();return a.createElement(p.fu,{name:"AI Summary Nudge CTA",properties:{disabled:t}},r?a.createElement(C.Pw,{onClick:e,variant:"primary",htmlAttributes:{"data-testid":"summarize-button","data-tooltip":t?n:"","data-tooltip-type":D.Ib.TEXT},disabled:t},a.createElement("div",{className:X},a.createElement("span",{className:"ai_summary_nudge--buttonIcon--X-QPt"},a.createElement(T,null)),(0,x.tx)("whiteboard.ai_summary.nudge.cta"),a.createElement("div",{className:Z},a.createElement(P.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,x.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))):a.createElement("div",{className:"ai_summary_nudge--button--DlY6r",style:{width:"242px"}},a.createElement(C.IK,{variant:"primary",onClick:e,disabled:t,htmlAttributes:{"data-tooltip":t?n:"","data-tooltip-type":D.Ib.TEXT,"data-testid":"summarize-button"}},a.createElement("div",{className:X},a.createElement(I.B,{svg:Q.A,className:"ai_summary_nudge--svgIcon---Lky-"}),(0,x.tx)("whiteboard.ai_summary.nudge.cta"),a.createElement("div",{className:Z},a.createElement(P.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,x.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")}))))))});function et({num:e}){let t=184/e;return a.createElement("div",{className:"ai_summary_nudge--numberGraphic--CnM2r","aria-hidden":"true"},a.createElement(A.E,{fontSize:14,color:"secondary"},e),a.createElement("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}}))}function en(){let e=(0,u.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge),t=J(),n=j(t);return t&&e&&!n}var ea=n(748008),er=n(954908);function el(){let e=(0,u.wA)(),{isShowing:t,complete:n}=function(){let e=function(){let e=function(){let e=(0,l.md)(er.Bl),t=(0,l.md)(q.xo),n=(0,l.md)(q.MC),r=(0,l.md)(q.ji),i=(0,l.md)(q.EH);return a.useMemo(()=>{if("loaded"!==t.status||"loaded"!==n.status||"loaded"!==e.status||e.data)return(0,ea.gB)({isEligibleToShowUser:!1});let a=new Date(r).getTime()>Date.now()-864e5;return i>=3||t.data||n.data||a?(0,ea.gB)({isEligibleToShowUser:!1}):(0,ea.gB)({isEligibleToShowUser:!0})},[e,t,n,i,r])}(),t=en();return(0,ea.gB)({shouldShowNudge:!!(e.data.isEligibleToShowUser&&t)})}(),{show:t,isShowing:n,complete:r}=(0,f.e)({overlay:_.RSb,priority:g.N.SECONDARY_MODAL},[e]),i=en(),o=(0,u.d4)(e=>e.mirror.selectionProperties.numSelectedByType);return a.useEffect(()=>{t({canShow:e=>e.shouldShowNudge})},[t,e,o,i]),{isShowing:n,complete:r}}();return a.createElement(E.M,{isShowing:t},t&&a.createElement(p.fu,{name:h.e0.AI_SUMMARY_TOPBAR_NUDGE},a.createElement($,{onClose:()=>{e(m.b({[q.l0]:!0})),n()},onSummarize:()=>{e(m.b({[q.zp]:!0})),e(m.b({[q.l0]:!0})),n()},onAutoDismiss:()=>{n()}})))}var ei=n(459403),eo=n(338104),es=n(730143),ec=n(209595),ed=n(348038),eu=n(918777),em=n(887836),ep=n(752181);let ef=(0,l.eU)(!1);var eg=n(952039),eh=n(113752),eE=n(353231),e_=n(912344),ey=n(242583);let eb="slides_visual_bell_entrypoint_dismissed_user_flag";function eC(){return!function(){let e=(0,u.wA)(),t=(0,e_.d)(),n=(0,ep.f)(eb),r=(0,ey.$)(),l=(0,ey.N)(),[i,o]=a.useState(!1),[s,c]=a.useState(!1),d=a.useCallback(()=>{e(eg.F.enqueue({messageComponentKey:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,type:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,timeoutOverride:1e4,onDismiss:()=>{o(!0),e(m.b({[eb]:!0})),(0,eE.Cu)({trackingContext:"Slides conversion visual bell entrypoint",name:"slides_conversion_visual_bell_entrypoint_dismissed"}),e(eg.F.enqueue({message:(0,x.t)("slides.visual_bell.we_wont_ask_you_again")}))}}))},[e]);a.useEffect(()=>{l.size||e(eg.F.dequeue({matchType:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL}))},[e,l]),a.useEffect(()=>{n?.createdAt||i||!t||s||!(r>=3)||(d(),c(!0))},[d,n,i,s,r,t])}(),null}var ev=n(801517),ew=n(615233),eT=n(174121),eS=n(31898),ek=n(740495),eI=n(957872),eN=n(34375),ex=n(709292),eA=n(517776),eL=n(679996),eO=n(846835),eR=n(961359),eM=n(45937),eD=n(481651),eP=n(370715);let eF=(0,eA.r1)(eR.IR);function eB(){let e=(0,ev.md)(ex.mp),t=(0,ev.md)(ex.t),n=(0,ev.md)(eF),r=(0,ev.md)(es.yV),l=(0,u.wA)(),{uniqueId:i,isShowing:o,show:s,complete:c}=(0,f.e)({overlay:_.B14,priority:g.N.SECONDARY_MODAL},[e,t,n]),d=(0,ek.hn)();return(0,eN.E)(i,"properties-panel-select-tab",e=>{e.properties?.tab==="prototype"&&s({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&d()&&!n})}),a.createElement(eD.X,{description:(0,x.tx)("upsell.advanced_prototyping.description"),isShowing:o,media:a.createElement(eM.w,{src:(0,ew.ck)("30507591ad5cd385aaf75d4a16ef140b74ec821b"),aspectRatio:1.75}),onClose:c,position:eP.Q.BOTTOM_RIGHT,primaryCta:{label:(0,x.tx)("upsell.advanced_prototyping.see_plans"),type:"button",onClick:()=>{l(eS.to({type:eT.V,data:{upsellSource:eL.b.ADVANCED_PROTOTYPING_UPSELL,teamId:r?.team?.id,openCheckoutInNewTab:!0,featureList:(0,eO.xp)(eO.Q1.filter(e=>e!==eO.Xj.AUDIO_CONVERSATIONS),eO.Xj.ADVANCED_PROTOTYPING)}})),c()},ctaTrackingDescriptor:eI.c.SEE_PLANS},secondaryCta:{label:(0,x.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:eI.c.LEARN_MORE},title:(0,x.tx)("upsell.advanced_prototyping.title"),trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:eR.IR})}var eU=n(605885),eG=n(391301);let eK="seen_audio_nux",eV=(0,eA.r1)(eK);function eH(){let e=(0,l.md)(eV),t=(0,O.GS)(),n=(0,f.e)({overlay:_.y4J,priority:g.N.SECONDARY_MODAL},[e]);return(0,eN.E)(n.uniqueId,"Context Viewed",e=>{let t=e.properties?.name;"join-call-with-others"===t?n.show({canShow:e=>!e}):"should-close-open-audio-nux"===t&&n.isShowing&&n.complete()}),(0,eN.E)(n.uniqueId,"Lost DOM Target",()=>{n.isShowing&&n.complete()}),a.createElement(eG.rq,{isShowing:n.isShowing,userFlagOnShow:eK,emphasized:!0,title:(0,x.tx)("collaboration.voice.join_the_conversation"),description:a.createElement("div",{style:t?{display:"inline"}:void 0},a.createElement(eU.OS,null)),targetKey:"audio-nux-key",onClose:n.complete,trackingContextName:"audio_nux_pointer"})}var ez=n(355755),eW=n(385711),ej=n(854640),eY=n(225258),eJ=n(518383),eq=n(18584),eX=n(446695),eZ=n(503190),eQ=n(978665),e$=n(226455),e0=n(704410),e1=n(288711),e2=n(301781),e3=n(652576),e5=n(910398),e4=(e=>(e[e.DONT_SHOW=0]="DONT_SHOW",e[e.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",e[e.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",e))(e4||{});let e6={"Export PNG with Color Profile":"867977941678289774"};function e8(){let{plugins:e}=(0,e3.wH)(),t=Object.fromEntries(Object.entries(e6).filter(([t,n])=>Object.values(e).some(e=>e.manifest.id===n)));return Object.keys(t).length>0?t:null}function e9(){let e=(0,e5.Av)();return(0,e5.tK)(e)}let e7=(0,l.eU)(null),te="color_management_default_to_p3_modal--onboardingFooter--VSeAU",tt="color_management_default_to_p3_modal--content--FzYUr",tn="seen_color_management_default_to_p3_modal",ta=e$.tO,tr=eX.O0,tl="color_management_default_to_p3_modal";function ti(){let e=(0,f.e)({overlay:_.t_E,priority:g.N.SURVEY}),{currentStep:t,next:n,back:r}=(0,eW.A)({numSteps:2,onComplete:e.complete}),i=(0,ep.f)(tn),[o]=(0,e1.jJ)(),s=e9(),c=e8(),[d,u]=(0,l.fp)(e7),m=(0,ej.jK)(),[p,h]=(0,a.useState)(!1),[E]=(0,l.fp)(eQ.n$),y=(0,ej.C$)();return a.useEffect(()=>{i||null!=d||m.colorProfilePreference!==eY.M.DEFAULT||(u(eY.M.DISPLAY_P3),y(eY.M.DISPLAY_P3,{canSeeP3:s,desktopSetting:o,p3Plugins:c}),e.show())},[s,d,o,i,e,c,u,y,m.colorProfilePreference]),(0,eN.E)(e.uniqueId,eZ.kF,()=>{e.isShowing&&0===t&&e.complete()}),(0,eN.E)(e.uniqueId,eX.nu,()=>{e.isShowing&&1===t&&e.complete()}),(0,eN.E)(e.uniqueId,eZ.kL,()=>{p||e.isShowing||0!==t||E||(n(),e.show())}),(0,eN.E)(e.uniqueId,eQ.E1,()=>{p||e.isShowing||0!==t||(n(),e.show())}),a.createElement(eJ.U,{currentStep:t,isShowing:e.isShowing},a.createElement(eq.h,{ctaText:(0,x.tx)("general.next"),element:to,isShowing:e.isShowing,modalType:e0.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:n,onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:ta,stepCounter:a.createElement("span",{className:te},(0,x.tx)("fullscreen.color_management.curator.step_1of2")),title:a.createElement(a.Fragment,null,(0,x.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.title")),trackingContextName:tl,userFlagOnShow:tn,width:300}),a.createElement(eq.h,{ctaText:(0,x.tx)("general.got_it"),element:ts,isShowing:e.isShowing,modalType:e0.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:()=>{e.complete(),h(!0)},onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:tr,preventDismissOnClickSecondaryCta:!0,secondaryCtaText:a.createElement("div",{onClick:r},(0,x.tx)("general.previous")),stepCounter:a.createElement("span",{className:te},(0,x.tx)("fullscreen.color_management.curator.step_2of2")),title:a.createElement(a.Fragment,null,(0,x.tx)("fullscreen.color_management.curator.change_document_color_profile.title")),trackingContextName:tl,userFlagOnShow:tn,width:300}))}function to(){return a.createElement("p",{className:tt},(0,x.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.content",{colorProfileSetting:a.createElement("strong",null,(0,x.tx)("fullscreen.color_management.curator.color_profile_setting"))})," ",a.createElement(b.N,{newTab:!0,href:e2.s},(0,x.tx)("rcs.rcs_shared.learn_more")))}function ts(){return a.createElement("p",{className:tt},(0,x.tx)("fullscreen.color_management.curator.change_document_color_profile.content",{fileColorProfile:a.createElement("strong",null,(0,x.tx)("fullscreen.color_management.curator.file_color_profile"))})," ",a.createElement(b.N,{newTab:!0,href:e2.s},(0,x.tx)("rcs.rcs_shared.learn_more")))}function tc(){let[e]=(0,e1.jJ)(),t=e9(),n=e8(),[r,i]=(0,l.fp)(e7),o=(0,ej.jK)(),s=(0,ej.C$)();return a.useEffect(()=>{null==r&&o.colorProfilePreference===eY.M.DEFAULT&&(i(eY.M.SRGB),s(eY.M.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:n}))},[t,r,e,n,i,s,o.colorProfilePreference]),null}function td(){let e=function(){let e=(0,ej.jK)().colorProfilePreference!==eY.M.DEFAULT,t=function(){let[e]=(0,e1.jJ)(),t=e9(),n=e8();return t&&n&&["unmanaged","default",null].includes(e)?eY.M.DISPLAY_P3:eY.M.SRGB}(),[n]=(0,l.fp)(e7);return e&&null===n?0:t===eY.M.SRGB?1:t===eY.M.DISPLAY_P3?2:0}();if(!function(e){let t=(0,ez.aV)(),[n,r]=function(e){let[t,n]=a.useState(!1),[r,l]=a.useState(!1);return a.useEffect(()=>{let e;return r&&(e=setTimeout(()=>{n(!t),l(!1)},2e3)),()=>clearTimeout(e)},[r,t,2e3]),[t,a.useCallback(()=>l(!0),[])]}(2e3);return a.useEffect(()=>{t||r()},[t,r]),n}(0))return null;switch(e){case e4.DONT_SHOW:return null;case e4.DEFAULT_TO_SRGB:return a.createElement(tc,null);case e4.DEFAULT_TO_DISPLAY_P3:return a.createElement(ti,null)}}var tu=n(425835),tm=n(859480),tp=n(614092),tf=n(693503),tg=n(533473);function th(){let e=(0,f.e)({overlay:_.qnr,priority:g.N.DEFAULT_MODAL}),t=(0,u.wA)(),n=(0,u.Pj)(),r=(0,tp.Fk)((e,t)=>(0,tm.zC)(e,t),n.getState().mirror.appModel.currentPage),l=(0,tu.JU)((0,tu.J3)()),i=!!es.q5()?.template,o=(0,ez.aV)(),s=!!(0,ep.f)("seen_custom_template_publish_nudge"),c=ep.f("figjam_editor_onboarded")?.updatedAt?.getTime(),d=!!c&&c<Date.now()-12096e5,p=!o&&!s&&l&&!r&&!i&&d;return((0,a.useEffect)(()=>{p&&setTimeout(()=>{e.show(),t(m.b({seen_custom_template_publish_nudge:!0}))},1e3)},[t,e,p]),e.isShowing)?a.createElement(tf.i,{step:{modalType:e0.q3.DRAGGABLE,element:tg.ZH,trackingContextName:"custom_template_publish_nudge",onboardingKey:e$.v4,title:a.createElement("div",{className:N.s.font13.fontMedium.pl8.pt16.pb16.$},(0,x.tx)("whiteboard.inserts.custom_templates_header")),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:e.complete,onClose:e.complete,dismissModal:e.complete,dispatch:t}):null}var tE=n(989232),t_=n(29188),ty=n(637640),tb=n(359822);let tC=(0,eA.r1)("seen_desktop_download_modal_prompt"),tv=(0,eA.r1)("seen_desktop_download_modal_prompt_v2"),tw=(0,ex.tH)("used_desktop_app");function tT(){let e=(0,l.md)(tC),t=(0,l.md)(tv),n=(0,l.md)(ex.mp),o=(0,l.md)(tw),s=(0,r.k)().desktop_show_download_prompt,{isShowing:c,show:d,complete:u}=(0,f.e)({overlay:_.kmj,priority:g.N.DEFAULT_MODAL},[t,e,n]);if((0,tb.h)(()=>{t_.eD||o||!s||d({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(n)&&!t})}),!c)return null;let m=()=>{u()};return a.createElement(eD.X,{description:(0,x.tx)("desktop_download_modal_prompt.level_up_your_workflow_with_tabs"),isShowing:c,media:a.createElement(eM.y,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:(0,ew.ck)("cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b")}),onClose:m,position:eP.Q.BOTTOM_RIGHT,primaryCta:{label:(0,x.tx)("desktop_download_modal_prompt.get_the_desktop_app"),type:"button",onClick:()=>{(0,tE.trackEvent)("desktop_modal_download_prompt_cta_clicked_v2"),m(),ty.Ay.redirect(`/download/desktop/${i.Ay.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:eI.c.DESKTOP_APP_DOWNLOAD},secondaryCta:{label:(0,x.tx)("desktop_download_modal_prompt.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:eI.c.LEARN_MORE},title:(0,x.tx)("desktop_download_modal_prompt.download_the_figma_desktop_app"),trackingContextName:"Desktop Download Modal Prompt",userFlagOnShow:"seen_desktop_download_modal_prompt_v2"})}var tS=n(387025);n(82433);var tk=n(539829),tI=n(972382),tN=n(16260),tx=n(556049),tA=n(170911),tL=n(271708),tO=n(659891),tR=n(62053);let tM="seen_figjam_advanced_diagramming_v2_onboarding",tD=(0,ex.tH)("last_figjam_at"),tP=(0,eA.r1)("seen_figjam_advanced_diagramming_v2_dev_mode_callout"),tF=(0,eA.r1)(tM),tB={devModeButton:{display:"x78zum5",background:"xf1fqmp",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,color:"x1tk3asg",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,padding:"xf67zum",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,justifyContent:"xl56j7k",alignItems:"x6s0dn4",minHeight:"x4wtjwi",$$css:!0}};function tU(){let e=(0,tI.w)(),t=(0,tO.es)();return(0,a.useMemo)(()=>"developer"===e&&!t,[e,t])}function tG(){let e=(0,l.md)(tP),t=(0,l.md)(tF),n=tU(),i=(0,l.md)((0,l.Rq)(tk.Sb)),o=(0,l.md)(tD),[s,c]=(0,a.useState)(!1),{show:d,isShowing:u,complete:m}=(0,f.e)({overlay:_.BZL,priority:g.N.SECONDARY_MODAL},[e,i]),p=(0,a.useCallback)(()=>{c(!0),m()},[m,c]),h=(0,a.useCallback)(()=>{ty.Ay.redirect("/community/file/1488647760610370263","_blank"),p()},[p]);return a.useEffect(()=>{!t&&n&&(0,r.k)().figjam_ad_v2_onboarding&&(o&&(new Date().getTime()-o.getTime())/864e5<30||d({canShow:(e,t)=>!e&&!t}))},[d,t,o,n]),a.createElement(eD.X,{position:eP.Q.BOTTOM_RIGHT,description:(0,x.tx)("whiteboard.ad_onboarding.v2.dev_mode.body"),isShowing:u,media:a.createElement(eM.y,{src:(0,ew.ck)("41e390cf5798d20d2231b18959144973bc4edc64"),alt:(0,x.t)("whiteboard.ad_onboarding.v2.media.alt"),aspectRatio:16/9}),onClose:p,primaryCta:{label:(0,x.tx)("whiteboard.ad_onboarding.v2.try_it_out"),type:"button",onClick:h,ctaTrackingDescriptor:eI.c.TRY_IT_OUT,variantOverride:"custom",customVariantStyles:tB.devModeButton},title:(0,x.tx)("whiteboard.ad_onboarding.v2.dev_mode.header"),trackingContextName:"FigJam Dev Diagramming Onboarding"})}function tK(){let e=(0,l.md)(tF),t=(0,tO.ar)(),n=tU(),i=(0,l.md)((0,l.Rq)(tk.Sb)),o=(0,tA.$y)(),[s,c]=(0,a.useState)(!1),{show:d,isShowing:u,complete:m}=(0,f.e)({overlay:_.uB3,priority:g.N.SECONDARY_MODAL},[e,i]),p=(0,a.useCallback)(()=>{c(!0),m()},[m,c]);return a.useEffect(()=>{n&&(0,r.k)().figjam_ad_v2_onboarding&&d({canShow:(e,t)=>o&&!e&&!t})},[o,d,n]),a.createElement(tN.WZ,{isShowing:u,steps:[{title:(0,x.tx)("whiteboard.ad_onboarding.v2.shapes_button.header"),description:(0,x.tx)("whiteboard.ad_onboarding.v2.shapes_button.body"),targetKey:tR.BC,trackingContextName:"AD Onboarding > Shapes Button",media:a.createElement(eM.y,{src:(0,ew.ck)("41e390cf5798d20d2231b18959144973bc4edc64"),alt:(0,x.t)("whiteboard.ad_onboarding.v2.media.alt"),aspectRatio:16/9}),arrowPosition:tx.F_.BOTTOM},{title:(0,x.tx)("whiteboard.ad_onboarding.v2.other_libraries.header"),description:(0,x.tx)("whiteboard.ad_onboarding.v2.other_libraries.body"),targetKey:tL.j9,trackingContextName:"AD Onboarding > Developer Libraries",arrowPosition:tx.F_.LEFT_TITLE,disableHighlight:!0,shouldRepositionOnTargetLost:!1,whenTargetLost:"move_to_center",onStepShow:()=>{t()}},{title:(0,x.tx)("whiteboard.ad_onboarding.v2.search.header"),description:(0,x.tx)("whiteboard.ad_onboarding.v2.search.body"),targetKey:tL.bP,trackingContextName:"AD Onboarding > Search",arrowPosition:tx.F_.LEFT_TITLE,arrowPadding:8,onStepShow:()=>{s||t()}}],onComplete:p,userFlagOnShow:tM})}var tV=n(422775),tH=n(186082),tz=n(896046),tW=n(986368),tj=n(760641),tY=n(125761),tJ=n(645445),tq=n(589673),tX=n(177755);function tZ(e){let{viewedSidebar:t,setViewedSidebar:n}=e,r=(0,u.wA)(),l=(0,tI.w)({rolesToDefaultToOther:["education"]}),i=(0,tq.j)(l);return a.useMemo(()=>{t||(n(!0),r(tW.En({initialX:0,initialY:0,pinned:tJ.t.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:i})))},[r,i,t,n]),a.createElement(a.Fragment,null)}function tQ(){let e=(0,tY.TA)(),t=(0,es.q5)(),n=(0,u.d4)(e=>e.mirror.appModel.currentPage),r=(0,tp.Fk)((e,t)=>(0,tm.zC)(e,t),n),i=(0,u.d4)(e=>!(0,tX.zP)(e.mirror.appModel.currentTool)),o=(0,tX.Uj)(t,e||""),s=(0,eA.Fu)("interacted_figjam_whats_new_v2_cta"),c=(0,l.md)(s),d=(0,l.md)(tk.wg),[m,p]=a.useState(!1),h=(0,f.e)({overlay:_.hsL,priority:g.N.HIGH_PRIORITY_MODAL},[c]);(0,tb.h)(()=>{h.show({canShow:e=>(0,tX.SS)(e)&&d&&(0,tX.ZQ)(t)&&r&&!i&&o})});let E=(0,tj.LR)(),y=()=>{E(),h.complete()};return a.createElement(eq.h,{isShowing:h.isShowing,modalType:e0.q3.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>a.createElement(tZ,{viewedSidebar:m,setViewedSidebar:p}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:h.complete,onClose:y,onManualDismiss:y})}var t$=n(719038),t0=n(961675),t1=n(72462),t2=n(813213),t3=n(50429),t5=n(178806),t4=n(847947),t6=n(24052);let t8="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function t9({dismissModal:e}){let t=(0,u.wA)(),n=(0,es.tS)(),r=(0,u.d4)(e=>e.user?.email_validated_at),l=(0,u.d4)(e=>n?e.loadingState[t4.Q.loadingKeyForPayload({file_key:n})]:null),i=(0,u.d4)(e=>n?e.loadingState[t6.D.loadingKeyForPayload({fileKey:n})]:null),o=(0,t$.s)(),s=l===t1.r.LOADING||"loading"===o.status||i===t1.r.LOADING,c=l===t1.r.SUCCESS||i===t1.r.SUCCESS;if((0,a.useEffect)(()=>{c&&e()},[c,e]),!n||!r)return null;let d=(0,eu.A)(r).isAfter((0,eu.A)().subtract(5,"minutes"));return a.createElement("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS"},a.createElement("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-"},a.createElement("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,x.tx)("figjam_try.save_modal.headline")),a.createElement(t2.k0,{multiple:1}),a.createElement("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},d?(0,x.tx)("figjam_try.save_modal.new_team"):(0,x.tx)("figjam_try.save_modal.save_one_team",{share:a.createElement("p",{className:t8},(0,x.tx)("figjam_try.save_modal.share")),file_duplicate:a.createElement("p",{className:t8},(0,x.tx)("figjam_try.save_modal.file_duplicates"))})),a.createElement(t2.k0,{multiple:3}),a.createElement(t5.lR,{onClick:()=>{"loaded"===o.status&&(0,ea.oA)(o.data?.deviceTryFile)?t(t6.D({fileKey:n})):t(t4.Q({file_key:n}))},disabled:s,trackingProperties:{buttonContext:"Let\u2019s jam"}},a.createElement(t3.x,{isLoading:s},()=>(0,x.tx)("figjam_try.save_modal.cta")))))}function t7(){let e=(0,f.e)({overlay:_.JGK,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,l.md)(es.yV),n=t?.isTryFile,r=(0,t$.s)(),[i,o]=a.useState(!1);return(0,a.useEffect)(()=>{e.isShowing&&!n&&e.complete()},[n,e]),(0,a.useEffect)(()=>{let t=(0,t0.QL)(e$.ao.key)===e$.ao.value,a="loaded"===r.status&&!!(0,ea.oA)(r.data?.deviceTryFile);t&&a&&!i?(e.show(),o(!0)):t&&n&&!a&&e.show()},[e,n,r,i]),a.createElement(eq.h,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:e0.q3.WELCOME,element:({dismissModal:e})=>a.createElement(t9,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}e0.q3.WELCOME,({dismissModal:e})=>a.createElement(t9,{dismissModal:e});var ne=n(162796),nt=n(309488),nn=n(347487),na=n(658796);let nr="figjam_try_confirm_save--textContainer--9YaF4";function nl(){let[e,t]=a.useState(!1),{show:n,isShowing:r,complete:i}=(0,f.e)({overlay:_.XAb,priority:g.N.HIGH_PRIORITY_MODAL}),o=(0,l.md)(es.yV),s=o?.isTryFile,c=(0,t$.s)(),d=(0,t0.QL)(e$.ao.key)===e$.ao.value,u=(0,l.md)(na.N);return(0,a.useEffect)(()=>{!e&&d&&!s&&"loaded"===c.status&&ea.oA(c.data?.deviceTryFile)?.claimedAt&&ea.oA(c.data?.deviceTryFile)?.claimedByUserId!==u.data&&n()},[e,s,d,c,n,u]),a.createElement(E.M,{isShowing:r},a.createElement(ni,{onClose:()=>{i(),t(!0)},open:r}))}function ni(e){let t=ne.hS({...e,preventUserClose:!0});return a.createElement(p.fu,{name:"figjam_try_device_already_claimed_overlay"},a.createElement(nt.bL,{manager:t,width:420,height:"fixed"},a.createElement(nn.vo,null,a.createElement(nn.nB,{padding:32},a.createElement("div",{className:nr},a.createElement("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,x.tx)("figjam_try.already_claimed_modal.header"))),a.createElement(t2.k0,{multiple:1}),a.createElement("div",{className:nr},a.createElement("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,x.tx)("figjam_try.already_claimed_modal.description",{file_duplicate:a.createElement("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4"},(0,x.tx)("figjam_try.already_claimed_modal.file_duplicate"))}))),a.createElement(t2.k0,{multiple:3}),a.createElement(t5.lR,{onClick:e.onClose},(0,x.tx)("figjam_try.already_claimed_modal.continue"))))))}var no=n(553833),ns=n(526594),nc=n(221741),nd=n(639765);let nu=(0,eA.r1)(no.USER_FLAG_V2),nm=(0,ex.tH)("last_figjam_at"),np=(0,eA.r1)("dont_show_figjam_updates_in_figma_design");function nf(){let e=(0,l.md)(np),t=(0,l.md)(tk.wg),n=(0,l.md)(ex.mp),r=(0,l.md)(nm),i=(0,l.md)(nu),o=(0,l.md)(ex.Ot),s=(0,ns.jO)(),c=(0,f.e)({overlay:_.Ttn,priority:g.N.DEFAULT_MODAL},[e,n,i,o]);return(0,tb.h)(()=>{c.show({canShow:(e,n,a,l)=>{if(e||l)return!1;let i=(0,nd.f)({userCreatedAt:n,lastUsedFigjamDate:r,hasSeenOverlayV2:a});return(!t||s)&&i}})}),a.createElement(nc.xZ,{context:"editor",isShowing:c.isShowing,onClose:c.complete})}var ng=n(724275),nh=n(585369),nE=n(227276),n_=n(244534);function ny(){let e=(0,u.wA)(),t=(0,u.d4)(e=>e.currentTeamId),n=(0,u.Pj)(),r=(0,l.md)(ex.t),i=(0,l.md)(tk.NZ),o=(0,ns.jO)(),s=(0,l.md)(tk.wg),{getConfig:c}=(0,nE.I7)("exp_library_upsells_v2"),{isShowing:d,show:m,complete:p,uniqueId:h}=(0,f.e)({overlay:_.BrS,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>c().get("show_library_upsell",!1),predicate:e=>e,postCheck:e=>!0}},[r]);(0,a.useEffect)(()=>{if(!d)return;let t=n.getState().leftPanel.activeTab;return e(n_.FP({tab:S.xae.ASSETS})),()=>{e(n_.FP({tab:t}))}},[e,n,d]);let E=(0,a.useCallback)(e=>{e.properties?.action==="copy_paste_from_different_file"&&s&&m({canShow:e=>e&&i&&o})},[s,m,i,o]),y=(0,a.useCallback)(()=>{d&&p()},[d,p]);return(0,eN.E)(h,"component_instance_inserted",E),a.createElement(eG.rq,{arrowPosition:tx.F_.LEFT_TITLE,description:(0,x.tx)("rcs.upsell_libraries.quickly_access_components"),emphasized:!0,isShowing:d,onClose:y,onTargetLost:y,primaryCta:{label:(0,x.tx)("rcs.upsell_libraries.see_plans"),type:"button",onClick:()=>{e(eS.to({type:eT.V,data:{teamId:t??void 0,upsellSource:eL.b.UPSELL_LIBRARIES_REUSE_COMPONENTS_OVERLAY,openCheckoutInNewTab:!0}})),y()},ctaTrackingDescriptor:eI.c.GOT_IT},secondaryCta:{label:(0,x.tx)("rcs.upsell_libraries.not_now"),type:"button",onClick:y,ctaTrackingDescriptor:eI.c.GOT_IT},targetKey:g.D,title:(0,x.tx)("rcs.upsell_libraries.reuse_components_across_all_files"),trackingContextName:"Upsell Libraries Reuse Components Overlay"})}var nb=n(426459),nC=n(744577),nv=n(513806);let nw="seen_link_shortcut_overlay",nT=(0,eA.r1)(nw);function nS(){let e=(0,u.wA)(),t=(0,ev.md)(nT),{show:n,isShowing:r,complete:l,uniqueId:i}=(0,f.e)({overlay:_.v75,priority:g.N.DEFAULT_MODAL},[t]),o=nv.y.isApple(),s=a.useMemo(()=>a.createElement(nb.S,{shortcut:o?"\u2318K":"Ctrl+K"}),[o]),c=a.useMemo(()=>a.createElement(nb.S,{shortcut:o?"\u21E7\u2318U":"Shift+Ctrl+U"}),[o]);return(0,eN.E)(i,["show_link_shortcuts_overlay"],()=>{n({canShow:t=>(e(m.b({seen_link_shortcut_overlay:!0})),!t)})}),a.createElement(eD.X,{description:a.createElement("div",null,(0,x.tx)("fullscreen.link_shortcuts_onboarding.description"),a.createElement("ul",{className:N.s.py8.$,style:nC.sx.add({listStyle:"disc inside"}).$},a.createElement("li",null,(0,x.tx)("fullscreen.link_shortcuts_onboarding.show_actions_updated",{actionsKeyCommand:a.createElement("strong",null,s)})),a.createElement("li",null,(0,x.tx)("fullscreen.link_shortcuts_onboarding.show_links_updated",{link:a.createElement("strong",null,(0,x.tx)("fullscreen.link_shortcuts_onboarding.create_link")),linkKeyCommand:c})))),isShowing:r,onClose:l,position:eP.Q.BOTTOM_RIGHT,primaryCta:{label:(0,x.tx)("fullscreen.link_shortcuts_onboarding.got_it"),type:"button",onClick:l,ctaTrackingDescriptor:eI.c.GOT_IT},testId:"linkShortcutOverlay",title:(0,x.tx)("fullscreen.link_shortcuts_onboarding.title"),trackingContextName:"Link Shortcuts Preference Onboarding Modal",userFlagOnShow:nw,width:350})}var nk=n(536384),nI=n.n(nk),nN=n(133318),nx=n(30575),nA=n(856036),nL=n(821527);let nO="dismissed_local_component_asset_panel_pointer",nR=(0,eA.r1)(nO);function nM(){let e=(0,u.wA)(),t=(0,tY.TA)(),n=(0,l.md)(tk.wg),r=(0,l.md)(nR),i=(0,l.md)(tk.NZ),o=(0,l.md)(tk.pQ),s=(0,l.md)(ex.t),c=(0,ns.jO)(),d=es.q5()?.teamId==null,p=(0,O.GS)(),{isShowing:h,show:E,complete:y,uniqueId:b}=(0,f.e)({overlay:_.Smd,priority:g.N.SECONDARY_MODAL,experiment:{check:()=>(0,nx.Hz)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[r,s,o]),C=(0,a.useCallback)(()=>{n&&E({canShow:(e,t,n)=>c&&t&&(n||i)})},[c,n,i,E]),v=(0,a.useCallback)(()=>{h&&(y(),e(m.b({[nO]:!0})))},[e,y,h]);return(0,eN.E)(b,"action_create_symbol",C),(0,eN.E)(b,"component_instance_inserted",v),a.createElement(eG.rq,{isShowing:h,targetKey:e$.Qr,description:a.createElement(a.Fragment,null,a.createElement("div",{className:N.s.if(p,N.s.pt6.mr36).$},d?(0,x.tx)("design_systems.assets_panel.drag_drop_component_draft"):(0,x.tx)("design_systems.assets_panel.drag_drop_component")),p&&a.createElement(nN.Jn,{onClick:v,innerText:(0,x.t)("general.close"),"aria-label":(0,x.t)("general.close"),className:nI()(nA.Rf,N.s.absolute.top0.right0.mr8.mt10.$),svg:nL.default})),primaryCta:{label:(0,x.tx)("design_systems.assets_panel.got_it"),type:"button",onClick:v,ctaTrackingDescriptor:eI.c.GOT_IT},onClose:v,trackingContextName:"Local Component Asset Panel Pointer",arrowPosition:tx.F_.LEFT_TITLE,emphasized:!0,hideCloseButton:p})}var nD=n(304756),nP=n(116147);let nF=(0,eA.r1)("seen_mobile_comment_download_modal_prompt");function nB(){let e=(0,u.wA)(),t=(0,l.md)(nF),n=(0,u.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),i=(0,u.d4)(e=>e.user?.created_at),o=(0,eu.A)(i).add(14,"day").isSameOrAfter((0,eu.A)()),{isShowing:s,show:c,complete:d,uniqueId:m}=(0,f.e)({overlay:_.H2x,priority:g.N.DEFAULT_MODAL},[t]);if((0,eN.E)(m,nP.w,(0,a.useCallback)(()=>{c({canShow:e=>!!(0,r.k)().mobile_download_modal_prompts&&!e&&!o&&!n})},[c,n,o])),!s)return null;let p=()=>{nD.Ay.post("/api/send_mobile_download_email",{type:"comment"}),(0,tE.trackEvent)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),d(),e(eg.F.enqueue({message:(0,x.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return a.createElement(eD.X,{description:(0,x.tx)("mobile_download_prompts.scan_the_qr_code"),isShowing:s,media:a.createElement(eM.y,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:(0,ew.ck)("6c270bb31fb5af03393425b7f0a6462ec59d04ab")}),onClose:()=>{d()},position:eP.Q.BOTTOM_RIGHT,primaryCta:{label:(0,x.tx)("mobile_download_prompts.email_me"),type:"button",onClick:()=>p(),ctaTrackingDescriptor:eI.c.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},secondaryCta:{label:(0,x.tx)("mobile_download_prompts.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:eI.c.LEARN_MORE},title:(0,x.tx)("mobile_download_prompts.never_miss_a_comment"),trackingContextName:"Mobile Comment Download Modal Prompt",userFlagOnShow:"seen_mobile_comment_download_modal_prompt"})}var nU=n(375718),nG=n(97410),nK=n(211128),nV=n(980686),nH=n(468325),nz=n(115044),nW=n(638634),nj=n(238462),nY=n(66699);function nJ(e){return a.createElement("div",{className:"connector_modal_wrapper--connectorModalWrapper--uCUjA"},e.children)}var nq=n(593713),nX=n(481030),nZ=n(303397),nQ=n(55201),n$=n(218089);let n0="onboard_figjam_viewer--contentContainer--t9zim",n1="onboard_figjam_viewer--imageContainer--rvqD8",n2="onboard_figjam_viewer--image--ZdwAA",n3="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",n5="onboard_figjam_viewer--normal--HjE2J",n4="onboard_figjam_viewer--bold--kC3mV";class n6 extends a.PureComponent{render(){let e=a.createElement(a.Fragment,null,this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&(0,x.tx)("rcs.rcs_shared.done"),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&(0,x.tx)("rcs.figjam_onboarding.next"));return a.createElement("div",{className:n0},a.createElement("div",{style:nC.sx.add({width:`${this.props.imgContainerWidth}px`}).$,className:n1},a.createElement("span",{className:"onboard_figjam_viewer--imgHelper--SJXYZ","aria-hidden":"true"}),a.createElement("img",{className:n2,src:this.props.imgSrc,alt:""})),a.createElement("div",{className:nI()({[n3]:!0,[n5]:!this.props.isBold,[n4]:!!this.props.isBold})},this.props.titleText&&a.createElement("div",{className:"onboard_figjam_viewer--title--k1Gpk"},this.props.titleText),a.createElement("div",{className:"onboard_figjam_viewer--text--xkcTB"},this.props.bodyText),a.createElement("div",{className:"onboard_figjam_viewer--bottomContentRow--PgTeU"},a.createElement("div",{className:nI()({"onboard_figjam_viewer--secondaryText--THVcI":!0,[n5]:!this.props.isBold,[n4]:!!this.props.isBold})},this.props.steps?(0,x.tx)("rcs.rcs_shared.step_counter",{currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):a.createElement(a.Fragment,null)),this.props.isBold?a.createElement(n$.J,{onClick:this.props.onNext,autoFocus:!0},e):a.createElement(t5.$z,{onClick:this.props.onNext},e))),a.createElement("div",{className:"onboard_figjam_viewer--closeButton--hm43f"},a.createElement(y.K,{onClick:this.props.onDismiss,"aria-label":(0,x.t)("modal.close")},a.createElement(v.A,{className:this.props.isBold?n4:void 0}))))}}n6.displayName="FigJamOnboardingModal";var n8=n(960161);let n9=(0,ew.ck)("07ff49c75c8933ea70ff2e4776503291c31a35ef");function n7(e){let t=(0,nQ.O)();(0,a.useEffect)(()=>(nZ.Y5.triggerAction("set-tool-hand",null),()=>nZ.Y5.triggerAction("set-tool-default",null)),[]),(0,a.useEffect)(()=>(t({eventName:"hand_tooltip_shown"}),()=>t({eventName:"pan_zoom_completed"})),[t]);let n=(0,nx.Un)();return a.createElement(nJ,null,a.createElement(nq.Dv,{targetType:"dom",targetKey:n8.N,topPadding:-6,hasShadow:e.hasShadow},a.createElement(n6,{bodyText:a.createElement("span",null,(0,x.tx)("rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",{spaceKey:a.createElement("b",null,(0,x.tx)("rcs.figjam_onboarding.space"))})),onNext:e.onClickPrimaryCta,steps:{current:2,total:n?2:3},onDismiss:()=>{e.dismissModal(),t({eventName:"hand_tooltip_dismissed"})},imgSrc:n9})))}var ae=n(475005);let at=(0,ew.ck)("4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a");function an(e){let t=i.Ay.mac?(0,x.t)("rcs.figjam_onboarding.cmd"):(0,x.t)("rcs.figjam_onboarding.ctrl"),n=(0,ae.v)()?-10:-3,r=(0,nx.Un)(),l=(0,nQ.O)();return(0,a.useEffect)(()=>{l({eventName:"zoom_tooltip_shown"})},[l]),a.createElement(nJ,null,a.createElement(nq.Dv,{targetType:"dom",topPadding:n,targetKey:n8.q,hasShadow:e.hasShadow},a.createElement(n6,{bodyText:a.createElement("span",null,(0,x.tx)("rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",{commandKey:a.createElement("b",null,t),plusOrMinusKeys:a.createElement("b",null,(0,x.tx)("rcs.figjam_onboarding.plus_or_minus"))})),onNext:e.onClickPrimaryCta,steps:{current:1,total:r?2:3},onDismiss:()=>{e.dismissModal(),l({eventName:"zoom_tooltip_dismissed"})},imgSrc:at})))}function aa(e){return a.createElement(eq.h,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:e0.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:an,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ar(e){let t=(0,nx.Un)();return a.createElement(eq.h,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:e0.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:n7,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let al=(0,ew.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1"),ai=[aa,ar,function(e){return a.createElement(eq.h,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:e0.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>a.createElement(nJ,null,a.createElement(nq.Dv,{targetType:"dom",targetKey:e$.v4,topPadding:-6},a.createElement(n6,{bodyText:a.createElement("span",null,(0,x.tx)("rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team")),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:al}))),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];var ao=n(765770),as=n(729586),ac=n(236254),ad=n(601295),au=n(410725),am=n(995218),ap=n(318147),af=n(55116);function ag({skipAccountCreationDateCheck:e=!1}){let t=(0,ez.aV)(),n=(0,am.lg)(),r=(0,es.q5)(),i=(0,l.md)(ex.mp),o=(0,au.Rs)(af.KMT,{currentOrgId:r?.parentOrgId||null});return a.useMemo(()=>ad.Qw.all([i,o]).transform(a=>{let[r,l]=a,i=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(r),o=!!l.org?.k12GoogleOrg||(0,ac.aA)(l.currentUser.profile?.jobTitle||"");return!t&&n===ap._Y.WHITEBOARD&&(e||i)&&o}),[i,o,n,t,e])}let ah=(0,ew.ck)("db6976747d085e1350d443cd04b08e7ba979b86b");function aE({isShowing:e,onPrimaryCtaClick:t,onClose:n}){return a.createElement(E.M,{isShowing:e},a.createElement(p.fu,{name:"Share to Google Classroom New User Onboarding"},a.createElement(nq.Dv,{targetType:"dom",targetKey:"share",isBold:!0,topPadding:-6,autoWidth:!0},a.createElement(n6,{isBold:!0,titleText:(0,x.tx)("whiteboard.google_classroom.onboarding.new_user.header"),bodyText:(0,x.tx)("whiteboard.google_classroom.onboarding.new_user.body"),buttonText:(0,x.tx)("whiteboard.google_classroom.onboarding.show_me"),onNext:t,onDismiss:n,imgSrc:ah,imgContainerWidth:105}))))}function a_({isShowing:e,onClose:t}){return a.createElement(eG.rq,{arrowPosition:tx.F_.LEFT_TITLE,clickOutsideToHide:!0,description:a.createElement("div",null,(0,x.tx)("whiteboard.google_classroom.pointer.body")),disableHighlight:!0,emphasized:!0,isShowing:e,onClose:t,onTargetLost:t,targetKey:ac.pb,trackingContextName:"Share to Google Classroom Share Option Pointer",zIndex:eP.R.MODAL})}let ay="seen_figjam_share_to_google_classroom_existing_user_onboarding",ab=(0,eA.r1)(ay),aC="seen_figjam_share_to_google_classroom_new_user_onboarding",av=(0,eA.r1)(aC),aw=(0,eA.r1)("has_shared_to_google_classroom"),aT=(0,eA.r1)("figjam_editor_onboarded"),aS="start_share_to_classroom_new_user_onboarding";function ak(){let e=(0,u.wA)(),t=ag({skipAccountCreationDateCheck:!0}),n=(0,l.md)(ab),r=(0,l.md)(av),i=(0,l.md)(aw),o=(0,l.md)(ac.Ij),{show:s,isShowing:c,complete:d,uniqueId:p}=(0,f.e)({overlay:_.DKg,priority:g.N.OVERRIDING_MODAL},[r,n,i,t]);(0,eN.E)(p,aS,()=>{s({onShow:()=>{e(m.b({[aC]:!0}))},canShow:(e,t,n,a)=>!e&&!t&&!n&&a})}),a.useEffect(()=>{n.data&&d()},[n,d]);let{currentStep:h,next:E}=(0,eW.A)({numSteps:2,onComplete:d}),y=function({isShowing:e,next:t,complete:n}){let r=(0,u.wA)(),l=(0,es.q5)();return[a.createElement(aE,{key:"share-to-google-classroom-new-user-callout",isShowing:e,onPrimaryCtaClick:()=>{if(!l){n();return}r((0,eS.to)({type:as.g_,data:{fileKey:l.key,source:ao.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:n}),a.createElement(a_,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:n})]}({isShowing:c,next:E,complete:d});return a.useEffect(()=>{o&&c&&0===h&&E()},[h,c,o,E]),a.createElement(eJ.U,{currentStep:h,isShowing:c,children:y})}function aI(e){let t=(0,u.wA)();return()=>{t(m.b({figjam_editor_onboarded:!0})),e()}}function aN({overlayUniqueId:e,afterReset:t}){let n=(0,u.wA)();(0,eN.E)(e,"Reset Onboarding",()=>{n(m.b({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1})),t&&t()})}function ax({steps:e,onComplete:t,isShowing:n,overlayUniqueId:r}){let{currentStep:l,next:i,reset:o}=(0,eW.A)({numSteps:e.length,onComplete:t});return aN({overlayUniqueId:r,afterReset:o}),a.createElement(eJ.U,{currentStep:l,isShowing:n,children:a.useMemo(()=>e.map(e=>a.createElement(e,{onClickPrimaryCta:i,onClose:nj.lQ,onManualDismiss:t,isShowing:n})),[i,t,n,e])})}var aA=n(734974),aL=n(309876),aO=n(575055),aR=n(773511),aM=n(693874),aD=n(865114),aP=n(495105),aF=n(565294),aB=n(566841),aU=n(46641),aG=n(277909),aK=n(543177),aV=n(152545),aH=n(324747),az=n(434289),aW=n(959114),aj=n(349054),aY=n(365153),aJ=n(375880),aq=n(175393),aX=n(944239),aZ=n(264524),aQ=n(559389),a$=n(661699);function a0({onClickPrimaryCta:e,useCase:t}){let n=(0,es.q5)(),r=(0,u.wA)(),l=(0,nQ.O)();return{onNext:(0,a.useCallback)(()=>{n&&(r((0,eS.to)({type:as.g_,data:{fileKey:n.key,source:ao.nk.expFigJamOnboardingShareVariant}})),(0,nY.YQ)({id:"open share modal"}),l({eventName:"share_board_clicked",useCase:t})),e()},[n,r,e,l,t])}}let a1="make_something_assets--svg--hgXqn",a2="make_something_assets--svgHovered--3XZdi",a3="make_something_assets--transformable--Ku46s",a5="make_something_assets--transformLeftBrainstorm--To6dH",a4="make_something_assets--transformRightBrainstorm--DH4Yj",a6="make_something_assets--transformLeftUpdates--HVSJ5",a8="make_something_assets--transformRightUpdates--jOJJ-",a9="make_something_assets--transformLeftPlanning--6tBWf",a7="make_something_assets--transformRightPlanning--H2U0C",re="make_something_assets--transformRightDiagramming--2ff-F";function rt(e){return a.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:nI()(a1,{[a2]:e.hovered})},a.createElement("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),a.createElement("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),a.createElement("g",{filter:"url(#filter0_d_351_43460)"},a.createElement("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),a.createElement("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("g",{filter:"url(#filter1_d_351_43460)"},a.createElement("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),a.createElement("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("g",{filter:"url(#filter2_d_351_43460)"},a.createElement("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),a.createElement("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("g",{filter:"url(#filter3_d_351_43460)"},a.createElement("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),a.createElement("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),a.createElement("g",{filter:"url(#filter4_d_351_43460)"},a.createElement("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),a.createElement("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),a.createElement("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),a.createElement("g",{filter:"url(#filter5_d_351_43460)",className:nI()(a3,a4)},a.createElement("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),a.createElement("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:nI()(a3,a4)}),a.createElement("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:nI()(a3,a4)}),a.createElement("g",{filter:"url(#filter6_d_351_43460)",className:nI()(a3,a5)},a.createElement("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),a.createElement("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),a.createElement("rect",{className:nI()(a3,a5),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{className:nI()(a3,a5),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),a.createElement("circle",{className:nI()(a3,a5),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),a.createElement("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"}))))}function rn(e){return a.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:nI()(a1,{[a2]:e.hovered})},a.createElement("rect",{width:"196",height:"121.761",fill:"white"}),a.createElement("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),a.createElement("g",{clipPath:"url(#clip0_351_43276)"},a.createElement("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),a.createElement("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),a.createElement("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),a.createElement("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})),a.createElement("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),a.createElement("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),a.createElement("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),a.createElement("g",{clipPath:"url(#clip1_351_43276)"},a.createElement("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),a.createElement("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),a.createElement("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),a.createElement("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})),a.createElement("g",{clipPath:"url(#clip2_351_43276)"},a.createElement("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),a.createElement("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),a.createElement("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),a.createElement("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})),a.createElement("g",{clipPath:"url(#clip3_351_43276)"},a.createElement("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),a.createElement("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),a.createElement("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),a.createElement("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})),a.createElement("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),a.createElement("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:nI()(a3,re)}),a.createElement("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:nI()(a3,re)}),a.createElement("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:nI()(a3,re)}),a.createElement("g",{clipPath:"url(#clip4_351_43276)",className:nI()(a3,re)},a.createElement("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),a.createElement("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),a.createElement("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),a.createElement("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})),a.createElement("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),a.createElement("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),a.createElement("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),a.createElement("g",{clipPath:"url(#clip5_351_43276)"},a.createElement("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),a.createElement("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),a.createElement("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),a.createElement("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})),a.createElement("path",{className:nI()(a3,re),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),a.createElement("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_351_43276"},a.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})),a.createElement("clipPath",{id:"clip1_351_43276"},a.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})),a.createElement("clipPath",{id:"clip2_351_43276"},a.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})),a.createElement("clipPath",{id:"clip3_351_43276"},a.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})),a.createElement("clipPath",{id:"clip4_351_43276"},a.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})),a.createElement("clipPath",{id:"clip5_351_43276"},a.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"}))))}function ra(e){return a.createElement("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:nI()(a1,{[a2]:e.hovered})},a.createElement("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),a.createElement("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),a.createElement("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),a.createElement("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),a.createElement("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),a.createElement("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),a.createElement("g",{clipPath:"url(#clip0_351_42930)"},a.createElement("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),a.createElement("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),a.createElement("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),a.createElement("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})),a.createElement("g",{clipPath:"url(#clip1_351_42930)"},a.createElement("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),a.createElement("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),a.createElement("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),a.createElement("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})),a.createElement("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),a.createElement("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:nI()(a3,a9)}),a.createElement("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:nI()(a3,a9)}),a.createElement("g",{clipPath:"url(#clip2_351_42930)",className:nI()(a3,a9)},a.createElement("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),a.createElement("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),a.createElement("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),a.createElement("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})),a.createElement("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:nI()(a3,a7)}),a.createElement("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:nI()(a3,a7)}),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_351_42930"},a.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})),a.createElement("clipPath",{id:"clip1_351_42930"},a.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})),a.createElement("clipPath",{id:"clip2_351_42930"},a.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"}))))}function rr(e){return a.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:nI()(a1,{[a2]:e.hovered})},a.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),a.createElement("g",{filter:"url(#filter0_d_351_120552)"},a.createElement("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{filter:"url(#filter1_d_351_120552)"},a.createElement("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{filter:"url(#filter2_d_351_120552)"},a.createElement("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),a.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),a.createElement("g",{filter:"url(#filter3_d_351_120552)"},a.createElement("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),a.createElement("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),a.createElement("g",{filter:"url(#filter4_d_351_120552)"},a.createElement("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{filter:"url(#filter5_d_351_120552)"},a.createElement("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{clipPath:"url(#clip0_351_120552)"},a.createElement("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),a.createElement("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),a.createElement("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),a.createElement("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})),a.createElement("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),a.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),a.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),a.createElement("g",{filter:"url(#filter6_d_351_120552)"},a.createElement("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),a.createElement("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),a.createElement("g",{clipPath:"url(#clip1_351_120552)"},a.createElement("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),a.createElement("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),a.createElement("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),a.createElement("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})),a.createElement("g",{filter:"url(#filter7_d_351_120552)"},a.createElement("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{filter:"url(#filter8_d_351_120552)"},a.createElement("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("g",{filter:"url(#filter9_d_351_120552)"},a.createElement("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),a.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),a.createElement("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),a.createElement("g",{clipPath:"url(#clip2_351_120552)"},a.createElement("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),a.createElement("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),a.createElement("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),a.createElement("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})),a.createElement("g",{filter:"url(#filter10_d_351_120552)",className:nI()(a3,a8)},a.createElement("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),a.createElement("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:nI()(a3,a8)}),a.createElement("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:nI()(a3,a8)}),a.createElement("g",{filter:"url(#filter11_d_351_120552)",className:nI()(a3,a6)},a.createElement("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),a.createElement("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),a.createElement("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:nI()(a3,a6)}),a.createElement("path",{className:nI()(a3,a6),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),a.createElement("path",{className:nI()(a3,a6),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),a.createElement("path",{className:nI()(a3,a6),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),a.createElement("path",{className:nI()(a3,a6),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),a.createElement("clipPath",{id:"clip0_351_120552"},a.createElement("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})),a.createElement("clipPath",{id:"clip1_351_120552"},a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})),a.createElement("clipPath",{id:"clip2_351_120552"},a.createElement("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"}))))}var rl=n(664068),ri=n(320848);let ro="browse_templates_make_something_onboarding--faded--UuXrP";var rs=n(536283),rc=n(430011),rd=n(519128),ru=n(221042);let rm="loadingMakeSomethingTemplate",rp=e=>{let t=(0,l.Xr)(aA.w),{name:n}=(0,p.j6)(),r=(0,u.wA)(),[i,o]=(0,a.useState)(rl.fD.NONE),s=(0,a.useCallback)(e=>{r(aP.Ji({isActive:e}))},[r]);(0,a.useEffect)(()=>(s(!0),()=>{s(!1)}),[s]);let c=(0,aU.g)();(0,a.useEffect)(()=>(c&&S.gw5?.setFigjamStarterKitEnabled(!0),()=>{S.gw5?.setFigjamStarterKitEnabled(!1)}),[c]);let d=(0,l.Xr)(aZ.Qs);(0,a.useEffect)(()=>{d({type:"CLOSE"})},[d]);let f=(0,nQ.O)(),g=(0,a.useRef)(Date.now()),h=e.onHideModal,E=(0,a.useCallback)(()=>{h(),(0,nY.YQ)({id:rl.Lz}),r(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),r(eS.Ce()),t(aA.tX.COMPLETED)},[h,r,t]),_=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,eE.Cu)({trackingContext:n,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function y(t,a){(0,eE.Cu)({trackingContext:n,text:`${t} tile hovered`},"CTA Hovered"),o(t),e.onUseCasePreview?.(t,a)}let b=[{headerText:(0,x.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:rs.A,previewSvg:e=>a.createElement(rt,{hovered:e}),useCase:rl.fD.BRAINSTORM,previewType:S.KpW.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,x.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:ru.A,previewSvg:e=>a.createElement(rr,{hovered:e}),useCase:rl.fD.UPDATES,previewType:S.KpW.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,x.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:rc.A,previewSvg:e=>a.createElement(ra,{hovered:e}),useCase:rl.fD.PLAN,previewType:S.KpW.MAKE_SOMETHING_PLANNING},{headerText:(0,x.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:rd.A,previewSvg:e=>a.createElement(rn,{hovered:e}),useCase:rl.fD.TEAM,previewType:S.KpW.MAKE_SOMETHING_TEAM_CHART}];function C(e,t){let n=b.findIndex(t=>t.useCase===e)+t;return n>b.length-1?n=0:n<0&&(n=b.length-1),n}return{hoveredUseCase:i,setHoveredUseCase:o,onClickCloseButton:()=>{e.onHideModal(),(0,nY.YQ)({id:rl.Lz}),t(aA.tX.COMPLETED);let n=Math.round((Date.now()-g.current)/1e3);f({eventName:"msv2_dismissed",style:e.style,secondsAfterShown:n})},onClickMoreTemplatesButton:()=>{r(eS.$O({type:aj.PH.type,data:{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:E,onTemplateInsertedNewFile:E}})),f({eventName:"more_templates_clicked",style:e.style})},onClickUseCaseTile:_,onUseCasePreview:y,useCaseTiles:b,onListBoxKeydown:function(e){let t;if("Enter"===e.key){i!==rl.fD.NONE&&b.find(({useCase:e})=>e===i)&&_(i);return}if("Home"===e.key)t=0;else if("End"===e.key)t=b.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=C(i,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=C(i,1)}let n=b[t];n&&(o(n.useCase),y(n.useCase,n.previewType))}}},rf={[rl.fD.BRAINSTORM]:rl.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[rl.fD.PLAN]:rl.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[rl.fD.UPDATES]:rl.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[rl.fD.TEAM]:rl.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},rg=(0,aX.n)(({onSuccess:e}={})=>{let t=(0,l.Xr)(aA.w),n=(0,u.wA)(),r=(0,ez.aV)(),i=(0,aU.g)(),o=(0,u.d4)(e=>e.mirror.appModel.multiplayerSessionState===S.kul.JOINED),{hubFiles:s,templates:c,categoryIds:d,isLoading:p}=(0,aJ.bg)({templatesShelfType:aH.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2"}),{insertTemplate:f}=(0,aB.Fz)(),g=(0,a.useMemo)(()=>{let e={};return Object.keys(s).filter(e=>d.some(t=>c[t]?.includes(e))).reduce((e,t)=>{let n=s[t];return n&&(e[(0,aK.a6)(n).name.toUpperCase()]=n),e},e),e},[s,c,d]),h=i&&!p&&!r&&o;return{insert:(0,a.useCallback)(a=>{if(!h)return;if(a===rl.fD.NONE){e?.();return}let r=g[a],l=rf[a];r&&f({template:{template:r,type:aV.n.HubFile},onSuccess:()=>{e?.(),n(eg.F.dequeue({matchType:rm})),(0,nY.YQ)({id:l}),n(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(aA.tX.USE_CASE_STEPS),a===rl.fD.PLAN?S.glU.setCanvasZoomScale(.8):a===rl.fD.TEAM&&S.glU.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),n(eg.F.enqueue({message:(0,x.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:eh.zX.SPINNER,type:rm}))},[n,e,f,t,g,h]),canInsert:h}});function rh(e){let t=(0,u.d4)(e=>{let t=e?.mirror?.appModel?.currentPage,n=e?.mirror?.sceneGraph,a=n?.get(t);return!a||!a.childCount||a.childrenAreAllGhosts}),n=(0,nx.Un)(),r=(0,nQ.O)(),l=!n||t,i=l?"banner":"popup",o=()=>{e.hideModal?.()},s=e=>{r({eventName:"use_case_hovered",useCase:e,style:i})},c=e=>{r({eventName:"use_case_clicked",useCase:e,style:i})};function d(e,t){if("Escape"===e.key){t(),e.preventDefault(),e.stopPropagation();return}}return function(e){let t=(0,nQ.O)(),n=(0,aD.ZC)(e);(0,a.useEffect)(()=>{if(!n){t({eventName:"msv2_shown",style:e});return}if(n!==e){t({eventName:"msv2_style_changed",style:e,prevStyle:n});return}},[n,e,t])}(i),l?a.createElement(rE,{onHideModal:o,trackUseCaseHover:s,trackUseCaseClick:c,onEscapeDown:d}):a.createElement(r_,{onHideModal:o,trackUseCaseHover:s,trackUseCaseClick:c,onEscapeDown:d})}function rE(e){let{onHideModal:t,trackUseCaseHover:n,trackUseCaseClick:r}=e,[l,i]=(0,a.useState)(!1),o=(0,a.useRef)(!1),{insert:s,canInsert:c}=rg({onSuccess:()=>{o.current=!1}}),{hoveredUseCase:d,setHoveredUseCase:u,onClickCloseButton:m,onClickMoreTemplatesButton:p,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:h,onListBoxKeydown:E}=rp({templateInsertionLocation:aK.RD.CURRENT_FILE,onHideModal:t,onClickUseCaseTile(e){o.current=!0,s(e),t(),r(e)},onUseCasePreview(e,t){S.gw5.clearFigjamStarterKitPreview(),S.gw5.rotateFigjamStarterKitStrings(),S.gw5.showFigjamStarterKitPreview(t),n(e)},shouldAcceptClickUseCaseTile:()=>!o.current,style:"banner"});function _(){i(!1),S.gw5.clearFigjamStarterKitPreview(),u(rl.fD.NONE)}return c?a.createElement("div",{className:N.s.flex.justifyCenter.$},a.createElement(aL.b,{className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}}},a.createElement(aO.i,null,a.createElement("div",{className:nI()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[ro]:l})},a.createElement(t5.Me,{onClick:m,"aria-label":(0,x.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"}},a.createElement(v.A,null))),a.createElement("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G"},a.createElement("div",{className:nI()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[ro]:l})},a.createElement("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI"},(0,x.tx)("figjam_onboarding_make_something.templates_modal.main_title")),a.createElement("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,x.tx)("figjam_onboarding_make_something.templates_modal.main_subtitle")),a.createElement("div",{className:"browse_templates_make_something_onboarding--templateButtonContainer--ey3hb"},a.createElement("div",{className:"browse_templates_make_something_onboarding--templateButtonShadow--PGxmP"},a.createElement(t5.c,{variant:"secondary",onClick:p,iconPrefix:a.createElement(aM.Q,null),trackingEventName:"more templates click",htmlAttributes:{onFocus:_},autoFocus:!1},(0,x.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button"))))),a.createElement("div",{"aria-activedescendant":d,"aria-label":(0,x.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:E,onMouseEnter:()=>i(!0),onMouseLeave:_,role:"listbox",tabIndex:0},h.map(({headerIcon:e,headerText:t,useCase:n,previewSvg:r,previewType:l})=>a.createElement(aR.E,{className:nI()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[ro]:![rl.fD.NONE,n].includes(d)}),onClick:()=>f(n),key:n,htmlAttributes:{onFocus:()=>g(n,l),onMouseEnter:()=>g(n,l),tabIndex:-1}},a.createElement("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},a.createElement(I.B,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t),a.createElement("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG"},a.createElement("div",{className:"browse_templates_make_something_onboarding--gradientOverlay--PmGRF"}),a.createElement("div",null,r(d===n)))))))))):null}function r_(e){let{onHideModal:t,trackUseCaseHover:n,trackUseCaseClick:r}=e,{shiftPopupUp:l,popupRef:i}=function(){let e=a$.C()?.whiteboardToolbeltContainerNode,t=(0,a.useRef)(null),[n,r]=(0,a.useState)(!1);return(0,a.useLayoutEffect)(()=>{let n=(0,aQ.s)(()=>{let n=t.current?.getBoundingClientRect(),a=e?.getBoundingClientRect();n&&a&&r(a.left-n.right<24)},100);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),{popupRef:t,shiftPopupUp:n}}(),o=(0,u.wA)(),s=(0,aG.B)(),{hoveredUseCase:c,setHoveredUseCase:d,onClickCloseButton:m,onClickMoreTemplatesButton:p,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:h,onListBoxKeydown:E}=rp({templateInsertionLocation:aK.RD.NEW_FILE,onHideModal:t,onClickUseCaseTile(e){o(aF.zE({state:s,from:az.f6.FIGJAM_MAKE_SOMETHING_POPUP,editorType:ap._Y.WHITEBOARD,team:void 0,openNewFileIn:az.ai.NEW_TAB,figjamMakeSomethingUseCase:e})),r(e)},onUseCasePreview(e){n(e)},style:"popup"});return a.createElement("div",{className:nI()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":l})},a.createElement(aL.b,{className:"browse_templates_make_something_onboarding--popupModal--y2117",ref:i,htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}}},a.createElement(aO.i,null,a.createElement("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ"},a.createElement("div",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,x.tx)("figjam_onboarding_make_something.popup.title")),a.createElement(t5.Me,{onClick:m,"aria-label":(0,x.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"}},a.createElement(v.A,null))),a.createElement("div",{className:N.s.pt8.pr12.pb12.pl12.$},a.createElement("div",{"aria-activedescendant":c,"aria-label":(0,x.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"vertical",onKeyDown:E,role:"listbox",tabIndex:0,className:"browse_templates_make_something_onboarding--popupUseCasesContainer--U5E6f"},h.map(({headerIcon:e,headerText:t,useCase:n})=>a.createElement("button",{key:n,"aria-label":t,"aria-selected":c===n,className:nI()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":c===n}),id:`make-something-onboarding-${n}`,onBlur:()=>d(rl.fD.NONE),onClick:()=>f(n),onFocus:()=>g(n),onMouseEnter:()=>g(n),onMouseLeave:()=>d(rl.fD.NONE),role:"option",tabIndex:-1},a.createElement(I.B,{className:nI()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":n===rl.fD.BRAINSTORM}),svg:e,height:n===rl.fD.BRAINSTORM?"16px":"20px",width:n===rl.fD.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t))),a.createElement(t5.lR,{trackingEventName:"more templates click",onClick:p,variant:"ghost",htmlAttributes:{onFocus:()=>d(rl.fD.NONE),onMouseEnter:()=>d(rl.fD.NONE)}},(0,x.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button"))))))}function ry(){let{insert:e,canInsert:t}=rg(),[n,r]=(0,l.fp)(aA.l5),i=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{t&&n!==rl.fD.NONE&&!i.current&&(e(n),i.current=!0)},[n,e,t]),(0,a.useEffect)(()=>()=>r(rl.fD.NONE),[r]),null}rl.Og,e0.q3.SELF_CONTAINED,e=>a.createElement(rh,{hideModal:e.dismissModal});let rb=`${rl.Og} Templates Toolbar Connector Tooltip`,rC=`${rl.Og} Templates Toolbar Onboarding Finished Connector Tooltip`;function rv(e){return a.createElement(nq.Dv,{targetType:"dom",targetKey:aY.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:aq.F_.BOTTOM},a.createElement(aW.mI,{bodyText:a.createElement("span",{className:nI()(ri.RL)},(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function rw(e){return a.createElement(nq.Dv,{targetType:"dom",targetKey:aY.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:aq.F_.BOTTOM},a.createElement(aW.mI,{titleText:a.createElement("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ"},(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else")),bodyText:a.createElement("span",{className:ri.$s},(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function rT(e){let t=(0,l.Xr)(aA.w);return(0,tb.h)(()=>{t(aA.tX.MODAL_SHOWING)}),a.createElement(eq.h,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:e0.q3.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:a.useCallback(e=>a.createElement(rh,{hideModal:e.dismissModal}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}e0.q3.SELF_CONTAINED,e0.q3.SELF_CONTAINED;let rS="figjam_unified_onboarding_product",rk="figjam_unified_onboarding_pz";function rI(e){(0,nY.YQ)({id:e===nx.jg.PRODUCT_THEN_PZ?rS:rk})}let rN=[aa,ar];function rx(){let e=(0,l.md)(nx.Am),{show:t,uniqueId:n,isShowing:r,complete:i}=(0,f.e)({overlay:_.wRI,priority:g.N.OVERRIDING_MODAL}),o=aI((0,a.useCallback)(()=>{i(),e===nx.jg.PZ_THEN_PRODUCT&&(0,nY.YQ)({id:rS}),e===nx.jg.PRODUCT_THEN_PZ&&(0,nY.YQ)({id:aS})},[i,e]));return(0,eN.E)(n,rk,()=>{t()}),a.createElement(ax,{steps:rN,onComplete:o,isShowing:r,overlayUniqueId:n})}function rA(){let e=(0,l.md)(nx.Am),t=(0,l.md)(aA.w),{show:n,uniqueId:r,isShowing:i,complete:o}=(0,f.e)({overlay:_.Kze,priority:g.N.OVERRIDING_MODAL}),s=aI(o);return(0,eN.E)(r,rS,()=>{n()}),(0,a.useEffect)(()=>{t===aA.tX.COMPLETED&&e===nx.jg.PRODUCT_THEN_PZ&&(0,nY.YQ)({id:rk}),t===aA.tX.COMPLETED&&e===nx.jg.PZ_THEN_PRODUCT&&(0,nY.YQ)({id:aS})},[t,e]),a.createElement(rT,{onClickPrimaryCta:s,onClose:nj.lQ,onManualDismiss:s,isShowing:i})}var rL=n(325498),rO=n(795240),rR=n(998568),rM=n(27382),rD=n(695292),rP=n(986761),rF=n(180294),rB=n(660580),rU=n(361053),rG=n(707520),rK=n(143823),rV=n(422444);let rH=(0,ew.ck)("964c3ddf18b0f2712b664efde991dfc4f2c58eb8"),rz=(0,aX.D)((e,t)=>{t(rV.V3({url:e}))});function rW(e){let t=(0,u.wA)();return a.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalContainer--O1ld1"},a.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP"},a.createElement("div",{className:"onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP"},a.createElement("div",{className:n0},a.createElement("div",{className:n1},a.createElement("img",{className:n2,src:rH,alt:""})),a.createElement("div",{className:nI()({[n3]:!0,[n5]:!0})},a.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB"},(0,x.tx)("rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial")),a.createElement("div",{className:"onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU"},a.createElement(C.$n,{variant:"ghost",onClick:e.dismissModal},(0,x.tx)("rcs.figjam_onboarding.maybe_later")),a.createElement("div",{className:"onboard_figjam_viewer--openTutorialButton--4AqFo"},a.createElement(t5.$z,{onClick:()=>{if("loaded"!==e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data||e.figJamTemplateFileResult.data.length<1)return;let n=e.figJamTemplateFileResult.data?.[0]??null;n&&rz(n.url,t),e.dismissModal()},disabled:"loading"===e.figJamTemplateFileResult.status,variant:"primary"},"loading"===e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data?a.createElement(rK.k,{htmlAttributes:{"data-testid":"loading-spinner"}}):(0,x.tx)("rcs.figjam_onboarding.open_tutorial")))))))))}async function rj(e){let t=(await e).data;if(!t)return!1;let n=(0,rP.kd)(t),a=(0,rP.mW)(n,"figjam_editor_onboarded");return!a&&!a&&!(()=>{let e=(0,rL.DN)();try{return!!e.get(rO.Xk)}catch(e){}return!1})()}function rY({openFile:e}){return!!(e&&e.trackTags?.isTemplate&&e.editorType===ap._Y.WHITEBOARD)}function rJ(e,t){(0,rR.kF)("type",e),(0,rR.kF)("source",t),(0,rR.us)("FigJam onboarding - Failed to load starter files; we did not render open tutorial overlay")}function rq(e){let t=(0,rF.dq)(),n=rU.ol()?.id,[r]=(0,rB.IT)(rM.XZ({currentOrgId:t||void 0,currentTeamId:n,fileTags:["figjam_template"],shouldRecreate:!0}),{enabled:e.isShowing});return a.useEffect(()=>{"errors"===r.status&&rJ("failure","curator")},[r.status]),a.useEffect(()=>{let e=setTimeout(()=>{"loading"===r.status&&rJ("timeout","curator")},5e3);return()=>clearTimeout(e)},[r.status]),a.createElement(eq.h,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:e0.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:e=>a.createElement(rW,{...e,figJamTemplateFileResult:r}),isShowing:e.isShowing&&"loaded"===r.status,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rX(){let e=(0,u.wA)(),t=(0,es.MY)(),{show:n,uniqueId:r,complete:i,isShowing:o}=(0,f.e)({overlay:_.MJs,priority:g.N.OVERRIDING_MODAL},[t]),s=function(e,t){let n=(0,a.useRef)(),r=(0,a.useRef)(),l=(0,a.useRef)();return((0,a.useEffect)(()=>()=>{n.current?.()},[]),r.current)?r.current:null==n.current||null==l.current?(r.current=new Promise(a=>{n.current?.(),n.current=(0,rD.WB)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(l.current=e,a(l.current),r.current=void 0)})}),r.current):Promise.resolve(l.current)}(af.Tej,{}),c=(0,l.md)(es.yV),d=(0,rG.Td)(),p=!rY({openFile:c}),h=(0,a.useRef)(!1);(0,a.useEffect)(()=>{rj(s).then(e=>{e&&!h.current&&n({canShow:e=>{let t=e?.editorType===ap._Y.WHITEBOARD&&!e?.canEdit;return t&&(h.current=!0),t}})})},[n,s]);let{currentStep:E,next:y,reset:b}=(0,eW.A)({numSteps:p?4:3,onComplete:i});(0,eN.E)(r,"Reset Onboarding",()=>{e(m.b({figjam_editor_onboarded:!1})),d&&(b(),n())});let C=aI(i),v=a.useMemo(()=>{let e=ai.map(e=>a.createElement(e,{key:e.name,isShowing:o,onClickPrimaryCta:y,onClose:nj.lQ,onManualDismiss:C}));return p&&e.push(a.createElement(rq,{key:"OpenFigJamTutorialOverlay",isShowing:o,onClickPrimaryCta:y,onClose:nj.lQ,onManualDismiss:C,testId:"open_figjam_tutorial_overlay"})),e},[y,C,o,p]);return a.createElement(eJ.U,{currentStep:E,isShowing:o,children:v})}var rZ=n(813790),rQ=n(600163);let r$=(0,aX.D)(()=>{let e=(0,rL.DN)();try{return!!e.get(rO.Xk)}catch(e){}return!1});function r0({isTemplateFile:e,isTryFile:t,canvasEmpty:n,onboardedToFigJam:a,cameFromWhatsNew:r}){if(a||r$())return[];let l=(0,nX.O)()?[]:ai;if(e)return l;let i=[...l,rq];return r||t||!n?i:[rT]}function r1({openFile:e}){let t=(0,l.md)(aA.l5),n=(0,l.md)(tk.zo),r=(0,l.md)(nx.Am);return t!==rl.fD.NONE?null:("loaded"!==n.status||n.data)&&!r?a.createElement(r5,{openFile:e}):a.createElement(r3,{openFile:e})}let r2=(e,t)=>{let n=(0,es.MY)(),r=(0,l.Xr)(nx.Am),i=(0,l.Xr)(aA.w),o=(0,l.md)(tk.zo),s=(0,ez.aV)(),c=(0,l.md)(rZ.dO).status===rQ.c.LOADING;aN({overlayUniqueId:e,afterReset:()=>{r(null),i(aA.tX.NOT_STARTED)}});let d=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!d.current&&"loaded"===o.status&&!s&&!c&&n.data?.canEdit&&n.data?.editorType==="whiteboard"&&(d.current=!0,t())},[t,o.status,s,c,n])};function r3({openFile:e}){let t=(0,u.d4)(e=>e.mirror.appModel.currentPage),n=(0,tp.Fk)((e,t)=>(0,tm.zC)(e,t),t),r=(0,l.md)(tk.zo),i=(0,eA.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,l.md)(i),s=(0,l.Xr)(nx.Am),{getConfig:c}=(0,nE.XV)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),d=(0,a.useCallback)(()=>{let e=c().get("sequence",nx.jg.DEFAULT);return s(e),e},[c,s]),[m,p]=(0,a.useState)(!1),[h,E]=(0,a.useState)([]),{show:y,uniqueId:b,isShowing:C,complete:v,experimentResult:w}=(0,f.e)({overlay:_.zoI,priority:g.N.OVERRIDING_MODAL,experiment:{check:d,predicate:e=>e!==nx.jg.DEFAULT,postCheck:e=>(e||r$()||p(!0),!1)}},[r,o]),T=(0,a.useRef)(n);(0,a.useEffect)(()=>{T.current=n},[n]);let{show:S,isShowing:k,complete:I}=(0,f.e)({overlay:_.lLk,priority:g.N.OVERRIDING_MODAL,experiment:{check:d,predicate:e=>e===nx.jg.DEFAULT,postCheck:(t,n)=>{let a=r0({isTemplateFile:rY({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:T.current,onboardedToFigJam:t,cameFromWhatsNew:(0,tX.SS)(n)}),r=a.length>0;return r&&E(a),r}}},[r,o]),N=w||nx.jg.DEFAULT,x=N===nx.jg.DEFAULT?k:C,A=N===nx.jg.DEFAULT?I:v,L=(0,a.useMemo)(()=>N===nx.jg.DEFAULT?h:[],[N,h]);r2(b,(0,a.useCallback)(()=>{y(),S()},[y,S]));let O=aI(A),R=(0,a.useCallback)(()=>{N===nx.jg.DEFAULT?O():m&&(A(),rI(N))},[O,A,m,N]);return((0,a.useEffect)(()=>{0===L.length&&m&&N!==nx.jg.DEFAULT&&rI(N)},[m,L,N]),w&&x&&0!==L.length)?a.createElement(ax,{steps:L,onComplete:R,isShowing:x,overlayUniqueId:b}):null}function r5({openFile:e}){let t=(0,u.d4)(e=>e.mirror.appModel.currentPage),n=(0,tp.Fk)((e,t)=>(0,tm.zC)(e,t),t),r=(0,l.md)(tk.zo),i=(0,eA.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,l.md)(i),{show:s,uniqueId:c,isShowing:d,complete:m}=(0,f.e)({overlay:_.lLk,priority:g.N.OVERRIDING_MODAL},[r,o]),[p,h]=(0,a.useState)([]);r2(c,(0,a.useCallback)(()=>{s({canShow:(t,a)=>{let r=r0({isTemplateFile:rY({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:n,onboardedToFigJam:t,cameFromWhatsNew:(0,tX.SS)(a)}),l=r.length>0;return l&&h(r),l}})},[s,h,n,e]));let E=aI(m);return d&&0!==p.length?a.createElement(ax,{steps:p,onComplete:E,isShowing:d,overlayUniqueId:c}):null}function r4({openFile:e}){return a.createElement(r1,{openFile:e})}let r6=(0,l.eU)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte",`url(${(0,ew.CZ)("webfont/1/Whyte-Regular.woff")})`);document.fonts.add(e)}await document.fonts.ready}),r8=(0,l.Rq)(r6);function r9(e){return a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:rb,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rv,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r7(e){return a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:rC,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rw,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function le(){let e=(0,eA.r1)("figjam_browse_templates_modal_onboarded"),t=(0,l.md)(e),n=(0,l.md)(r8),[r,i]=(0,a.useState)(!1),o=(0,nx.Un)(),{show:s,isShowing:c,uniqueId:d,complete:u}=(0,f.e)({overlay:_.kp0,priority:g.N.OVERRIDING_MODAL},[t,n]);return(0,eN.E)(d,rl.Lz,()=>{i(!0),s({canShow:e=>!e&&!o})}),(0,eN.E)(d,e$.P7,()=>{s({canShow:e=>!e&&!o})}),r?a.createElement(r9,{isShowing:c,onClickPrimaryCta:u,onClose:u,onManualDismiss:u}):a.createElement(r7,{isShowing:c,onClickPrimaryCta:u,onClose:u,onManualDismiss:u})}var lt=n(62314),ln=n(438673),la=n(23897),lr=n(590641);let ll={};function li(e){return ll[e]??""}function lo(e){return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.BRAINSTORM},a.createElement(aW.wV,{bodyText:a.createElement("span",{className:ri.R9},(0,x.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rs.A}))}function ls(e){let{onClickPrimaryCta:t,dismissModal:n}=e;a.useEffect(()=>{function e(e){var n;t(),n=e.nodeId,ll.createdSticky=n}return nZ.Y5.fromFullscreen.on("createdSticky",e),()=>{nZ.Y5.fromFullscreen.removeListener("createdSticky",e)}},[t]);let r=(0,lr.L)();return a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.BRAINSTORM},a.createElement(nq.Dv,{targetType:"dom",targetKey:tR.s2,topPadding:r?-4:-22,autoWidth:!0,isBold:!0},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text"))}))})))}function lc(e){let[t]=a.useState(()=>li("createdSticky")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.BRAINSTORM},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.LEFT_TITLE,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function ld(e){let{onClickPrimaryCta:t,dismissModal:n}=e,{handleTargetLost:r}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});a.useEffect(()=>{function e(e){var n;t(),n=e.nodeId,ll.createdStamp=n}return nZ.Y5.fromFullscreen.on("createdStamp",e),()=>{nZ.Y5.fromFullscreen.removeListener("createdStamp",e)}},[t]);let l=(0,lr.L)();return a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.BRAINSTORM},a.createElement(nq.Dv,{targetType:"dom",targetKey:tR.E$,topPadding:l?-6:-27,isBold:!0,autoWidth:!0,onTargetLost:r},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text"))}))})))}function lu(e){let[t]=a.useState(()=>li("createdStamp")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.BRAINSTORM},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.TOP,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lm(e){let t=(0,u.wA)(),n=(0,la.MR)(),r=(0,la.qU)(),[l,i]=a.useState("invalid"),{handleTargetLost:o}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>(n({source:la.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(lt.lu({state:"open",userInitiated:!1})),i(ln.Hm),()=>{r({source:la.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(lt.lu({state:"closed",userInitiated:!1}))}),[r,t,n]),a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.BRAINSTORM},a.createElement(nq.Dv,{targetType:"dom",targetKey:l,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:o},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lp(e){let{onNext:t}=a0({...e,useCase:rl.fD.BRAINSTORM});return a.createElement(nq.Dv,{targetType:"dom",targetKey:e$.v4,topPadding:-4,isBold:!0,hasShadow:!0},a.createElement(n6,{titleText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:aW.mN,isBold:!0}))}function lf(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Intro",stepNum:1}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lo,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lg(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Sticky Prompt",stepNum:2}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:ls,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lh(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Sticky Reaction",stepNum:3}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:lc,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lE(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Stamp Prompt",stepNum:4}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:ld,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l_(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Stamp Reaction",stepNum:5}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:lu,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ly(e){return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Timer",stepNum:6}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:lm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lb(e){let t=(0,nQ.O)();return(0,aW.rL)({useCase:rl.fD.BRAINSTORM,stepName:"Share",stepNum:7}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:rl.fD.BRAINSTORM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lC(e){return a.useEffect(()=>{!function(){let e=(0,K.UN)().getCurrentPage();if(e&&e.childCount>=1){var t,n,a;let r=e.childrenNodes[0];if(r?.type==="SECTION"&&r.childCount>=1){let e=r.childrenNodes[0];e?.type==="SHAPE_WITH_TEXT"&&(t=e.guid,ll.planningAheadInitialNode=t)}if(r?.type==="SECTION"&&r.childCount>=9){let e=r.childrenNodes[8];e?.type==="TEXT"&&(n=e.guid,ll.planningAheadPerson=n)}if(r?.type==="SECTION"&&r.childCount>=4){let e=r.childrenNodes[3];e?.type==="SHAPE_WITH_TEXT"&&(a=e.guid,ll.planningAheadProject=a)}}}()},[]),a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.PLAN},a.createElement(aW.wV,{bodyText:a.createElement("span",{className:ri.R9},(0,x.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rc.A}))}function lv(e){let[t]=a.useState(()=>li("planningAheadInitialNode")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.PLAN},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lw(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>li("planningAheadPerson")),{handleTargetLost:l}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nZ.Y5.fromFullscreen.on("finishedEditingText",e),()=>{nZ.Y5.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.PLAN},a.createElement(nq.Dv,{targetType:"canvas",targetKey:r,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.LEFT_TITLE,onTargetLost:l},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text"))}))})))}function lT(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>li("planningAheadProject")),{handleTargetLost:l}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nZ.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{nZ.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.PLAN},a.createElement(nq.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:l},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text"))}))})))}function lS(e){let[t]=a.useState(()=>li("planningAheadProject")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.PLAN},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.LEFT_TITLE,onTargetLost:n},a.createElement(aW.mI,{bodyText:(0,x.tx)("figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lk(e){let{handleTargetLost:t}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,lr.L)();return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.PLAN},a.createElement(nq.Dv,{targetType:"dom",targetKey:n?tR.WB:tR.BC,topPadding:n?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t},a.createElement(aW.mI,{bodyText:(0,x.tx)("figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lI(e){let{onNext:t}=a0({...e,useCase:rl.fD.PLAN});return a.createElement(nq.Dv,{targetType:"dom",targetKey:e$.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},a.createElement(n6,{titleText:(0,x.tx)("figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"),bodyText:(0,x.tx)("figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:aW.mN,isBold:!0}))}function lN(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Intro",stepNum:1}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lC,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lx(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Section",stepNum:2}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:lv,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lA(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Person",stepNum:3}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:lw,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lL(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Project Name",stepNum:4}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:lT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lO(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Project Block",stepNum:5}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:lS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lR(e){return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Shape",stepNum:6}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lk,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lM(e){let t=(0,nQ.O)();return(0,aW.rL)({useCase:rl.fD.PLAN,stepName:"Share",stepNum:7}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:rl.fD.PLAN}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lD(e){return a.useEffect(()=>{!function(){var e,t,n;let a=(0,K.UN)().getCurrentPage();if(a){if(a.childCount>=1){let t=a.childrenNodes[0];t?.type==="SHAPE_WITH_TEXT"&&(e=t.guid,ll.teamChartName=e)}if(a.childCount>=2){let e=a.childrenNodes[1];e?.type==="ROUNDED_RECTANGLE"&&(t=e.guid,ll.teamChartImage=t)}if(a.childCount>=5){let e=a.childrenNodes[4];e?.type==="SHAPE_WITH_TEXT"&&(n=e.guid,ll.teamChartQuickCreate=n)}}}()},[]),a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.TEAM},a.createElement(aW.wV,{bodyText:a.createElement("span",{className:ri.R9},(0,x.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rd.A}))}function lP(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>li("teamChartName")),{handleTargetLost:l}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nZ.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{nZ.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.TEAM},a.createElement(nq.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:l},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text"))}))})))}function lF(e){let[t]=a.useState(()=>li("teamChartImage")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.TEAM},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.LEFT_TITLE,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lB(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>li("teamChartQuickCreate")),{handleTargetLost:l}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nZ.Y5.fromFullscreen.on("quickCreate",e),()=>{nZ.Y5.fromFullscreen.removeListener("quickCreate",e)}},[t]),a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.TEAM},a.createElement(nq.Dv,{targetType:"canvas",targetKey:r,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.RIGHT_TITLE,onTargetLost:l},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text"))}))})))}function lU(e){let{handleTargetLost:t}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,lr.L)();return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.TEAM},a.createElement(nq.Dv,{targetType:"dom",targetKey:n?tR.WB:tR.BC,topPadding:n?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lG(e){let{handleTargetLost:t}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,lr.L)();return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.TEAM},a.createElement(nq.Dv,{targetType:"dom",targetKey:tR.Nr,topPadding:n?-1:void 0,isBold:!0,autoWidth:!0,onTargetLost:t},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lK(e){let{onNext:t}=a0({...e,useCase:rl.fD.TEAM});return a.createElement(nq.Dv,{targetType:"dom",targetKey:e$.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},a.createElement(n6,{titleText:(0,x.tx)("figjam_onboarding_make_something.team_chart.diagram_together"),bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:aW.mN,isBold:!0}))}function lV(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Intro",stepNum:1}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lD,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lH(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Name",stepNum:2}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:lP,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lz(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Image",stepNum:3}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:lF,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lW(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Quick Create",stepNum:4}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:lB,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lj(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Shape",stepNum:5}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lU,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lY(e){return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Connector",stepNum:6}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:lG,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lJ(e){let t=(0,nQ.O)();return(0,aW.rL)({useCase:rl.fD.TEAM,stepName:"Share",stepNum:7}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:rl.fD.TEAM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lq(e){return a.useEffect(()=>{!function(){var e,t,n,a,r;let l=(0,K.UN)().getCurrentPage();if(l){if(l.childCount>=1){let t=l.childrenNodes[0];t?.type==="SECTION"&&(e=t.guid,ll.teamUpdatesSection=e)}if(l.childCount>=6){let e=l.childrenNodes[5];e?.type==="WIDGET"&&(t=e.guid,ll.teamUpdatesPhotoBooth=t)}if(l.childCount>=4){let e=l.childrenNodes[3];e?.type==="TEXT"&&(n=e.guid,ll.teamUpdatesUpdates=n)}if(l.childCount>=5){let e=l.childrenNodes[4];e?.type==="TEXT"&&(a=e.guid,ll.teamUpdatesImportantDates=a)}if(l.childCount>=1){let e=l.childrenNodes[0];if(e?.type==="SECTION"&&e.childCount>=2){let t=e.childrenNodes[1];t?.type==="STICKY"&&(r=t.guid,ll.teamUpdatesSticky=r)}}}}()},[]),a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.UPDATES},a.createElement(aW.wV,{bodyText:a.createElement("span",{className:ri.R9},(0,x.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:ru.A}))}function lX(e){let[t]=a.useState(()=>li("teamUpdatesSection")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.UPDATES},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lZ(e){let[t]=a.useState(()=>li("teamUpdatesPhotoBooth")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.UPDATES},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text"))})),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lQ(e){let[t]=a.useState(()=>li("teamUpdatesUpdates")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.UPDATES},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l$(e){let[t]=a.useState(()=>li("teamUpdatesImportantDates")),{handleTargetLost:n}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.createElement(aW.vX,{onSkipClick:e.dismissModal,useCase:rl.fD.UPDATES},a.createElement(nq.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.BOTTOM,onTargetLost:n},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here")),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l0(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>li("teamUpdatesSticky")),{handleTargetLost:l}=(0,nq.Du)({shouldSkipConnectorModalAtom:aA.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nZ.Y5.fromFullscreen.on("finishedEditingSticky",e),()=>{nZ.Y5.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),a.createElement(aW.vX,{onSkipClick:n,useCase:rl.fD.UPDATES},a.createElement(nq.Dv,{targetType:"canvas",targetKey:r,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:aq.F_.TOP,onTargetLost:l},a.createElement(aW.mI,{bodyText:a.createElement("span",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",{boldText:a.createElement("b",null,(0,x.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text"))}))})))}function l1(e){let{onNext:t}=a0({...e,useCase:rl.fD.UPDATES});return a.createElement(nq.Dv,{targetType:"dom",targetKey:e$.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},a.createElement(n6,{titleText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,x.tx)("figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"),buttonText:(0,x.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:aW.mN,isBold:!0}))}function l2(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Intro",stepNum:1}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lq,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l3(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Section",stepNum:2}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:lX,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l5(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Photo Booth",stepNum:3}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:lZ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l4(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Updates",stepNum:4}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:lQ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l6(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Important Dates",stepNum:5}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:l$,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l8(e){return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Sticky",stepNum:6}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:l0,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l9(e){let t=(0,nQ.O)();return(0,aW.rL)({useCase:rl.fD.UPDATES,stepName:"Share",stepNum:7}),a.createElement(eq.h,{testId:e.testId,modalType:e0.q3.SELF_CONTAINED,trackingContextName:`${aW.CM} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:l1,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:rl.fD.UPDATES}),e.onClose()},onManualDismiss:e.onManualDismiss})}function l7(e){switch(e){case rl.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[lf,lg,lh,lE,l_,ly,lb,ie];case rl.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[l2,l3,l5,l4,l6,l8,l9,ie];case rl.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[lN,lx,lA,lL,lO,lR,lM,ie];case rl.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[lV,lH,lz,lW,lj,lY,lJ,ie];default:return[]}}function ie({onClickPrimaryCta:e}){let t=(0,u.d4)(e=>e.modalShown),n=(0,a.useRef)(t);return(0,a.useEffect)(()=>{!t&&n.current&&(e(),(0,nY.YQ)({id:e$.P7}))},[e,t]),a.createElement(a.Fragment,null)}function it(){let[e,t]=a.useState([]),n=(0,l.Xr)(aA.w),{complete:r,uniqueId:i,show:o,isShowing:s}=(0,f.e)({overlay:_.Njd,priority:g.N.OVERRIDING_MODAL}),c=a.useCallback(()=>{r(),n(aA.tX.COMPLETED)},[r,n]);return((0,eN.E)(i,rl.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(l7(rl.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),n(aA.tX.USE_CASE_STEPS),o()}),(0,eN.E)(i,rl.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(l7(rl.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),n(aA.tX.USE_CASE_STEPS),o()}),(0,eN.E)(i,rl.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(l7(rl.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),n(aA.tX.USE_CASE_STEPS),o()}),(0,eN.E)(i,rl.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(l7(rl.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),n(aA.tX.USE_CASE_STEPS),o()}),aN({overlayUniqueId:i,afterReset:r}),0===e.length)?null:a.createElement(ax,{steps:e,onComplete:c,isShowing:s,overlayUniqueId:i})}var ia=n(219990),ir=n(238444),il=n(584347),ii=n(925085),io=n(631177),is=n(765262),ic=n(679617),id=n(446951),iu=n(414607);function im(){return a.createElement("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),a.createElement("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),a.createElement("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),a.createElement("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),a.createElement("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),a.createElement("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),a.createElement("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),a.createElement("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),a.createElement("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),a.createElement("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),a.createElement("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),a.createElement("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),a.createElement("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),a.createElement("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22"},a.createElement("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})),a.createElement("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})))}let ip=[{key:1,elem:(0,x.tx)("oss_sales_upsell_overlay.feature1")},{key:2,elem:(0,x.tx)("oss_sales_upsell_overlay.feature2")},{key:3,elem:(0,x.tx)("oss_sales_upsell_overlay.feature3")}],ig=(0,id.Ju)(function({onDismiss:e}){let t=(0,l.md)(es.yV),n=(0,u.wA)();return a.createElement(iu.Rw,{autoFocusCta:!1,cancelText:(0,x.tx)("oss_sales_upsell_overlay.secondary_cta"),className:"oss_sales_upsell_modal--modal--fdI6U",confirmText:(0,x.tx)("oss_sales_upsell_overlay.primary_cta"),confirmationTitle:(0,x.tx)("oss_sales_upsell_overlay.title"),hideOnCancel:!1,hideOnConfirm:!1,isLoading:!t?.teamId,onCancel:()=>{n((0,eS.to)({type:io.lk,data:{source:is.B.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,x.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,onConfirm:()=>{t?.teamId&&n(ic.Bq({openInNewTab:!0,upsellSource:eL.b.OSS_SALES_UPSELL_MODAL}))},overrideOnHide:e,titleClass:"oss_sales_upsell_modal--title--wpaS5"},a.createElement("div",{className:N.s.lh24.font13.pt24.pr0.pb32.pl0.$},a.createElement(ii.Y,{spacing:"40px"},a.createElement(ii.Y,{direction:"vertical",spacing:"12px"},a.createElement("p",null,(0,x.tx)("oss_sales_upsell_overlay.body1")),a.createElement(ii.Y,{direction:"vertical",spacing:8},a.createElement("p",{className:N.s.fontSemiBold.$},(0,x.tx)("oss_sales_upsell_overlay.body2")),a.createElement(ii.Y,{direction:"vertical",spacing:8},ip.map(e=>a.createElement(ii.Y,{key:e.key,spacing:8,horizontalAlignItems:"start"},a.createElement("p",null,"\u2713"),a.createElement("p",null,e.elem))))),a.createElement("p",{className:N.s.pt4.$},(0,x.tx)("oss_sales_upsell_overlay.body3"))),a.createElement("div",{className:N.s.mr16.$},a.createElement(im,null)))),a.createElement("div",{className:N.s.bt1.colorBorder.bSolid.$}))},"OssSalesUpsellModal");function ih(){let e=(0,l.md)(es.As),t=(0,l.md)(es.ze);return e&&t?a.createElement(iE,{teamId:e,fileKey:t}):null}function iE({teamId:e,fileKey:t}){let n=(0,u.wA)(),r=(0,l.md)(ex.M$),i=(0,au.Rs)(af.TNJ,{id:e}),o=(0,f.e)({overlay:_.jRE,priority:g.N.DEFAULT_MODAL},[r,i]),s=ew.tl().user_data,c=s?.email,d=(0,ir.HS)(c);return(0,tb.h)(()=>{o.show({canShow:(e,n)=>!!(d&&(0,il.nN)(t)&&!e&&n.team?.hasPermission)})}),(0,a.useEffect)(()=>{o.isShowing&&(0,il.wj)()},[d,o.isShowing]),a.createElement(eq.h,{isShowing:o.isShowing,modalType:e0.q3.FEATURE_UPDATE,element:function(e){return(0,tb.h)(()=>{n((0,eS.to)({type:ig,data:{onDismiss:e.dismissModal}}))}),a.createElement("div",null)},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:nj.lQ,onClose:o.complete,onManualDismiss:o.complete,testId:"oss_sales_upsell_overlay_test_id"})}var i_=n(938486),iy=n(41377),ib=n(810503),iC=n(686464),iv=n(582283),iw=n(695596),iT=n(384580),iS=n(809086);let ik="seen_figjam_section_preset_picker_callout",iI=(0,eA.Fu)(ik),iN=e=>(0,u.d4)(t=>{if(!e)return!1;let n=Object.keys(t.mirror.sceneGraphSelection);return 1===n.length&&n[0]===e});function ix({sectionNodeId:e,isShowing:t,complete:n}){let r=(0,M._X)({subscribeToUpdates_expensive:!0}),l=(0,K.UN)().get(e);if(!l)return null;let i=l.sectionPresetPickerCalloutPosition;if(isNaN(i.x)||isNaN(i.y))return null;let o=(0,M.Z0)(r,i,!0),s=parseFloat(iS._1),c={top:o.y+r.y+s+2,left:o.x+r.x-150,pointerOffset:150-s,pointerPosition:tx.F_.TOP};return a.createElement(eG.rq,{clickOutsideToHide:!0,description:(0,x.tx)("whiteboard.section_presets_onboarding.picker_callout.description"),fixedPosition:!0,isShowing:t,location:c,onClose:n,primaryCta:{label:(0,x.tx)("rcs.got_it"),type:"button",onClick:n,ctaTrackingDescriptor:eI.c.GOT_IT},title:(0,x.tx)("whiteboard.section_presets_onboarding.picker_callout.title"),trackingContextName:"section_preset_picker_callout",userFlagOnShow:ik,width:300})}function iA(){let e=(0,iC.q)(),t=(0,l.md)(iw.w),n=(0,l.md)(iT.m5),r=(0,l.md)(iI),i=(0,a.useRef)({numShown:0,hasLoggedToSentry:!1}),[o,s]=(0,a.useState)(null),c=iN(o),{show:d,isShowing:u,complete:m}=(0,f.e)({overlay:_.Byv,priority:g.N.DEFAULT_MODAL},[n,r]);return((0,a.useEffect)(()=>{t&&o&&c&&e&&d({canShow:(e,t)=>!!e&&!t})},[d,e,t,o,c]),(0,a.useEffect)(()=>{if("loaded"===r.status&&!r.data&&"loaded"===n.status&&n.data)return(0,iv.H)(function(e){s(e)})},[r,n]),(0,a.useEffect)(()=>{u&&i.current.numShown++,i.current.numShown>1&&!i.current.hasLoggedToSentry&&(i.current.hasLoggedToSentry=!0,(0,ib.x1)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[u]),u&&o)?a.createElement(ix,{sectionNodeId:o,isShowing:u,complete:m}):null}let iL=(0,ew.ck)("90c10991400b728428a200de3b347bba3f6d1d1e");function iO({isShowing:e,onPrimaryCtaClick:t,onClose:n}){return a.createElement(eG.rq,{testId:"share-to-google-classroom-onboarding",isShowing:e,trackingContextName:"Share to Google Classroom Onboarding",targetKey:"share",title:(0,x.tx)("whiteboard.google_classroom.onboarding.header"),description:(0,x.tx)("whiteboard.google_classroom.onboarding.body"),media:a.createElement(eM.y,{src:iL,alt:(0,x.t)("whiteboard.google_classroom.onboarding.image_alt"),aspectRatio:300/169}),primaryCta:{label:(0,x.tx)("whiteboard.google_classroom.onboarding.show_me"),type:"button",onClick:t,ctaTrackingDescriptor:eI.c.SHOW_ME},onClose:n})}function iR(){let e=(0,u.wA)(),t=ag({}),n=(0,l.md)(ab),r=(0,l.md)(av),i=(0,l.md)(aw),o=(0,l.md)(aT),s=(0,l.md)(ac.Ij),{show:c,isShowing:d,complete:p}=(0,f.e)({overlay:_.Y2_,priority:g.N.DEFAULT_MODAL},[r,n,i,o,t]);a.useEffect(()=>{c({onShow:()=>{e(m.b({[ay]:!0}))},canShow:(e,t,n,a,r)=>!e&&!t&&!n&&a&&r})},[t,e,c]),a.useEffect(()=>{r.data&&p()},[r,p]);let{currentStep:h,next:E}=(0,eW.A)({numSteps:2,onComplete:p}),y=function({isShowing:e,next:t,complete:n}){let r=(0,u.wA)(),l=(0,es.q5)();return[a.createElement(iO,{key:"share-to-google-classroom-existing-user-callout",onPrimaryCtaClick:()=>{if(!l){n();return}r((0,eS.to)({type:as.g_,data:{fileKey:l.key,source:ao.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:n,isShowing:e}),a.createElement(a_,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:n})]}({isShowing:d,next:E,complete:p});return a.useEffect(()=>{s&&d&&0===h&&E()},[h,d,s,E]),a.createElement(eJ.U,{currentStep:h,isShowing:d,children:y})}var iM=n(363367),iD=n(361964),iP=n(698429),iF=n(689329),iB=n(748790),iU=n(803107),iG=n(43258),iK=n(937629),iV=n(113173);let iH="has_onboarded_ai",iz=(0,l.eU)(!1);var iW=n(566901),ij=n(122586);let iY=g.N.HIGH_PRIORITY_MODAL+3;function iJ(e,t){(0,tb.h)(()=>{e(m.b({[t]:!0}))})}let iq=a.createElement(iW.Jm,{src:(0,ew.ck)("b89b812ff4935b239f91bd78df370ad6dd947e0b"),aspectRatio:240/135,width:240});function iX({onClose:e,isShowing:t,onTargetLost:n}){let r=(0,u.wA)();return iJ(r,iG.jx),iJ(r,iH),a.createElement(eG.rq,{arrowPosition:tx.F_.BOTTOM,description:(0,x.tx)("ui3_and_ai_tour.ai_callout.description"),highlightBlue:!0,isShowing:t,media:iq,onClose:e,onTargetLost:n,primaryCta:{type:"button",label:(0,x.tx)("ui3_and_ai_tour.ai_callout.show_me"),onClick:()=>{(0,ij.$I)({trackingData:{source:"onboarding_ai_callout_component"}}),e()},ctaTrackingDescriptor:eI.c.SHOW_ME},secondaryCta:{type:"link",label:(0,x.tx)("ui3_and_ai_tour.ai_callout.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:eI.c.AI_PLAYGROUND},targetKey:iG.Ij,testId:iG.T4,title:(0,x.tx)("ui3_and_ai_tour.ai_callout.title"),trackingContextName:"UI3/AI Onboarding > AI"})}var iZ=n(709076);function iQ({onClose:e,isShowing:t,onTargetLost:n}){return iJ((0,u.wA)(),iG.af),a.createElement(eG.rq,{arrowPosition:tx.F_.BOTTOM,description:(0,r.k)().hub_file_fragments?(0,x.tx)("ui3_and_ai_callouts.community_fragment_search.description"):(0,x.tx)("ui3_and_ai_callouts.fragment_search.description"),highlightBlue:!0,isShowing:t,onClose:()=>e(),onTargetLost:n,primaryCta:{type:"button",label:(0,x.tx)("ui3_and_ai_callouts.fragment_search.cta"),onClick:()=>{(0,iZ.Bd)(),e()},ctaTrackingDescriptor:eI.c.TRY_IT_OUT},targetKey:iG.Ij,testId:"fragmentSearchCallout",title:(0,x.tx)("ui3_and_ai_callouts.fragment_search.title"),trackingContextName:"Fragment Search Callout"})}function i$(){let e=(0,O.GS)(),t=function(){let e=(0,ep.f)(iG.$9),t=(0,ep.f)(iG.af),n=(0,ez.p8)("showUi"),r=(0,a.useMemo)(()=>e,[n]),l=(0,a.useMemo)(()=>t,[n]),i=(0,iP.ks)(),o=(0,am.Em)(),s=(0,iB.PE)(),c=function(){let e=(0,O.GS)(),t=(0,iK.LC)();return e&&(0,iV.C7)()&&t}(),d=[];return!i&&o&&s&&!r&&d.push(iX),0===d.length&&!i&&o&&c&&!l&&d.push(iQ),d}(),n=(0,eA.r1)(iH),i=(0,l.md)(n),o=(0,eA.r1)("did_sign_up_as_ui3_user"),s=(0,l.md)(o),c=(0,eA.r1)(iG.$9),d=(0,l.md)(c),u=(0,eA.r1)(iG.af),m=(0,l.md)(u),p=(0,am.Em)(),g=(0,iD.l7)(),h=(0,iD.hA)(),E=(0,iM.e)(),y=(0,iD.ZO)(),b=!!(0,r.k)().ui3_and_ai_welcome_modal,C=(0,ez.aV)(),v=(0,l.md)(iU.Bu),w=(0,l.md)(ex.Fy),{uniqueId:T,show:S,isShowing:k,complete:I}=(0,f.e)({overlay:_.KTt,priority:iY},[i,d,s,m]),[N,A]=(0,l.fp)(iz),L=(0,a.useCallback)(()=>{t.length>0&&A(!0),I()},[A,I,t.length]),{currentStep:R,next:M}=(0,eW.A)({numSteps:0===t.length?1:t.length,onComplete:()=>L});(0,eN.E)(T,[(0,iF.wX)("dev"),(0,iF.wX)("design")],()=>{D()});let D=(0,a.useCallback)(()=>{b&&p&&e&&!C&&0!==t.length&&w?.data&&!N&&S()},[b,p,e,C,t.length,w,S,N]);(0,a.useEffect)(()=>{C||v||D()},[C,D,v]);let P=(0,a.useCallback)(()=>{L()},[L]);(0,a.useEffect)(()=>{k&&v&&P()},[k,v,P]);let F=a.useMemo(()=>{let e={type:"button",label:(0,x.tx)("general.next"),onClick:M,ctaTrackingDescriptor:eI.c.NEXT},n={type:"button",label:(0,x.tx)("general.done"),onClick:L,ctaTrackingDescriptor:eI.c.DONE};return t.map((r,l)=>a.createElement(r,{primaryCta:l===t.length-1?n:e,onClose:L,stepNum:l+1,totalNumSteps:t.length,isShowing:k,onTargetLost:l===t.length-1?L:M}))},[M,L,t,k]);return((0,a.useEffect)(()=>{(!F||0===t.length||!e||g||h||E||y)&&L()},[F,t.length,e,g,h,E,y,L]),k)?a.createElement(eJ.U,{currentStep:R,isShowing:k,children:F}):null}var i0=n(230618),i1=n(200300);function i2(){let e=!(0,i1.o3)(i1.nt.ui3),{show:t,isShowing:n,complete:r}=(0,f.e)({overlay:_.geI,priority:g.N.DEFAULT_MODAL});return(0,tb.h)(()=>{t({canShow:()=>e})}),a.createElement(iW._l,{closeButtonColor:"light",description:(0,x.tx)("ui3_day_of_move_notice.welcome_to_figmas_new_ui"),isShowing:n,media:a.createElement(i0.oW,{src:(0,ew.ck)("7814f64e8e3f08888eae362300bc2ab65cdf5b20"),alt:""}),onClose:r,primaryCta:{type:"button",label:(0,x.tx)("ui3_day_of_move_notice.got_it"),onClick:r,ctaTrackingDescriptor:eI.c.GOT_IT},secondaryCta:{label:(0,x.tx)("ui3_day_of_move_notice.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/23954856027159-Navigating-UI3-Figma-s-new-UI",ctaTrackingDescriptor:eI.c.LEARN_MORE},title:(0,x.tx)("ui3_day_of_move_notice.a_fresh_look_and_feel"),trackingContextName:"UI3 Day of Move Notice",userFlagOnShow:"seen_ui3_day_of_move_notice"})}var i3=n(164441),i5=n(265098),i4=n(53222),i6=n(264478),i8=n(533978),i9=n(336229);function i7({trackingContextName:e,getTitle:t,getBody:n,width:r=268}){return{modalType:e0.q3.POINTER,trackingContextName:e,width:r,onboardingKey:tR.yl,shouldCenterArrow:aq.EL.FALLBACK,element:()=>a.createElement(a.Fragment,null,a.createElement(i8.x,{target:tR.yl}),a.createElement("div",{className:i9.Hj},t()),n()),userFlag:"seen_figjam_widget_nudge_flag"}}function oe(e){let[t,n]=a.useState(!0),r=(0,u.wA)(),i=(0,l.md)(es.yV);a.useEffect(()=>{setTimeout(()=>n(!1),1e3)});let o=()=>{r(m.b({explicitly_dismissed_create_component_pointer:!0})),e.dismissModal()};return t?null:a.createElement(p.fu,{name:"library upsell create component pointer",properties:{fileKey:i?.key,teamId:i?.teamId}},a.createElement(i8.x,{target:"create-symbol"}),a.createElement(nq.NJ,{dismissModal:o,width:244,targetKey:"create-symbol",shouldNotWrapInParagraphTag:!0,shouldCenterArrow:aq.EL.FALLBACK},a.createElement("p",null,(0,x.tx)("rcs.upsell_libraries.click_here_to_turn_into_component")),a.createElement(i6.Kz,{multiple:2}),a.createElement("div",{className:iS.kP},a.createElement(t5.$z,{onClick:o,variant:"primary"},(0,x.tx)("rcs.upsell_libraries.visual_bell.got_it")))))}e0.q3.SELF_CONTAINED,i7({trackingContextName:"FigJam Widget Nudge Generic",getTitle:()=>(0,x.t)("rcs.figjam_widget_nudge.generic_title"),getBody:()=>(0,x.t)("rcs.figjam_widget_nudge.generic_body")}),i7({trackingContextName:"FigJam Widget Nudge Project Management",getTitle:()=>(0,x.t)("rcs.figjam_widget_nudge.pm_title"),getBody:()=>(0,x.t)("rcs.figjam_widget_nudge.pm_body"),width:240}),i7({trackingContextName:"FigJam Widget Nudge Alignment",getTitle:()=>(0,x.t)("rcs.figjam_widget_nudge.align_title"),getBody:()=>(0,x.t)("rcs.figjam_widget_nudge.align_body")}),i7({trackingContextName:"FigJam Widget Nudge Fun",getTitle:()=>(0,x.t)("rcs.figjam_widget_nudge.fun_title"),getBody:()=>(0,x.t)("rcs.figjam_widget_nudge.fun_body")});var ot=n(236446),on=n(360110),oa=n(783444),or=(e=>(e.AwaitIsShowing="AwaitIsShowing",e.AwaitPastedElementsSelected="AwaitPastedElementsSelected",e.AwaitOtherElementsSelected="AwaitOtherElementsSelected",e.Completed="Completed",e))(or||{}),ol=(e=>(e.OnShow="OnShowUpsellLibariesConsecutivePaste",e.SelectionChanged="Selection Changed",e))(ol||{});oa.R;let oi=(0,ot.Op)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,ot.nr)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,ot.nr)("Selection Changed","AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,ot.nr)("Selection Changed","Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),oo=(0,on.rn)("paste_deselected_machine",oi),os=(0,eA.r1)("explicitly_dismissed_create_component_pointer"),oc=(0,ex.tH)("first_component_created_date");function od(){let e=(0,u.wA)(),t=(0,l.md)(ex.t),n=(0,l.md)(tk.NZ),r=(0,l.md)(tk.pQ),i=(0,ns.jO)(),o=(0,l.md)(oc),s=(0,l.md)(os),c=(0,i5.zl)(oo),d=(0,f.e)({overlay:_.g4U,priority:g.N.SECONDARY_MODAL},[t,r,s]);return(0,eN.E)(d.uniqueId,i4.zb,()=>{null===o&&d.show({canShow:(e,t,a)=>e&&(t||n)&&i&&!a,onShow:()=>{(0,nY.YQ)({id:ol.OnShow})}})}),(0,eN.E)(d.uniqueId,"action_create_symbol",()=>{d.isShowing&&(e(m.b({explicitly_dismissed_create_component_pointer:!0})),d.complete())}),(0,i5.ST)(c,({to:e})=>{e===or.Completed&&(d.complete(),c.reset())}),a.createElement(ou,{isShowing:d.isShowing,onAbort:d.complete},a.createElement(eq.h,{isShowing:d.isShowing,modalType:e0.q3.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:oe,onClickPrimaryCta:d.complete,onClose:d.complete,onManualDismiss:d.complete,testId:"upsell_libraries_consecutive_paste_overlay"}))}function ou(e){let[t,n]=a.useState(!1),r=ew.Ay().user_data?.id,{isShowing:l,onAbort:i}=e;return a.useEffect(()=>{!t&&l&&((0,nx.Hz)(r)?n(!0):i())},[n,t,l,i,r]),t?e.children:null}var om=n(514019),op=n(807949),of=n(102382);let og="seen_workflow_interop_diagram_onboarding",oh=(0,eA.r1)(og),oE="FigJam Diagram Onboarding (Workflow Interop Experiment)",o_={connectors:`${oE} - Connectors`,shapes:`${oE} - Shapes`,templates:`${oE} - Templates`},oy=(0,ew.ck)("2655e9f0e4247dff3d5a46cf59f788473bffe0c6"),ob=(0,ew.ck)("0c9201d8164c2390cdcf3fb8d316b6bacdddb438"),oC=(0,ew.ck)("b8b42ba263794abd20364c3da0f3f4993fd4ed86");function ov(){!function(){let e=(0,ez.p8)("pagesList");(0,a.useMemo)(()=>{let t=(0,t0.QL)("preservePageIndex");if(t&&e.length>0){(0,t0.EM)("preservePageIndex");let n=parseInt(t);if(isNaN(n)||n<0||n>=e.length)return;e.forEach((e,t)=>{t!==n&&nZ.Y5.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,aB.Fz)(),t=(0,u.wA)();(0,tb.h)(()=>{let n=(0,t0.QL)("templateId");null!=n&&((0,t0.EM)("templateId"),t(om.ts({hubFileId:n,callback:t=>{e({template:{template:t,type:aV.n.HubFile},userTriggered:!1,templateInsertionDirection:S.hKj.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,l.md)(oh),t=(0,f.e)({overlay:_.uPw,priority:g.N.OVERRIDING_MODAL},[e]),n=function(e){let t=(0,u.wA)();return a.useMemo(()=>[{title:(0,x.tx)("rcs.figjam_diagram_onboarding.connectors_title"),trackingContextName:o_.connectors,arrowPosition:tx.F_.BOTTOM,media:a.createElement(eM.y,{src:oy,aspectRatio:900/508,alt:(0,x.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:(0,x.tx)("rcs.figjam_diagram_onboarding.connectors"),targetKey:tR.BC,onClose:nj.lQ},{title:(0,x.tx)("rcs.figjam_diagram_onboarding.shapes_title"),trackingContextName:o_.shapes,arrowPosition:tx.F_.BOTTOM,media:a.createElement(eM.y,{aspectRatio:900/507,src:ob,alt:(0,x.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:(0,x.tx)("rcs.figjam_diagram_onboarding.shapes"),targetKey:tR.BC,onClose:nj.lQ},{title:(0,x.tx)("rcs.figjam_diagram_onboarding.templates_title"),trackingContextName:o_.templates,arrowPosition:tx.F_.BOTTOM,media:a.createElement(eM.y,{aspectRatio:900/505,src:oC,alt:(0,x.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:(0,x.tx)("rcs.figjam_diagram_onboarding.templates"),targetKey:tR.yl,secondaryCta:{type:"button",label:(0,x.tx)("rcs.figjam_diagram_onboarding.see_templates"),onClick:()=>{t(tW.En({initialX:0,initialY:0,initialTab:of.p.TEMPLATES})),e.complete()}},onClose:nj.lQ}],[t,e])}(t);return(0,tb.h)(()=>{(0,t0.QL)(op.tX.key)===op.tX.value&&t.show({canShow:e=>!e})}),a.createElement(tN.WZ,{testId:"workflow-interop-machine-overlay",userFlagOnShow:og,isShowing:t.isShowing,onComplete:t.complete,steps:n})}var ow=n(67391);let oT="seen_figjam_workshop_onboarding",oS=(0,eA.r1)(oT);function ok(e){let t=(0,l.md)(tk.J1),n=(0,l.md)(oS),r=(0,l.md)(tk.zo),i=(0,l.md)(tk.PD),o=(0,f.e)({overlay:_.Fq3,priority:g.N.SECONDARY_MODAL},[t,n,r,i]);return(0,tb.h)(()=>{o.show({canShow:(e,t,n,a)=>e&&!t&&n&&!a})}),a.createElement(eq.h,{currentStepIndex:0,disableFooter:!0,element:oI,isShowing:o.isShowing,modalType:e0.q3.DRAGGABLE,onClickPrimaryCta:o.complete,onClose:o.complete,onManualDismiss:o.complete,onboardingKey:e$.v4,title:()=>(0,x.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),totalNumSteps:1,trackingContextName:"Fig Jam Workshop Onboarding",userFlagOnShow:oT,width:301})}function oI(e){return a.createElement(a.Fragment,null,a.createElement(ow.Gv,{width:301,src:(0,ew.ck)("a97e76df2b43ae8b408127c1c63ea0b8485ba8ac")}),a.createElement(ow.ak,null,(0,x.tx)("rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account")))}var oN=n(861673),ox=n(11594),oA=n(115958),oL=n(286202);function oO(e,t,n,r){let l=(0,u.wA)(),i=(0,ep.f)(n),o=a.useRef(!!i);(0,eN.E)(e,t,a.useCallback(()=>{!(r?.current||o?.current)&&(i||(o.current=!0,l(m.b({[n]:!0}))))},[r,l,i,n]))}var oR=n(405465),oM=n(324762),oD=n(592374),oP=n(612803),oF=n(92018),oB=n(292190),oU=n(326268);function oG(){let{uniqueId:e,show:t,isShowing:n,complete:r}=(0,f.e)({overlay:_.a9B,priority:g.N.OVERRIDING_MODAL}),i=(0,u.wA)(),o=(0,ep.f)("cursor_bot_v2__no_basics_file__played_frame_formatting"),s=(0,ep.f)("design_panel_step_shown"),c=(0,ep.f)("cursor_bot_v2__basics_file__started_flow"),d=(0,ns.Ai)(["exp_cursor_bot_onboarding"]),p=(0,oF.b)();(0,eN.E)(e,"create_frame",a.useCallback(()=>{!o||s||c||d||n||t()},[s,c,n,o,t,d]));let h=(0,l.md)(oN.a8),E=!!(0,ep.f)((0,ox.Of)(oD.wn.FORMAT_FRAME,!1).tutorialPlayedUserFlag),y=a.useMemo(()=>(0,oB.p)(E,!1),[E]);if(!n)return null;if(h===oD.h0.PLAYING)return a.createElement(oP.a,{cursorBotStateManager:p,currentTutorial:y});let b=()=>{i(m.b({design_panel_step_shown:!0})),r()};return a.createElement(y.TooltipElement,{onClickNext:b,onClickShowMe:()=>{p.runTutorial(y)},onClickClose:b,skip:b,isFollowUp:!0})}function oK(){let{uniqueId:e,show:t,isShowing:n,complete:r}=(0,f.e)({overlay:_.ENg,priority:g.N.OVERRIDING_MODAL}),i=(0,u.wA)(),o=(0,ep.f)("cursor_bot_v2__no_basics_file__played_text_formatting"),s=(0,ep.f)("format_text_step_shown"),c=(0,ep.f)("cursor_bot_v2__basics_file__started_flow"),d=(0,oF.b)(),p=(0,ns.Ai)(["exp_cursor_bot_onboarding"]),[h,E]=a.useState(!1),y=(0,oM.VW)(),b=(0,u.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,eN.E)(e,"create_text",()=>{E(!0)}),a.useEffect(()=>{!o||s||c||p||n||!h||y?.type!=="TEXT"||b!==S.m1T.DESIGN_LAYOUT||n||t()},[y,h,n,t,b,o,s,c,p]);let C=!!(0,ep.f)((0,ox.Of)(oD.wn.FORMAT_TEXT,!1).tutorialPlayedUserFlag),v=a.useMemo(()=>(0,oU.Z)(C,!1),[C]),w=(0,l.md)(oN.a8);if(!n)return null;if(w===oD.h0.PLAYING)return a.createElement(oP.a,{cursorBotStateManager:d,currentTutorial:v});let T=()=>{i(m.b({format_text_step_shown:!0})),r()};return a.createElement(v.TooltipElement,{onClickNext:T,onClickShowMe:()=>{d.runTutorial(v)},onClickClose:T,skip:T,isFollowUp:!0})}var oV=n(850389),oH=n(577612);function oz(){let e=(0,f.e)({overlay:_.CVA,priority:g.N.OVERRIDING_MODAL}),t=(0,ep.f)("no_figma_basics_tooltips_design_panel_step"),n=(0,ep.f)("design_panel_step_shown"),r=(0,ep.f)("started_figma_basics_onboarding"),l=(0,u.wA)(),i=t&&!n&&!r;if((0,eN.E)(e.uniqueId,"create_frame",a.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(m.b({design_panel_step_shown:!0}))};return a.createElement(eG.rq,{arrowPosition:tx.F_.RIGHT_BODY,description:(0,x.tx)("tooltips_plus_onboarding.design_panel.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:o,onTargetLost:o,targetKey:oV.W,title:(0,x.tx)("tooltips_plus_onboarding.change_properties_in_the_design_panel"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting"})}function oW(){let e=(0,f.e)({overlay:_.IQ,priority:g.N.OVERRIDING_MODAL}),t=(0,ep.f)("no_figma_basics_tooltips_format_text_step"),n=(0,ep.f)("format_text_step_shown"),r=(0,ep.f)("started_figma_basics_onboarding"),l=(0,u.wA)(),i=!n&&t&&!r;if((0,eN.E)(e.uniqueId,"create_text",a.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(m.b({format_text_step_shown:!0}))};return a.createElement(eG.rq,{arrowPosition:tx.F_.RIGHT_BODY,description:(0,x.tx)("tooltips_plus_onboarding.text_formatting.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:o,onTargetLost:o,targetKey:oH.B,title:(0,x.tx)("tooltips_plus_onboarding.text_formatting.title"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting"})}var oj=n(283115),oY=n(392440),oJ=n(634444),oq=n(128080),oX=n.n(oq),oZ=n(618500),oQ=n(231159),o$=n(210585),o0=n(828532),o1=n(709067);function o2(e){let t;let{file:n,org:r,overlay:l}=e,i=(0,oZ.B)(n,r.id),o=(0,a.useRef)(void 0),s=l.complete;if((0,a.useEffect)(()=>{i&&o.current&&!oX()(i.filePermissionsData,o.current?.filePermissionsData)&&s(),o.current=i},[i,s]),!i)return null;let c=i.isBranch,d=i.branchMatchesRepo,u=i.linkExpiresAt,m=(0,ao.Ch)(i.filePermissionsData,e.org),p=(0,o1.M3)((0,eu.A)(u)),f=!d&&c?(0,x.tx)("link_expired_overlay.different_branch_permissions_header"):(0,x.tx)("link_expired_overlay.header");return t=d?(0,x.tx)("link_expired_overlay.same_branch_permissions_body",{formattedTimestamp:p,audience:m}):c?(0,x.tx)("link_expired_overlay.different_branch_permissions_body",{formattedTimestamp:p,audience:m}):(0,x.tx)("link_expired_overlay.body",{formattedTimestamp:p,audience:m}),a.createElement(eG.rq,{isShowing:l.isShowing,trackingContextName:"Link Expired Overlay",title:f,description:t,targetKey:e$.v4,onClose:l.complete})}let o3=(0,oQ.bt)(e=>e.modalShown);function o5(e){let t=(0,a.useRef)(null),n=(0,f.e)({overlay:_.K_h,priority:g.N.SECONDARY_MODAL}),r=(0,rF.sZ)(),i=(0,l.md)(es.yV),o=l.md(o3)?.type===o0.j;return((0,eN.E)(n.uniqueId,[o$.q2],()=>{r&&i&&!n.isShowing&&!o&&n.show()}),(0,a.useEffect)(()=>(n.isShowing?t.current=setTimeout(()=>{t.current=null,n.complete()},45e3):t.current&&clearTimeout(t.current),()=>{t.current&&clearTimeout(t.current)}),[n]),r&&i)?a.createElement(o2,{overlay:n,org:r,file:i}):null}var o4=n(254028),o6=n(756672),o8=n(571277),o9=n(929083);function o7(){let e=(0,u.wA)(),t=(0,iB.PE)(),n=(0,eA.r1)(o9.Kt),r=(0,l.md)(n),i=(0,eA.r1)(o9.wl),o=(0,l.md)(i),s=(0,o6.sO)(),c=(0,ez.aV)(),{show:d,isShowing:p,complete:g}=(0,f.e)({overlay:_.Fff,priority:iY},[r,o]),h=(0,a.useCallback)(()=>{s&&t&&(c||d({canShow:(e,t)=>e&&!t}))},[t,c,s,d]);return(0,a.useEffect)(()=>h(),[h]),(0,o8.i)({onClickPrimaryCta:g,onClickSecondaryCta:()=>{e(m.b({agreed_to_slides_ai_terms:!1}))},isShowing:p,isOnboarding:!1,totalSteps:1})}var se=n(453370),st=n(156818),sn=n(668777),sa=n(685060);function sr({openFile:e}){let t=(0,tu.Gi)(),n=(0,tu.J3)(),r=(0,tu.JU)(n);return e&&e.teamId&&t?.type==="team"&&r?a.createElement(sl,{teamId:e.teamId}):null}function sl({teamId:e}){let t=(0,u.wA)(),n=(0,eA.r1)(o9.Kt),r=(0,l.md)(n),i=(0,eA.r1)(o9.uM),o=(0,l.md)(i),s=(0,st.hX)(`[data-onboarding-key="${eX.O0}"]`),c=(0,es.q5)(),d=(0,l.md)(ex.Fy),m=(0,ez.aV)(),p=(0,l.md)((0,sn.U)({teamId:e,editorType:ap._Y.SLIDES})),{numSkippedSlides:h,numTotalSlides:E}=(0,sa.Nr)(),y=E-h,{show:b,isShowing:C,complete:v}=(0,f.e)({overlay:_.uTW,priority:g.N.SECONDARY_MODAL},[r,o,d,p]),w=(0,a.useCallback)(()=>{!m&&s&&c&&b({canShow:(e,t,n,a)=>y>1&&e&&!t&&0===a&&n})},[m,s,c,b,y]);return(0,a.useEffect)(()=>w(),[w]),(0,a.useEffect)(()=>{C&&t(se.j7({type:eX.eg,data:{targetRect:s,activePathOnMount:[(0,x.t)("tile.dropdown.publish_as_template")]}}))},[t,s,C]),a.createElement(eG.rq,{arrowPadding:4,arrowPosition:tx.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,x.tx)("slides.templates.pro_templates_announcement.description"),disableHighlight:!0,isShowing:C,onClose:v,onTargetLost:v,primaryCta:{label:(0,x.tx)("slides.templates.pro_templates_announcement.button.done"),type:"button",onClick:v,ctaTrackingDescriptor:eI.c.DONE},targetKey:o9.w1,title:(0,x.tx)("slides.templates.pro_templates_announcement.header"),trackingContextName:"Slides Pro Templates Announcement",userFlagOnShow:"seen_slides_pro_templates_announcement",zIndex:eP.R.MODAL})}var si=n(649685),so=n(891512),ss=n(837988);let sc=a.memo(function({isFigjamEditor:e,isDesignEditor:t,isSlidesEditor:n,isDevModeEditor:r,openFile:o}){let s=a.useRef(!t);a.useEffect(()=>{s.current=!t},[t]),function(e){let t=(0,l.md)(oN.a8),n=(0,u.d4)(e=>e.user?.created_at),r=!!n&&(0,eu.A)("2023-05-01").isBefore(n);a.useEffect(()=>{if(!r){e.current=!0;return}e.current=e.current||(0,ox.XC)(t)},[e,t,r]),(0,oR.yE)("x",e),(0,oR.yE)("y",e),(0,oR.yE)("width",e),(0,oR.yE)("height",e),(0,oR.yE)("angle",e),(0,oR.yE)("cornerRadius",e),(0,oR.yE)("strokePaints",e),(0,oR.yE)("fillPaints",e),(0,oR.yE)("effects",e),(0,oR.yE)("fontSize",e),(0,oR.yE)("fontFamily",e),(0,oR.yE)("fontStyle",e),(0,oL.g)("has_zoomed_in_design_file",e),(0,oA.U)("has_panned_in_design_file",e);let i=(0,f.e)({overlay:_._5$,priority:0});oO(i.uniqueId,"action_set_tool_frame","has_selected_frame_tool",e),oO(i.uniqueId,"create_frame","has_created_frame",e),oO(i.uniqueId,"create_text","has_created_text",e),e.current}(s),function(e){let t=(0,u.wA)(),n=(0,l.md)(em.mp),r=null!=n&&(0,eu.A)("2023-10-31").isBefore(n),i=!!(0,ep.f)("has_opened_design_editor"),[o,s]=(0,l.fp)(ef);(0,a.useEffect)(()=>{r&&!i&&e&&(s(!0),t(m.b({has_opened_design_editor:!0})))},[t,i,e,s,r]),(0,a.useEffect)(()=>{o&&!e&&s(!1)},[o,e,s])}(t);let c=(0,es.MY)(),d=(0,l.md)(ec.yF),p=(0,ed.I)();return eo.z4.getIsExtension()||"loaded"!==c.status||ei.pb.isGoogleClassroomIntegration()||d===oY.E1||d===oj.XC||r&&p?null:a.createElement(a.Fragment,null,a.createElement(sd,{isFigjamEditor:e,isDesignEditor:t,isSlidesEditor:n,openFile:o}),!i.Ay.isIpadNative&&a.createElement(su,{isFigjamEditor:e,isDesignEditor:t,isSlidesEditor:n,isDevModeEditor:r,openFile:o}))});function sd({isFigjamEditor:e}){return a.createElement(a.Fragment,null,e&&a.createElement(ss.p,null,a.createElement(t7,null),a.createElement(nl,null)))}function su({isFigjamEditor:e,isDesignEditor:t,isSlidesEditor:n,isDevModeEditor:l,openFile:u}){let m=(0,so.tG)(),p=(0,s.q8)(),f=(0,r.k)().switch_gen1_nux_overlay,g=(0,d.xo)(),h=(0,o4.Oc)();return g?a.createElement(a.Fragment,null,a.createElement(ss.p,null,a.createElement(nz.OnboardGen1WelcomeOverlay,null)),a.createElement(ss.p,null,a.createElement(nH.Gen0WelcomeOverlay,null))):a.createElement(a.Fragment,null,t&&!(0,o.nl)()&&a.createElement(ss.p,null,a.createElement(td,null)),e&&!t&&a.createElement(oJ.Q,null,a.createElement(ss.p,null,a.createElement(th,null))),t&&a.createElement(ss.p,null,a.createElement(nM,null)),a.createElement(ss.p,null,a.createElement(nU.A,null)),a.createElement(ss.p,null,a.createElement(nG.F,null)),!h&&a.createElement(ss.p,null,a.createElement(nK.w,null)),!i.Xb&&a.createElement(a.Fragment,null,!f&&!h&&a.createElement(ss.p,null,a.createElement(nz.OnboardGen1WelcomeOverlay,null)),a.createElement(ss.p,null,a.createElement(ng.P,null)),a.createElement(ss.p,null,a.createElement(tS.A,null)),a.createElement(ss.p,null,a.createElement(iy.A,null)),a.createElement(ss.p,null,a.createElement(nh.A,null)),(t||l)&&a.createElement(ss.p,{featureFlag:"ui3_day_of_move_notice_modal"},a.createElement(i2,null))),u?.canEditCanvas&&e&&!t&&a.createElement(ss.p,null,a.createElement(r4,{openFile:u}),a.createElement(it,null),a.createElement(ry,null),a.createElement(le,null),a.createElement(rx,null),a.createElement(rA,null)),f&&!t&&!h&&a.createElement(ss.p,null,a.createElement(nz.OnboardGen1WelcomeOverlay,null)),!t&&!n&&!h&&a.createElement(ss.p,null,a.createElement(nH.Gen0WelcomeOverlay,null)),e&&!t&&a.createElement(a.Fragment,null,a.createElement(ss.p,null,a.createElement(nH.Gen0WelcomeOverlay,null)),a.createElement(ss.p,null,a.createElement(rX,null))),a.createElement(ss.p,null,a.createElement(ia.KX,null)),e&&a.createElement(ss.p,null,a.createElement(ok,null)),a.createElement(ss.p,null,a.createElement(i_.Wk,null)),e&&a.createElement(ss.p,null,a.createElement(ov,null)),a.createElement(ss.p,null,a.createElement(o5,null)),a.createElement(ss.p,null,a.createElement(eH,null)),e&&a.createElement(a.Fragment,null,a.createElement(ss.p,null,a.createElement(tQ,null))),t&&u?.canEdit&&a.createElement(ss.p,null,a.createElement(od,null)),t&&u?.canEdit&&a.createElement(ss.p,null,a.createElement(ny,null)),t&&a.createElement(ss.p,null,a.createElement(nf,null)),a.createElement(ss.p,null,a.createElement(tT,null)),!i.Xb&&a.createElement(ss.p,null,a.createElement(nB,null)),a.createElement(ss.p,null,a.createElement(nV.b,null)),t&&a.createElement(ss.p,null,a.createElement(ih,null)),t&&a.createElement(ss.p,null,a.createElement(oz,null),a.createElement(oW,null)),t&&a.createElement(ss.p,{featureFlag:"cursor_bot"},a.createElement(oG,null),a.createElement(oK,null)),e&&!p&&!(0,r.k)().figjam_synthesize_handbrake&&a.createElement(ss.p,null,a.createElement(el,null)),e&&!p&&!(0,r.k)().figjam_synthesize_handbrake&&a.createElement(ss.p,null,a.createElement(B.Cw,null)),e&&a.createElement(ss.p,null,a.createElement(tz.$8,null)),e&&a.createElement(ss.p,null,a.createElement(tK,null)),l&&a.createElement(ss.p,null,a.createElement(tG,null)),m&&a.createElement(ss.p,null,e&&a.createElement(tH.vi,null)),t&&a.createElement(ss.p,null,a.createElement(eB,null)),e&&a.createElement(ss.p,null,a.createElement(iT.rj,null),a.createElement(iA,null)),a.createElement(ss.p,null,a.createElement(nS,null)),e&&a.createElement(ss.p,null,a.createElement(iR,null),a.createElement(ak,null)),u&&a.createElement(ss.p,{featureFlag:"ui3_and_ai_welcome_modal"},a.createElement(i$,null)),a.createElement(ss.p,null,a.createElement(c.QI,null)),a.createElement(ss.p,null,a.createElement(o7,null)),u?.canEditCanvas&&n&&a.createElement(ss.p,null,a.createElement(sr,{openFile:u})),a.createElement(ss.p,null,a.createElement(eC,null)),a.createElement(ss.p,null,a.createElement(nW.C,{source:"editor"})),a.createElement(ss.p,null,a.createElement(i3.HU,null)),a.createElement(ss.p,{featureFlag:"figjam_ai_actions_callout"},a.createElement(tV.sR,null)),u?.canEditCanvas&&l?a.createElement(ss.p,{featureFlag:"cheddar"},a.createElement(si.oI,null),a.createElement(si.Te,null),a.createElement(si.Ug,null)):null)}},422775:(e,t,n)=>{n.d(t,{D1:()=>y,FX:()=>_,n6:()=>E,sR:()=>b});var a=n(848318),r=n(580494),l=n(999667),i=n(204295),o=n(967688),s=n(995218),c=n(34542),d=n(539829),u=n(263336),m=n(391301),p=n(748790),f=n(556049),g=n(136169),h=n(620847);let E=(0,l.eU)(!1),_=(0,l.eU)(!1),y="figjam_ai_actions_callout";function b(){let e=(0,l.md)((0,l.Rq)(d.Sb)),t=(0,h._)(),n=(0,l.md)(E),b=(0,l.md)(_),C=(0,p.PE)(),v=!(0,i.q8)(),w=(0,s.ow)(),T=C||(0,r.k)().figjam_ai_menu_items_all_access&&w&&v,{show:S,isShowing:k,complete:I}=(0,c.e)({overlay:g.sP8,priority:u.N.SECONDARY_MODAL},[e]);return(0,a.useEffect)(()=>{n&&t&&(0,r.k)().figjam_ai_actions_callout&&T&&S({canShow:e=>!e})},[T,n,t,S]),(0,a.useEffect)(()=>{k&&(!n||b)&&I()},[I,n,k,b]),a.createElement(m.rq,{arrowPosition:f.F_.BOTTOM,description:(0,o.tx)("figjam_ai.ai_actions_callout.description"),emphasized:!0,isShowing:k,onClose:I,shouldCenterArrow:f.EL.BEST_EFFORT,shouldDisableAnimation:!0,targetKey:y,testId:"figjam-ai-actions-overlay",title:(0,o.tx)("figjam_ai.ai_actions_callout.title"),trackingContextName:"FigJam Ai Actions callout"})}},186082:(e,t,n)=>{n.d(t,{AI:()=>b,bX:()=>y,i1:()=>N,vi:()=>I});var a=n(848318),r=n(999667),l=n(359822),i=n(615233),o=n(967688),s=n(957872),c=n(34542),d=n(539829),u=n(517776),m=n(263336),p=n(991675),f=n(45937),g=n(391301),h=n(556049),E=n(136169),_=n(813790);let y="ai_generate_onboarding_key",b="ai_new_file_modal_v2_onboarding_key",C="has_seen_figjam_ai_modal_overlay",v="has_seen_figjam_ai_toolbar_tooltip",w=(0,u.r1)(_.W1),T=(0,u.r1)(C),S=(0,u.r1)(v),k=(0,u.r1)("figjam_editor_onboarded");function I(){let e=(0,r.md)(S),t=(0,r.md)(_.qe),n=(0,r.md)(_.rM),l=(0,c.e)({overlay:E.QLv,priority:m.N.HIGH_PRIORITY_MODAL},[e]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{l.show({canShow:e=>!e&&n&&t})},1e3);return()=>clearTimeout(e)},[t,n,l]),a.createElement(g.rq,{isShowing:l.isShowing,userFlagOnShow:v,targetKey:y,onClose:l.complete,trackingContextName:p.e0.AI_TOPBAR_TOOLTIP,title:(0,o.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.title"),description:(0,o.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.description"),emphasized:!0})}function N({targetKey:e}){let t=(0,r.md)((0,r.Rq)(d.Sb)),n=(0,r.md)(w),u=(0,r.md)(T),y=(0,r.md)(k),b=(0,r.Xr)(_.RC),v=(0,c.e)({overlay:E.xiH,priority:m.N.HIGH_PRIORITY_MODAL},[n,u,t,y]);(0,l.h)(()=>{v.show({canShow:(e,t,n,a)=>!e&&!t&&!n&&a})});let S=()=>{v.complete(),b(!0)};return(0,l.h)(()=>()=>{S()}),a.createElement(g.rq,{arrowPosition:h.F_.LEFT_TITLE,description:(0,o.tx)("whiteboard.ai_onboarding.new_file_modal.footer"),isShowing:v.isShowing,media:a.createElement(f.y,{src:(0,i.ck)("b306123ab827a626d46db70bcc5a74e9e76feacf"),alt:"",aspectRatio:301/154}),onClose:S,onTargetLost:S,primaryCta:{label:(0,o.tx)("rcs.got_it"),type:"button",onClick:S,ctaTrackingDescriptor:s.c.GOT_IT},targetKey:e,title:(0,o.tx)("whiteboard.ai_onboarding.new_file_modal.title"),trackingContextName:p.e0.AI_MODAL_ONBOARDING_TOOLTIP,userFlagOnShow:C})}},896046:(e,t,n)=>{n.d(t,{$8:()=>S,gh:()=>v,jn:()=>C});var a=n(848318),r=n(999667),l=n(627503),i=n(967688),o=n(696786),s=n(34542),c=n(539829),d=n(709292),u=n(517776),m=n(355755),p=n(730143),f=n(180294),g=n(253332),h=n(361053),E=n(263336),_=n(391301),y=n(136169);let b="seen_figjam_pages_launch_tooltip",C="used_figjam_pages",v="figjam-pages-onboarding-key",w=(0,u.r1)(b),T=(0,u.r1)(C);function S(){let e=(0,r.md)(w),t=(0,r.md)(T),n=(0,r.md)(c.zo),u=(0,r.md)(d.Fy),C=(0,o.GS)(),S=(0,m.aV)(),k=(0,p.q5)(),I=!!(k&&(0,g.dT)(k)),N=Date.now()<=l.rn.getTime()+2592e6,x=(0,h.ol)(),A=(0,f.sZ)(),L=!!(x?.student_team||A?.k12_google_org),{show:O,isShowing:R,complete:M}=(0,s.e)({overlay:y.$8i,priority:E.N.SECONDARY_MODAL},[e,n,u,t]);return a.useEffect(()=>{O({canShow:(e,t,n,a)=>!e&&I&&t&&n&&!a&&N&&!C&&!S&&!L})},[O,e,I,n,u,t,N,C,S,L]),a.createElement(_.rq,{isShowing:R,userFlagOnShow:b,emphasized:!0,title:(0,i.tx)("pages_panel.toolbar.rcs_title"),description:a.createElement("p",null,(0,i.tx)("pages_panel.toolbar.rcs_desc")),targetKey:v,onClose:M,trackingContextName:"figjam_pages_onboarding_pointer"})}},468325:(e,t,n)=>{n.d(t,{Gen0WelcomeOverlay:()=>g});var a=n(848318),r=n(999667),l=n(359822),i=n(847576),o=n(34542),s=n(709292),c=n(752181),d=n(263336),u=n(913122),m=n(560764),p=n(564966),f=n(136169);function g(){let e=!!(0,c.f)("not_gen_0"),t=(0,r.md)(s.NT),n=(0,r.md)(s.g5),g=(0,r.md)(p.pC),{isShowing:h,complete:E,show:_}=(0,o.e)({overlay:f.Lg0,priority:d.N.HIGH_PRIORITY_MODAL},[t,n]);return((0,i.Q)(h),(0,l.h)(()=>{_({canShow:(t,n)=>!(g||e||(0,m.d)({emailValidatedAt:n,jobTitle:t}))})}),h)?a.createElement(u.b,{trackingContextName:"Gen 0 NUX",isShowing:h,onOverlayClose:()=>{E()},dataTestId:"NuxDynamicPreviewOverlay-Gen0WelcomeOverlay"}):null}},115044:(e,t,n)=>{n.d(t,{OnboardGen1WelcomeOverlay:()=>C});var a=n(848318),r=n(301168),l=n(999667),i=n(359822),o=n(533737),s=n(847576),c=n(34542),d=n(638345),u=n(709292),m=n(752181),p=n(263336),f=n(913122),g=n(560764),h=n(564966),E=n(136169),_=n(68999);function y({isShowing:e,onDismiss:t}){return a.createElement(f.b,{isGen1:!0,trackingContextName:"Dynamic Gen1 Welcome Modal",isShowing:e,dataTestId:"NuxDynamicPreviewOverlay-DynamicGen1WelcomeOverlay",onOverlayClose:t})}function b(){let e=(0,r.wA)(),t=!!(0,m.f)("not_gen_0"),n=(0,l.md)(u.NT),d=(0,l.md)(u.g5),f=(0,l.md)(h.pC),{show:_,complete:b,isShowing:C}=(0,c.e)({overlay:E.KoA,priority:p.N.HIGH_PRIORITY_MODAL},[n,d]),v=a.useCallback(()=>{_({canShow:(e,n)=>!f&&function(e){let{emailValidatedAt:t,isGen1:n,jobTitle:a}=e;return n&&!(0,g.d)({jobTitle:a,emailValidatedAt:t})}({emailValidatedAt:n,isGen1:t,jobTitle:e})})},[_,f,t]);return((0,i.h)(()=>{v()}),(0,s.Q)(C),C)?a.createElement(y,{isShowing:C,onDismiss:()=>{e(o.b({welcome_onboarded:!0})),b()}}):null}function C(){return(0,l.md)(d.eS).data?a.createElement(_.CJ,null):a.createElement(b,null)}},218089:(e,t,n)=>{n.d(t,{J:()=>s});var a=n(848318),r=n(536384),l=n.n(r),i=n(178806),o=n(190597);function s({onClick:e,autoFocus:t,children:n,trackingEventName:r,trackingProperties:s,large:c}){return a.createElement(i.e6,{className:l()({[o.HM]:!0,"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":c}),onClick:e,htmlAttributes:{autoFocus:t},trackingEventName:r,trackingProperties:s},n)}},55201:(e,t,n)=>{n.d(t,{O:()=>l});var a=n(848318),r=n(996202);function l(){let e=(0,r.U)();return(0,a.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},959114:(e,t,n)=>{n.d(t,{CM:()=>f,mI:()=>g,mN:()=>h,rL:()=>y,vX:()=>E,wV:()=>_});var a=n(848318),r=n(615233),l=n(720522),i=n(66699),o=n(967688),s=n(551700),c=n(218089),d=n(55201),u=n(226455),m=n(320848),p=n(564866);let f="FigJam Editor Onboarding";function g(e){return a.createElement("div",{className:m.hQ},e.svg&&a.createElement("div",{className:m.ZS},a.createElement(l.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),a.createElement("div",{className:m.IP},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&a.createElement("div",{className:m.UD},a.createElement(c.J,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}let h=(0,r.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1");function E(e){let t=(0,d.O)(),n=(0,s.D)();return a.createElement(a.Fragment,null,e.children,a.createElement("div",{className:m.Lx,style:{marginBottom:n+32}},a.createElement(c.J,{onClick:()=>{e.onSkipClick(),(0,i.YQ)({id:u.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},trackingProperties:{text:"Skip intro"}},(0,o.tx)("figjam_onboarding_make_something.all.skip_intro"),a.createElement(l.B,{svg:p.A}))))}function _(e){return a.createElement("div",{className:m.xn},a.createElement(g,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg}))}function y(e){let{useCase:t,stepName:n,stepNum:r}=e,l=(0,d.O)();(0,a.useEffect)(()=>{l({eventName:"msv2_step_shown",useCase:t,stepName:n,stepNum:r})},[n,r,l,t])}},384580:(e,t,n)=>{n.d(t,{m5:()=>O,pN:()=>A,rj:()=>R});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(615233),s=n(967688),c=n(957872),d=n(34542),u=n(539829),m=n(709292),p=n(517776),f=n(686464),g=n(859480),h=n(614092),E=n(263336),_=n(45937),y=n(391301),b=n(707520),C=n(556049),v=n(136169),w=n(813790),T=n(600163),S=n(695596),k=n(620847),I=n(9768),N=n(120015),x=n(25542);let A="section_presets_announcement_key",L="seen_figjam_section_presets_announcement",O=(0,p.Fu)(L);function R(){let e=(0,i.md)(I.P)===N.iH.TRUE,t=(0,r.d4)(e=>e.mirror.appModel.currentPage),n=(0,h.Fk)((t,n)=>(0,g.zC)(t,n)||e&&(0,g.re)(t,n),t),p=(0,f.q)(),R=(0,i.md)((0,i.Rq)(u.Sb)),M=(0,i.md)(O),D=(0,i.md)(S.w),P=(0,k._)(),F=(0,b.Td)(),B=function(){let[e,t]=(0,a.useState)(!1),n=(0,r.d4)(e=>e.isMakeSomethingV2Active),l=(0,i.md)(w.rM);return(0,a.useEffect)(()=>{(n||l)&&t(!0)},[l,n]),e}(),U=(0,i.md)(w.dO),G=(0,i.md)(m.mp),K=U.status!==T.c.NONE,[V,H]=(0,a.useState)(!1),{show:z,isShowing:W,complete:j}=(0,d.e)({overlay:v.pjo,priority:E.N.SECONDARY_MODAL},[M,R,G]),Y=1e3*parseFloat(x.H)+1e3;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{H(!0)},Y);return()=>{clearTimeout(e)}},[Y]),(0,a.useEffect)(()=>{D&&!B&&!K&&n&&p&&P&&V&&!F&&z({canShow:(e,t,n)=>{let a=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n);return!e&&!t&&a}})},[z,n,p,D,P,V,K,B,F]),a.createElement(y.rq,{arrowPosition:C.F_.BOTTOM,description:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.description"),isShowing:W,media:a.createElement(_.w,{src:(0,o.ck)("0ccb9b0b677f719939bd9bacd937201dfea4e8c9"),aspectRatio:4/3}),onClose:j,primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:j,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.secondary"),type:"button",onClick:()=>{e&&l.gw5.setFigjamStarterKitEnabled(!1),l.T4N.createSectionForOnboarding(),j()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},targetKey:A,title:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.title"),trackingContextName:"section_preset_picker_dlt_announcement",userFlagOnShow:L})}},774121:(e,t,n)=>{n.d(t,{P:()=>u});var a=n(848318),r=n(301168),l=n(186606),i=n(989232),o=n(31898),s=n(70433),c=n(554326),d=n(842746);function u({sidebarWidth:e}){let t=(0,r.d4)(e=>e.modalShown?.type===d.gG.type),n=(0,r.wA)(),u=(0,a.useCallback)(()=>{let a=(0,s.P3)();(0,i.trackEvent)("toggle_manage_memory_modal",{memoryUsedPercent:a,totalLayers:l.CeL?.getFileNodeCount(),pageContentPct:a-(0,s.Zz)()}),t?n(o.Ce()):n(o.to({type:d.gG,data:{sidePanelWidth:e,markModalClosed:()=>{}}}))},[n,t,e]),m=(0,a.useCallback)(()=>{t&&n(o.Ce())},[n,t]),p=(0,c.J2)(l.Ez5.uiState().isRecovery),f=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{!p||t||f.current||(f.current=!0,u(),l.Ez5?.uiState().showMemoryUsage.set(!0))},[p,t,u]),{toggleManageMemoryModal:u,closeManageMemoryModal:m}}},801860:(e,t,n)=>{n.d(t,{P:()=>o,X:()=>i});var a=n(848318),r=n(730143),l=n(102710);let i=(0,a.createContext)(null);function o({children:e}){let t=(0,r.q5)(),n=t?.fileRepoId,o=(0,l.Yj)(n??null),s=(0,a.useMemo)(()=>o&&"loaded"===o.status?o.data.activeBranches.length:null,[o]);return a.createElement(i.Provider,{value:s},e)}},792682:(e,t,n)=>{n.d(t,{A5:()=>B,CT:()=>U,EA:()=>P,II:()=>W,L4:()=>G,SK:()=>z,SQ:()=>K,WB:()=>H,ih:()=>F});var a=n(848318),r=n(301168),l=n(186606),i=n(553547),o=n(768618),s=n(999667),c=n(277930),d=n(315933),u=n(732839),m=n(996202),p=n(857607),f=n(452275),g=n(461979),h=n(910314),E=n(135450),_=n(967688),y=n(12898),b=n(995218),C=n(444341),v=n(146859),w=n(328640),T=n(15105),S=n(702038),k=n(355755),I=n(665411),N=n(318147),x=n(554326),A=n(251487),L=n(516515),O=n(194165),R=n(159016),M=n(884818),D=n(927217);let P=a.createContext(!1);function F({onChange:e,query:t,focusedByButtons:n,innerRef:r,onKeyDown:l,onKeyUp:i,onPasteCapture:o,onFocus:s,editorType:c}){return a.createElement(M.H,{dataTestId:"canvas-search-input",innerRef:r,onChange:e,onFocus:e=>{s&&s(e),!n.current&&e.target&&e.target.select(),n.current=!1},onKeyDown:e=>{e.keyCode===p.Uz.F?(0,p.Te)(e)?(e.currentTarget.select(),e.preventDefault()):(0,v.jr)(e,v.W0.NO,v.VA.NO)&&e.stopPropagation():l(e)},onKeyUp:i,onPasteCapture:o,placeholder:(0,_.t)("canvas_search.search_placeholder"),recordingKey:`${c}.canvas_search.search`,value:t})}function B(e,t,n){let r=(0,a.useCallback)(({direction:a,shouldSelectInput:r})=>{if(e&&!e.current?.matches(":focus")){let t=new IntersectionObserver(a=>{let[l]=a;r?e.current?.select():(n.current=!0,e.current?.focus()),l.isIntersecting&&t.disconnect()});return e.current&&t.observe(e.current),()=>t.disconnect()}a&&t(a,"keyboard")},[n,e,t]);(0,u.p)(C.r.FocusEvent,r)}function U(){let e=(0,a.useRef)(!1),[t,n]=(0,a.useState)(!0),{query:l}=(0,r.d4)(e=>e.canvasSearch),{total:i}=(0,s.md)(h.Fk);return{focusedByButtons:e,hidden:t,setHidden:n,inputRef:a.useRef(null),navDisabled:!l||i<=1,showUi:(0,k.p8)("showUi")}}function G(){let e=(0,T.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope);return(0,a.useCallback)((n,a)=>{e(l.YEY.setActiveResultAndGetViewportSettings(n,a),{additionalTrackEventParams:{searchScope:l.Lov[t]}})},[e,t])}function K(){let e=(0,T.Z)("canvas_search_navigate"),{query:t,scope:n,filters:o,mode:u}=(0,r.d4)(e=>e.canvasSearch),p=(0,r.wA)(),h=(0,a.useRef)(!1),_=(0,k.p8)("currentPage"),b=(0,x.J2)(l.Ez5.uiState().showCanvasSearch),C=(0,k.p8)("pagesList"),[v,N]=(0,a.useState)(!1),[A,L]=(0,a.useState)(l.Ez5.uiState().isRecovery.getCopy()),[O,M]=(0,a.useState)(!1),D=V(),P=(0,m.am)(),F=(0,f.y)(),B=(0,a.useMemo)(()=>F&&(0,I.lH)(C),[F,C])||F&&l.h3O?.isValidatingIncremental(),U=(0,a.useMemo)(()=>!F&&(0,I.lH)(C),[F,C]);(0,a.useLayoutEffect)(()=>{n!==l.Lov.ALL_PAGES||O||!B&&A?l.YEY.setSearchScope(n):(M(!0),scheduler.postTask(async()=>{B&&await (0,w.q)(l._em.FIND_AND_REPLACE),l.YEY.setSearchScope(n),L(!0)},{priority:"user-blocking"}))},[A,C,n,O,B]);let G=(0,a.useCallback)(async(t,a=!0)=>{d.sn.start("canvas_search_time_to_results"),M(!0);let{nav:r,resultsByPage:o}=await D(t,a);Object.keys(o).filter(e=>e!==_&&e!==i.Xy).length?N(!0):N(!1),M(!1),a&&e(r,{additionalTrackEventParams:{searchScope:l.Lov[n]}});let s=d.sn.tryStop("canvas_search_time_to_results");s&&P("canvas_search_time_to_results",{timeElapsedMs:s,searchScope:l.Lov[n],resultCount:Object.values(o).reduce((e,t)=>e+=t.length,0)})},[_,e,n,D,P]),K=(0,c.A)(G,300),H=(0,a.useCallback)((e,t=!0)=>{p(y.NY(e)),M(!!e&&!(0,g.jN)(e)),K(e,t)},[p,K]);(0,a.useEffect)(()=>{b&&t&&(n!==l.Lov.ALL_PAGES||!B&&A)&&G(t,!1)},[o,u,n,b,C,A,B]);let z=(0,a.useCallback)((t,n)=>{(0,S.Uc)(""),l.YEY.setHoveredResult(i.AD,-1);let a=!h.current;h.current=!1,e(l.YEY.setNextSearchResultAndGetViewportSettings(t,a),{additionalTrackEventParams:{source:n}})},[e]),W=(0,s.Xr)(R.Nl),j=(0,E.b)();return{query:t,showSearch:b,resultsOnOtherPages:v,search:H,next:z,exit:(0,a.useCallback)(()=>{j?W(void 0):l.YEY?.exitSearchMode(l.dNx.NONE)},[j,W]),setNavigateNearestOnce:function(){h.current=!0},mode:u,isLoading:O,allInstancesExpanded:A,missingResultsOnSomePages:U}}function V(){let{scope:e,filters:t,mode:n}=(0,r.d4)(e=>e.canvasSearch),o=(0,k.p8)("currentPage"),s=(0,m.am)(),c=(0,b.lg)(),d=(0,r.d4)(e=>e.mirror.appModel.pagesList),u=(0,O.iW)();return(0,a.useCallback)(async(a,r=!0,m)=>{let p=m??o;if(!a||(0,g.jN)(a)){let{nav:e}=l.YEY.setSearchResultsAndGetViewportSettings([],p,"",{categories:[],mode:n});return{nav:e,resultsByPage:{}}}let f=!!t[L.kM.MatchCase],h=!!t[L.kM.WholeWords],{resultsByPage:E,metrics:_}=await A.H1.search(a,{searchLayerNames:[N._Y.DESIGN,N._Y.SLIDES,N._Y.SITES].includes(c),searchAnnotationTextContent:u,matchCase:f,wholeWords:h}),y=(0,D.kH)(t),b=e===l.Lov.ACTIVE_PAGE?E[p]?[{pageId:p,results:E[p]}]:[]:Object.keys(E).map(e=>({pageId:e,results:E[e]}));if(e===l.Lov.ACTIVE_PAGE&&E[i.Xy]){let e=E[i.Xy];e.length&&b.push({pageId:i.Xy,results:e})}if(1===a.length){let e=0,t=[],n=b.findIndex(e=>e.pageId===i.Xy);for(let a of(n>-1&&t.push(b[n]),d)){let n=b.findIndex(e=>e.pageId===a.nodeId);if(-1===n)continue;let r=b[n];if(r.results.length>1e3-e){t.push({results:r.results.slice(0,1e3-e),pageId:r.pageId});break}e+=r.results.length,t.push(r)}b=t}let{nav:C,...v}=l.YEY.setSearchResultsAndGetViewportSettings(b,p,a,{categories:y,mode:n}),w=y.map(e=>L.kM[e]);return s("canvas_search_results",{..._,...v,nodeTypes:w,searchScope:l.Lov[e],matchCase:f,wholeWords:h}),{nav:C,resultsByPage:E}},[o,c,t,n,d,e,u,s])}function H(){let e=(0,x.J2)(l.Ez5.uiState().showCanvasSearch),t=l.YEY.hasDirtyPrimaryInstances(),n=(0,s.md)(h.Fk),r=(0,a.useRef)([]),i=t&&r.current.length,c=(0,a.useMemo)(()=>{if(!e||!n.total||i)return[];let t=l.YEY.getSearchResults(),a=[];return t.forEach(e=>{let t=e.results.map(e=>{let t=(0,o.UN)().get(e.guid);return t?{...e,textContent:t.textContent,name:t.name}:e});a.push({results:t,pageId:e.pageId})}),r.current=a,a},[n,e,i]);return i?r.current:c}function z(e){return!e.clientX&&!e.clientY}function W(){let{query:e,scope:t}=(0,r.d4)(e=>e.canvasSearch),n=V();return(0,a.useCallback)(a=>{let r=l.YEY.getActiveResult(),i=r.type===l.Z6A.CANVAS,s=a||i&&r.guid;return!!s&&((0,o.UN)().setCurrentPageAsync(s).then(()=>{t===l.Lov.ACTIVE_PAGE?n(e,!1,s):l.YEY.setActiveResultAndGetViewportSettings(s,0)}),!0)},[e,t,n])}},884818:(e,t,n)=>{n.d(t,{H:()=>u});var a=n(848318),r=n(536384),l=n.n(r),i=n(857607),o=n(238462),s=n(656329),c=n(706488),d=n(733790);function u({innerRef:e,value:t,placeholder:n,onChange:r,onFocus:u,onKeyDown:m,onKeyUp:p,shiftEnterInsertsNewline:f,dataTestId:g,recordingKey:h,onPasteCapture:E}){let _=(0,a.useCallback)(t=>{e&&(e.current=t?.textarea??null)},[e]),y=t.includes("\n");return a.createElement(c.v,{ref:_,className:l()(d.Rt,{[d.tI]:!y}),dataTestId:g,disableBorderStyles:!0,focusOnMount:!0,onChange:e=>r(e.currentTarget.value),onEscape:o.lQ,onFocus:u,onKeyDown:e=>{switch(e.keyCode){case i.Uz.ENTER:if(e.preventDefault(),f&&(e.shiftKey||s.Ay.mac&&e.ctrlKey)){let{selectionStart:t,selectionEnd:n}=e.currentTarget;e.currentTarget.setRangeText("\n",t,n,"end"),e.currentTarget.scrollLeft=0,e.stopPropagation(),r(e.currentTarget.value);return}break;case i.Uz.UP_ARROW:case i.Uz.DOWN_ARROW:if(y)return}m(e)},onKeyUp:p,onPasteCapture:E,placeholder:n,recordingKey:h,spellCheck:!1,value:t})}},106620:(e,t,n)=>{n.d(t,{a:()=>A});var a=n(848318),r=n(301168),l=n(531788),i=n(921666),o=n(186606),s=n(320953),c=n(999667),d=n(536384),u=n.n(d),m=n(315933),p=n(996202),f=n(857607),g=n(781239),h=n(910314),E=n(135450),_=n(401970),y=n(967688),b=n(952039),C=n(995218),v=n(696786),w=n(146859),T=n(15105),S=n(463117),k=n(17753),I=n(884818),N=n(733790),x=n(122618);function A({query:e,value:t,onChange:n,onFocus:d,recordingKey:A,hasMultipleSelections:L}){let O=(0,r.wA)(),R=(0,S.aq)(),M=(0,T.Z)("canvas_search_navigate"),D=(0,r.d4)(e=>e.canvasSearch.scope),{total:P}=(0,c.md)(h.Fk),F="whiteboard"===(0,C.lg)(),[B,U]=(0,a.useState)(!1),G=(0,E.b)(),K=(0,v.GS)(),V=e.toLocaleLowerCase()!==t.toLocaleLowerCase(),H=(0,p.am)(),z=!e||!P,W=s.nc.user("canvas-search-replace",n=>{if(L){let{numReplaced:a,timeMs:r}=o.YEY.replaceInMultipleResults(t,{preserveCase:V},o.rpt.ONLY_ACTIVE);H("canvas_search_multi_replace",{source:n,timeMs:r,numReplaced:a,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),U(!0);return}let a=o.YEY.replaceInActiveResult(t,{preserveCase:V});U(!0),H("canvas_search_replace",{source:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),M(a,{delay:300,additionalTrackEventParams:{searchScope:o.Lov[D]}})}),j=s.nc.user("canvas-search-replace-all",()=>{m.sn.start("canvas_search_replace_all");let{numReplaced:n,timeMs:a}=o.YEY.replaceInMultipleResults(t,{preserveCase:V},o.rpt.ALL);n>0&&(U(!0),O(b.F.enqueue({type:"canvas-search-replace-all",message:(0,y.t)(F?"canvas_search.replace_all_message_figjam":D===o.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:n})}))),H("canvas_search_replace_all",{source:"button",timeMs:a,numReplaced:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),m.sn.tryStop("canvas_search_replace_all")}),Y=a.createElement(a.Fragment,null,!F&&a.createElement("div",{className:u()(N.v9,{[N.ei]:K&&""===t})},a.createElement(_.U,{svg:x.A},a.createElement(i.o,null))),a.createElement(I.H,{value:t,placeholder:(0,y.t)("canvas_search.replace_placeholder"),recordingKey:g.Pt(A,"replace_input"),onChange:n,onFocus:e=>{d?.(e,!R())},onKeyDown:e=>{e.keyCode===f.Uz.ENTER?(W("enter"),e.stopPropagation()):B&&(0,f.Fo)(e)&&(0,w.jr)(e,w.W0.YES)&&e.stopPropagation()},shiftEnterInsertsNewline:!0}));return a.createElement("div",null,a.createElement("div",{className:u()(N.N6,G&&N.Sq)},K&&!F?a.createElement("div",{className:N.Z9},Y):Y),a.createElement("div",{className:N._E},a.createElement(l.$n,{variant:"secondary",disabled:z,htmlAttributes:{"data-tooltip":(0,y.t)("canvas_search.replace_one"),"data-tooltip-type":k.Ib.TEXT},onClick:()=>W("button"),recordingKey:g.Pt(A,"replace_one")},(0,y.tx)("canvas_search.replace_one")),a.createElement(l.$n,{disabled:z,variant:"secondary",onClick:j,recordingKey:g.Pt(A,"replace_all")},(0,y.tx)("canvas_search.replace_all"))))}},712256:(e,t,n)=>{n.d(t,{g:()=>z,F:()=>Y});var a=n(848318),r=n(891627),l=n(301168),i=n(430385),o=n(762217),s=n(62034),c=n(773511),d=n(361765),u=n(696483),m=n(186606),p=n(999667),f=n(536384),g=n.n(f),h=n(656329),E=n(781239),_=n(910314),y=n(156974),b=n(135450),C=n(720522),v=n(401970),w=n(967688),T=n(186112),S=n(12898),k=n(995218),I=n(511067),N=n(355755),x=n(516515),A=n(17753),L=n(335744),O=n(596224),R=n(927217),M=n(868552),D=n(839808),P=n(7980),F=n(372209),B=n(547085),U=n(160761),G=n(294813),K=n(882384),V=n(370498),H=n(237029);function z({lean:e,minWidth:t,recordingKey:n}){let i=(0,l.wA)(),c=(0,I.BK)("CANVAS_SEARCH_FILTER_DROPDOWN"),u=a.useRef(null),f=(0,N.p8)("isReadOnly"),g=(0,p.md)(_.yo),b=(0,l.d4)(e=>e.canvasSearch.filters),C=(0,l.d4)(e=>e.canvasSearch.mode),R="whiteboard"===(0,k.lg)(),M=(0,O.cJ)(),D=(0,T.ge)(),F=a.useMemo(()=>{let e=f?[]:[a.createElement(y.y0,{key:"find",primaryText:(0,w.t)("canvas_search.search"),checked:C===m.EW4.FIND,onClick:()=>{i(S.sV(m.EW4.FIND)),c.hide()},recordingKey:E.Pt(n,"settings.find")}),a.createElement(y.y0,{key:"replace",primaryText:(0,w.t)("canvas_search.replace"),checked:C===m.EW4.REPLACE,onClick:()=>{i(S.sV(m.EW4.REPLACE)),c.hide()},recordingKey:E.Pt(n,"settings","replace")}),a.createElement(y.wv,{key:"sep1"})],t=(t,r=!1)=>{let l=!!b[t];e.push(a.createElement(W,{key:t,option:t,checked:l,counts:g,onClick:e=>{r||e.ctrlKey||h.Ay.mac&&e.metaKey?(i(S.DI(t)),r&&c.hide()):(i(S.zx(t)),c.hide())},recordingKey:n}))};if(C===m.EW4.FIND&&!R&&!D){let r=!x.b4.some(e=>!!b[e]),l=Object.values(g).reduce((e,t)=>e+t,0);e.push(a.createElement(j,{checked:r,icon:P.A,label:(0,w.t)("canvas_search.filter.all"),count:l,onClick:()=>{i(S.dY()),c.hide()},recordingKey:E.Pt(n,"settings","All")})),x.b4.forEach(e=>t(e)),e.push(a.createElement(y.wv,{key:"sep2"}))}return x._V.forEach(e=>t(e,!0)),e},[i,c,b,R,D,f,C,g,n]);(0,a.useEffect)(()=>{f&&C===m.EW4.REPLACE&&i(S.sV(m.EW4.FIND))},[i,f,C]);let B=u.current&&a.createElement(L.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,hideDropdown:c.hide,lean:e,minWidth:t,options:F,propagateCloseClick:!0,recordingKey:E.Pt(n,"settings"),showPoint:!0,targetRect:u.current.getBoundingClientRect()});return a.createElement(o.o,{eventListeners:["onClick","onMouseUp"]},a.createElement("div",{ref:u},a.createElement(s.d,{"aria-expanded":c.showing,onClick:()=>c.toggle(),actionOnPointerDown:!0,"aria-label":(0,w.t)("canvas_search.settings"),recordingKey:E.Pt(n,"settings"),htmlAttributes:{"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,w.t)("canvas_search.settings")}},a.createElement(v.U,{svg:G.A},a.createElement(d.A,null)))),c.showing&&(M||D?r.createPortal(B,document.body):B))}function W(e){let t=e.counts[e.option],n=function(e){switch(e){case x.kM.Text:return U.A;case x.kM.FrameOrGroup:return M.A;case x.kM.Component:return F.A;case x.kM.Instance:return D.A;case x.kM.Image:return V.A;case x.kM.Shape:return B.A;case x.kM.Other:return K.A;case x.kM.MatchCase:case x.kM.WholeWords:return null}}(e.option),r=q(e.option);return a.createElement(j,{checked:e.checked,icon:n,label:r,count:t,onClick:e.onClick,buttonRef:e.buttonRef,recordingKey:E.Pt(e,"settings",x.kM[e.option])})}function j({checked:e,icon:t,label:n,count:r,onClick:l,buttonRef:i,recordingKey:o}){return a.createElement(y.MM,{checked:e,onClick:l,recordingKey:o,buttonRef:i},a.createElement("div",{className:"canvas_search_settings--optionRow--KS01b"},t&&a.createElement(C.B,{className:"canvas_search_settings--optionIcon---0QYX",svg:t}),a.createElement("span",{className:"canvas_search_settings--optionLabel--Ygpmi"},n),!!r&&a.createElement("span",{className:"canvas_search_settings--optionCount--BzzTP"},r)))}function Y({short:e,mode:t,recordingKey:n}){let r=(0,l.wA)(),o=(0,l.d4)(e=>e.canvasSearch.filters),s=t===m.EW4.FIND?R.D4:R.IM,c=(0,b.b)(),d=(0,i.RP)(s,e=>o[e]?a.createElement(J,{key:e,option:e,onClose:()=>{r(S.DI(e))},recordingKey:n}):null);return 0===d.length?null:a.createElement("div",{className:g()("canvas_search_settings--filterPills--tbdih",{"canvas_search_settings--filterPillsShort--GX-Rn":e,"canvas_search_settings--filterPillsLeftRail--xtS-2":c})},d)}function J({option:e,onClose:t,recordingKey:n}){return a.createElement("div",{className:"canvas_search_settings--filterPillFpl--qqnVV canvas_search_settings--filterPill--hjIaF"},q(e),a.createElement(c.E,{className:"canvas_search_settings--pillRemoveFpl--Q6M31",onClick:t,"aria-label":(0,w.t)("canvas_search.filter.remove"),"aria-describedby":q(e),recordingKey:E.Pt(n,x.kM[e],"remove")},a.createElement(v.U,{svg:H.A},a.createElement(u.f,null))))}function q(e){switch(e){case x.kM.Text:return(0,w.t)("canvas_search.filter.text");case x.kM.FrameOrGroup:return(0,w.t)("canvas_search.filter.frame_or_group");case x.kM.Component:return(0,w.t)("canvas_search.filter.component");case x.kM.Instance:return(0,w.t)("canvas_search.filter.instance");case x.kM.Image:return(0,w.t)("canvas_search.filter.image");case x.kM.Shape:return(0,w.t)("canvas_search.filter.shape");case x.kM.Other:return(0,w.t)("canvas_search.filter.other");case x.kM.MatchCase:return(0,w.t)("canvas_search.filter.match_case");case x.kM.WholeWords:return(0,w.t)("canvas_search.filter.whole_words")}}},141454:(e,t,n)=>{n.d(t,{f:()=>eB,Y:()=>eF});var a=n(848318),r=n(301168),l=n(176677),i=n(575055),o=n(954703),s=n(773511),c=n(928799),d=n(762217),u=n(877770),m=n(124810),p=n(387873),f=n(202272),g=n(186606),h=n(553547),E=n(580494),_=n(999667),y=n(536384),b=n.n(y),C=n(563029),v=n(857607),w=n(238462),T=n(452275),S=n(656329),k=n(781239),I=n(979890),N=n(256813),x=n(461979),A=n(910314),L=n(156974),O=n(345249),R=n(439382),M=n(135450),D=n(345964),P=n(755534),F=n(720522),B=n(401970),U=n(967688),G=n(952039),K=n(186112),V=n(12898),H=n(696786),z=n(303397),W=n(444341),j=n(379267),Y=n(15105),J=n(702038),q=n(511067),X=n(355755),Z=n(665411),Q=n(603592),$=n(17753),ee=n(278905),et=n(617215),en=n(347701),ea=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(ea||{}),er=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(er||{});let el={[g.Lov.ACTIVE_PAGE]:(0,U.tx)("canvas_search.this_page"),[g.Lov.ALL_PAGES]:(0,U.tx)("canvas_search.all_pages")},ei="CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN";var eo=n(733790),es=n(769773);let ec=(0,_.eU)(!1),ed=a.memo(function(e){let t=(0,_.Xr)(ec),n=(0,r.wA)(),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,r.d4)(e=>e.mirror.appModel.pagesList),{allInstancesExpanded:o}=e,{getTriggerProps:c,manager:u}=ee.b();return a.createElement(d.o,{eventListeners:["onClick"]},a.createElement(ee.bL,{manager:u},a.createElement(s.E,{recordingKey:"figma_design_search_page_scope_dropdown",className:eo.Vz,"data-testid":"figma-design-search-scope-dropdown",...c()},el[l],a.createElement(B.U,{svg:es.A},a.createElement(en.O,null))),a.createElement(ee.mc,null,a.createElement(eu,{option:g.Lov.ACTIVE_PAGE,activeOption:l,onClickCallback:e=>{n(V.V2(e))}}),a.createElement(eu,{option:g.Lov.ALL_PAGES,activeOption:l,onClickCallback:e=>{(0,Z.lH)(i)||!o?(t(!0),requestAnimationFrame(()=>{n(V.V2(e)),t(!1)})):n(V.V2(e))}}))))});function eu({option:e,activeOption:t,onClickCallback:n}){let r=(0,q.BK)(ei);return a.createElement(et.H_,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===t,onChange:()=>{r.hide(),n(e)}},el[e])}var em=n(996306),ep=n(335744),ef=n(596224),eg=n(159016),eh=n(756672),eE=n(792682),e_=n(201588),ey=n(106620),eb=n(712256),eC=n(927217),ev=n(996202),ew=n(146859);function eT(e,t=!1){if(t||(0,ew.U5)(e,ew.W0.YES)){let t=(0,ew.f7)(e);return t&&e.stopPropagation(),t}return!1}function eS(e,t,n,l){let i=(0,eE.II)(),o=function(){let e=(0,Y.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,ev.am)(),l=(0,a.useContext)(eE.EA),i=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"down"}),g.YEY&&e(g.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:g.Lov[t]}})},[e,t,n]);return l?i:w.lQ}(),s=function(){let e=(0,Y.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,ev.am)(),l=(0,a.useContext)(eE.EA),i=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"up"}),g.YEY&&e(g.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:g.Lov[t]}})},[e,t,n]);return l?i:w.lQ}(),c=(0,a.useContext)(eE.EA);return(0,a.useCallback)(a=>{switch(c?(0,v.Fo)(a)&&!a.shiftKey?l(er.SINGLE):a.shiftKey?l(er.MULTI):l(er.NONE):l(er.NONE),a.keyCode){case v.Uz.P:case v.Uz.UP_ARROW:(a.keyCode!==v.Uz.P||S.Ay.mac&&(0,v.vN)(a,v.xH.CONTROL))&&(e(eC.OP.PREV,"keyboard"),a.stopPropagation(),a.preventDefault());break;case v.Uz.N:case v.Uz.DOWN_ARROW:(a.keyCode!==v.Uz.N||S.Ay.mac&&(0,v.vN)(a,v.xH.CONTROL))&&(e(eC.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault());break;case v.Uz.ENTER:if(g.YEY&&(0,v.Fo)(a)){g.YEY.exitSearchMode(g.dNx.SELECT_ACTIVE);break}if(i())break;a.shiftKey?t?s():e(eC.OP.PREV,"keyboard"):t?o():e(eC.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault();break;case v.Uz.ESCAPE:g.YEY&&g.YEY.exitSearchMode(g.dNx.NONE),a.preventDefault(),a.stopPropagation();break;default:n(a)}},[c,l,i,n,e,t,s,o])}function ek(e){return(0,a.useCallback)(t=>{if(t.keyCode===v.Uz.SHIFT){(!S.Ay.mac||t.metaKey)&&(S.Ay.mac||t.ctrlKey)||e(er.NONE);return}let n=S.Ay.mac&&"Meta"===t.key,a=!S.Ay.mac&&t.keyCode===v.Uz.CTRL;(n||a)&&!t.shiftKey&&e(er.NONE)},[e])}function eI(e){switch(e.keyCode){case v.Uz.DELETE:case v.Uz.BACKSPACE:if(g.YEY)return g.YEY.getNextResultForActiveResultRemoval();break;case v.Uz.X:if((0,v.Te)(e)&&g.YEY)return g.YEY.getNextResultForActiveResultRemoval();break;case v.Uz.H:case v.Uz.R:if((0,v.Fo)(e)&&e.shiftKey&&g.YEY)return g.YEY.getNextResultForActiveResultRemoval()}return h.AD}var eN=n(523860),ex=n(85206),eA=n(954206),eL=n(555806),eO=n(702051),eR=n(255111),eM=n(279162),eD=n(90724),eP=n(821527);let eF=a.memo(function(e){let{onFocus:t}=e;return a.createElement("div",{className:eo.i$},a.createElement("div",{className:eo.PP},a.createElement("div",{className:eo.JA},a.createElement(e_._,{onClick:e.onFocus}),a.createElement(R.L,{className:eo.Rt,onFocus:t,placeholder:(0,U.t)("canvas_search.search_placeholder")}))))}),eB=a.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:n,next:r,exit:l,setNavigateNearestOnce:s,search:c,showSearch:d,mode:p,isLoading:f,allInstancesExpanded:E,missingResultsOnSomePages:y}=(0,eE.SQ)(),[C,w]=(0,a.useState)(""),{focusedByButtons:T,inputRef:S}=(0,eE.CT)(),k=(0,a.useRef)(null),I=(0,Y.Z)("canvas_search_navigate"),N=(0,_.md)(A.Wy),L=(0,_.md)(A.ml),O=(0,a.useContext)(eE.EA),R=(0,_.md)(ec),[P,F]=(0,a.useState)(null),[G,K]=(0,a.useState)(er.NONE),[V,W]=(0,a.useState)(!1);(0,a.useLayoutEffect)(()=>{if(O){if(L.size>1||N.size>1){W(!0);return}for(let e of N.values())e.size>1&&W(!0)}},[N,O,L]);let J=(e,t)=>{W(!1),r(e,t)},q=function(e,t,n){if(!n)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(N,L,O),X=function(e,t,n,r,l){let i=eS(e,n,e=>{let n=(e.keyCode===v.Uz.D||e.keyCode===v.Uz.F)&&(0,v.Fo)(e)&&e.shiftKey;eT(e)&&!n&&t.current?.focus()},l);return(0,a.useCallback)(e=>{let a=eI(e);switch(e.keyCode){case v.Uz.RIGHT_ARROW:case v.Uz.LEFT_ARROW:(0,v.Te)(e)||i(e);break;case v.Uz.C:case v.Uz.X:(0,v.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(z.Y5.triggerAction(e.keyCode===v.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===v.Uz.X&&t.current?.focus());break;case v.Uz.V:case v.Uz.Z:break;default:i(e)}g.YEY&&!n&&a!==h.AD&&r(g.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[n,i,t,r])}(J,k,q,I,K),Z=ek(K);(0,eE.A5)(S,r,T);let ee=(0,H.GS)(),et=(0,M.b)();if(!d)return null;let en=a.createElement(a.Fragment,null,a.createElement("div",{className:b()(eo.v9,{[eo.ei]:ee&&""===t})},a.createElement(B.U,{svg:eD.A},a.createElement(u.h,null))),a.createElement(eE.ih,{onChange:e=>{W(!1),c(e)},query:t,focusedByButtons:T,onKeyDown:X,onKeyUp:Z,innerRef:S,onPasteCapture:e=>{(0,j.gk)(e)&&(z.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),k.current?.focus())},editorType:Q._Y.DESIGN}));return a.createElement(i.i,null,a.createElement("div",{className:eo.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(g.YEY.setOverlayVisible(!1),s(),K(er.NONE))}},a.createElement("div",{className:eo.PP},a.createElement("div",{className:b()(eo.Wv,et&&eo.Fn)},ee?a.createElement("div",{className:eo.Z9},en):en,e&&a.createElement(eb.g,{lean:"right",recordingKey:"figma_design_search"}),a.createElement(o.K,{onClick:l,"aria-label":(0,U.t)("canvas_search.close"),recordingKey:"figma_design_search.close",htmlAttributes:{"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,U.t)("canvas_search.close")}},a.createElement(B.U,{svg:eP.default},a.createElement(m.A,null)))),a.createElement(eb.F,{mode:p,short:p===g.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),p===g.EW4.REPLACE&&a.createElement(ey.a,{query:t,value:C,onChange:w,onFocus:(e,n)=>{!t&&n&&S.current?.focus()},hasMultipleSelections:q,recordingKey:"figma_design_search"})),f||R?a.createElement("div",{className:b()(eo.S,eo.dz)},a.createElement(D.dW,{size:"medium",testId:"canvas-search-loading-spinner"})):t&&!(0,x.jN)(t)&&a.createElement(eU,{allInstancesExpanded:E,hasMultipleSelections:q,hoverSelectMode:G,hoveredResult:P,isInMultiselectMode:V,missingResultsOnSomePages:y,navigate:I,onNext:J,replacement:p===g.EW4.REPLACE?C:void 0,resultInputHandlerRef:k,resultsOnOtherPages:n,setHoverSelectMode:K,setHoveredResult:F,setIsInMultiselectMode:W})))});function eU({onNext:e,navigate:t,replacement:n,resultsOnOtherPages:i,resultInputHandlerRef:c,hoveredResult:d,hasMultipleSelections:u,isInMultiselectMode:m,missingResultsOnSomePages:y,hoverSelectMode:T,setIsInMultiselectMode:S,setHoverSelectMode:k,setHoveredResult:N,allInstancesExpanded:x}){let L=(0,r.wA)(),O=(0,eE.WB)(),R=(0,eE.II)(),M=(0,X.p8)("currentPage"),F=(0,a.useRef)(null),G=(0,r.d4)(e=>e.canvasSearch.scope),K=g.YEY.hasDirtyPrimaryInstances(),H=(0,_.md)(A.Fk),W=(0,_.md)(A.Ch),j=(0,_.md)(A.Wy),J=(0,_.md)(A.ml),q=(0,_.md)(A.hw),Z=(0,a.useContext)(eE.EA),Q=!m,ee=null==n,et=(0,eE.L4)(),en=function(e,t){let n=(0,Y.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,ev.am)(),o=(0,a.useContext)(eE.EA),s=(0,a.useCallback)(a=>{if(!g.YEY)return;let{nav:r,numNewNodes:o,numNewTextMatches:s}=g.YEY.addActiveResultsAndGetViewportSettings(a);e&&i("canvas_search_enter_multi_select",{numberOfNodes:o,numberOfTextMatches:s,source:"shift+click",mode:t?"find":"replace"}),n(r,{additionalTrackEventParams:{searchScope:g.Lov[l]}})},[t,n,l,i,e]);return o?s:w.lQ}(Q,ee),el=function(){let e=(0,Y.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,a.useContext)(eE.EA),l=(0,a.useCallback)((n,a,r)=>{g.YEY&&e(g.YEY.removeActiveResultAndGetViewportSettings(n,a,r),{additionalTrackEventParams:{searchScope:g.Lov[t]}})},[e,t]);return n?l:w.lQ}(),[ei,es]=function(...e){let[t,n]=(0,a.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,a.useCallback)((e,t=!0)=>{n(n=>n[e]!==t?{...n,[e]:t}:n)},[])]}(h.Xy,M),ec=(0,a.useRef)({}),ed=(0,a.useMemo)(()=>{let e=[],t=O.find(e=>e.pageId===h.Xy),n=G===g.Lov.ALL_PAGES||!!t,a=O.find(e=>e.pageId===M),r=O;G===g.Lov.ACTIVE_PAGE&&(r=[],t&&r.push(t),a&&r.push(a));let l=0;for(let{pageId:t,results:a}of(ec.current={},r)){if(0===a.length)continue;let r=!!ei[t];if(n&&(e.push({type:"header",data:{pageId:t,open:r,numResults:a.reduce((e,t)=>e+=t.textMatches.length,0)}}),++l),n&&!r)continue;ec.current[t]=l;let i=0;for(let n of a){let{textMatches:a,...r}=n;a.forEach((n,a)=>{e.push({type:"result",data:{...r,matchIndex:a,textMatch:n,index:i,pageId:t}}),++i,++l})}}return e},[M,ei,G,O]);(0,a.useEffect)(()=>{null!=W&&es(W.pageId)},[W,es]);let eu=(0,l.z)({size:ed.length,parentRef:F,overscan:10}),em=e=>{if(null==W||null==W.index)return[];let t=ec.current[W.pageId];if(null==t)return[];let n=t+W.index;if(n===e)return[];let a=[],r=Math.min(n,e),l=Math.max(n,e);if("header"===ed[e].type)return a;for(let e=r;e<=l;e++)"result"===ed[e].type&&a.push(ed[e].data);return a},ep=(0,a.useCallback)(e=>!!Z&&"header"!==e.type&&(!!m||T!==er.NONE)&&(e.data.textMatch.matchType===g.Ifi.TEXT_MATCH&&J.has(e.data.resultGuid)&&!j.has(e.data.resultGuid)||q.has(e.data.resultGuid)),[j,Z,J,T,q,m]),ef=(0,a.useCallback)(e=>"header"!==e.type&&(Z?e.data.textMatch.matchType===g.Ifi.PAGE_MATCH?e.data.index===W?.index&&e.data.pageId===W?.pageId:e.data.textMatch.matchType===g.Ifi.LAYER_MATCH?J.has(e.data.resultGuid)&&!j.get(e.data.resultGuid):j.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===W?.index&&e.data.pageId===W?.pageId),[W?.index,W?.pageId,j,Z,J]),eh=(0,a.useCallback)((e,t,n)=>{let a=e+n,r=t+n,l=e=>"result"===e.type&&(ef(e)||ep(e));for(;a>0&&a<=ed.length&&l(ed[a-1]);)a-=1;for(;r<ed.length&&l(ed[r]);)r+=1;return[a-n,r-n]},[ep,ef,ed]),e_=(0,a.useCallback)((e,t)=>{if(e+t>=ed.length)return!1;let n=ed[e+t];return!ef(n)&&!ep(n)},[ep,ef,ed]),ey=(0,a.useCallback)((e,t,n)=>{let a=!1;for(let r=e;r<=t&&!(r+n>=ed.length);r+=1){let e=ed[r+n];if(!ef(e)&&!ep(e)){a=!0;break}}return a},[ep,ef,ed]),[eb,ew]=(0,a.useMemo)(()=>{let e=d?.nodeGuid??h.AD,t=W?.pageId!=null?ec.current[W.pageId]:null;if(Z&&T!==er.NONE&&d&&e!==h.AD&&d.pageId===W?.pageId&&null!=t){let n=d.index,a=d.matchIndex;if((T===er.SINGLE||W?.index==null)&&e_(n,t))return[n,g.YEY.getSingleHoveredSelectionEndIndex(e,a)];if(T===er.MULTI&&W?.index!=null&&W.index!==d.index){let r=n>W.index?W.index:n;return ey(r,n>W.index?n:W.index,t)?eh(r,g.YEY.getMultiHoveredSelectionEndIndex(e,a),t):[null,null]}}return[null,null]},[W?.index,W?.pageId,Z,eh,T,d,ey,e_]),eN=(0,a.useCallback)(e=>!Z||null==eb||null==ew||e<eb||e>=ew?ea.NONE:e===eb&&e===ew-1?ea.ALL:e===eb?ea.TOP:e===ew-1?ea.BOTTOM:ea.MIDDLE,[Z,eb,ew]),ex=(0,C.$)(W);(0,a.useEffect)(()=>{if(m||T!==er.NONE||null==W||null==W.index||0===ed.length||!ex)return;let e=ec.current[W.pageId];if(null==e)return;let t=e+W.index,n=t>=eu.virtualItems[0].index&&t<=eu.virtualItems[eu.virtualItems.length-1].index,a=!1;if(n){let e=eu.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:n}=e;a=function(e,t){if(!t)return!0;let n=t.scrollTop,a=n+t.clientHeight;return e.top>=n&&e.bottom<=a}({top:t,bottom:t+n},F.current)}}a||K||eu.scrollToIndex(t,{align:"center"})},[W,ex,c,m,ed,K,eu,T]);let eA=(e,t,n,a)=>{let r=()=>{a?el(t.resultGuid,t.matchIndex,t.textMatch.matchType):en([{nodeId:t.resultGuid,matchIndices:[t.matchIndex],searchResultType:t.textMatch.matchType}])};t.pageId===h.Xy?(R(t.guid),es(t.guid),S(!1)):Z&&t.pageId===W?.pageId?e.shiftKey&&W?.index==null?(a||r(),S(!0)):e.shiftKey?((()=>{let e=em(n),t=[];e.forEach(e=>{let n=t.length?t[t.length-1]:void 0;n?.nodeId===e.resultGuid&&n?.searchResultType===g.Ifi.TEXT_MATCH?n.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),en(t)})(),S(!0)):(0,v.Fo)(e)&&t.textMatch.matchType!==g.Ifi.PAGE_MATCH?(r(),S(!0)):(et(t.resultGuid,t.matchIndex),S(!1)):(et(t.resultGuid,t.matchIndex),S(!1))},eR=function(e,t,n,l,i,o,s){let c=function(e,t){let n=(0,Y.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,ev.am)(),o=(0,a.useContext)(eE.EA),s=(0,a.useCallback)(()=>{if(!g.YEY)return;let{nav:a,numNewNodes:r,numNewTextMatches:o}=g.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&i("canvas_search_enter_multi_select",{numberOfNodes:r,numberOfTextMatches:o,source:"cmd/ctrl+A",mode:t?"find":"replace"}),n(a,{additionalTrackEventParams:{searchScope:g.Lov[l]}})},[t,n,l,i,e]);return o?s:w.lQ}(n,l),d=(0,a.useContext)(eE.EA),u=eS(e,i,eT,o);return(0,a.useCallback)(e=>{let n=eI(e);switch(e.keyCode){case v.Uz.UP_ARROW:case v.Uz.DOWN_ARROW:case v.Uz.RIGHT_ARROW:case v.Uz.LEFT_ARROW:i?(!function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),eT(e,!0)):u(e);break;case v.Uz.A:if(d&&(0,v.Te)(e)){c(),s(!0),e.stopPropagation(),e.preventDefault();break}eT(e);break;case v.Uz.C:(0,v.Te)(e)?(z.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):eT(e);break;case v.Uz.V:(0,v.Te)(e)?(z.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):eT(e);break;case v.Uz.X:(0,v.Te)(e)?(z.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):eT(e);break;case v.Uz.DELETE:case v.Uz.BACKSPACE:eT(e,!0);break;default:u(e)}g.YEY&&!i&&n!==h.AD&&t(g.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[i,d,u,c,s,t])}(e,t,Q,ee,u,k,S),eM=ek(k),eD=(0,_.Xr)(eg.Nl);return a.createElement("div",{className:eo.sb},a.createElement("div",{className:eo.Jo},a.createElement(eG,{totalOnActivePage:H.total,resultsOnOtherPages:i,allInstancesExpanded:x}),0!==ed.length&&a.createElement(a.Fragment,null,a.createElement(o.K,{onClick:t=>{e(eC.OP.PREV,"button")},"aria-label":(0,U.t)("canvas_search.previous"),recordingKey:"figma_design_search.previous",disabled:H.total<=1,htmlAttributes:{"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,U.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev"}},a.createElement(B.U,{svg:eO.A},a.createElement(p.l,null))),a.createElement(o.K,{onClick:t=>{e(eC.OP.NEXT,"button")},"aria-label":(0,U.t)("canvas_search.next"),recordingKey:"figma_design_search.next",disabled:H.total<=1,htmlAttributes:{"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,U.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next"}},a.createElement(B.U,{svg:eL.A},a.createElement(f.k,null))))),a.createElement(P.P,{className:eo.bB,scrollContainerRef:F},a.createElement(I.D8,{style:{height:eu.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:eR,onKeyUp:eM,forwardedRef:c},eu.virtualItems.map(e=>{let t=ed[e.index];if(!t)return null;let r=ef(t),l="result"===t.type&&t.data.pageId===W?.pageId?eN(t.data.index):ea.NONE;return a.createElement("div",{key:"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`,ref:e.measureRef,className:b()({[eo.T]:l===ea.TOP,[eo.fz]:l===ea.MIDDLE,[eo.Nf]:l===ea.BOTTOM,[eo.HR]:(T===er.SINGLE||W?.index==null)&&d?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`}},"header"===t.type?a.createElement(eK,{...t.data,setOpen:e=>es(t.data.pageId,e)}):a.createElement(eV,{activePageId:W?.pageId,hasMultipleSelections:u,indirectlySelected:ep(t),isInHoveredSelectMode:T!==er.NONE&&!!d,isInMultiselectMode:m,onDoubleClick:()=>{eD(void 0),g.YEY.exitSearchMode(g.dNx.SELECT_ACTIVE)},onSelect:n=>eA(n,t.data,e.index,r),replacement:n,result:t.data,resultInputHandlerRef:c,selected:r,setHoveredResult:N,singletonHoverSelected:l===ea.ALL}))})),K&&a.createElement("div",{className:eo.S},a.createElement(D.dW,{size:"medium"})),i&&G===g.Lov.ACTIVE_PAGE&&((0,E.k)().eu_fpl_migration_figma_design_search?a.createElement(s.E,{recordingKey:"figma_design_search.other_pages_button",className:b()(eo.fp,eo.AX),onClick:()=>{L(V.V2(g.Lov.ALL_PAGES))}},(0,U.tx)("canvas_search.results_other_pages")):a.createElement(I.GG,{recordingKey:"figma_design_search.other_pages_button",className:b()(eo.fp,eo.AX),onClick:()=>{L(V.V2(g.Lov.ALL_PAGES))}},(0,U.tx)("canvas_search.results_other_pages"))),y&&G===g.Lov.ALL_PAGES&&a.createElement("div",{className:eo.du},(0,U.tx)("canvas_search.results_unavailable_offline"))))}function eG({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:n}){let l=(0,r.wA)(),i=(0,eh.sO)(),o=(0,ef.cJ)(),s=(0,K.ge)(),u=(0,q.BK)(ei),m=(0,a.useRef)(null),p=(0,r.d4)(e=>e.canvasSearch.scope),f=(0,r.d4)(e=>e.mirror.appModel.pagesList),h=(0,_.Xr)(ec),y="";y=0===e?(0,Z.lH)(f)||!n?i?(0,U.t)("canvas_search.no_results_in_this_deck"):o?(0,U.t)("canvas_search.no_results_on_site"):s?(0,U.t)("canvas_search.no_results_in_buzz_file"):(0,U.t)("canvas_search.no_results_on_page"):t?(0,U.t)("canvas_search.no_results"):(0,U.t)("canvas_search.no_results_in_file"):(0,U.t)("canvas_search.results_count",{total:e});let b=(!i&&!o&&!s||(0,E.k)().interop_pages)&&(e>0||t||(0,Z.lH)(f)||!n);return a.createElement("div",{className:eo._M},a.createElement(c.T,{"data-testid":"canvas-search-info",className:eo.qp},y),b&&a.createElement(a.Fragment,null,a.createElement("span",{className:eo.hY},"\xb7"),(0,E.k)().eu_fpl_migration_figma_design_search?a.createElement(ed,{allInstancesExpanded:n}):a.createElement(d.o,{eventListeners:["onClick"]},a.createElement(I.GG,{forwardedRef:m,recordingKey:"figma_design_search_page_scope_dropdown",className:eo.Vz,"data-testid":"figma-design-search-scope-dropdown",onClick:e=>u.showing&&e.stopPropagation(),onMouseDown:()=>u.toggle(),onKeyDown:e=>{(e.keyCode===v.Uz.ENTER||e.keyCode===v.Uz.SPACE)&&(e.preventDefault(),u.toggle())}},a.createElement(a.Fragment,null,el[p],a.createElement(F.B,{svg:es.A}))),m.current&&u.showing&&a.createElement(ep.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,className:eo.NB,hideDropdown:u.hide,lean:"right",leanPadding:0,maxWidth:160,minWidth:160,options:[g.Lov.ACTIVE_PAGE,g.Lov.ALL_PAGES].map(e=>a.createElement(L.MM,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===p,onClick:()=>{u.hide(),e===g.Lov.ALL_PAGES&&((0,Z.lH)(f)||!n)?(h(!0),requestAnimationFrame(()=>{l(V.V2(e)),h(!1)})):l(V.V2(e))}},a.createElement("div",{className:eo.VM},el[e]))),propagateCloseClick:!0,recordingKey:"figma_design_search_page_scope",showPoint:!1,targetRect:m.current.getBoundingClientRect()}))))}function eK({pageId:e,open:t,setOpen:n,numResults:r}){let l=(0,X.eY)().get(e),i=e===h.Xy?(0,U.t)("fullscreen.canvas_search.pages"):l.name;return a.createElement(I.GG,{className:eo.kQ,onClick:()=>n(!t)},a.createElement(F.B,{className:eo.eO,svg:t?eN.A:ex.A}),a.createElement("span",{className:eo.rB},i),a.createElement("span",{className:eo.hs},r))}function eV({result:e,replacement:t,activePageId:n,resultInputHandlerRef:l,selected:i,indirectlySelected:o,singletonHoverSelected:s,onSelect:c,onDoubleClick:d,isInMultiselectMode:u,isInHoveredSelectMode:m,hasMultipleSelections:p,setHoveredResult:f}){let E=(0,X.eY)(),_=(0,X.p8)("currentPage"),y=e.textMatch.matchType===g.Ifi.TEXT_MATCH,C=null!=t&&y&&(E.get(e.guid)?.hasMissingFont||!1),v=!(0,T.y)(),N=(0,r.d4)(e=>e.mirror.appModel.pagesList),x=v&&e.textMatch.matchType===g.Ifi.PAGE_MATCH&&g.h3O.isIncrementalSession()&&(0,Z.Fy)(N,e.resultGuid)!==g.xal.LOADED,A=(0,r.wA)(),L=b()(eo.V3,{[eo.HR]:e.isPurple,[eo.wH]:i,[eo.r9]:x}),O=a.createElement(em.Bf,{className:L,guid:e.guid});return C?O=a.createElement("div",{className:eo.v9+" "+L},a.createElement(F.B,{svg:eM.A})):e.guid===_&&(O=a.createElement("div",{className:eo.v9+" "+L},a.createElement(F.B,{svg:eA.A}))),a.createElement(I.GG,{className:b()({[eo.AX]:!0,[eo.wH]:i,[eo.Xt]:!i&&o,[eo.rX]:s,[eo.Dw]:m,[eo.HR]:e.isPurple,[eo.r9]:x}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{x?A(G.F.enqueue({type:"offline-page-switch",message:(0,U.t)("fullscreen.pages_panel.unavailable_offline")})):(l.current?.focus(),u||!i||(S.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===g.Ifi.PAGE_MATCH?c(t):p||g.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:u||x?w.lQ:d,onMouseEnter:()=>{e.pageId===h.Xy||e.pageId!==n?f(null):f({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),y?g.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===g.Ifi.LAYER_MATCH&&(0,J.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,J.Uc)(""),f(null),g.YEY.setHoveredResult(h.AD,-1)},recordingKey:k.Pt("figma_design_search","result",e.pageId,e.index)},a.createElement("div",{className:eo._P},O),a.createElement("div",{className:b()(eo.D6,{[eo.c1]:y})},e.textContent&&y?a.createElement(ez,{text:e.textContent,match:e.textMatch,replacement:C?void 0:t,multiline:!0}):a.createElement(eH,{result:e})),x&&a.createElement("div",{className:eo.QF,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,U.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},a.createElement(F.B,{className:eo.VQ,svg:eR.A})))}function eH({result:e}){let{query:t}=(0,r.d4)(e=>e.canvasSearch),n=e.name&&e.stateGroupName?(0,N.w)(e.name):e.name;if(!n)return null;let l=e.stateGroupName||e.containerName,i=-1;e.textContent&&(n=e.textContent,i=e.name?.toLowerCase().indexOf(t)??-1,l=e.name);let o=n.toLowerCase().indexOf(t)??-1;return a.createElement("div",null,n&&o>-1?a.createElement(ez,{text:n,match:{start:o,end:o+t.length,matchType:g.Ifi.LAYER_MATCH},multiline:!0}):a.createElement(O.ph,{text:n}),l&&a.createElement("div",{className:eo.Gu},i>-1?a.createElement(ez,{text:l,match:{start:i,end:i+t.length,matchType:g.Ifi.LAYER_MATCH}}):a.createElement(O.ph,{text:l})))}function ez({text:e,match:t,replacement:n,multiline:r}){let[l,i]=(0,a.useState)(e),[o,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i(e)},[e]),(0,a.useEffect)(()=>{if(!o||l!==e)return;let n=t.start,a=0;for(let t=n-1;t>=0;--t)if(/\s/.test(e[t])&&a++,3===a){n=t;break}a<3&&(n=0),i(e.slice(n))},[o,l,e,t.start]);let c=(0,a.useMemo)(()=>a.createElement(eW,{text:l,replacement:n,fullString:e,match:t}),[l,t,n,e]);return a.createElement(O.ph,{className:r?eo.c1:"",text:c,multiline:r,onTruncationChange:s})}function eW({text:e,replacement:t,fullString:n,match:r}){let l=0;n&&e!==n&&(l=n.length-e.length);let i=r.start-l,o=r.end-l,s=e.substring(0,i),c=e.substring(i,o),d=e.substring(o);if(t&&c.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=W.r.detectTextTransform(c);t=W.r.applyTextTransform(t,e)}return a.createElement(a.Fragment,null,l?"\u2026":"",s,t?a.createElement(a.Fragment,null,a.createElement("span",{className:eo.of},c),a.createElement("b",null,t)):a.createElement("b",null,c),d)}},900723:(e,t,n)=>{n.d(t,{Yz:()=>I,Z7:()=>S});var a=n(848318),r=n(301168),l=n(186606),i=n(553547),o=n(768618),s=n(580494),c=n(999667),d=n(410441),u=n(167738),m=n(967688),p=n(431698),f=n(858160),g=n(572282),h=n(959750),E=n(554326),_=n(314774),y=n(563741),b=n(393704),C=n(228845),v=n(685060),w=n(181344),T=n(27776);let S=(0,c.eU)(new Map),k=(0,d.jz)(T.LdP);function I({children:e}){let t=(0,E.ut)(l.Ez5?.singleSlideView().isInFocusedNodeView,!1),n=(0,E.J2)(l.Ez5.canvasGrid().canvasGridArray),d=(0,v.rY)(n),T=a.useMemo(()=>d.reduce((e,t,n)=>(e.set(t,n),e),new Map),[d]),I=function(){let e=(0,p.wq)(),t=(0,c.Xr)(S),[n,r]=a.useState(new Map),[l,s]=a.useState(new Map);return a.useEffect(()=>{let a=new Set,c=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,n=l.get(e.id),r={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};c.set(e.id,r),t&&(!n||t.x!==n.x&&t.y!==n.y)&&a.add(e)}),a.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let n=(0,o.UN)().get(t),a=n?n.containingSlideId:i.AD;a!==i.AD&&e.canvasPosition&&(s(t=>new Map(t.set(e.id,e.canvasPosition))),r(t=>new Map(t.set(e.id,a))))});let d=new Map;n.forEach((e,t)=>{let n=c.get(t);if(!n)return;let{commentCount:a,hasUnread:r}=n,l=d.get(e),i={commentCount:(l?.commentCount??0)+a,threadIds:[...l?.threadIds??[],t],hasUnread:l?.hasUnread||r};d.set(e,i)}),t(d)},[t,l,n,e.data,e.status]),n}(),N=(0,g.a)(),{isPropertiesPanelCollapsed:x}=(0,f.iT)(),A=(0,h.qw)();A=x?0:A;let L=!(0,C.Ye)(),O=(0,h.dP)(),R=a.useCallback(e=>{let t=I.get(e.id);if(t)return t;let n=e.comments[0]?.client_meta?.node_id;if(!n)return i.AD;let a=(0,o.UN)().get(n);return a?a.containingSlideId:i.AD},[I]),{xDelta:M,yDelta:D}=(0,w.m)(),P=a.useMemo(()=>({xDelta:M,yDelta:D}),[M,D]),F=a.useMemo(()=>{let e=[b.mW.RESOLVED,b.mW.YOURS];return t&&e.push(b.mW.CURRENT_SLIDE),e},[t]),B=a.useMemo(()=>[b.qN.CREATION_DATE,b.qN.UNREAD,b.qN.SLIDE],[]),U=(0,r.d4)(e=>e.mirror.appModel.currentPage),G=a.useContext(_.kw),K=(0,E.ut)(l.Ez5?.singleSlideView().focusedNodeId,""),V=(0,u.po)(),H=(0,s.k)().slides_ssv_comment_freedom,z=a.useCallback(e=>{let t=e&&U?G.getCommentDestinationForCanvasPosition(e,U)?.nodeId:void 0;if(!t)return!1;let n=(0,o.UN)().get(t),a=n?n.containingSlideId:i.AD;return!(K&&K!==i.AD)||H?a===i.AD:a!==K},[U,K,G,H]),W=a.useCallback((e,t)=>{let n=t?(0,o.UN)().get(t):void 0,a=n?n.containingSlideId:i.AD,r=a&&a!==i.AD?a:l.glU.getSlideAtPosition(e.x,e.y);return r?l.Egt.getBoundsForNode(r):null},[]),j=a.useCallback(e=>{let t=R(e),n=T.get(t);return void 0!==n&&t!==i.AD?(0,m.t)("comments.slide_number",{orderNum:n+1}):H?e.pageName:(0,m.t)("comments.slide")},[R,T,H]),Y=a.useMemo(()=>!!t,[t]),J=a.useCallback(e=>{if(!t)return()=>{};let n=R(e);return n!==i.AD?()=>{V(n)}:H?()=>{l.Ez5?.singleSlideView().exitFocusedNodeViewAndLeavePanelsOpen()}:()=>{}},[R,V,t,H]),q=a.useMemo(()=>({slide:(e,t)=>{let n=1/0,a=R(e),r=R(t),l=T.get(a)??n,i=T.get(r)??n;return l!==i?l-i:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[R,T]),X=(0,E.J2)(l.Ez5.editorPreferences().speakerNotesHeight),Z=a.useMemo(()=>{let e=0,n=0,a=0;return N&&(e+=k,L&&(a+=O),n+=A),t&&(e+=X+(l.CNR?.speakerNotesDragHandleHeight()??0)+(l.CNR?.speakerNotesDragHandlePadding()??0)*3),{maxHeightDelta:-e,minBottomMarginDelta:e,minLeftMarginDelta:a,minRightMarginDelta:n}},[t,A,L,O,N,X]),Q=a.useMemo(()=>{if(N)return{paddingRight:A}},[A,N]),$=a.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:Y,orphanedBy:H?"deleted_anchors":"non_slide_anchors",filterBy:H?"deleted_anchors":"non_slide_anchors",sidebarFilters:F,sidebarSorts:B,sidebarModesDisabled:!0,dockPositionAdjustment:P,isCommentingDisabledAtPosition:H?void 0:z,commentDisabledPositionBellMessage:(0,m.t)("comments.comments_can_only_be_placed_on_slides"),calculateSelectionCommentContainerBounds:H?void 0:W,getParentName:j,getOnCommentSelect:J,sortComparatorOverrides:q,commentPositionPaddingAdjustment:Q,draggableModalBoundsAdjustment:Z}),[Y,F,B,P,z,W,j,J,q,Q,Z,H]);return a.createElement(y.a.Provider,{value:$},e)}},517614:(e,t,n)=>{n.d(t,{W:()=>A,l:()=>x});var a=n(848318),r=n(301168),l=n(430385),i=n(580494),o=n(999667),s=n(810503),c=n(967688),d=n(31898),u=n(340132),m=n(142896),p=n(381673),f=n(859480),g=n(355755),h=n(730143),E=n(318147),_=n(253332),y=n(520779),b=n(386252),C=n(324183),v=n(70969),w=n(228845),T=n(636902),S=n(230432),k=n(274016),I=n(399e3),N=n(263418);let x=(0,o.eU)(!1);function A({clientX:e,clientY:t,pageIds:n,selectedView:A,shouldShowDuplicateOption:L}){let O=(0,r.wA)(),R=(0,r.d4)(e=>e.mirror.appModel),M=(0,h.q5)(),D=(0,g.p8)("pagesList"),P=(0,f.HZ)(),F=p.F.useShouldHideStarterCtaForOpenFile(),B=(0,w.cT)(),U=(0,v.hZ)(),G=1===n.length&&void 0!==n[0]?function({pageId:e,openFile:t,pagesList:n,team:a,shouldShowDuplicateOption:r,shouldPaywallForDraftsPageLimitV1:l,dispatch:o,hideUpsellPlanCta:m,isFileReadOnly:f,isK12OrgStudent:g}){var h;let C=n.length,v=n.filter(e=>!e.isDivider).length,w=n.find(t=>t.nodeId===e),x=!!w&&w.isDivider,A=n=>(0,N.HZ)()&&w&&t&&t.editorType===E._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:[e],dispatch:n,source:I.E.FJ_PAGE_MENU})}]:[];if(f||g)return[{action:"page-copy-link",args:{nodeId:e}},...A(o)];let L=()=>(0,i.k)().move_page_to_new_file&&w&&t?((0,s.ED)("getPageMoveMenuItem","Parameters",{pageId:e,folderId:"1",fileKey:t.key}),{name:"page-move-to-new-file",callback:()=>{!function(e,t,n,a,r={},l=!0){if(!e)return;let i={...r,type:S.A.FILE,fileKey:e.key,file:e,afterFileMove:void 0,isMovePageToNewFile:l,page_id:n};t(d.to({type:(0,T.J)(),data:i}))}({key:t.key,name:t.name,folder_id:t.folderId,team_id:t.teamId,editor_type:t.editorType},o,e)}}):null,O=r?(h=x?(0,c.t)("fullscreen_actions.divider-duplicate"):(0,c.t)("fullscreen_actions.page-duplicate"),t&&((0,_.J9)({openFile:t,pageCount:C})||l({openFile:t,pageCount:C}))?{name:"page-duplicate",callback:()=>{o((0,d.to)({type:k.DV,data:{team:a,resource:y.vL.PAGE,action:b.ZN.DUPLICATE_PAGE,editorType:t.editorType,currentPlan:p.F.Plan.STARTER,upsellPlan:p.F.Plan.PRO,hideUpsellPlanCta:m}}))},displayText:h}:{action:"page-duplicate",args:{nodeId:e},loadingIndicatorString:"Duplicating",displayText:h}):null;return x?[O,L(),{action:"page-delete",args:{nodeIds:[e]},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.divider-delete")}]:[{action:"page-copy-link",args:{nodeId:e}},{separator:!0},{action:"page-rename",args:{nodeId:e},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:1})},O,L(),{separator:!0},{action:"page-delete",callback:()=>o(u.PK({})),args:{nodeIds:[e]},loadingIndicatorString:"Deleting",disabled:1===v,displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:1})},...A(o)]}({pageId:n[0],team:M?M.team:null,shouldShowDuplicateOption:L,openFile:M,pagesList:D,shouldPaywallForDraftsPageLimitV1:P,dispatch:O,hideUpsellPlanCta:F,isFileReadOnly:B,isK12OrgStudent:U}):function({pageIds:e,pagesList:t,dispatch:n,isFileReadOnly:a,isK12OrgStudent:r}){if(a||r)return[];let l=new Set(t.filter(e=>!e.isDivider).map(e=>e.nodeId)),i=e.filter(e=>l.has(e)),s=i.length;return 0===s?[]:[{action:"batch-page-rename",args:{nodeIds:i},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:s})},{separator:!0},{action:"page-delete",callback:()=>n(u.PK({})),args:{nodeIds:i},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:s}),disabled:l.size<=s},...(t=>{if(!(0,N.HZ)())return[];let n=o.zl.get(h.yV);return n&&n.editorType===E._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:Array.from(e),dispatch:t,source:I.E.FJ_PAGE_MENU})}]:[]})(n)]}({pageIds:n,pagesList:D,dispatch:O,isFileReadOnly:B,isK12OrgStudent:U});return(0,a.useEffect)(()=>(o.zl.set(x,!0),()=>{o.zl.set(x,!1)}),[]),a.createElement("div",{className:`${m.Dm}`},a.createElement(C.Q,{appModel:R,menuItems:(0,l.WI)(G),dispatch:O,selectedView:A,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,isLimitedDevMode:!1,recordingKey:"pageMenu"}))}},868489:(e,t,n)=>{n.d(t,{G:()=>rr});var a=n(848318),r=n(301168),l=n(354427),i=n(938982),o=n(186606),s=n(580494),c=n(29188),d=n(865114),u=n(386040),m=n(967688),p=n(143823),f=n(536384),g=n.n(f),h=n(53837),E=n(351609),_=n(388831),y=n(863270),b=n(959750),C=n(730143),v=n(209595),w=n(195159),T=n(954703),S=n(193675),k=n(531788),I=n(124810),N=n(637640),x=n(615233),A=n(329228),L=n(238462),O=n(230618),R=n(968325),M=n(392935),D=n(506428),P=n(426211),F=n(879169),B=n(812369),U=n(773511);function G({title:e,description:t,onClick:n,children:r,disabled:l}){return a.createElement(U.E,{disabled:l,onClick:n,className:g()("onboarding_card--card--tK7Ix",l&&"onboarding_card--cardDisabled--INeUS")},a.createElement("div",{className:"onboarding_card--cardContent--HBRY-"},a.createElement("span",{className:"onboarding_card--title--JNeVh"},e),a.createElement("span",{className:"onboarding_card--subtitle--2hGgP"},t)),a.createElement("div",{className:"onboarding_card--cardFooter--FnngV"},r))}var K=n(975256),V=n(33538),H=n(52805),z=n(176942);let W="codebase_suggestions_onboarding--background--M3L2O",j="codebase_suggestions_onboarding--headerTitle--0oG-U",Y="codebase_suggestions_onboarding--headerDescription--Awt2L",J="codebase_suggestions_onboarding--closeButton--e6gwu",q="codebase_suggestions_onboarding--helpButton--bM8v9",X=(0,x.ck)("87362980e1543a5db4a0044590b04d5f491a1e75"),Z=(0,x.ck)("a938cc4b8421dc36477282e09f83e9e6770065ed");function Q({onBack:e,onClose:t,onOptionSelected:n,installMethods:r}){let l="dark"===(0,D.DP)();return a.createElement("div",{className:W},a.createElement("div",{className:J},a.createElement(T.K,{"aria-label":(0,m.t)("dev_handoff.component_browser_onboarding.close"),onClick:t},a.createElement(I.A,null))),a.createElement("div",{className:"codebase_suggestions_onboarding--content--EjBk6"},a.createElement("div",{className:"codebase_suggestions_onboarding--header--cIvzn"},a.createElement("div",null,a.createElement(O.oW,{src:l?X:Z,height:111,width:155,alt:(0,m.t)("dev_handoff.component_browser_onboarding.connect_your_running_app")})),a.createElement("div",{className:j},(0,m.t)("dev_handoff.component_browser_onboarding.connect_your_running_app")),a.createElement("div",{className:g()(Y,"codebase_suggestions_onboarding--headerDescriptionCentered--Mp6aa")},(0,m.t)("dev_handoff.codebase_suggestions.we_ll_collect_components_from_your_running_app_that_we_ll_match_to_design_components_choose_a_set_up_option_to_get_started"))),a.createElement("div",{className:"codebase_suggestions_onboarding--cards--lhl8b"},r.map(e=>a.createElement(G,{key:e.installMethod,title:e.renderTitle(),description:e.renderDescription(),onClick:()=>n?.(e.installMethod)},a.createElement(O.oW,{src:l?e.thumbnailUrls.dark:e.thumbnailUrls.light,alt:e.renderTitle()})))),a.createElement("div",{className:"codebase_suggestions_onboarding--footer--ys3HK"},a.createElement(k.$n,{"aria-label":(0,m.t)("dev_handoff.codebase_suggestions.back_to_all_options"),variant:"link",onClick:e,iconPrefix:a.createElement(B.t,null)},(0,m.t)("dev_handoff.codebase_suggestions.back_to_all_options")))),a.createElement("div",{className:q},a.createElement(K.n,null)))}function $({onClose:e,onBack:t,methodDetails:n,availableInstallMethods:r,setMethod:l}){let i="dark"===(0,D.DP)(),o=r.reduce((e,t)=>(e[t.installMethod]=!0,e),{}),s=n.installMethod,[c,d,u]=F.t.useManagedTabs(o,s,l,{orientation:"vertical"}),p=(0,M.G)();return a.createElement("div",{className:W},a.createElement("div",{className:g()("codebase_suggestions_onboarding--backButton--KRIT-","codebase_suggestions_onboarding--backButtonTopLeft--52IvP")},a.createElement(k.$n,{"aria-label":(0,m.t)("dev_handoff.codebase_suggestions.back_to_all_options"),variant:"link",onClick:t,iconPrefix:a.createElement(B.t,null)},(0,m.t)("dev_handoff.codebase_suggestions.back_to_all_options"))),a.createElement("div",{className:J},a.createElement(T.K,{"aria-label":(0,m.t)("dev_handoff.component_browser_onboarding.close"),onClick:e},a.createElement(I.A,null))),a.createElement("div",{className:"codebase_suggestions_onboarding--contentTop--vUJ3r"},a.createElement("div",{className:"codebase_suggestions_onboarding--methodContent--lMPrS"},a.createElement("div",{className:"codebase_suggestions_onboarding--methodHeaderIcon--5uHPs"},a.createElement(O.oW,{src:i?X:Z,alt:(0,m.t)("dev_handoff.component_browser_onboarding.connect_your_running_app"),height:111,width:155})),a.createElement("div",{className:"codebase_suggestions_onboarding--methodHeaderTitle--bIE7f"},a.createElement("div",{className:j},(0,m.t)("dev_handoff.component_browser_onboarding.connect_your_running_app")),a.createElement("div",{className:Y},(0,m.t)("dev_handoff.codebase_suggestions.we_ll_collect_components_from_your_running_app_that_we_ll_match_to_design_components_choose_a_set_up_option_to_get_started"))),a.createElement("div",{className:"codebase_suggestions_onboarding--methodMenu--O6Pdz"},a.createElement(F.t.TabStrip,{manager:u},Object.keys(o).map(e=>a.createElement(F.t.Tab,{key:e,...c[e]},function(e){let t=r.find(t=>t.installMethod===e);return t?.renderTitle()}(e))))),a.createElement("div",{className:"codebase_suggestions_onboarding--methodInstructions--coeCJ"},a.createElement("div",{className:"codebase_suggestions_onboarding--methodInstructionsHeader--M6ZOK"},a.createElement("div",{className:"codebase_suggestions_onboarding--methodInstructionsHeaderTitle--Uk8lH"},n.renderTitle()),a.createElement("div",null,n.renderDescription())),"disabled"===p&&a.createElement(z.P,null),a.createElement(H.o,{installMethod:n.installMethod,onContinue:()=>e?.()})))),a.createElement("div",{className:q},a.createElement(K.n,null)))}let ee=function({onClose:e,onBack:t}){let{installMethod:n,setInstallMethod:r,availableInstallMethods:l}=(0,V.g)();return a.createElement(y.fu,{name:"Codebase Suggestions Onboarding"},null==n?a.createElement(Q,{onBack:t,onClose:e,onOptionSelected:r,installMethods:l}):a.createElement($,{onBack:()=>{t?.()},onClose:e,methodDetails:n,availableInstallMethods:l,setMethod:r}))};var et=n(179688),en=n(845239);let ea=function({onSkip:e,onCodebaseIngestion:t,onGitHub:n,onClose:r,libraryKey:l}){let i=(0,s.k)().dt_github_app,o="dark"===(0,D.DP)(),c=o?(0,x.ck)("054aae60e35e40e9d609c1b12a6df5e435aa2274"):(0,x.ck)("fafab45c22878b8b9343519b93fa55e87dabb857"),d=o?(0,x.ck)("87362980e1543a5db4a0044590b04d5f491a1e75"):(0,x.ck)("a938cc4b8421dc36477282e09f83e9e6770065ed"),[u,p]=(0,a.useState)("connection-options"),f=(0,M.A)(),g=async()=>{if(E.data&&E.data?.status===P.K8.Connected)p("github-options");else{let[e,t]=h?.plan?.id?.split("::")??[];if(!e||!t){console.error("Failed to read plan type or plan id",{planType:e,planId:t});return}let n=await P.QV.startGithubAppSetup({plan_type:e,plan_parent_id:t});200===n.status?N.Ay.redirect("https://github.com/apps/figma-staging-123/installations/select_target"):console.error("Failed to start github app setup",n)}},h=(0,C.q5)(),[E]=(0,A.IT)((0,et.b)(h?.parentOrgId??""));return"codebase-suggestion-options"===u?a.createElement(ee,{onClose:t,onBack:()=>p("connection-options")}):"github-options"===u&&l&&E.data&&E.data?.status===P.K8.Connected?l&&a.createElement(en.A,{onClose:n,onBack:()=>p("connection-options"),libraryKey:l}):a.createElement(y.fu,{name:"Component Browser Onboarding"},a.createElement("div",{className:"component_browser_onboarding--background---pN6U"},a.createElement("div",{className:"component_browser_onboarding--closeButton--D5H4w"},a.createElement(T.K,{"aria-label":(0,m.t)("dev_handoff.component_browser_onboarding.close"),onClick:r},a.createElement(I.A,null))),a.createElement("div",{className:"component_browser_onboarding--content--Um63s"},a.createElement("div",{className:"component_browser_onboarding--header--ka15q"},a.createElement(O.oW,{src:c,alt:(0,m.t)("dev_handoff.component_browser_onboarding.connected_projects_icon"),className:"component_browser_onboarding--headerImage--6Y9rK"}),a.createElement("span",{className:"component_browser_onboarding--pageTitle--sFI0G"},(0,m.t)("dev_handoff.component_browser_onboarding.choose_how_to_connect_to_code"))),a.createElement("div",{className:"component_browser_onboarding--cards--G6Oto"},i&&a.createElement(G,{title:(0,m.t)("dev_handoff.component_browser_onboarding.connect_to_github"),description:(0,m.t)("dev_handoff.component_browser_onboarding.map_files_from_your_repo"),onClick:g},a.createElement(R.f,{height:60,width:60})),f&&a.createElement(G,{title:(0,m.t)("dev_handoff.component_browser_onboarding.connect_your_running_app"),description:(0,m.t)("dev_handoff.component_browser_onboarding.map_collected_components"),onClick:()=>{p("codebase-suggestion-options")}},a.createElement(O.oW,{src:d,alt:(0,m.t)("dev_handoff.component_browser_onboarding.connected_projects_icon"),className:"component_browser_onboarding--cardImage--CkKlg"})),!i&&a.createElement(G,{title:(0,m.t)("dev_handoff.component_browser_onboarding.connect_to_github"),description:(0,m.t)("dev_handoff.component_browser_onboarding.map_files_from_your_repo"),onClick:L.lQ,disabled:!0},a.createElement("div",{className:"component_browser_onboarding--badgeContainer--K6Alk"},a.createElement(S.E,null,(0,m.t)("dev_handoff.component_browser_onboarding.coming_soon"))),a.createElement(R.f,{height:60,width:60}))),a.createElement(k.$n,{variant:"link",onClick:e},(0,m.t)("dev_handoff.component_browser_onboarding.skip_for_now_and_map_manually")))))};function er(){let e=(0,_.bh)(),t=(0,C.q5)(),n=(0,w.Dl)(t),[r,l]=(0,h.Vc)("componentBrowserOnboardingSelection",null),i=(0,C._G)(),o=(0,b.dP)(),s=(0,v._6)();return n?r?a.createElement(y.fu,{name:"Component Browser"},a.createElement("div",{className:"component_browser_container--background--soWIQ"},a.createElement("div",{className:g()("component_browser_container--overviewBase--UY1-I","component_browser_container--withInsetEditorEnabled--9-tFO"),style:{left:o}},i&&a.createElement(E.uv,{libraryKey:i,componentKey:s?.componentKey,fallback:a.createElement("div",{className:"component_browser_container--loadingContainer--j9mkU"},a.createElement(p.k,null)),errorFallback:a.createElement("div",null,(0,m.t)("dev_handoff.component_browser_onboarding.error_loading_component_browser")),location:"file"})))):a.createElement(ea,{onClose:e,onCodebaseIngestion:()=>l("codebase_ingestion"),onGitHub:()=>l("github"),onSkip:()=>l("manual"),libraryKey:i}):null}var el=n(972402),ei=n(885683),eo=n(995218),es=n(14837),ec=n(698429),ed=n(253066),eu=n(363367),em=n(430385),ep=n(869143),ef=n(999667),eg=n(410441),eh=n(781239),eE=n(946082),e_=n(334804),ey=n(297638),eb=n(484720),eC=n(660376),ev=n(998568),ew=n(116400),eT=n(788903),eS=n(554326),ek=n(890868),eI=n(824286),eN=n(21614),ex=n(368085),eA=n(641501),eL=n(325590),eO=n(346288),eR=n(96526),eM=n(418289);let eD=a.forwardRef(function({valueToCopy:e,isCopyable:t,children:n,valueTypeForTracking:r,variableTypeForTracking:l,recordingKey:i},o){let{isSelected:s}=(0,eM.e)(),c=(0,eN.Cj)(e),d=(0,ew.ON)(),u=a.useCallback(e=>{e.stopPropagation(),c&&c(),d("cell_copied",{type:r,variableType:l})},[c,d,r,l]);return a.createElement(U.E,{ref:o,className:g()("variable_cell_content--copyButton--KwbAc ellipsis--ellipsis--Tjyfa",s&&"variable_cell_content--isOnSelected--UH9z4"),onClick:t?u:void 0,recordingKey:i},n)});function eP({variable:e,modeId:t,isCopyable:n,variableTypeForTracking:r}){let l=(0,eT.Kd)(e.node_id),s=a.useMemo(()=>t&&l?{[l]:t}:void 0,[t,l]),c=e.modeValues[t],d=(0,eT.BQ)(e.node_id,s),u=c??d,m=!u||!d||"MIXED"===d||"MIXED"===u;if(a.useEffect(()=>{if(m){let e=u&&d?"Variables table cell has mixed value":"Variables table cell has no value";(0,ev.$D)(i.e.DEVELOPER_TOOLS,Error(e))}},[m,u,d]),m)return null;switch(u.type){case o.Z_n.STRING:case o.Z_n.FLOAT:return a.createElement(eF,{value:u.value,isCopyable:n,recordingKey:`dev_handoff.variables_table.cell.copy-${e.name}-${t}`});case o.Z_n.BOOLEAN:return a.createElement(eF,{value:(0,eO.Oi)(u),isCopyable:n,variableTypeForTracking:r});case o.Z_n.COLOR:return a.createElement(eB,{value:u,isCopyable:n});case o.Z_n.ALIAS:return a.createElement(eU,{value:u,resolvedValue:d,isCopyable:n,variableTypeForTracking:r});case o.Z_n.SYMBOL_ID:case o.Z_n.NODE_FIELD_ALIAS:case o.Z_n.EXPRESSION:case o.Z_n.FONT_STYLE:case o.Z_n.TEXT_DATA:case o.Z_n.MAP:case o.Z_n.MANAGED_STRING_ALIAS:case o.Z_n.CMS_ALIAS:case o.Z_n.JS_RUNTIME_ALIAS:case o.Z_n.IMAGE:case o.Z_n.LINK:case o.Z_n.SLOT_CONTENT_ID:return null;default:(0,eC.xb)(u)}}function eF({value:e,isCopyable:t,variableTypeForTracking:n,recordingKey:r}){let l="number"==typeof e?(0,ex.nd)(e,""):e;return a.createElement(eD,{valueToCopy:l,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:n,recordingKey:r},a.createElement("div",{className:ey.s.textBodyMedium.truncate.$},l))}function eB({value:e,isCopyable:t,recordingKey:n}){let r=(0,eI.Qn)(),l=(0,b.Ku)(),i=(0,eL.Ig)(),o=(0,eA.q)(e.value,l,i,{alphaInPercent:!0}).value,s=r?a.createElement(eI._z,{color:e.value,value:o,disableHover:!t,pillClassName:"variable_cell_content--ui3RawColorPillContainer--oQ8lb"}):a.createElement("div",{className:ey.s.textBodyMedium.truncate.$},o);return a.createElement("div",{className:ey.s.flex.alignCenter.gap8.h16.minW0.itemsCenter.$},!r&&a.createElement(ek.J,{color:e.value}),a.createElement(eD,{valueToCopy:o,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:"COLOR",recordingKey:n},s))}function eU({value:e,resolvedValue:t,isCopyable:n,variableTypeForTracking:r}){let l=(0,eI.Qn)(),i=(0,eT.u)(e.value),s=(0,eN.Cj)(i?.name),c=(0,ew.ON)(),d=a.useCallback(e=>{e.stopPropagation(),s&&s(),c("cell_copied",{type:"alias",variableType:r})},[s,c,r]);return l&&t.resolvedType===o.rXF.COLOR?a.createElement(eI.On,{color:t.value,variable:i,label:i?.name??(0,m.t)("variables.missing_name"),onClick:i&&n?d:void 0,selected:n}):a.createElement("div",{className:g()("variable_cell_content--aliasWrapper--mHIWi",e.resolvedType===o.rXF.COLOR&&"variable_cell_content--shiftLeft--x6CPr")},a.createElement(eR.wG,{thumbnailValue:t,text:i?.name??(0,m.t)("variables.missing_name"),variableValue:e.value,onClick:i&&n?d:void 0,disableHover:!n,ui3Height:l}))}function eG({name:e,variableId:t,isCopyable:n,isSelected:r=!1,variableTypeForTracking:l}){let i=(0,eS.J2)((0,b.UK)().showGuids)&&t?`${e} (${t})`:e,o=(0,ex.sD)(i);return a.useEffect(()=>{r&&o.current?.scrollIntoView({block:"nearest",behavior:"instant"})},[r,o]),a.createElement(eD,{ref:o,valueToCopy:e,isCopyable:n,variableTypeForTracking:l,recordingKey:`dev_handoff.variables_table.cell.copy-${e}`},i)}var eK=n(595088),eV=n(257419),eH=n(153167),ez=n(376852),eW=n(832214),ej=n(27776);let eY=(0,ef.eU)({nameColumnWidth:void 0,valueColumnWidths:{}});function eJ({modeID:e}){let[t,n]=(0,ef.fp)(eY),r=a.useRef(null),l=a.useRef(0),[i,o]=(0,eW.i)({onBeforeDrag(){let n=e?t.valueColumnWidths[e]:t.nameColumnWidth,a=e?ej.Gyo:ej.Wsk;l.current=n??(0,eg.jz)(a)},onDrag(t){let a=(0,ez.qE)(l.current+t.delta.x,50,500);n(t=>e?{...t,valueColumnWidths:{...t.valueColumnWidths,[e]:a}}:{...t,nameColumnWidth:a})}}),s=a.useCallback(()=>{n(t=>{if(e){let{[e]:n,...a}=t.valueColumnWidths;return{...t,valueColumnWidths:a}}return{...t,nameColumnWidth:void 0}})},[e,n]);return a.createElement("div",{ref:r,"data-dragging":i||void 0,onDoubleClick:s,...o({className:"variables_table_resizing--resizingHandle--il1Ui"})})}var eq=n(453370),eX=n(696786),eZ=n(511067),eQ=n(493228),e$=n(125761),e0=n(259964),e1=n(17753),e2=n(628017),e3=n(756878),e5=n(749211),e4=n(64525),e6=n(994140);let e8="variables_table--background--bcZc8",e9="variables_table--row--dhAQa",e7="variables_table--cell--3uNjl",te="variables_table--rightBorder--WzCBo",tt="variables_table--cellContents--sgYHU ellipsis--ellipsis--Tjyfa",tn="variables_table--ellipsis--PKOvw ellipsis--ellipsis--Tjyfa",ta=(0,eg.jz)(ej.a_Q),tr=(0,eg.jz)(ej.bTb);function tl({name:e}){let t=e.split("/"),n=t.slice(0,-1),r=t[t.length-1];return a.createElement("div",{className:"variables_table--groupLabel--Mu-zB"},n.map((e,t)=>a.createElement(e_.G,{key:`${e}-${t}`,className:"variables_table--groupLabelParent--yYqmc",text:e})),a.createElement(e_.G,{className:"variables_table--groupLabelLast--zaKX-",text:r}))}function ti(){let e=(0,b.dP)(),t=(0,a.useRef)(null),[n,r]=a.useState(!1),{currentVariableSet:l,setCurrentVariableSet:o,variablesTableColumns:s,variablesTableData:c,selectedVariable:d,selectedRowIndex:f,setSelectedVariable:h}=function(){let e=performance.now(),t=(0,ew.oy)(),n=(0,eT.yp)(),[r,l]=(0,eV.R6)(n),i=function(e,t){let n=(0,eV.vo)(e);return a.useMemo(()=>{if(!e)return[];let a=n.filter(e=>!t||t===eV.eb||e.name===t||e.name.startsWith(`${t}/`));return(0,em.Bq)(a.map((t,n)=>{let a=[],r=t.variables.map(n=>{let a=e.modes.map(e=>({variable:n,modeId:e.id})),r=n.name.split("/"),l=n.name.includes("/")?r[r.length-1]:n.name,i=n?.resolvedType!==void 0?(0,eO.Hr)(n.resolvedType):void 0;return{id:n.node_id,type:n.resolvedType,name:l,group:t.name,variableId:n.node_id,content:a,variableTypeForTracking:i}});return""!==t.name&&t.variables.length>0&&a.push({id:`group${n}`,isDividerRow:!0,content:t.name}),a.push(...r),a}))},[t,e,n])}(r,(0,ef.md)(eV.bE)),o=(0,eV.A8)(),s=(0,eV.i_)(),c=a.useMemo(()=>i.findIndex(e=>e.variableId===o),[i,o]),d=a.useMemo(()=>{let e=r?r.modes.map(e=>{let t=1===r.modes.length&&e.name===e4.nm?(0,m.t)("variables.create_modal.value_label"):e.name;return{id:e.id,label:t}}):[];return{currentVariableSet:r,setCurrentVariableSet:l,variablesTableColumns:[{id:"name",label:(0,m.t)("dev_handoff.variables.table_column_name")},...e],variablesTableData:i,selectedRowIndex:c,selectedVariable:o,setSelectedVariable:s}},[r,i,c,o,s,l]);return t("table",performance.now()-e,{type:"data"}),d}(),E=(0,eV.EB)();a.useEffect(()=>{E&&o(E)},[E,o]);let _=a.useCallback(()=>{h(null)},[h]),y=(0,ep.Te)({count:c.length,getScrollElement:()=>t.current,estimateSize:e=>c[e]&&tc(c[e])?tr:ta,overscan:20,measureElement:e=>e.getBoundingClientRect().height+1});a.useEffect(()=>{!n&&f&&-1!==f&&(y.scrollToIndex(f,{align:"center"}),r(!0))},[n,f,y]);let C=function(){let e=(0,ef.md)(eY);return e.nameColumnWidth?`${e.nameColumnWidth}px`:ej.Wsk}(),v=function(e){let t=(0,ef.md)(eY),n=e?.length===1;if(!e)return"";if(n){let n=e[0],a=t.valueColumnWidths[n?.id||""]??ej.Gyo;return`minmax(${a}, auto)`}return e.map((n,a)=>{let r=t.valueColumnWidths[n.id],l=r?`${r}px`:ej.Gyo;return a===e.length-1?`${l} minmax(${ej.Gyo}, auto)`:l}).join(" ")}(l?.modes),w=(0,eT.u)(d||void 0),S=(0,ef.md)(eH.$),k=a.useMemo(()=>({numColumns:s?.length,numRows:c?.length,variableType:w?.resolvedType!==void 0?(0,eO.Hr)(w.resolvedType):void 0,entrypoint:S}),[w?.resolvedType,s?.length,c?.length,S]);if(!(0,eV.zL)())return a.createElement("div",{className:e8},a.createElement("div",{className:"variables_table--loadingWrapper--WdL0z",style:{left:e}},a.createElement(p.k,{size:"lg"})));let N=!!l,x=0===c.length,A=l?.modes.length===1,L=`${C} ${v}`;return a.createElement(u.tH,{boundaryKey:"varTable",fallback:u.H4.DEFAULT_FULL_PAGE,team:i.e.DEVELOPER_TOOLS,sentryTags:{area:i.e.DEVELOPER_TOOLS},hasCustomWASMBuild:!1},a.createElement(ew.gs,{name:"full_table",trackingProps:k},a.createElement("div",{className:e8},a.createElement("div",{className:"variables_table--fullTableView--CVdEq",style:{left:e}},a.createElement(ts,{title:l?.name}),a.createElement("div",{className:"variables_table--tableWrapper---mT7S"},N?x?a.createElement(e6.j,{text:(0,m.t)("dev_handoff.variables.table_collection_empty")}):a.createElement(a.Fragment,null,a.createElement("div",{className:"variables_table--scrollContainer--rlU7K",ref:t},a.createElement(eE.Zu,{gridColumnSizes:L,style:{height:y.getTotalSize()+(0,eg.jz)(ej.wxr)},className:g()("variables_table--stickyTopOverride--A1TnP","variables_table--stickyLeftOverride--mSdpV"),stickyTop:!0,stickyLeft:!0,"aria-label":(0,m.t)("dev_handoff.variables.table_aria-label"),"aria-describedby":"dev_mode_variables_table_title","aria-rowcount":c.length},a.createElement(eE.$y,{className:e9},s.map((e,t)=>{let n=0===t,r=t===s.length-1;return a.createElement(eE.Jy,{className:g()(e7,{[te]:t<s.length-1||!A,"variables_table--nameHeaderCell--TM9iU":n}),key:e.id},a.createElement("div",{className:g()(tn,"variables_table--headerText--uHXN6")},e.label),(!A||!r)&&a.createElement(eJ,{modeID:n?void 0:e.id}))}),a.createElement(eE.Jy,null)),a.createElement("tr",{style:{height:y.getVirtualItems()[0]?.start??0,marginTop:-1}}),y.getVirtualItems().map(e=>{let t=c[e.index],n=tc(t),r=!n&&t.variableId===d;return a.createElement(eM.y,{key:t.id,isSelected:r},a.createElement(to,{isDivider:n,variableId:t.variableId??"",selectedVariableId:d,setSelectedVariable:h,variableTypeForTracking:t.variableTypeForTracking},n?a.createElement(eE.Jy,{className:g()(e7,"variables_table--groupDividerCell--DWXGW")},a.createElement("div",{className:g()("variables_table--itemPlainText--5KrPr","variables_table--groupDivider--4bKFP",tn),"data-testid":`dev_handoff.variables_table.header.${t.content}`},a.createElement(tl,{name:t.content}))):a.createElement(a.Fragment,null,!!t.name&&void 0!==t.type&&a.createElement(eE.Jy,{className:g()(e7,"variables_table--nameCell--tM7zv",te)},a.createElement(e5.i,{type:t.type}),a.createElement("div",{className:tt},a.createElement(eG,{name:t.name,variableId:t.variableId,isCopyable:r,isSelected:r,variableTypeForTracking:t.variableTypeForTracking})),a.createElement(eJ,null)),Array.isArray(t.content)&&t.content.map((e,n)=>{let l=n===t.content.length-1;return a.createElement(eE.Jy,{className:g()(e7,!A&&te),key:`${e.variable.node_id}-${e.modeId}`},a.createElement("div",{className:tt},a.createElement(eP,{variable:e.variable,modeId:e.modeId,isCopyable:r,variableTypeForTracking:t.variableTypeForTracking})),(!A||!l)&&a.createElement(eJ,{modeID:e.modeId}))}))))}))),d&&a.createElement("div",{className:"variables_table--detailsSidePanel--U-Z97"},a.createElement("div",{className:"variables_table--detailsSidePanelHeader--pF3Tn"},(0,m.tx)("dev_handoff.variables.details_title"),a.createElement(T.K,{"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("general.close")},onClick:_},a.createElement(I.A,null))),a.createElement(eK.a,{variableId:d,onClose:_,surface:"full_table_sidebar",entryPoint:eb.E6.FullTable}))):a.createElement(e6.j,{text:(0,m.t)("dev_handoff.variables.table_empty")}))))))}function to({isDivider:e,variableId:t,setSelectedVariable:n,selectedVariableId:r,variableTypeForTracking:l,children:i}){let o=(0,ew.ON)(),s=a.useCallback(e=>{e.stopPropagation(),r||o("variable_clicked",{variableType:l}),n(r===t?null:t)},[r,n,o,t,l]),c=eh.rf(`dev_handoff.variables_table.row-${t}`,"click",s),d=!e&&t===r;return a.createElement(eE.$y,{className:g()(e9,{"variables_table--divider--TKqZt":e,"variables_table--selected--rNRXH":d}),onMouseDown:c},i)}function ts({title:e}){let t=(0,eQ.Ww)(),n=(0,eZ.Um)(),l=(0,r.d4)(e=>e.multiplayer),i=(0,C.q5)(),o=(0,e$.iZ)(),s=(0,v._6)(),c=(0,r.wA)(),d=(0,eX.GS)(),u=(0,r.d4)(e=>"devModeVariablesTableBackFocusId"in e.selectedView?e.selectedView.devModeVariablesTableBackFocusId:void 0),p=(0,ef.Xr)(eH.$),f=a.useCallback(()=>{p(null),c(eq.$T({...s,view:"fullscreen",editorType:e0.nT.DevHandoff,showDevModeVariablesTable:!1,devModeFocusId:u}))},[c,s,p,u]);return a.createElement("div",{className:"variables_table--header--412jw"},a.createElement("div",{className:ey.s.flex.itemsCenter.$},a.createElement(T.K,{"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("general.close")},onClick:f,recordingKey:"dev_handoff.variables_table.close"},a.createElement(I.A,null)),a.createElement("div",{className:"variables_table--title--16SxT","data-testid":"dev_handoff.variables_table.title",id:"dev_mode_variables_table_title"},e)),d&&a.createElement("div",{className:ey.s.flex.itemsCenter.gap4.$},t&&a.createElement(e2.v7,{dropdownShown:n,multiplayer:l,currentUser:t,onUserClick:L.lQ}),i&&a.createElement(e3.w,{user:o,editingFile:i,isFileInWorkshop:!1,appendedClassname:"variables_table--shareButton--UM0c4"})))}function tc(e){return!0===e.isDividerRow&&"string"==typeof e.content}var td=n(361964),tu=n(469508),tm=n(534497),tp=n(291549),tf=n(544405),tg=n(1511),th=n(875900),tE=n(878840),t_=n(877770),ty=n(523152),tb=n(407284),tC=n(896886),tv=n(408193),tw=n(668272),tT=n(413927),tS=n(952647),tk=n(647029),tI=n(142917),tN=n(989232),tx=n(996202),tA=n(359822),tL=n(979890),tO=n(116848),tR=n(156974),tM=n(173926),tD=n(439382),tP=n(755534),tF=n(720522),tB=n(229731),tU=n(467138),tG=n(870792),tK=n(133685),tV=n(982659),tH=n(399994),tz=n(702038),tW=n(355755),tj=n(636524),tY=n(782328),tJ=n(4881),tq=n(614092),tX=n(656320),tZ=n(226671),tQ=n(228845),t$=n(20649),t0=n(335744),t1=n(760893),t2=n(376771),t3=n(476498),t5=n(533737),t4=n(752181),t6=n(549833);function t8(){let e=(0,r.wA)();return(0,t4.f)("dismissed_dev_mode_overview_banner")||(0,es.T)()?null:a.createElement(y.fu,{name:"Dev Mode Overview Banner",properties:{severity:t6.c.EVENT}},a.createElement(t1.Yy,{variant:"success",onDismiss:()=>{e(t5.b({dismissed_dev_mode_overview_banner:!0}))}},a.createElement(t2.Q,{title:(0,m.t)("dev_handoff.workflows.overview.banner.title")},(0,m.tx)("dev_handoff.workflows.overview.banner.subtitle")),a.createElement(t3.N,{href:"https://help.figma.com/hc/articles/23918228264855",newTab:!0},(0,m.tx)("dev_handoff.workflows.overview.banner.learn_more"))))}var t9=n(749214);let t7=(0,a.memo)(function(e){return(0,t9.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,t9.jsx)("path",{fill:"var(--color-icon)",d:"M9.06 2.762a.5.5 0 0 1 .938.281l-.02.1-3 10a.5.5 0 1 1-.957-.287l3-10zm-4.836 2.32a.501.501 0 0 1 .694.693l-.065.078-2.146 2.146 2.146 2.147a.5.5 0 0 1-.707.707l-2.5-2.5a.5.5 0 0 1 0-.707l2.5-2.5zm6.922.064a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .707l-2.5 2.5-.078.064a.5.5 0 0 1-.693-.693l.064-.078 2.147-2.147-2.147-2.146a.5.5 0 0 1 0-.707"})})});var ne=n(907727),nt=n(458608),nn=n(48908),na=n(952039),nr=n(912873),nl=n(318147),ni=n(55116),no=n(897713),ns=n(899383),nc=n(946074);let nd="overview--background--LdDDC",nu="overview--overviewBase--8lImP",nm="overview--withInsetEditorEnabled--ktYXp",np="overview--focusViewLink--PFEvh",nf="overview--overviewRecentActivityRow--uTKSo",ng="overview--overviewRecentActivity--JwGnv",nh="overview--editInfo--PHbLh",nE="overview--timestamp--EH-pe",n_="overview--avatarIcon--c711v",ny="overview--editedIcon--MhN1N";function nb({showDescription:e,previewUrl:t,onClick:n}){return a.createElement(tm._,{className:g()(ng,np),href:t,onClick:n},a.createElement("div",{className:nh},a.createElement(nn.Qp,{className:"overview--avatarLoading--jMjJk",animationType:nn.JR.NO_SHIMMER}),a.createElement(nn.Qp,{className:"overview--editInfoRecentActivityLoading--w-QoB overview--editInfoRecentActivity---jsVr",animationType:nn.JR.NO_SHIMMER})),e&&a.createElement(nn.Qp,{className:"overview--editDescriptionLoading--hrI6B",animationType:nn.JR.NO_SHIMMER}))}function nC({user:e,icon:t,editedString:n}){return a.createElement("div",{className:nh},a.createElement("div",{className:"overview--avatarContainer--OD44p"},a.createElement(nr.H8,{user:e,size:24}),t),a.createElement("div",{className:"overview--editInfoRecentActivity---jsVr"},a.createElement("span",{className:"overview--editInfoUser--P4GkS"},n)))}function nv(e,t,n){if(!e||n)return null;switch(e.status){case o.zIx.BUILD:return a.createElement(t7,{className:g()(t?ny:"overview--readyIcon--A94uc",n_)});case o.zIx.COMPLETED:return a.createElement(ne.l,{className:g()(t?ny:"overview--completedIcon--9Nbjl",n_)})}return null}function nw({nodeId:e,user:t,previewUrl:n,isFallbackForLegacyStatus:r,onClick:l}){let i=(0,tq.Fk)(t=>t.get(e)?.getStatusInfo(),e),o=(0,tI.ei)(e),s=(0,tM.Ak)(o?.lastEditedAt),c=(0,C.q5)(),d=(0,el._I)();if(!t)return a.createElement(nb,{previewUrl:n,onClick:l});let u=i&&c&&(0,nc.y)(i,c);return a.createElement("div",{className:nf},a.createElement(tm._,{className:g()(ng,np),href:n,onClick:l},a.createElement(nC,{user:t,icon:nv(i,!0,r),editedString:(0,m.tx)("dev_handoff.workflows.edit_info.edited",{user:t.handle,dateFromNow:a.createElement("span",{className:nE},s)})})),u&&d&&a.createElement(nS,{nodeId:e,isEdited:!0}))}function nT({nodeId:e,user:t,description:n,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i}){let s=(0,tq.Fk)(t=>t.get(e)?.getStatusInfo(),e),c=s?.lastUpdateUnixTimestamp?1e3*s.lastUpdateUnixTimestamp:null,d=(0,tM.Ak)(c),u=(0,C.q5)();if(!c)return a.createElement(nw,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i});if(!s||!t)return a.createElement(nb,{showDescription:!!n,previewUrl:r,onClick:i});let p=ns.TR(s.status,s.prevStatus)?.toLowerCase();if(!p)return a.createElement(nw,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i});let f=s.status===o.zIx.BUILD&&(s.status===s.prevStatus||!!s.description),h=u&&(0,nc.y)(s,u),E=f?(0,m.tx)("dev_handoff.workflows.edit_info.updated_design",{user:t.handle,dateFromNow:a.createElement("span",{className:nE},d)}):(0,m.tx)("dev_handoff.workflows.edit_info.marked",{user:t.handle,status:p,dateFromNow:a.createElement("span",{className:nE},d)});return a.createElement("div",{className:nf},a.createElement(tm._,{className:g()(ng,np),href:r,onClick:i},a.createElement(nC,{user:t,icon:nv(s,!1,l),editedString:E}),!!n&&a.createElement("div",{className:"overview--editDescription--rb1Qn"},n)),f&&h&&a.createElement(nS,{nodeId:e,isEdited:!1}))}function nS({nodeId:e,isEdited:t}){let n=(0,r.wA)(),l=C.q5()?.key,o=(0,tx.U)(),s=(0,eX.GS)(),c=async()=>{let a,r=null;if(l&&(o("Dev Mode Activity Compare Changes",{source:"compare_previous_overview"}),"loaded"===(r=await (0,nt.Ek)(ni.WND,{fileKey:l,nodeId:e})).file.status&&r.file.data)){let l=r.file.data.devModeActivity.filter(e=>e.activityType===nl.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime());if(a=t||1===l.length?l[0]:l[1],a?.version?.id){(0,no.L$)(a.version?.id,n,!0,e);return}}n(na.F.enqueue({message:(0,m.t)("dev_handoff.compare_changes.button.failed"),error:!0})),(0,ev.$D)(i.e.DEVELOPER_TOOLS,Error("Open compare changes button failed"),{extra:{fileKey:l,activityInfoStatus:r?.file.status,activityInfoStatusError:r?.file.status==="error"?r?.file.error:void 0,activitiesLength:r?.file.status==="loaded"&&r.file.data?.devModeActivity.length,prevActivityId:a?.id,prevActivityVersionId:a?.version?.id}})};return a.createElement(k.$n,{variant:s?"secondary":"link",onClick:c},(0,m.tx)("inspect_panel.history.compare_changes"))}var nk=n(644216),nI=n(277930),nN=n(945104);let nx=(0,tJ.Wh)(()=>(0,ef.eU)(""),{preserveValue:!1});var nA=n(841807);let nL="performance.dev_mode.workflows.overview.time_to_first_thumbnail",nO=new nA.jk(nL,{}),nR=(0,tJ.rt)(void 0),nM=(0,tJ.rt)(!1);var nD=n(615484),nP=n(674356),nF=n(236983),nB=n(759863);let nU=2*(0,eg.jz)(ej.Evg),nG=nU/ej.RtY,nK=nU/8,nV=nG/8;function nH(e){let t=a.useMemo(()=>e.tabs.reduce((e,t)=>(e[t.key]=!0,e),{[nD.oz.ALL]:!1,[nD.oz.RECENTLY_VIEWED]:!1,[nD.oz.BUILD]:!1,[nD.oz.COMPLETED]:!1}),[e.tabs]),[n,r,l]=F.t.useManagedTabs(t,e.selected,e.onTabSelected);return a.createElement(F.t.TabStrip,{manager:l},e.tabs.map(t=>{let r=t.key===e.selected;return a.createElement(F.t.Tab,{key:t.key,...n[t.key]},t.label,void 0!==t.count&&a.createElement(nk.s,{count:t.count,isInTab:!0,isActive:r}))}))}let nz=(0,tJ.Wh)(()=>(0,ef.eU)(!1),{preserveValue:!1});function nW(){let e=(0,C.q5)(),t=(0,r.wA)(),n=(0,e$.iZ)(),l=(0,eZ.Um)(),i=(0,r.d4)(e=>e.multiplayer),o=a.useMemo(()=>i.allUsers.find(e=>e.sessionID===i.sessionID)||null,[i.allUsers,i.sessionID]),s=(0,eQ.dR)(),c=(0,tO.B4)(),d=a.useCallback(e=>{(0,e2.Lx)(e,o?.sessionID,t,!1,i,s,c)},[o?.sessionID,t,i,s,c]);return a.createElement("div",{className:"overview--toolbarRightItems--tjF72"},i&&e&&o&&a.createElement(e2.v7,{dropdownShown:l,multiplayer:i,currentUser:o,onUserClick:d}),e&&a.createElement(e3.w,{user:n,editingFile:e,isFileInWorkshop:!1,appendedClassname:"overview--shareButton--5BlrF"}))}let nj=(0,ef.E2)("workflows_summary_tab",nD.oz.ALL,tk.z.nativeEnum(nD.oz)),nY=(0,tJ.Wh)(()=>(0,ef.eU)({}),{preserveValue:!0}),nJ=(0,ef.E2)("workflows_overview_sorted_by",nD._6.RECENT,tk.z.nativeEnum(nD._6));function nq(){let e=(0,r.d4)(e=>e.selectedView.overviewBackButtonTargetNodeId),t=(0,r.d4)(e=>e.mirror.appModel.pagesList[0]),n=function(){let e=(0,r.d4)(e=>e.mirror.appModel.pagesList),t=(0,eS.J2)(o.Ez5.currentSceneState().numReadyNodesByPage),n=(0,eS.J2)(o.Ez5.currentSceneState().numCompletedNodesByPage);return a.useMemo(()=>e.filter(e=>{let a=e.nodeId,r=t.has(a)?t.get(a)>0:o.glU.nodeStatusesOnPage(a).includes(o.zIx.BUILD),l=n.has(a)?n.get(a)>0:o.glU.nodeStatusesOnPage(a).includes(o.zIx.COMPLETED);return r||l}),[e,t,n])}()[0],l=e||n?.nodeId||t?.nodeId,i=(0,_.ZJ)(),s=(0,_.TP)(void 0,l),c=(0,r.d4)(e=>(0,tX.Np)(e,s)),d=(0,tQ.n0)(),u=(0,t$.VS)({pagesList:d,isComparingChanges:!1});return l?a.createElement(tL.lt,{className:"overview--backLink--vAo8c",onClick:function(e){e.preventDefault(),l?u(l).then(()=>{i("overview_back_clicked")}):i("overview_back_clicked")},href:c,"data-testid":"dev_handoff.workflows.overview.back_button",recordingKey:"dev_handoff.workflows.overview.back_button","aria-label":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip-type":e1.Ib.TEXT},a.createElement(tg.C,null)):null}function nX(){let e=(0,el._I)(),t=C.q5()?.key,n=(0,b.dP)();(0,es.T)()&&(0,s.k)().dt_vscode_ready_for_dev&&(n=0);let l=(0,eX.GS)(),i=(0,tx.U)(),c=function(){let[e,t]=(0,ef.fp)(nR);return a.useCallback(n=>{e||(t({source:n}),nO.start())},[e,t])}(),d=(0,v._6)(),u=(0,r.wA)();(0,tZ.z)();let f=(0,eS.J2)(o.Ez5.currentSceneState().nodesWithStatusForFile),h=(0,a.useRef)(null),[E,_]=(0,ef.fp)(tU.gk),[y,w]=(0,ef.fp)(nJ),T=a.useCallback(e=>{i("Dev Mode Overview Sort Changed",{sort:e}),w(e)},[w,i]),S=e?y:nD._6.PAGE,[k,I]=(0,ef.fp)(nj),N=(0,tV.n9)(t),{setSearchString:x,searchString:A,searchFilter:L,searchActive:O}=function(){let[e,t]=(0,ef.fp)(nx),n=(0,tx.U)(),r=(0,a.useMemo)(()=>(function(e){let t=e?new nN.Ax(e.toLowerCase()):null;return{filter:e=>{let n=t?t.matchAgainst(e):null;return!n||!!n.find(e=>e.score>0)}}})(e),[e]),l=(0,a.useCallback)(e=>r.filter([e.nodeName,e.pageName,e.description]),[r]),i=(0,nI.A)(()=>{n("Dev Mode Overview Search",{})},1e3);return{setSearchString:(0,a.useCallback)(e=>{t(e),i()},[t,i]),searchString:e,searchFilter:l,searchActive:e.length>0}}(),R=a.useMemo(()=>f.filter(e=>e.status===o.zIx.BUILD&&L(e)),[f,L]),M=a.useMemo(()=>f.filter(e=>e.status===o.zIx.COMPLETED&&L(e)),[f,L]),D=a.useMemo(()=>{switch(k){case nD.oz.ALL:return f.filter(L);case nD.oz.RECENTLY_VIEWED:if(!N)return[];return Object.entries(N).reduce((e,[t,n])=>{let a=f.find(e=>e.nodeId===t&&L(e));return a&&e.push({...a,lastViewedTimestamp:n}),e},[]);case nD.oz.BUILD:return R;case nD.oz.COMPLETED:return M}},[f,k,N,L,R,M]),P=a.useMemo(()=>[{key:nD.oz.ALL,label:(0,m.t)("dev_handoff.workflows.overview.tab_all")},...(0,s.k)().dt_workflows_recently_viewed?[{key:nD.oz.RECENTLY_VIEWED,label:(0,m.t)("dev_handoff.workflows.overview.tab_recent")}]:[],{key:nD.oz.BUILD,count:R.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_ready")},{key:nD.oz.COMPLETED,count:M.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_completed")}],[R.length,M.length]),F=a.useMemo(()=>{if(0===D.length)return[];if(k===nD.oz.RECENTLY_VIEWED)return[{key:"recent",sortedNodesWithStatusForFile:D.slice().sort(tV.YA)}];switch(S){case nD._6.PAGE:let e={};return D.slice().sort((e,t)=>e.visualOrder-t.visualOrder).forEach(t=>{e[t.pageId]||(e[t.pageId]={key:t.pageId,pageId:t.pageId,pageName:t.pageName,sortedNodesWithStatusForFile:[]}),e[t.pageId].sortedNodesWithStatusForFile.push(t)}),Object.values(e);case nD._6.RECENT:return[{key:"recent",sortedNodesWithStatusForFile:D.slice().sort((e,t)=>t.updatedAt-e.updatedAt)}];case nD._6.ALPHABETICAL:return[{key:"alphabetical",sortedNodesWithStatusForFile:D.slice().sort((e,t)=>e.nodeName.localeCompare(t.nodeName))}]}},[k,D,S]),[B,U]=(0,ef.fp)(nY);a.useEffect(()=>{U(e=>{let t={...e};return F.forEach(({pageId:e})=>{e&&void 0===t[e]&&(t[e]=!0)}),t})},[U,F]);let G=a.useCallback(e=>{U(t=>{let n={...t};return n[e]=!n[e],n})},[U]),{numSections:K,numFrames:V,numPages:H}=a.useMemo(()=>({numSections:f.filter(e=>e.isSection).length,numFrames:f.filter(e=>!e.isSection).length,numPages:new Set(f.map(e=>e.pageId)).size}),[f]),z=(0,td.US)();!function({nodesWithStatusForFile:e,enabled:t}){let[n,r]=(0,ef.fp)(nz),l=a.useRef(),i=(0,tW.eY)();a.useEffect(()=>{if(!t)return;let a=0,o=0,s=performance.now();if(void 0===l.current&&(l.current=new Set),e.forEach(e=>{if(!l.current.has(e.nodeId)){a++;let t=performance.now();i.get(e.nodeId)?.materializeDescendants();let n=performance.now()-t;n>o&&(o=n),l.current.add(e.nodeId)}}),!n){let e=performance.now()-s;(0,tN.trackEvent)("performance.dev_mode.workflows.overview.materialize_nodes",{nodeCount:a,worstNodeMs:o,elapsedMs:e},{forwardToDatadog:!0}),r(!0)}},[e,l,i,n,r,t])}({enabled:z,nodesWithStatusForFile:f});let[W,j]=a.useState(!1),Y=a.useCallback(()=>{j(!0),_(h.current?.scrollTop)},[_]),[J]=(0,ef.fp)(nD._o);(0,tA.h)(()=>{let t=J||"init";i("Dev Mode Overview Shown",{type:e?"full":"lite",source:t},{forwardToDatadog:!0}),c(t),tz.wr()});let q=[...new Set(D.map(e=>e.userId).filter(e=>e))],X=(0,tj.zy)(q);(0,nD.c7)(D,k,S),(0,nD.zz)(q,X,D);let Z=a.useCallback(e=>{i("Dev Mode Overview Tab Clicked",{tab:e}),I(e)},[I,i]);if(a.useEffect(()=>{"fullscreen"===d.view&&d.commentThreadId&&(0,tK._$)(u,d,"overview_open_notification")},[u,d]),!z||W)return a.createElement("div",{className:nd},a.createElement("div",{className:g()(nu,"overview--overviewSpinner--zv-dq",nm),style:{left:n}},a.createElement(p.k,{size:"lg"})));let Q="";K>0&&(Q+=(0,m.t)("dev_handoff.workflows.overview.sections_count",{count:K})),V>0&&(K>0&&(Q+=", "),Q+=(0,m.t)("dev_handoff.workflows.overview.frames_count",{count:V})),K+V>0&&(Q+=" "+(0,m.t)("dev_handoff.workflows.overview.pages_count",{count:H}));let $=0===F.length,ee={left:n};return(0,es.T)()&&(0,s.k)().dt_vscode_ready_for_dev&&(ee.margin="0px"),a.createElement("div",{className:nd},a.createElement("div",{className:g()(nu,nm),style:ee},(0,s.k)().dt_vscode_ready_for_dev&&(0,es.T)()?a.createElement(tB.f,{isOnReadyForDevPage:!0},e&&a.createElement(nQ,{value:A,onChange:x})):a.createElement("div",{className:"overview--overviewHeader--BBr9p"},a.createElement(nq,null),a.createElement("div",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("div",{className:"overview--overviewTitleIcon--NvF-4"},a.createElement(th.O,null)),a.createElement("h1",null,(0,m.tx)("dev_handoff.workflows.overview.title"))),a.createElement("div",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement("span",null,Q)),a.createElement(n6,null),a.createElement("div",{className:"overview--overviewHeaderSpacer--oRKTg"}),e&&a.createElement(nQ,{value:A,onChange:x}),l&&a.createElement(nW,null)),a.createElement("div",{className:"overview--bannerWrapper--D8N5z"},a.createElement(t8,null)),a.createElement("div",{className:"overview--scrollAndEmptyMessage--3hOyM"},$&&a.createElement("span",{className:"overview--emptyMessage--lyEC8"},O?(0,m.tx)("dev_handoff.workflows.overview.empty_message_search"):a.createElement("div",{className:ey.s.preWrap.$},(0,m.tx)("dev_handoff.workflows.overview.no_designs",{status:function(e){switch(e){case nD.oz.BUILD:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready");case nD.oz.COMPLETED:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_completed");default:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready")}}(k),link:a.createElement("span",{className:"overview--learnMoreLink--Yrujk"},a.createElement(tu.N,{href:"https://help.figma.com/hc/articles/23918228264855",trusted:!0,newTab:!0},(0,m.tx)("dev_handoff.workflows.overview.learn_more")))}))),a.createElement(tP.P,{className:"overview--overviewNodesScrollContainer--uc1ey",scrollContainerRef:h,initialScrollTop:E},a.createElement("div",{className:"overview--overviewNodesScrollContainerContents--fTO-e"},e&&a.createElement("div",{className:"overview--overviewTabsContainer--sjuS-"},a.createElement(nH,{tabs:P,selected:k,onTabSelected:Z}),k!==nD.oz.RECENTLY_VIEWED&&a.createElement(n4,{sortedBy:S,setSortedBy:T})),!$&&a.createElement("div",{className:"overview--overviewNodesContainer--P3anz"},a.createElement("div",{className:"overview--overviewSections--2H4Qw"},F.map(({key:e,pageId:t,pageName:n,sortedNodesWithStatusForFile:r})=>{let l=!t||B[e];return a.createElement(n$,{isExpanded:l,key:e,pageId:t,pageName:n,overviewNodes:r,users:X,onExpandCollapseClicked:t?()=>G(t):void 0,onPreviewClick:Y})}))))))))}function nZ({pageName:e,isExpanded:t,onExpandCollapseClicked:n}){return a.createElement(U.E,{className:"overview--pageHeader--dubsT",onClick:n,"aria-label":t?(0,m.t)("dev_handoff.workflows.overview.collapse_page",{pageName:e}):(0,m.t)("dev_handoff.workflows.overview.expand_page",{pageName:e})},a.createElement("div",{className:"overview--pageHeaderContent--Bq-Ol text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement(tF.B,{svg:t?nF.A:nB.A,className:"overview--caretIcon--gssmY"}),a.createElement(tE.A,{className:"overview--pageIcon--w9-M7"}),a.createElement("span",null,e)))}function nQ({value:e,onChange:t}){return a.createElement(tT.v,{mode:"dev-handoff"},a.createElement("div",{className:"overview--searchBar--NX8cb"},a.createElement(t_.h,null),a.createElement(tD.L,{placeholder:(0,m.t)("dev_handoff.workflows.overview.search_placeholder"),value:e,onChange:e=>{t(e.target.value)},className:"overview--searchInput--3X9vp text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&a.createElement("div",{className:"overview--searchInputClose--lNMFC"},a.createElement(T.K,{onClick:()=>t(""),"aria-label":(0,m.t)("dev_handoff.workflows.overview.clear_search"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.clear_search"),"data-tooltip-type":e1.Ib.TEXT}},a.createElement(ty.L,null)))))}function n$({pageName:e,overviewNodes:t,users:n,isExpanded:r,onExpandCollapseClicked:l,onPreviewClick:i}){return a.createElement(a.Fragment,null,e&&a.createElement(nZ,{pageName:e,isExpanded:r,onExpandCollapseClicked:l}),r&&a.createElement("div",{className:"overview--overviewNodesList--ipsOp"},t.map(r=>a.createElement(n2,{key:r.nodeId,overviewNode:r,onPreviewClick:i,renderPageName:!e,users:n,nodeCount:t.length}))))}function n0({overviewNode:e,onClick:t,renderPageName:n,showLastUpdated:l}){let{nodeId:i,isSection:s,updatedAt:c,pageName:d,nodeName:u,pageId:p}=e,f=(0,_.VW)(i,p),h=(0,r.d4)(e=>(0,tX.Np)(e,f)),E=(0,r.d4)(e=>(0,tX.xS)(e,f)),y=(0,eN.Cj)(E),b=(0,_.TQ)(),C=a.useRef(null),v=(0,eZ.BK)(`DEV_HANDOFF_OVERVIEW_OPTIONS_DROPDOWN_${i}`),w=function(e,t){let n=(0,tq.Fk)(t=>t.get(e)?.getStatusInfo(),e),a=n?.lastUpdateUnixTimestamp?1e3*n.lastUpdateUnixTimestamp:null,r=(0,tI.ei)(e),l=t?r?.lastEditedAt:a,i=(0,tM.Ak)(l);return l?i:null}(i,e.hasBeenEditedSinceLastStatusChange),S=a.useMemo(()=>e.hasBeenEditedSinceLastStatusChange?(0,m.tx)("dev_handoff.workflows.edit_info.changed"):e.status===o.zIx.COMPLETED?(0,m.tx)("dev_handoff.status.completed"):e.status===o.zIx.BUILD?e.description?(0,m.tx)("dev_handoff.workflows.edit_info.new version"):(0,m.tx)("dev_handoff.status.ready_for_dev"):(0,m.tx)("dev_handoff.workflows.edit_info.changed"),[e.description,e.hasBeenEditedSinceLastStatusChange,e.status]);return a.createElement("div",{className:"overview--overviewNodeCardHeader--C-KTf"},a.createElement(tm._,{className:g()("overview--overviewNodeCardHeaderLeft--jYCXL",np),onClick:t,href:h,recordingKey:"dev_handoff.workflows.overview.card"},a.createElement("div",{className:"overview--headerTextWrapper--BdOAz"},n&&d&&a.createElement("div",{className:"overview--pageNameAndChevron--5v8px"},a.createElement("span",{className:"overview--pageName--TURV8"},d),a.createElement("span",{className:"overview--breadCrumbSeparator--zcd8z"},"/")),a.createElement("div",{className:"overview--nodeNameAndIcon--Tl3e-"},a.createElement("div",null,s?a.createElement(tb.e,null):a.createElement(tC.q,null)),a.createElement("span",{className:"overview--nodeName--20NeF"},u))),l&&c>1&&a.createElement("div",{className:"overview--updatedAtText--z05FL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.overview_mode.design_status",{fromNow:w,status:S}))),a.createElement("div",{className:"overview--overviewNodeCardHeaderRight--wRNMN"},a.createElement(T.K,{"aria-label":(0,m.t)("dev_handoff.workflows.more_actions_tooltip"),ref:C,onClick:()=>v.toggle(),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.workflows.more_actions_tooltip"),"data-tooltip-type":e1.Ib.TEXT}},a.createElement(tv.J,null)),v.showing&&C.current&&a.createElement(t0.Cf,{targetRect:C.current.getBoundingClientRect(),minWidth:180,lean:"left"},a.createElement(tR.c$,{onClick:()=>b("Dev Mode Overview Card Go To Canvas Clicked",i,p)},(0,m.tx)("dev_handoff.workflows.overview.show_on_page_action")),a.createElement(tR.c$,{onClick:y},(0,m.tx)("dev_handoff.status.copy_focus_link"))),a.createElement(tG.v,{nodeId:i,isMinimal:!0,sourceForLogging:"overview"})))}function n1({overviewNode:e,onClick:t,user:n}){let{description:l,nodeId:i,hasBeenEditedSinceLastStatusChange:o}=e,s=(0,_.VW)(e.nodeId),c=(0,r.d4)(e=>(0,tX.Np)(e,s));return a.createElement(a.Fragment,null,a.createElement("div",{className:"overview--overviewAvatarRowMediaQueryHeader--nigbr"},a.createElement("div",{className:"overview--overviewRecentActivityHeader--sPkSZ"},o?a.createElement(nw,{nodeId:i,user:n,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}):a.createElement(nT,{nodeId:i,user:n,description:l,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}))))}function n2({overviewNode:e,onPreviewClick:t,renderPageName:n,users:l,nodeCount:i}){let o=(0,r.wA)(),s=(0,tx.U)(),{nodeId:c,pageId:d,updatedAt:u}=e,m=(0,_.VW)(c),p=(0,r.d4)(e=>(0,tX.Np)(e,m)),[f]=(0,ef.fp)(nJ),g=f===nD._6.RECENT&&u>1,[,h]=(0,ef.fp)(nD.wz),E=l.usersById?.[e.userId],y=g&&(l.loading||E);function b(e){e.preventDefault(),s("Dev Mode Overview Card Clicked",{nodeId:c}),h("overview"),t(),o(eq.$T(m))}return a.createElement("div",{className:"overview--overviewNodeCard--NsmYU"},y&&a.createElement(n1,{overviewNode:e,onClick:b,user:E}),a.createElement("div",{className:"overview--previewContainer--5NeGg"},a.createElement(n0,{overviewNode:e,onClick:b,renderPageName:n,showLastUpdated:!y}),a.createElement(n3,{nodeId:c,pageId:d,updatedAt:u,previewUrl:p,onClick:b,nodeCount:i})))}function n3({nodeId:e,pageId:t,updatedAt:n,previewUrl:r,onClick:l,nodeCount:i}){let s=(0,tq.Fk)((e,t,n)=>(0,tK.S7)(e,t,n)||"var(--color-bg)",e,t),c=(0,tq.Fk)(t=>t.get(e)?.size),d=1+(5-5*Math.pow(Math.min(1,Math.max(0,Math.max(c?1-(nK-c.x)/nK:1,c?1-(nV-c.y)/nV:1))),.5)),u=c?{width:c.x*d,height:c.y*d}:{width:nU,height:nG},p=Math.min(1,Math.min(nU/u.width,nG/u.height)),f={width:Math.round(u.width*p),height:Math.round(u.height*p)},h=a.useRef(null),E=(0,tY.x)(h,"100%"),_=(0,tH.yh)({nodeId:e,width:f.width,height:f.height,shouldSkip:!E,version:n,reason:"workflows.overview.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:o.w3z.canBeBlendedSection(e)}),y=function(){let[e,t]=(0,ef.fp)(nM),[n]=(0,ef.fp)(nR),r=(0,tx.U)();return a.useCallback(a=>{if(!e&&n){t(!0);let e=nO.stop();r(nL,{nodeCount:a,source:n.source,elapsedMs:e},{forwardToDatadog:!0})}},[e,t,n,r])}();return a.useEffect(()=>{_&&y(i)},[_,y,i]),a.createElement(tm._,{ref:h,className:g()("overview--previewThumbnail--zofC5",np),style:{background:s},onClick:l,href:r},_&&a.createElement("img",{src:_.src,style:{maxWidth:_.displaySize.x,maxHeight:_.displaySize.y},alt:(0,m.t)("dev_handoff.nodes_panel.thumbnail_alt_text")}),a.createElement(tS.J,{mode:"dark"},a.createElement("div",{className:"overview--previewExpandIcon--nqhxn","data-tooltip":(0,m.t)("dev_handoff.workflows.overview.card_hover_expand_tooltip"),"data-tooltip-type":"text"},a.createElement(tw.O,null))))}let n5=new class{format(e){switch(e){case nD._6.PAGE:return(0,m.t)("dev_handoff.workflows.overview.sort_pages");case nD._6.RECENT:return(0,m.t)("dev_handoff.workflows.overview.sort_recent");case nD._6.ALPHABETICAL:return(0,m.t)("dev_handoff.workflows.overview.sort_alphabetical")}}};function n4({sortedBy:e,setSortedBy:t}){return a.createElement(tp.bL,{value:e,onChange:t},a.createElement(tp.l9,{label:a.createElement(tf.h,null,(0,m.t)("dev_handoff.workflows.overview.sort_by"))}),a.createElement(tp.mc,null,a.createElement(tp.WL,null,(0,m.t)("dev_handoff.workflows.overview.sort_by")),Object.values(nD._6).map(e=>a.createElement(tp.c$,{key:e,value:e},n5.format(e)))))}function n6(){return a.createElement(tT.v,{mode:"dev-handoff"},a.createElement(tm._,{href:"https://form.asana.com/?k=dyYqSpHdZqetESFQzNb8hQ&d=10497086658021",className:"overview--betaFeedbackBadge--PUv9s text--fontPos11--2LvXf text--_fontBase--QdLsd",newTab:!0},(0,m.tx)("dev_handoff.workflows.overview.feedback"),a.createElement(tF.B,{className:"overview--badgeIcon--rKOUQ",svg:nP.A})))}var n8=n(557214),n9=n(205958),n7=n(353231),ae=n(67308),at=n(303397),an=n(650395),aa=n(41949),ar=n(911947),al=n(353806),ai=n(7148),ao=n(348800),as=n(856731),ac=n(200300),ad=n(181630),au=n(960306),am=n(194165),ap=n(289508),af=n(461352),ag=n(647900),ah=n(155132),aE=n(361765),a_=n(169930),ay=n(588123),ab=n(326149),aC=n(768618),av=n(540698),aw=n(454805),aT=n(401970),aS=n(787455),ak=n(899386),aI=n(15105),aN=n(601167),ax=n(954111),aA=n(313405),aL=n(442022),aO=n(175393),aR=n(327139),aM=n(964886),aD=n(874933);let aP="hit-target-resize";function aF(e){let t=ak.hY[e.devicePresetIdentifier].inlinePreviewInfo?.hitTargetSvgUrl,[n,r]=a.useState(null);(0,a.useEffect)(()=>{fetch(t).then(e=>e.text()).then(e=>r(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[t]);let l=a.useMemo(()=>n?(0,tF.V)(n):null,[n]);return null!==l?a.createElement(aB,{...e,hitTargetSvg:l}):a.createElement(aM.K,{...e})}function aB({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:n,isResizing:r,setIsResizing:l,onResizeEnd:i,setResizeDirections:o,devicePresetIdentifier:s,isDeviceRotatedCCW:c,hitTargetSvg:d,hidden:u,recordingKey:m}){let p=a.useCallback(()=>{let e=t(),n=(16/((c?e.bottom-e.top:e.right-e.left)/ak.hY[s].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${aP}]`).forEach(e=>e.setAttribute("stroke-width",`${n}`))},[s,c,t]);(0,a.useEffect)(()=>{p()},[p]);let f=a.useCallback(()=>{p(),i?.()},[i,p]),{startResizing:h}=(0,aM.Q)({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:l,setResizeDirections:o,onResizeEnd:f,lockAspectRatio:n,hidden:u,recordingKey:m}),E=a.useRef(null),_=a.useRef(null),y=a.useMemo(()=>(0,ak.qt)(s)===ak.bq.WATCH,[s]),b=a.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;return y?aG({x:n,y:a},t):aU({x:n,y:a},t)},[y]),C=eh.rf(m,"mousedown",a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),h(b(e),{x:e.clientX,y:e.clientY})},[b,h]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),v=eh.rf(eh.Pt(m,"deviceFrameResizeTarget"),"mousemove",a.useCallback(e=>{if(r)return eh.aH;e.stopPropagation(),e.preventDefault();let t=b(e),n=e.currentTarget;_.current&&n.classList.remove(_.current);let a=(0,aR.as)(t);a&&n.classList.add(a),_.current=a},[b,r]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),w=a.useCallback(e=>{e.onmousemove=v,e.onmousedown=C},[C,v]);return((0,a.useEffect)(()=>{document.querySelectorAll(`[id^=${aP}]`).forEach(e=>w(e))},[s,w]),u)?null:c?(()=>{let e=ak.hY[s].imageSize,t=e.x/e.y;return a.createElement("div",null,a.createElement(tF.B,{svg:d,svgClassName:g()(aD.Q0,aD._d,aD.iZ),svgWidth:`${100*t}%`,ref:E,useOriginalSrcFills_DEPRECATED:!0}))})():a.createElement("div",null,a.createElement(tF.B,{svg:d,svgClassName:aD.iZ,ref:E,useOriginalSrcFills_DEPRECATED:!0}))}let aU=(e,t)=>{let{x:n,y:a}=e,r=.1*Math.min(t.width,t.height),l=[];return a<r?l.push(aR.OP.TOP):a>t.height-r&&l.push(aR.OP.BOTTOM),n<r?l.push(aR.OP.LEFT):n>t.width-r&&l.push(aR.OP.RIGHT),l},aG=(e,t)=>{let{x:n,y:a}=e,r=.1*t.width;if(a<r)return[aR.OP.TOP];if(a>t.height-r)return[aR.OP.BOTTOM];if(n<r)return[aR.OP.LEFT];if(n>t.width-r)return[aR.OP.RIGHT];let l=[];return a<t.height/2?l.push(aR.OP.TOP):l.push(aR.OP.BOTTOM),n<t.width/2?l.push(aR.OP.LEFT):l.push(aR.OP.RIGHT),l};var aK=n(756672),aV=n(93067),aH=n(385645),az=n(434124),aW=n(784500),aj=n(855699),aY=n(205658),aJ=n(542365),aq=n(63815);let aX={x:600,y:600},aZ="inlinePreviewModal",aQ=()=>{let e=(0,aN.MG)({subscribeToUpdates_expensive:!0}),t=(0,aN.TZ)({subscribeToUpdates_expensive:!0});return(0,a.useMemo)(()=>new aw.Mi(e+ap.wR,t+ap.wR),[e,t])},a$=a.memo(function({pageId:e,viewerControl:t}){let[{previewKeyForErrorBoundary:n},r]=(0,ef.fp)(t.stateAtom);return a.createElement(u.tH,{key:n,boundaryKey:"InlinePreviewModal",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,tN.trackEvent)("inline_preview_crashed",{},{forwardToDatadog:!0}),r({type:"HANDLE_PREVIEW_CRASHED"}),(0,av.Lg)()||(0,av.nl)()||(0,x.b5)())throw Error("Inline preview crashed")}},a.createElement(a0,{pageId:e,viewerControl:t}))}),a0=a.memo(function({pageId:e,viewerControl:t}){let n=a.useRef(null),l=(0,eX.GS)(),i=(0,C.tS)(),s=(0,a.useRef)(!1),[{currentPresentedNode:c,navigateBackwardEnabled:u,navigateForwardEnabled:m,modalStatus:p,sizeInfo:f,showDeviceFrameEnabled:h,scalingInfo:E},_]=(0,ef.fp)(t.stateAtom),y=(0,r.wA)(),b=(0,tW.eY)(),v=(0,a.useMemo)(()=>p===az.b.OPEN,[p]),w=f?.initialViewerSize??aX,T=(0,d.ZC)(w),S=aQ(),[k,I]=a.useState(S),[N,x]=a.useState(w.x),[A,L]=a.useState(w.y+aR.uF),O=aC.UN().getCurrentPage()?.prototypeDevice||null,R=O?.presetIdentifier,M=!!R&&(0,ak.L_)(R),D=v&&M&&h,{showing:P}=(0,eZ.BK)(t.overflowDropdownType),F=(0,aI.Z)(),B=(0,eS.J2)(o.Ez5.singleSlideView().isInFocusedNodeView),[U,G]=a.useState(!1),K=a.useCallback(()=>{G(!0),at.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[G]),V=(0,aK.sO)(),H=U||P?aj.cD:aj.Xt,z=a.useCallback(e=>{y((0,aA.Zh)({name:"prototype.close_inline_viewer",params:{source:e}})),_({type:"CLOSE_INLINE_PREVIEW"})},[y,_]),W=a.useCallback(()=>((0,eC.vA)(!!A),(0,eC.vA)(!!N),{x:N,y:A-aR.uF}),[A,N]),j=a.useCallback(e=>{x(e.x),L(e.y+aR.uF)},[x,L]),Y=a.useCallback(()=>{let e=W();if(!D)return e;(0,eC.B1)(R,"devicePresetIdentifier must be set");let t=O.rotation,{framePresetSize:n,idealDeviceSize:a}=(0,aV.is)(R,t);return(0,aV.BX)(e,n,a)},[R,W,D,O?.rotation]);a.useEffect(()=>{s.current||I(S)},[S]),a.useEffect(()=>{_({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:Y})},[_,Y]);let J=a.useMemo(()=>f?.breakpoint?.type!==ap.l5.DEVICE,[f]),q=a.useCallback(e=>{if(!J)return;let t=Y();(0,eC.vA)(!!c,"currentPresentedNode must be set");let n=b.get(c);(0,eC.vA)(!!n,"expected selectedNode to exist");let a=(0,ap.HS)(b,n),r=(0,ap.hX)(t,n,a,b);(0,eC.vA)(r.breakpoint.type!==ap.l5.DEVICE,"fit to aspect ratio not allowed for device"),j(r.initialViewerSize),y((0,aA.Zh)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[J,Y,c,b,j,y]),X=()=>{if(!c)return!1;let e=!1;if(D){let{idealDeviceSize:t}=(0,aV.is)(R,O.rotation);e=t.x>=ap.Fe&&t.y>=ap.Sq}else{let t=b.get(c);if(!t)return!1;let n=(0,ap.HS)(b,t),a=(0,ap.nw)(n,t);e=a.x>=ap.Fe&&a.y>=ap.Sq}return e},Z=a.useCallback(e=>{_({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[_]),Q=a.useCallback(()=>{_({type:"RESIZE_MODAL",payload:{sceneGraph:b}})},[_,b]),$=a.useCallback(e=>{if(e){let t=(0,aN.QZ)({nodeId:e,alwaysPan:!0,maxScale:.6});V?p===az.b.OPEN&&(F(t),B&&o.Ez5.singleSlideView().focusNodeInFocusedNodeView(e,!0)):F(t)}},[F,V,B,p]);a.useEffect(()=>{_({type:"SET_SCROLL_CALLBACK",payload:$})},[_,$]);let ee=a.useCallback(e=>{j({x:e.x,y:e.y+(0,eg.jz)(ej.m8f)})},[j]),et=a.useMemo(()=>{if(D&&ak.hY[R].inlinePreviewInfo?.hitTargetSvgUrl)return function(e){let t=O.rotation===o.xOL.CCW_90;return a.createElement(aF,{...e,mirrorResizeHorizontally:!1,devicePresetIdentifier:R,isDeviceRotatedCCW:t})}},[D,R,O?.rotation]),en=a.useCallback(e=>{(0,eC.vA)(f?.breakpoint.type===ap.l5.DEVICE,"device must be set to toggle device frame"),(0,eC.vA)(!!O,"prototypeDevice must be set to toggle device frame");let t=Y();if(e){let e=O.presetIdentifier,{idealDeviceSize:n,framePresetSize:a}=(0,aV.is)(e,O.rotation);ee((0,aV.Ho)(t,a,n))}else j(t)},[f?.breakpoint.type,O,Y,j,ee]);(0,eC.vA)(!v||null!==f,"sizeInfo should always be set when open"),a.useLayoutEffect(()=>{if(T!==w){if(D){let{idealDeviceSize:e,framePresetSize:t}=(0,aV.is)(R,O.rotation);ee((0,aV.Ho)(w,t,e))}else j(w)}},[w,T,R,D,O,ee,j]),a.useEffect(()=>{R&&(0,ak.L_)(R)&&(0,ak.Gn)(R)},[R]);let ea=a.useCallback(()=>{let e=W(),{width:t,height:n}=at.Y5.getViewportInfo(),a=e.x/t,r=e.y/n;y((0,aA.Zh)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:D,horizontalCoverage:a,verticalCoverage:r}}))},[y,W,D]),er=(0,a.useMemo)(()=>{let e={height:"100%"};return l&&!D?{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}:e},[D,l]);if(p===az.b.NOT_LOADED)return null;let el=g()(V?aj.CN:aj.aq,D?null:H),ei=g()(D?[H,aD.k9]:null,{[aj.FO]:V}),{x:eo,y:es}=(0,ap.ut)((0,aC.UN)(),!0),ec=!v||!f?.initialViewerSize;return a.createElement(aO.BL,{ResizeTargetComponent:et,allowPartialHeaderOnScreen:!0,allowResizeHeight:U&&!V,allowResizeWidth:U&&!V,alwaysEnsureHeaderModalOnScreen:!0,containerClassName:el,containerFillsPage:V,customButton:a.createElement(a1,{allowActualSizeReset:X(),allowSizeReset:J,closeInlinePreview:z,iframeRef:n,isDeviceSupportedForPreview:M,isPreviewFittedToAspectRatio:()=>{if(!c||!J)return!1;let e=b.get(c);if(!e)return!1;let t=Y(),n=(0,ap.HS)(b,e),a=(0,ap.hX)(t,e,n,b),r=t.x/t.y,l=a.initialViewerSize.x/a.initialViewerSize.y;return(0,ax.o)(r,l)},isPreviewResponsive:"responsive"===E.contentScalingMode,isPreviewShownAtActualSize:()=>{if(!c||!n.current)return!1;let e=b.get(c);if(!e||!f?.breakpoint)return!1;let t=D?(0,aV.is)(R,O.rotation).framePresetSize:(0,ap.nw)(f.breakpoint,e),a=Y();return(0,ax.o)(t.x,a.x,1e-4)&&(0,ax.o)(t.y,a.y,1e-4)},isPrototypeDeviceSet:!!O&&O.type!==o.XQq.NONE,onToggleShowDeviceFrame:en,openFileKey:i||void 0,resizeToActualSize:()=>{if(!X())return;(0,eC.vA)(!!c),(0,eC.vA)(!!f);let e=b.get(c);(0,eC.vA)(!!e),y((0,aA.Zh)({name:"prototype.resize_to_actual_size"}));let t=D?(0,aV.is)(R,O.rotation).idealDeviceSize:(0,ap.nw)(f.breakpoint,e),n=(e,t)=>{j(e),I(new aw.Mi(t.x,t.y))},a=W();(0,ap.UB)(t,y,()=>n(a,k)),j(t)},resizeToFitAspectRatio:()=>q("overflow_menu"),scrollToNode:$,setPreviewIsResponsive:Z,showFullscreenButton:V,showOverflow:!V,viewerControl:t,width:N}),disableDragging:V,dragHeaderOnly:!0,frameStyle:er,headerClassName:ei,height:A,hidden:ec,ignoreCloseShortcut:!v,lockAspectRatio:f?.breakpoint?.type===ap.l5.DEVICE,makeContentPixelPerfect:!0,minHeight:es,minWidth:eo,onClose:()=>{z("modal")},onDragStart:()=>s.current=!0,onEdgeDoubleClick:()=>q("double_click"),onFocus:()=>{t.onFocus()||K()},onResize:Q,onResizeEnd:ea,position:k,preventKeyboardFocus:!0,recordingKey:aZ,setHeight:L,setPosition:I,setWidth:x,tabIndex:0,title:a.createElement(a2,{navigateBackwardEnabled:u,navigateForwardEnabled:m,width:N,onBack:t.onBack,onForward:t.onForward,onRestart:t.onRestart}),transparentContentBackground:D,width:N},(()=>{let r=t.ViewerComponent;return a.createElement(aH.H,{initialViewerSize:w,isDeviceFrameShown:D},a.createElement(r,{ref:n,key:e,pageId:e,openFileKey:i||void 0,closeInlinePreview:z,isOpen:v,iframeFocused:U,setIframeFocused:G,onIframeFocus:K}))})())});function a1({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:n,isDeviceSupportedForPreview:l,openFileKey:i,resizeToFitAspectRatio:s,scrollToNode:c,showOverflow:d,showFullscreenButton:u,iframeRef:p,resizeToActualSize:f,isPreviewShownAtActualSize:g,setPreviewIsResponsive:h,isPreviewResponsive:E,closeInlinePreview:_,onToggleShowDeviceFrame:y,width:b,isPreviewFittedToAspectRatio:C,viewerControl:v}){let w=(0,r.wA)(),S=a.useRef(null),[{currentPresentedNode:k,targetFrameFollowingEnabled:I,showDeviceFrameEnabled:N},x]=(0,ef.fp)(v.stateAtom),{showing:A,toggle:L}=(0,eZ.BK)(v.overflowDropdownType),O=a.useCallback(()=>{if(!i)throw Error("Expected openFileKey to exist");if(!k)throw Error("openPrototypeInNewTab called without currentPresentedNode");w(aS.F({fileKey:i,nodeId:k,startingPointNodeId:o.X3B.getActivePrototypeStartingPointNodeIdOnCurrentPage(),source:"inline_viewer",scalingInfo:E?n?{contentScalingMode:"responsive",viewportScalingMode:"scale-down"}:{contentScalingMode:"responsive",viewportScalingMode:"contain"}:void 0})),_("open_in_new_tab")},[i,k,w,E,n,_]),R=a.useCallback(()=>{let e=!I;w((0,aA.Zh)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),x({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),c(k)},[w,x,I,c,k]),M=a.useCallback(()=>{let e=!N;w((0,aA.Zh)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),x({type:"TOGGLE_SHOW_DEVICE_FRAME"}),y(e)},[w,N,y,x]),D=a.useCallback(()=>{let r={displayText:(0,m.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{h(!0)},isChecked:E,icon:a.createElement(aT.U,{svg:aq.A,className:aW.Fp},a.createElement(af.V,null)),unsetStrokeOnActiveOption:!0},i={displayText:l?(0,m.t)("inline_preview.overflow_menu.fixed"):(0,m.t)("inline_preview.overflow_menu.fit_width"),name:l?"fixed":"fit-width",isChecked:!E,recordingKey:"fixedButton",icon:l?a.createElement(aT.U,{svg:aY.A,className:aW.Fp},a.createElement(ag.O,null)):a.createElement(aT.U,{svg:aJ.A,className:aW.Fp},a.createElement(ah.v,null)),callback:()=>{h(!1)},unsetStrokeOnActiveOption:!0},o={displayText:(0,m.t)("inline_preview.overflow_menu.follow_prototype"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:R,isChecked:I},c={displayText:l?(0,m.t)("inline_preview.overflow_menu.resize_device_100_percent"):(0,m.t)("inline_preview.overflow_menu.resize_window_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:f,disabled:!t,isChecked:g(),"data-onboarding-key":"resize-to-actual-size"},d={displayText:(0,m.t)("inline_preview.overflow_menu.reset_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:s,isChecked:C(),disabled:!e,hidden:n},u={displayText:(0,m.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:M,isChecked:N&&l,disabled:!l,hidden:!n};return[l?r:i,l?i:r,{separator:!0,displayText:""},o,c,d,u,{displayText:(0,m.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:O,hidden:b>ap.kl}]},[E,l,R,I,f,t,g,s,C,e,n,M,N,O,b,h]),P=a.useCallback(()=>{p.current&&p.current.requestFullscreen()},[p]);return a.createElement(a.Fragment,null,d&&a.createElement("div",{ref:S},a.createElement(T.K,{"aria-label":(0,m.t)("inline_preview.overflow_menu"),htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.overflow_menu")},actionOnPointerDown:!0,onClick:e=>{e.stopPropagation(),L({})},recordingKey:(0,eh.Pt)(aZ,"overflowMenuButton")},a.createElement(aE.A,null))),b>ap.kl&&a.createElement(T.K,{htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.new_tab"),"data-testid":"preview-open-in-presentation-view"},"aria-label":(0,m.t)("inline_preview.new_tab"),onClick:O,recordingKey:(0,eh.Pt)(aZ,"openInNewTabButton")},a.createElement(a_.V,null)),u&&a.createElement(T.K,{onClick:P,htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.open_fullscreen")},"aria-label":(0,m.t)("inline_preview.open_fullscreen")},a.createElement(tw.O,null)),A&&S.current&&a.createElement(aL.j,{dispatch:w,items:D(),lean:"center",onDismissMenu:v.onDismissOverflow,onDropdownHidden:v.onDismissOverflow,onFocus:e=>{e.stopPropagation()},onSelectItem:e=>{e.callback&&e.callback()},parentRect:S.current.getBoundingClientRect(),recordingKey:(0,eh.Pt)(aZ,"overflowMenu"),showPoint:!0}))}function a2({navigateForwardEnabled:e,navigateBackwardEnabled:t,onRestart:n,width:l,onBack:i,onForward:o}){let s=(0,r.wA)();return a.createElement("div",{className:aj.KW},l<=ap.Ah?null:a.createElement(a.Fragment,null,a.createElement(T.K,{htmlAttributes:{"data-testid":"preview-navigate-backward"},"aria-label":(0,m.t)("viewer.footer.previous_frame"),onClick:i,disabled:!t,recordingKey:(0,eh.Pt)(aZ,"navigateBackwardButton")},a.createElement(tg.C,null)),a.createElement(T.K,{"aria-label":(0,m.t)("viewer.footer.next_frame"),onClick:o,disabled:!e,recordingKey:(0,eh.Pt)(aZ,"navigateForwardButton"),htmlAttributes:{"data-testid":"preview-navigate-forward"}},a.createElement(ay.e,null))),l<=ap.kl?null:a.createElement(T.K,{"aria-label":(0,m.t)("inline_preview.restart"),htmlAttributes:{"data-tooltip-type":e1.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.restart"),"data-testid":"preview-restart-prototype"},onClick:()=>{s((0,aA.Zh)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),n()},recordingKey:(0,eh.Pt)(aZ,"restartButton")},a.createElement(ab.H,null)))}var a3=n(618061),a5=n(810503),a4=n(164427),a6=n(633468),a8=n(903660),a9=n(452086),a7=n(317285),re=n(482999);let rt=a.forwardRef(function({pageId:e,openFileKey:t,closeInlinePreview:n,isOpen:r,iframeFocused:l,setIframeFocused:i,onIframeFocus:s},c){let d=(0,ef.Xr)(az.h),[u,m]=a.useState(!1),p=(0,ef.md)(a8.yw),{isResizing:f,isDragging:h}=a.useContext(a7.O),E=a.useMemo(()=>f||h||!l,[f,h,l]),_=a.useMemo(()=>f||h,[f,h]);a.useEffect(()=>{a3.A.setDisableCloseWithShortcut(_)},[_]),a.useEffect(()=>{c.current&&(r?c.current.focus():(0,a9.$z)())},[c,r]),a.useEffect(()=>{let e=c.current;if(!e||u)return;let t=e=>{let t=e.shiftKey&&"Space"===e.code,a="Escape"===e.code;(t||a)&&!_&&n("keyboard")};try{return e.contentWindow?.addEventListener("keydown",t),()=>{e&&e.contentWindow?.removeEventListener("keydown",t)}}catch(e){(0,a5.xi)("inline_preview_iframe_component","Failed to add keydown event listener",{message:e.message})}},[c,u,_,n]);let y=t?function(e,t){let n=encodeURIComponent((0,a6.Kw)({base:"proto",file:{key:e},nodeId:t}));return`${location.origin}/embed?embed_host=inline-viewer&url=${n}&hide-ui=1&inline-viewer=1`}(t,e):"";if(a.useEffect(()=>{if(!c.current)return;let e=a3.A.initialize(c.current,{closeInlinePreview:n,dispatch:d,onLoad:()=>{m(!0)}});return()=>{d({type:"RESET_INLINE_PREVIEW"}),e(),m(!1)}},[n,d,e,c]),a.useEffect(()=>{},[y,e,p]),a.useEffect(()=>{let e=c.current;if(!e)return;let t=()=>{i(!1),at.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!1})};return e.contentWindow?.addEventListener("focus",s),e.contentWindow?.addEventListener("blur",t),()=>{e&&(e.contentWindow?.removeEventListener("focus",s),e.contentWindow?.removeEventListener("blur",t))}},[c,i,s]),a.useEffect(()=>()=>(0,a8.Bm)("inline_prototype_viewer"),[]),!t)return null;let b="/test/interactions/proto?secondary=1&inline-viewer=1";return a4.zn&&(b+="&rolloutFlags=1"),a4.Ns&&(b+=`&additional-ffs=${a4.Ns}`),a.createElement("div",{className:aj.Wc},a.createElement("iframe",{ref:c,title:"Inline Preview",src:(0,av.PN)()?b:y,className:g()(aj.VR,E?aj.dS:null)}),!u&&a.createElement(re.z2,{shouldNotOverflow:!0,isViewer:!0,editorType:nl._Y.DESIGN,progressBarMode:o.Oin.HIDE_UI}))}),rn={overflowDropdownType:"INLINE_PREVIEW_OVERFLOW_DROPDOWN",stateAtom:az.h,ViewerComponent:rt,onBack:()=>{a3.A.navigateBackward()},onForward:()=>{a3.A.navigateForward()},onRestart:()=>{a3.A.restartPrototype()},onFocus:()=>!!a3.A.isIframeInitialized()&&(a3.A.focus(),!0),onDismissOverflow:()=>{a3.A.focus()}};function ra(){let e=(0,r.d4)(e=>e.selectedView),t=(0,C.tS)(),n=(0,r.d4)(e=>e.progressBarState.mode),i=(0,r.d4)(e=>(0,n7.pi)({editorType:ae.d1(e)?.editor_type})),u=n!==o.Oin.HIDE_UI&&n!==o.Oin.ON_AND_LOCKED,p=(0,C.q5)(),f=(0,aK.jY)(),g=(0,ai.BI)(),h=(0,eS.ut)(o.Ez5?.interopToolMode(),o.nQ7.SELF);(0,a.useEffect)(()=>(document.body.dataset.editorTheme=(0,ad.ju)(e,h),()=>{delete document.body.dataset.editorTheme}),[e,h]),(0,eX.Ou)(),(0,eX.fq)(),(0,n8._)(),(0,n9.c)(),(0,a.useEffect)(()=>{u&&t&&f&&at.Y5.onReady().then(()=>{s.k()?.fullscreen_send_client_rendered_message?o.h3O.sendClientRendered(ar.xK.getClientRenderedMetadata()):o.h3O.sendSignal("client-rendered",""),window.requestAnimationFrame(()=>{c.eD?.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),ar.xK.reactFullscreenViewIsRendered(),ar.xK.report(t,i),s.k()?.fullscreen_use_threaded_rendering||function(){let e=(0,aa.dX)("fullscreen");if(!e||o.PcT?.usingWebGPU())return;let t=(0,an.ap)()?e.getContext("webgl2"):e.getContext("webgl");if(!t||!window.expectedWebGLContextAttributes)return;let n=t.getContextAttributes();if(!n)return;let a=o.CeL?.getGpuDeviceInfo()??{vendor:"",renderer:"",version:""},r={};for(let e of Object.keys(n))r[`actual_${e}`]=n[e];let l={},i=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))n[e]!==window.expectedWebGLContextAttributes[e]&&(i=!1),l[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let s={...r,...l,...a,are_context_attributes_correct:i};(0,tN.trackEvent)("fullscreen_load_gpu_parameters",s)}()})})},[u,t,i,f]);let E=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);(0,a.useEffect)(()=>{g?.handleCompleteInitialLoad&&E&&g.handleCompleteInitialLoad()},[g,E]);let[_,y]=(0,a.useState)(!1),b=(0,r.d4)(e=>e.mirror.appModel.isReadOnly);(0,a.useEffect)(()=>{g?.updateReadOnly&&E&&!_&&(y(!0),g.updateReadOnly(b))},[g,E,_,y,b]);let v=(0,d.ZC)(p),w=(0,r.d4)(e=>e.mirror.appModel.pagesList),T=(0,a.useMemo)(()=>w.map(e=>({id:e.nodeId,name:e.name,divider:e.isDivider})),[w]),S=(0,d.ZC)(T),k=(0,r.d4)(e=>e.mirror.appModel.currentPage),I=(0,d.ZC)(k);(0,a.useEffect)(()=>{g?.updatePages&&p&&(!v||p.key!==v.key||p.name!==v.name||p.editorType!==v.editorType||p.isTryFile!==v.isTryFile||!(0,l.c2)(T,S)||k!==I)&&g.updatePages({fileKey:p.key,fileName:p.name,editorType:p.editorType,isTryFile:p.isTryFile,pages:T.length>0?T:[{id:k,name:(0,m.t)("fullscreen.pages_panel.pages_placeholder"),divider:!1}],currentPageId:k})},[g,p,v,T,S,k,I]);let N=(0,ao.WC)();(0,a.useEffect)(()=>{g?.updateWebOverlaysShown&&g.updateWebOverlaysShown(N)},[g,N]);let x=(0,ac.o3)(ac.nt.customKeyboardShortcuts);(0,a.useEffect)(()=>{(0,s.k)().ce_custom_keyboard_shortcuts&&o.glU.reloadKeyboardShortcuts()},[x]);let A=(0,r.d4)(e=>e.multiplayer.allUsers),L=(0,r.d4)(e=>e.multiplayer.observingSessionID),O=(0,r.d4)(e=>e.multiplayer.presenterSessionID),R=(0,r.d4)(e=>e.multiplayer.deviceNameFilter),M=(0,r.d4)(e=>e.multiplayer.sessionID),D=(0,a.useMemo)(()=>{let{users:e}=(0,as.Yp)(A,null,!1,1048576,{sessionID:M,observingSessionID:L,presenterSessionID:O,deviceNameFilter:R});return{sessionID:M,observingSessionID:-1!==L?L:null,presenterSessionID:-1!==O&&O||null,users:e}},[A,R,L,O,M]),P=(0,d.ZC)(D);return(0,a.useEffect)(()=>{g?.updateMultiplayerUserInfo&&!(0,l.c2)(P,D)&&g.updateMultiplayerUserInfo(D)},[g,D,P]),(0,au.iA)(),!function(){let e=(0,el.U4)(),t=(0,el._I)(),n=(0,el.xo)(),r=(0,ei.D)(),l=(0,ec.ks)(),i=(0,eo.ow)(),s=(0,ed.U)("permission",!0),c=l&&!t&&!e&&!(0,es.T)();(0,a.useEffect)(()=>{i||(o.w3z.setCanAccessDevMode(t),o.w3z.setCanEnterDevMode(e),o.w3z.setShowWorkflowsControls(r),o.w3z.setIsUsingDevModeDemoFile(n))},[t,e,r,i,n]),(0,a.useEffect)(()=>{c&&s("design")},[s,c])}(),(0,am.J2)(),null}function rr({children:e}){let t=(0,r.d4)(ap.xY),n=(0,r.d4)(e=>e.mirror.appModel.currentPage),l=(0,td.l7)(),o=(0,eu.e)(),s=(0,td.ZO)(),c=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return a.createElement(a.Fragment,null,e??null,a.createElement(ra,null),t&&a.createElement(a$,{viewerControl:rn,pageId:n}),l&&a.createElement(u.tH,{boundaryKey:"DevModeOverview",fallback:u.H4.DEFAULT_FULL_PAGE,sentryTags:{area:i.e.DEVELOPER_TOOLS},hasCustomWASMBuild:al.y4},a.createElement(nX,null)),s&&a.createElement(u.tH,{boundaryKey:"ComponentBrowser",fallback:u.H4.DEFAULT_FULL_PAGE,sentryTags:{area:i.e.DEVELOPER_TOOLS},hasCustomWASMBuild:al.y4},a.createElement(er,null)),o&&c&&a.createElement(u.tH,{boundaryKey:"DevModeVariablesTable",fallback:u.H4.DEFAULT_FULL_PAGE,sentryTags:{area:i.e.DEVELOPER_TOOLS},hasCustomWASMBuild:al.y4},a.createElement(ti,null)))}},930288:(e,t,n)=>{n.d(t,{n:()=>r});var a=n(186606);let r=(0,n(999667).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return a.glU.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},701455:(e,t,n)=>{n.d(t,{GR:()=>A,bu:()=>x});var a=n(848318),r=n(301168),l=n(162796),i=n(186606),o=n(553547),s=n(580494),c=n(999667),d=n(536384),u=n.n(d),m=n(204571),p=n(926036),f=n(967688),g=n(763610),h=n(531288),E=n(601167),_=n(554326),y=n(17753),b=n(446951),C=n(930288),v=n(140417),w=n(782288),T=n(480057);function S(){let e=(0,c.Xr)(C.n),t=a.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return a.createElement(w.K0,{svg:T.A,active:"NONE",tooltip:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var k=n(323044);function I(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let a=t.get(Object.keys(n)[0]);return a&&"WIDGET"===a.type?a:null}function N(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let x=a.memo(function(){let e=(0,r.d4)(N),t=e?.guid,[n,l]=a.useState(null),s=a.useMemo(()=>t&&t!==o.AD?i.glU.getEmbedTypeOfTooltipIcon(t):null,[t]);a.useEffect(()=>{if(!s||!t){l(null);return}let e=(0,h.EE)("embed-tooltip",[t],e=>{l(e?.position||null)});return l(e.currentNodePosition&&e.currentNodePosition[t]?.position||null),()=>{(0,h.lB)("embed-tooltip")}},[t,s]);let c=!!s&&!!n,d=(0,E._X)({subscribeToUpdates_expensive:c}),u=a.useMemo(()=>{if(!n)return{};let e=(0,E.Yb)(d,n),t=e.x+d.x,a=e.y+d.y;return{height:n.height,width:n.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${a}px) rotate(${n.angle}deg) scale(${d.zoomScale})`}},[d,n]);return c?a.createElement("div",{"data-tooltip-type":y.Ib.TEXT,"data-tooltip":"video"===s||"autoplayable_video"===s?(0,f.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===s||"autoplayable_audio"===s?(0,f.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===s||"figma"===s?(0,f.t)("whiteboard.embeds.tooltip_help_text.file"):(0,f.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:u}):null}),A=a.memo(function(){let e=(0,_.J2)(i.Ez5.embedUiState().activeEmbedData),t=(0,r.d4)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),n=(0,r.d4)(I),l=(0,c.md)(C.n),o=!!e&&n?.guid===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,s.k)().figjam_embeds_allowlist&&!(0,m.Cy)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):a.createElement(L,{isEmbedMaximized:l,nodeSelected:o,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),L=a.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:n,srcUrl:r,isEmbedMaximized:o}=e,s=a.useRef(null),d=a.useRef(null),u=a.useRef(null),m=a.useRef(null),f=(0,E._X)({subscribeToUpdates_expensive:!0}),g=function(e,t){let[n,r]=a.useState(!1),[l,i]=a.useState(!1);return a.useEffect(()=>{!e&&l&&i(!1)},[e,l]),a.useEffect(()=>{function e(e){if(t.current){let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&r(!0)}}function a(e){if(t.current&&n){r(!1);let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&i(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",a),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",a)}},[n,t]),l||!n&&e}(n,d),_=(0,c.Xr)(C.n),y=l.hS({open:o,onClose:()=>_({type:"MINIMIZE"})}),b=(0,p.Wx)(u.current);return a.useEffect(()=>{let e=(0,h.EE)("active-embed",[t],e=>{if(!e.position){i.glU.setActiveEmbed("");return}m.current=e.position,M(d,f,m,b,o,g)}),n=e.currentNodePosition[t]?.position;return n?(m.current=n,M(d,f,m,b,o,g)):i.glU.setActiveEmbed(""),()=>{(0,h.lB)("active-embed")}},[t,o,g,f,b]),a.createElement(a.Fragment,null,a.createElement("div",{className:o?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:d},a.createElement(R,{ref:s,key:t+r,srcUrl:r,autofocus:g})),o&&a.createElement(O,{manager:y,modalTargetRef:u}))});function O(e){let{manager:t,modalTargetRef:n}=e;return a.createElement(l.bL,{manager:t,theme:{backdrop:"embed_overlay--embedModalBackdrop--GznWd",contents:"embed_overlay--embedModal--NmRO5",root:"embed_overlay--embedModalRoot--YSySR"}},a.createElement("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH"},a.createElement("div",{className:"embed_overlay--embedModalMenuContainer--03E8r"},a.createElement(w.W1,{testID:"embedMenu"},a.createElement(k.e,{inModal:!0}),a.createElement(S,null),a.createElement(w.wv,null),a.createElement(v.S,{inModal:!0})))),a.createElement("div",{className:"embed_overlay--embedModalContentContainer--jP-31"},a.createElement("div",{ref:n,className:"embed_overlay--embedModalTarget--hxGi-"})))}let R=a.forwardRef(function(e,t){let n=(0,r.wA)(),[l,o]=a.useState(!1),s=a.useRef(null),{srcUrl:c,autofocus:d}=e;return a.createElement("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE"},!l&&a.createElement("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),a.createElement("iframe",{key:c,ref:t||s,allowFullScreen:!0,className:u()("embed_overlay--iframe--FcmB0",{"embed_overlay--iframeHidden--xwbj9":!l}),"data-embed-iframe":!0,frameBorder:"0",onLoad:()=>{let e=t&&t.current||s.current;e&&d&&e.focus(),o(!0)},onMouseOver:()=>{i.h3O?.sendChatMessage("",""),n(g.Ho())},src:c,title:(0,f.t)("whiteboard.embeds.embed_overlay_iframe_title")}))});function M(e,t,n,a,r,l){if(!e.current||!t||!n.current)return;let i=e.current,o=n.current;if(r){if(!a)return;i.style.position="fixed",i.style.height=`${a.height}px`,i.style.width=`${a.width}px`,i.style.pointerEvents="all",i.style.transform="unset",i.style.transformOrigin="unset"}else{let e=(0,E.Yb)(t,o);i.style.position="fixed",i.style.height=`${o.height}px`,i.style.width=`${o.width}px`,i.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,i.style.transformOrigin="top left",l?i.style.pointerEvents="all":i.style.pointerEvents="none"}}(0,b.Ju)(L,"EmbedMaximizedModal")},868840:(e,t,n)=>{n.d(t,{c:()=>t4}),n(956512);var a=n(848318),r=n(301168),l=n(502538),i=n(730455),o=n(580494),s=n(325498),c=n(311129),d=n(942744),u=n(984051),m=n(857607),p=n(656329);let f=new Set(["-","="]),g=new Set(["-","=","f","o","p","r","s"]);function h(e){if(!g.has(e.key))return;let t=p.Ay.mac?m.xH.META:m.xH.CONTROL;(0,m.vN)(e,t)?e.target instanceof Element&&e.target.matches(".cm-content")||e.preventDefault():f.has(e.key)&&(t|=m.xH.SHIFT,(0,m.vN)(e,t)&&e.preventDefault())}var E=n(813009),_=n(227276),y=n(156137),b=n(386040),C=n(972402),v=n(148176),w=n(244534),T=n(63443),S=n(858488),k=n(863270),I=n(924476),N=n(277930),x=n(989232),A=n(995218),L=n(353231),O=n(988124),R=n(339542),M=n(904325),D=n(643841);n(401424);var P=n(734139),F=n(911947),B=n(559389),U=n(29188),G=n(984778),K=n(934083),V=n(652576),H=n(542510),z=n(578461);let W=(0,B.s)((e,t)=>{U.eD.updateFullscreenMenuState({pluginMenuData:e,widgetMenuData:t})},250);var j=n(353806),Y=n(391375),J=n(730143),q=n(180294),X=n(125761),Z=n(4881),Q=n(186606),$=n(99496),ee=n(967688),et=n(952039),en=n(972487),ea=n(533737),er=n(303397),el=n(672201),ei=n(445506);let eo="keyboard-layout-preference",es=(e,t,n)=>{t&&e(en.FU({tab:t})),n||er.Y5.triggerAction("toggle-keyboard-shortcuts")},ec=(e,t,n,a)=>{e(ea.b({keyboard_manual_supported_bell:!0})),e(et.F.enqueue({message:(0,ee.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_available",{newKeyboardName:(0,$.As)(t)}),button:{text:(0,ee.t)("keyboard_settings.update_keyboard_shortcuts"),action:()=>es(e,"layout",a)},type:eo,onDismiss:()=>{e(ea.b({keyboard_manual_supported_bell:!0}))},timeoutOverride:2e4})),(0,$.CZ)({layout:n,detectedLayout:t,eventName:"manual_supported_keyboard_detected"})},ed=(e,t,n)=>{e(ea.b({keyboard_generic_supported_first_bell:!0})),e(et.F.enqueue({message:(0,ee.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_now_available",{newKeyboardName:(0,$.As)(t)}),button:{text:(0,ee.t)("keyboard_settings.enable_and_show_new_shortcuts"),action:()=>{es(e,"layout",n),(0,$.rd)({layout:t})}},type:eo,onDismiss:()=>{}})),(0,$.CZ)({layout:Q.aTn.UNKNOWN,detectedLayout:t,eventName:"first_generic_detected_supported_keyboard"})};async function eu(e,t){if(!U.eD)return null;let n=await U.eD.getKeyboardLayout();if(!n)return null;if(t===n)return n;let a=(0,ei.pB)(n),r=(0,$.v7)();return a===r||e(a,r,n,null!=t),n}async function em(e,t){if(!window.isSecureContext||window.top!==window.self)return null;let n=navigator.keyboard;if(!n||!n.getLayoutMap)return null;let a=await n.getLayoutMap();if(function(e,t){for(let[n,a]of e)if(t?.get(n)!==a)return!1;return!0}(a,t))return t;let{layoutJSON:r,detectedLayoutsWeb:l}=(0,el.$$)(a),i=(0,el.ZN)({layoutJSON:r,detectedLayouts:l,desktopLayout:null}),o=(0,$.v7)();return i===o||e(i,o,JSON.stringify(r),null!=t),a}var ep=n(67308),ef=n(240176),eg=n(922484),eh=n(786835),eE=n(69658),e_=n(399906),ey=n(925144),eb=n(294490),eC=n(660580),ev=n(280361),ew=n(28589),eT=n(722563),eS=n(259964),ek=n(98449),eI=n(991675),eN=n(4478),ex=n(999667),eA=n(879378),eL=n.n(eA),eO=n(487765),eR=n(281979);let eM=["mousemove","mousedown","keydown","touchstart","touchmove","wheel"];var eD=n(410725),eP=n(55116),eF=n(656320),eB=n(78144),eU=n(167418),eG=n(531788),eK=n(536384),eV=n.n(eK),eH=n(297116),ez=n(297638),eW=n(448841),ej=n(637640),eY=n(103661),eJ=n(946778),eq=n(851993),eX=n(82436),eZ=n(783641),eQ=n(357353);function e$(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.auth),l=(0,o.k)().google_tag_manager_in_more_auth_entries;return(0,a.useEffect)(()=>{t(eY.Ts({origin:"request_permissions_entry",redirectUrl:ej.Ay.location.pathname,formState:eJ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},[t,e.accountPickerData]),a.createElement(eX.u,{useOriginalSrcFills:!0,onBackClick:()=>{n.formState===eJ.qB.ACCOUNT_PICKER?e.closeAuth():t(eY.Ts({origin:"request_permissions_entry",redirectUrl:ej.Ay.location.pathname,formState:eJ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))}},a.createElement("div",{className:"request_permissions_app--authViewContainer--1XJOG"},a.createElement(eq.Ob,{id:"request-permissions-app",modal:!0,auth:n})),l&&a.createElement(eQ.d,null,a.createElement(eZ.Ji,null)))}function e0(e){let t=(0,A.lg)(),n=e.pageType||t,l=((0,r.d4)(e=>e.authedUsers)??{}).byId??{},i=e.authedUsers??Object.values(l),[o,s]=(0,a.useState)(!1);return a.createElement(eH.w,{pageType:n},o?a.createElement(e$,{accountPickerData:{authed_users:i,authed_user_access_reason:{},destination_name:(0,ee.t)("mfa_required_modal.account_switcher.destination")},closeAuth:()=>{s(!1)}}):a.createElement(eW.H,{org:e.org,switchAccountsSection:a.createElement(function(){let e=(0,X.iZ)();return e?a.createElement("div",{className:eV()(ez.s.mt24.$,"mfa_required--secondaryText--eCIsl")},(0,ee.tx)("mfa_required_modal.account_switcher.text",{userEmail:e.email,link:a.createElement(eG.$n,{variant:"link",onClick:()=>{s(!0)}},(0,ee.tx)("mfa_required_modal.account_switcher.switch_accounts"))})):null},null),fileKey:e.fileKey}))}var e1=n(388981),e2=n(865114),e3=n(847947),e5=n(31898),e4=n(795240),e6=n(456028),e8=n(961675),e9=n(433166),e7=n(153035),te=n(913548),tt=n(954703),tn=n(124810),ta=n(710044),tr=n(639088);function tl(e){let{onDismiss:t,canUpgrade:n}=e;return a.createElement(k.fu,{name:"Workshop Expired File Banner"},a.createElement("div",{className:`workshop_expiry_footer--banner--ELf7G ${tr.yl}`},a.createElement("div",{className:"workshop_expiry_footer--bannerContent--w2Lw1"},a.createElement(ta.MW,{className:"workshop_expiry_footer--icon--mM-A8",type:ta.y1.WHITEBOARD}),a.createElement("div",{className:"workshop_expiry_footer--textContent--TN7cv"},a.createElement("span",{className:"workshop_expiry_footer--title--cmlOu text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},(0,ee.tx)("whiteboard.open_sessions.expiry_banner_title")),n&&a.createElement("span",{className:"workshop_expiry_footer--subtitle--jmRvc text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},(0,ee.tx)("whiteboard.open_sessions.expiry_banner_prompt")))),a.createElement(tt.K,{onClick:t,"aria-label":(0,ee.t)("general.close")},a.createElement(tn.A,null))))}var ti=n(575221),to=n(756268);function ts(e){let{onWorkshopExpired:t}=e;!function(){let e=(0,r.wA)(),t=(0,X.iZ)(),n=!t,l=(0,e6.nF)(),i=l.enabled,o=l.enabled?l.id:null,c=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===Q.kul.JOINED),d=(0,r.d4)(e=>e.progressBarState.mode),u=J.q5()?.isTryFile,m=(0,e8.QL)("name");(0,a.useEffect)(()=>{n&&u&&o&&m&&c&&e((0,e4.cq)({name:m}))},[n,u,m,o,e,c]);let p=(0,a.useMemo)(()=>{if(!t||null==o)return!1;if(u)return!0;let e=(0,s.DN)();try{return e.get((0,to.v6)(o)).includes(t.email)}catch(e){return!1}},[t,o,u]),f=t?.email;(0,a.useEffect)(()=>{f&&o&&u&&(0,to.kO)(o,f)},[f,o,u]);let g=(0,J.MY)();(0,a.useEffect)(()=>{if(i&&!(0,e9.T)(d)&&"loaded"===g.status){let t=localStorage.getItem((0,e7.K)(o));n?t?(0,e4.QA)(t):e(e5.$O({type:ti.e})):g.data?.canEdit||p||e(e5.$O({type:ti.e}))}},[e,n,i,o,d,p,g]);let h=(0,J.q5)(),E=h?.key,_=h?.name;(0,a.useEffect)(()=>{if(i&&!(0,e9.T)(d)&&n&&u&&E&&_===(0,ee.t)("fullscreen.fullscreen_view_selector.untitled")){let t=localStorage.getItem((0,e7.K)(o));t&&e(e3.S({userName:t,file_key:E}))}},[i,d,o,n,u,E,_,e])}();let{showEditFileFooter:n,userCanSeeEditButton:l,dismissEditFileFooter:i}=function(e){let[t,n]=(0,a.useState)(!1),l=(0,r.wA)(),i=(0,X.iZ)(),o=(0,J.q5)(),s=(0,r.d4)(e=>e.showEditButton),c=o?.name,d=!i,{userCanEditFile:u,userCanSeeEditButton:m}=(0,a.useMemo)(()=>d?{userCanEditFile:!1,userCanSeeEditButton:!1}:o?{userCanEditFile:o.canEdit,userCanSeeEditButton:s}:{userCanEditFile:!1,userCanSeeEditButton:!1},[d,o,s]),p=(0,e6.nF)(),f=p.enabled,g=(0,e2.ZC)(f),h=p.enabled?p.until.valueOf():null,E=(0,a.useRef)(null),_=(0,a.useCallback)(()=>{if(!d){Q.h3O?.reconnect(!1),u||n(!0);return}l(eY.Ts({origin:"logged_out_footer",formState:eJ.qB.SIGN_UP,redirectUrl:ej.Ay.location.pathname})),l(e5.to({type:te.x,data:{headerText:(0,ee.t)("whiteboard.open_sessions.expiry_modal_title",{file_name:c||""}),subtitle:(0,ee.t)("whiteboard.open_sessions.expiry_modal_subtext"),disableHiding:!0}})),e()},[l,e,d,u,c]);return(0,a.useEffect)(()=>{if(f&&h){let e=Math.max(h-Date.now(),0);E.current=setTimeout(()=>{E.current=null,_()},e)}return()=>{E.current&&clearTimeout(E.current)}},[l,f,h,_]),(0,a.useEffect)(()=>{null!=g&&f!==g&&(f?Q.h3O?.reconnect(!1):(E.current&&clearTimeout(E.current),_()))},[l,f,g,_]),{showEditFileFooter:t,dismissEditFileFooter:(0,a.useCallback)(()=>{n(!1)},[]),userCanSeeEditButton:m}}(t);return n?a.createElement(tl,{onDismiss:i,canUpgrade:l}):null}var tc=n(210585),td=n(53837),tu=n(640747),tm=n(461979),tp=n(156818),tf=n(281294),tg=n(355755),th=n(7148),tE=n(197696),t_=n(768618),ty=n(52813),tb=n(996202),tC=n(340132),tv=n(859480),tw=n(366022),tT=n(503190),tS=n(264524),tk=n(23897),tI=n(620847),tN=n(647951),tx=n(82364),tA=n(102583),tL=n(645945),tO=n(756672),tR=n(708889),tM=n(944239),tD=n(590641),tP=n(801860),tF=n(450651),tB=n(752871),tU=n(222116);function tG(){let[e,t]=(0,tL.H_)(),n=(0,tD.L)()?tB.OK:tB.aT;return(!function({hasMobileNativeToolbarTopLevel:e,LazyWebToolbarComponent:t}){let n=(0,A.ow)(),r=a.useRef(!1);!r.current&&n&&!e&&(0,o.k)().figjam_preload_dlt&&(t.preload(),r.current=!0)}({hasMobileNativeToolbarTopLevel:e,LazyWebToolbarComponent:n}),(0,tI._)())?a.createElement(tU.d,null,e?t&&a.createElement(tL.vW,null):a.createElement(n,null)):null}var tK=n(706370),tV=n(514019),tH=n(477302),tz=n(466930),tW=n(813147),tj=n(6616),tY=n(46641),tJ=n(264790),tq=n(94311),tX=n(517523),tZ=n(697051),tQ=n(748790),t$=n(937629),t0=n(17726),t1=n(957070);let t2=a.memo(({children:e})=>{let t=(0,r.d4)(e=>e.openFile),n=t?t.key:"",l=t?.parentOrgId||"",i=(0,a.useRef)(null),s=(0,r.wA)(),c=(0,ex.md)(tj.h),d=(0,r.d4)(e=>e.openFile?.canEdit??!1),u=(0,tg.p8)("isReadOnly"),m=(0,q.dq)(),f=(0,A.E3)(),g=(0,e2.ZC)(f);f!==g&&g&&s(w.PQ([])),(0,tZ.j)(n),(0,tQ.G_)(n,l),(0,tQ.Si)(n),(0,tK.OQ)(n),(0,t$.y1)(n),(0,tX.WR)(),tW.nz(),(0,tY.N)(),(0,t0.Ky)(),(0,a.useEffect)(()=>{let e=()=>{window.scrollTo({left:document.body.scrollLeft,top:document.body.scrollTop,behavior:"smooth"})};window.scrollTo(0,0),p.XN&&document.addEventListener("focusout",e),document.documentElement.classList.add(t1.FC),document.body.classList.add(t1.Wc),s(tH._J());let t=window.FigmaMobile;return t&&(t._get_memory_stats=()=>{let e=Q.P2e?.getImageMemory(),t=Q.P2e?.getHeapMemoryBreakdown();var n={coreJsBufferMemory:Q.hMR?.getJsBufferMemory()||0,coreLocalMaxUsedHeapMemory:Q.hMR?.getLocalMaxUsedHeapMemory()||0,coreMaxUsedHeapMemory:Q.hMR?.getMaxUsedHeapMemory()||0,coreTotalUsedHeapMemory:Q.hMR?.getTotalUsedHeapMemory()||0,fullscreenCompressedImages:e?.compressedImages??0,fullscreenUncompressedImagesArrayBuffers:e?.uncompressedArrayBuffer??0,fullscreenUncompressedImagesImageBitmap:e?.uncompressedImageBitmap??0};let a=Q.hMR?.getMemStatsSummary()??void 0;if(a){let e=r(t?.mem_pool_current)||0,n=r(t?.font_files_current)||0,l=r(t?.unique_paths_current)||0,i=r(t?.vector_networks_current)||0;a.application={memPool:{total:e},fontFiles:{total:n},uniquePaths:{total:l},vectorNetworks:{total:i}}}function r(e){return"number"==typeof e?e:parseInt(e)}return{metadata:JSON.parse(JSON.stringify(n)),reservedWasmMemory:(0,tJ.le)()||0,rendererGpuMemory:r(Q.P2e?.getRendererGpuMemory())||0,rendererBreakdown:function(e){return{textures:r(e.textures),vertexBuffers:r(e.vertexBuffers),renderBuffers:r(e.renderBuffers),uniformBuffers:r(e.uniformBuffers)}}(Q.P2e?.getRendererMemoryBreakdown())??void 0,memStats:a}}),()=>{p.XN&&document.removeEventListener("focusout",e),document.body.classList.remove(t1.Wc),document.documentElement.classList.remove(t1.FC)}},[s]),(0,a.useEffect)(()=>{t&&!i.current&&(s(tW.Yx({})),t&&!u?t?.canEdit&&s(tV.rH({fileKey:t.key})):(0,o.k)().ce_new_missing_fonts_logging&&(0,tq.DI)(),i.current=t)},[s,u,t]),(0,a.useEffect)(()=>{(0,t0.RS)(s,t?.key,m)},[s,m,t?.key,f]),(0,a.useEffect)(()=>{U.eD&&U.eD.setEditFilePermissions(d)},[d]);let h=(0,a.useRef)(null),E=(0,a.useRef)(null);return((0,a.useEffect)(()=>{t&&(null===h.current||!h.current)&&s((0,tz.x4)()),t&&h.current&&t.key!==h.current&&s((0,tz.x4)()),E.current&&f!==E.current&&s((0,tz.x4)()),E.current=f,h.current=t?.key},[s,t,f]),"ok"!==c)?null:a.createElement(a.Fragment,null,e)});var t3=n(959750);let t5=()=>{"hidden"===document.visibilityState&&(s.x4?.clear(),eN.L.cleanupSession())};function t4({children:e,loadedCommentsProvider:t=!0}){(0,a.useEffect)(()=>{(0,o.k)().datadog_rum_fullscreen?d.Tf.enableEventSending({allowResourceTracking:!F.xK.isColdBoot}):d.Tf.disableEventSendingUnlessDebugEnabled()},[]);let n=(0,r.wA)(),s=(0,J.q5)();(0,C.lF)(s?.key??""),eC.M4.Folder.useValue(s?.folderId);let m=(0,r.d4)(e=>e.selectedView.editorType),[f,g]=(0,a.useState)(!1),E=(0,i.DP)(),b=(0,tO.sO)(),S=(0,C.xo)(),k=(0,a.useCallback)(()=>{(0,t0.jS)(),g(!0)},[]),R=function({onCanvasExpired:e}){let t=(0,r.d4)(e=>(0,eF.U2)(e.selectedView)),n=(0,X.TA)(),l=(0,q.dq)(),[i,s]=a.useState(!1),c=(0,eB.K)(),d=(0,eD.Rs)(eP.NSA,{fileKey:t??""},{enabled:!!t}),u="loaded"===d.status&&d.data.file?.canRead!==!0,m="loaded"===d.status&&d.data.file?.canRead===!0;return a.useLayoutEffect(()=>{c&&u&&(s(!0),e())},[c,u,e]),a.useEffect(()=>{c&&m&&x.definedAnalyticsHandler.trackDefinedEvent("mfa.file_access_without_restriction",{orgId:l??void 0,userId:n??void 0,fileKey:t??void 0})},[c,m,l,n,t]),!!(0,o.k)().mfa_for_guests&&i}({onCanvasExpired:k}),B=(0,r.d4)(e=>e.mergingStatus);(0,a.useEffect)(()=>{if((0,o.k)().ce_suppress_browser_keys)return document.addEventListener("keydown",h,!0),()=>void document.removeEventListener("keydown",h,!0)},[]),function(){let e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,r.wA)(),l=(0,r.d4)(e=>e.userFlags),i=(0,r.d4)(e=>!!e.user),o=function(e,t){let n=(0,r.d4)(e=>e.mirror.appModel.showKeyboardShortcuts),l=(0,r.d4)(e=>e.user?.created_at),i=(0,a.useMemo)(()=>{let e=new Date("2022-11-14").getTime();return null!=l&&new Date(l).getTime()>=e},[l]);return(0,a.useCallback)((a,r,l,o)=>{t.keyboard_user_first_detection||o||!i?a!==Q.aTn.US_QWERTY||o||r!==Q.aTn.UNKNOWN?a&&r!==Q.aTn.UNKNOWN?t.keyboard_manual_supported_bell||ec(e,a,r,n):a&&r===Q.aTn.UNKNOWN?t.keyboard_generic_supported_first_bell||ed(e,a,n):(0,$.CZ)({layout:r,detectedLayoutStr:l??void 0,eventName:"keyboard_change_no_bell"}):(0,$.CZ)({layout:a,eventName:"ignore_us_qwerty"}):(e(ea.b({keyboard_user_first_detection:!0})),a&&((0,$.rd)({layout:a}),(0,$.CZ)({layout:a,eventName:"auto_set_new_user_layout"})))},[e,t,n,i])}(n,l),s=(0,a.useCallback)(async()=>{if(i){if(U.eD){let t=await eu(o,e.current??null);e.current=t}else{let e=await em(o,t.current??null);t.current=e}}},[o,i]);(0,a.useEffect)(()=>{er.Y5.isReady()?s():er.Y5.onReady().then(()=>setTimeout(s,500))},[])}(),(0,Y.XS)(),function(){let e=(0,r.Pj)(),t=(0,r.d4)(ep.d1),n=(0,r.d4)(eh.m0),l=(0,r.d4)(eh.No),i=(0,r.d4)(e=>e.library.publishedByLibraryKey),o=(0,J.q5)(),s=(0,r.d4)(e=>e.fileVersion),c=(0,r.d4)(e=>e.loadingState),d=(0,r.d4)(e=>e.library.local),u=(0,r.d4)(e=>e.library.assetsPanelSearch.shouldSearchDefaultLibraries),m=(0,ef.ud)(),p=(0,r.d4)(e=>e.folders),f=(0,eE.l6)(),g=(0,eE.He)(),h=(0,r.d4)(e=>e.library.assetsPanelSearch.query),E=(0,r.d4)(e=>e.library.assetsPanelSearch.searchOptions),_=(0,eg.D2)(c,(0,ey.yD)(o?.key||"")),y=(0,e_.M)();(0,a.useEffect)(()=>{t&&eb.YG.sourcesDidChange()},[t,n,l,i,d,u,m,p]),(0,a.useEffect)(()=>{(0,eb.Wg)(e.getState(),{ignoreLoadingState:y})&&eb.YG.queryDidChange(e)},[e,h,y]),(0,a.useEffect)(()=>{(0,eb.Wg)(e.getState(),{ignoreLoadingState:y})&&eb.YG.searchOptionsDidChange(e)},[e,E,y]),(0,a.useEffect)(()=>{(0,eb.Wg)(e.getState(),{ignoreLoadingState:y})&&eb.YG.subscriptionsDidChange(e,f,g)},[e,_,f,g,o,s,c,y])}(),(0,u.ji)(),(0,z.gN)(),U.eD&&function(){let e=(0,V.x)(),t=(0,V.V2)(),n=(0,V.QZ)(),l=(0,r.d4)(e=>e.mirror.appModel.isReadOnly),i=(0,r.d4)(e=>e.openFile),o=(0,r.d4)(e=>e.localPlugins),s=(0,A.E3)(),c=(0,V.op)(),d=(0,r.d4)(e=>e.installedPluginVersions.plugins),u=(0,r.d4)(e=>e.mirror.selectedStyleProperties?.selectedWidgetInfo),m=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),p=(0,r.d4)(e=>e.publishedPlugins),f=(0,r.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),g=(0,V.Be)(),h=g.orgPlugins,E=g.orgWidgets,_=(0,H.h)("plugin"),y=(0,H.h)("widget"),b=(0,V.NU)(),C=(0,V.qr)(),v=(0,V.ZT)(),w=null!=(0,z.SH)();a.useEffect(()=>{let a={isReadOnly:l,userCanViewPlugins:e,openFile:i,publishedPlugins:p,localExtensions:o,allSavedPlugins:d,recentlyUsedPlugins:c,org:f,editorType:s,widgetSelectionInfo:u,hideRecentsHeader:!0,activeTextReviewPlugin:m,orgSavedPlugins:h,orgSavedWidgets:E,orgPrivatePlugins:_,orgPrivateWidgets:y,savedWidgetVersions:b,recentlyUsedWidgets:C,publishedWidgets:v,userCanViewWidgets:n,userCanRunExtensions:t};W(G.$0(a),K.wX(a))},[l,e,i,p,d,c,o,f,s,u,m,g,h,E,_,y,b,C,v,w,n,t])}(),(0,ev.x)(),function(){let e=(0,A.E3)(),t=(0,a.useCallback)(()=>{(0,x.trackEvent)("display_redline",{source:"keyboard_shortcut",mode:e})},[e]),n=(0,N.A)(t,1e3,{leading:!0,trailing:!1}),l=(0,r.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),i=(0,a.useRef)(l);(0,a.useEffect)(()=>{i.current!==l&&(i.current=l,n())},[l,n])}(),function(){let e=(0,t3.dP)(),t=(0,t3.qw)(),n=(0,t3.UX)(),r=document.documentElement.style;(0,a.useLayoutEffect)(()=>{r.setProperty("--left-panel-width",`${e}px`),(0,o.k)().properties_panel_resize_lag_fix&&(r.setProperty("--properties-panel-width",`${t}px`),r.setProperty("--dev-handoff-panel-width",`${n}px`))},[e,t,n,r])}(),(0,_.I7)("exp_aa_test_fullscreen_view").getConfig(),function(){let e=(0,r.wA)(),t=(0,tI._)(),n=(0,th.BI)(),[l,i]=(0,a.useState)(!1),o=(0,r.d4)(e=>e.multiplayer),s=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===Q.kul.JOINED);!function(){let e=(0,J.q5)(),t=window.FigmaMobile,n=(0,tv.rE)(),l=(0,tw.C3)(),i=(0,r.wA)(),o=(0,tb.am)(),s=l?(0,ty.oA)(l.pageNodeId):void 0;(0,a.useEffect)(()=>{t&&(t._select_page=async e=>{s===e&&i(tC.au({})),await (0,t_.UN)().setCurrentPageAsync(e)})},[i,t,s]),(0,a.useEffect)(()=>{t&&(t._rename_page=(t,n)=>{(0,tv.CQ)({openFile:e,pageId:t,newName:n,trackRenamePage:()=>o("page_commit_rename",{nodeId:t},{forwardToDatadog:!0})})})},[t,e,o]),(0,a.useEffect)(()=>{t&&(t._delete_page=e=>{er.Y5.triggerActionInUserEditScope("page-delete",{args:{nodeId:e}}),er.Y5.commit()})},[t]),(0,a.useEffect)(()=>{t&&(t._create_page=()=>{n(null)})},[t,n])}();let c=a.useCallback(t=>{Q.h3O?.observeUser(t),o&&o.observingSessionID!==t&&o.sessionID!==t&&e(ea.b({aware_of_observation_mode:!0}))},[o,e]);a.useEffect(()=>{t&&!l&&n?.shouldOptimizeForIpadApp&&s&&!Q.Ez5?.defaultToolIsHandSelect()&&(i(!0),er.Y5.triggerAction("set-tool-hand",null))},[t,n,l,i,s]);let d=(0,r.d4)(({mirror:{appModel:e}})=>e.showUi);a.useEffect(()=>{n?.updateUIVisible&&n.updateUIVisible(d)},[n,d]);let u=(0,th.m0)();a.useEffect(()=>{u&&(u._try_to_flush_autosave=async()=>{let e=(0,tf.ZG)();if(e){let t=e.session();t&&await t.tryToFlushAutosave()}})},[u]);let m=(0,tT.Kd)();a.useEffect(()=>{n?.updateSaveStatus&&(m?s?n.updateSaveStatus(tx.a.SAVING):n.updateSaveStatus(tx.a.PAUSED):n.updateSaveStatus(tx.a.SAVED))},[n,m,s]);let p=(0,r.d4)(e=>(0,tE.Yh)(e.mirror.appModel,"undo")),f=(0,r.d4)(e=>(0,tE.Yh)(e.mirror.appModel,"redo"));a.useEffect(()=>{if(n?.updateUndoEnabled&&n.updateUndoEnabled(p),n?.updateRedoEnabled&&n.updateRedoEnabled(f),u){let t=t=>{e(et.F.dequeue({matchType:"undo_redo_gesture"})),e(et.F.enqueue({message:t,type:"undo_redo_gesture",timeoutOverride:750}))};u._trigger_undo=()=>{p&&(er.Y5.triggerActionInUserEditScope("undo"),t((0,ee.t)("fullscreen_actions.undo")))},u._trigger_redo=()=>{f&&(er.Y5.triggerActionInUserEditScope("redo"),t((0,ee.t)("fullscreen_actions.redo")))}}},[n,e,p,f,u]);let g=(0,th.pt)();a.useEffect(()=>{g&&(g._set_ui_visibility=e=>{e!==d&&er.Y5.triggerAction("toggle-ui")})},[g,d]);let h=(0,tp.Yk)();a.useEffect(()=>{n?.updateDLTHeight&&n.updateDLTHeight(h)},[h,n]);let E=(0,tg.dH)(),_=(0,tL.pK)(E),y=(0,th.Ef)(),b=(0,r.d4)(e=>e.mirror?.appModel.isReadOnly);a.useEffect(()=>{_&&!b&&(y?.nativeToolbarUpdateActiveTool?.(_),y?.nativeToolbarUpdateMultiselectActive?.("MULTISELECT"===_))},[y,_,b]);let[C,v]=a.useState("ERASER"),[w,T]=a.useState("PENCIL");a.useEffect(()=>{!b&&_&&(0,tL.S0)(_)&&_!==C&&(T(C),v(_))},[_,C,v,T,b]),a.useEffect(()=>{g&&(g._switch_to_eraser=function(){if(b)return{success:!1,error:tA.lj.READ_ONLY_FILE,currentTool:"NONE"};if("ERASER"!==C)return(0,tL.Jm)("set-tool-eraser"),{success:!0,error:null,currentTool:"ERASER"};{let e=tL.Jh.get(w);return e&&(0,tL.Jm)(e),{success:!0,error:null,currentTool:w}}},g._switch_to_previous_drawing_tool=function(){if(b)return{success:!1,error:tA.lj.READ_ONLY_FILE,currentTool:"NONE"};let e=tL.Jh.get(w);return e&&(0,tL.Jm)(e),{success:!0,error:null,currentTool:w}})},[b,_,w,C,g]),a.useEffect(()=>{u&&(u._observe_user=e=>{c(e)})},[u,c]),u&&(u._update_context_menu_visibility=e=>{Q.glU.updateNativeContextMenuVisibility(e)},u._override_document_visibility_state=tN.R,u._set_allow_draw_with_touch=e=>{Q.glU?.setAllowDrawWithTouch(e)},u._unlock_all_objects=()=>{er.Y5.triggerActionInUserEditScope("unlock-all")},u._zoom_reset=()=>{er.Y5.triggerActionInUserEditScope("zoom-reset")},u._zoom_to_fit=()=>{er.Y5.triggerActionInUserEditScope("zoom-to-fit")},u._present=()=>{Q.h3O?.startPresenting()},u._find_in_file=()=>{er.Y5.triggerActionInUserEditScope("canvas-search")},u._copy=()=>{er.Y5.triggerActionInUserEditScope("copy")},u._cut=()=>{er.Y5.triggerActionInUserEditScope("cut")},u._paste=()=>{er.Y5.triggerActionInUserEditScope("paste")},u._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:n}=e;return new Blob([(0,tm.Vs)(t)],{type:n})}),n=er.Y5.fileArrayToString(t);Q.glU?.handleOpenFromJsonString(n,tA.wu.MOBILE_NATIVE_NAVBAR)},u._get_zoom_scale=()=>Q.glU?.getViewportZoomScale()??1),g&&(g._open_timer=()=>{ex.zl.set(tS.Qs,{type:"OPEN"}),(0,x.trackEvent)(tk.Fn.OPEN,{source:tk.OO.IPAD_MENU})},g._close_timer=()=>{ex.zl.set(tS.Qs,{type:"CLOSE"})},g._activate_multiselect_mode=()=>{(0,tL.Jm)("set-tool-multiselect")},g._deactivate_multiselect_mode=()=>{(0,tL.Jm)("set-tool-default")})}(),(0,ew.a4)(),(0,c.fp)(),function(){let e=(0,r.wA)(),[t,n]=(0,td.Wz)("nux_seat_selection_show_confirmation",null);(0,a.useEffect)(()=>{t&&("autoApproved"in t&&"seatType"in t&&e(e5.to({type:tu.u,data:{...t}})),n(null))},[t,e,n])}(),(0,O.i)(),a.useEffect(()=>Z.Bc,[]),a.useEffect(()=>(m===eS.nT.Whiteboard&&p.Ay.isMeetDevice&&"undefined"!=typeof document&&document.addEventListener("visibilitychange",t5),()=>{document.removeEventListener("visibilitychange",t5)}),[m]);let j=(0,tD.V)();a.useEffect(()=>{m===eS.nT.Whiteboard&&j&&(0,_.hW)("exp_figjam_ui3_toolbelt")},[m,j]);let en=(0,I.o)();a.useEffect(()=>{if(en)return n(T.HQ({storeInRecentsKey:en})),m===eS.nT.Whiteboard&&(n(T.gr({storeInRecentsKey:en})),n(T.vZ({storeInRecentsKey:en}))),m!==eS.nT.DevHandoff&&n(T.aF({storeInRecentsKey:en})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)};function e(e){switch(e.key){case eT.vY:case eT.S7:case eT.a7:n(T.HQ({storeInRecentsKey:en}));break;case eT.YN:case eT.xk:n(T.aF({storeInRecentsKey:en}));break;case eT.SO:n(T.gr({storeInRecentsKey:en}));break;case eT.JG:n(T.vZ({storeInRecentsKey:en}))}}},[n,m,en]);let el=(0,X.TA)();a.useEffect(()=>{el&&n(v.oQ())},[n,el]),a.useEffect(()=>{S&&(0,P.K7)()},[S]),function(){let e=(0,ex.Xr)(eR.F);(0,a.useEffect)(()=>{let t;let n=()=>{clearTimeout(t),t=setTimeout(()=>{e(eO.H.IDLE_DUE_TO_INACTIVITY)},6e4)},a=()=>{n(),e(eO.H.ACTIVE_AFTER_IDLE)},r=eL()(a,500,{trailing:!1,leading:!0}),l=()=>{try{"visible"===document.visibilityState?a():e(eO.H.IDLE_DUE_TO_TAB_SWITCH)}catch(e){throw console.error("Failed to update visibility state",e),e}};return e(eO.H.ACTIVE_FIRST_TIME),eM.forEach(e=>{document.addEventListener(e,r)}),document.addEventListener("visibilitychange",l),n(),()=>{eM.forEach(e=>{document.removeEventListener(e,r)}),document.removeEventListener("visibilitychange",l),clearTimeout(t)}},[e,6e4])}(),a.useEffect(()=>{let e=e=>{if(B===l.y.MERGING)return e.returnValue="A merge operation is in progress. Closing the window could result in data loss or corruption; please wait until the operation completes.",e.preventDefault(),n(w.sx({name:"Unload During Merge Warning Shown"})),!1},t=()=>{B===l.y.MERGING&&n(w.sx({name:"Page Closed During Merge"}))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",t),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("unload",t)}},[B,n]);let ei=(0,a.useRef)(!1);a.useEffect(()=>{s?.key&&!ei.current&&(ei.current=!0,M.y.startTimer(s.key,(0,ek.lM)()))},[s?.key]);let eo=a.createElement(a.Fragment,null,a.createElement(t6,{file:s,loadedCommentsProvider:t,onCanvasExpired:k},e),a.createElement(tG,null));return a.createElement(y.k,{name:"editor",alsoTrack:()=>({editorType:(0,eS.Bu)(m),productType:(0,L.Dc)(m),uiVersion:E.version,fileKey:s?.key||"",slideView:b?ex.zl.get(tR.v2)?"ssv":"grid":void 0}),trackImpressions:!1},a.createElement(D.wG,null,a.createElement(a.Fragment,null,!f&&eo,!f&&a.createElement(ts,{onWorkshopExpired:k}),R&&a.createElement(t8,{file:s}))))}function t6({children:e,file:t,loadedCommentsProvider:n,onCanvasExpired:l}){let i=(0,r.d4)(e=>e.userStateLoaded),o=(0,r.d4)(e=>e.mirror.appModel.isInitialized),s=(0,E.R)(e=>e.comments),{anchorPositions:c,boundingBoxPositions:d,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:m}=(0,R.Cn)(),p=(0,R.e_)(),f=(0,X.TA)();(0,tc.ox)({file:t,onCanvasExpired:l});let g=function(){let{error:e}=(0,b.Hb)();return!!(e instanceof Error&&e.message.includes("Out of memory"))}(),h=a.createElement(tF.R,null,a.createElement(tP.P,null,a.createElement(b.tH,{boundaryKey:"InAppPage",fallback:g?a.createElement(e1.PG,null):b.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:j.y4},a.createElement(t2,null,e))));return(0,k.T8)(n?a.createElement(S.NX,{userId:f,file:t,orgId:t?.parentOrgId??null,activeId:s.activeThread?.id||null,anchorPositions:c,boundingBoxPositions:d,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:m,getPageIdsForNodes:p},h):h,eI.e0.EDITOR,null!=t?(0,L.oP)(t):{},null!=t&&i&&o)}function t8({file:e}){let t=(0,q.sZ)();return(0,r.d4)(e=>e.modalShown?.type===eU.M)||!t?null:a.createElement(e0,{org:t,fileKey:e?.key})}(0,tM.n)(()=>{})},837018:(e,t,n)=>{n.d(t,{sk:()=>cj}),n(956512);var a=n(848318),r=n(301168),l=n(186606),i=n(580494),o=n(999667),s=n(813009),c=n(720300),d=n(410725),u=n(748008),m=n(271073),p=n(238462),f=n(656329),g=n(386040),h=n(967688),E=n(952039),_=n(966658),y=n(363367),b=n(229731),C=n(361964),v=n(818958),w=n(340132),T=n(431698),S=n(142896),k=n(696786),I=n(303397),N=n(810503),x=n(650395),A=n(577811),L=n(261357),O=n(41949);class R{static getCanvasColorSpace(e={}){let t=(0,O.dX)("fullscreen"),n=t?.getContext(x.ap()?"webgl2":"webgl")?.drawingBufferColorSpace;if("srgb"===n);else if("display-p3"===n)return e.returnString?l.RYP[l.RYP.DISPLAY_P3]:l.RYP.DISPLAY_P3;return e.returnString?l.RYP[l.RYP.SRGB]:l.RYP.SRGB}static setCanvasColorSpace(e){let t=(0,O.dX)("fullscreen"),n=t?.getContext(x.ap()?"webgl2":"webgl");"drawingBufferColorSpace"in n&&(n.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===l.H4l)throw Error("ColorManagementStateJs is not defined");return e.returnString?l.ywP[l.H4l.documentColorProfile().getCopy()]:l.H4l.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await A.EC.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,L.D)();for(let n of t.currentPage.selection){for(let a=0;a<n.fills.length;a++){let r=n.fills[a];if("IMAGE"===r.type){let i=t.getImageByHash(r.imageHash);if(!i)continue;let o=await i.getBytesAsync(),s=await e(o);if(s){let e={id:n.id,type:"fill",index:a,imageHash:r.imageHash,colorProfile:l.RYP[s.colorProfile],bytes:o};(0,N.ED)("ColorManagementDebug","images",e,{logToConsole:l.NUh.ALWAYS})}}}for(let a=0;a<n.strokes.length;a++){let r=n.strokes[a];if("IMAGE"===r.type){let i=t.getImageByHash(r.imageHash);if(!i)continue;let o=await i.getBytesAsync(),s=await e(o);if(s){let e={id:n.id,type:"stroke",index:a,imageHash:r.imageHash,colorProfile:l.RYP[s.colorProfile],bytes:o};(0,N.ED)("ColorManagementDebug","images",e,{logToConsole:l.NUh.ALWAYS})}}}}}}function M(){return a.useEffect(()=>((0,i.k)().ee_color_management_debug&&(window.colorManagementDebug=R),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var D=n(14837),P=n(478054),F=n(125761),B=n(318147),U=n(55116),G=n(922484),K=n(554326),V=n(614092),H=n(396872),z=n(867499),W=n(494064),j=n(847727),Y=n(131258),J=n(803107);function q(){let{Sprig:e}=(0,H.A)(),t=(0,o.md)(J.Lk),n=(0,j.I)(),{loaded:r,query:l,sessionId:s}=function(){let[e,t]=(0,a.useState)(!1),{currentSearch:n}=(0,o.md)(W.WP),r=(0,o.md)(z.hO.currentSearchAtom),l=(0,o.md)(J.dd);(0,a.useEffect)(()=>{let e=n?.result.status==="loaded",a=r?.result.status==="loaded";e&&a&&t(!0)},[n?.result.status,r?.result.status]);let i="";return n?.input.type==="input-text"&&(i=n.input.query),{loaded:e,query:i,sessionId:l}}(),c=(0,a.useRef)(null),d=(0,a.useRef)(!1),u=(0,a.useCallback)(()=>{c.current&&(clearTimeout(c.current),c.current=null)},[]),m=(0,a.useCallback)(()=>{e("track","quick_actions_assets_tab_search",{query:l,sessionId:s}),d.current=!0},[e,l,s]);return(0,a.useEffect)(()=>{if((0,i.k)().assets_tab_sprig_tracking&&!d.current)return t===Y.Jc.ASSETS&&r&&(n?c.current=setTimeout(()=>{m()},3e4):(m(),u())),u},[t,u,r,n,m]),null}var X=n(259964),Z=n(197696),Q=n(570652),$=n(254093);function ee(){let e=(0,Q.X)();return a.createElement($.Y,{prioritizedBanners:e,location:"editor"})}var et=n(115753);let en=a.memo(function(){return(0,i.k)().internal_only_debug_tools?a.createElement(er,null):null});a.memo(function(){return(0,i.k)().internal_only_debug_tools?a.createElement(el,null):null});let ea={loading:()=>null,error:function(){return a.useEffect(()=>{console.error("Failed to load FigmaScope")},[]),null}},er=et.A.createLazyComponent(()=>Promise.all([n.e(6642),n.e(895)]).then(n.bind(n,441002)).then(e=>e.EmbeddedFigmaScopeViewForEditorEnabled),{...ea,componentName:"EmbeddedFigmaScopeViewForEditorEnabled"}),el=et.A.createLazyComponent(()=>Promise.all([n.e(6642),n.e(895)]).then(n.bind(n,441002)).then(e=>e.EmbeddedFigmaScopeViewForViewerEnabled),{...ea,componentName:"EmbeddedFigmaScopeViewForViewerEnabled"});var ei=n(135668),eo=n(776435),es=n(536384),ec=n.n(es),ed=n(426459),eu=n(513806);function em(){let e=Array.from((0,K.ut)(l.Ez5?.uiState().autoLayoutShortcutHints,new Map).values()),t=(0,o.md)(J.Bu),n=eu.y.isApple(),r=e=>{switch(e){case l.oeV.IGNORE_AUTOLAYOUT:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.ignore_auto_layout"),shortcutText:n?"\u2303 Ctrl":"S"};case l.oeV.PREVENT_NESTING:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.prevent_nesting"),shortcutText:(0,h.t)("fullscreen.auto_layout_hints.space_key")};case l.oeV.FORCE_INSERTION:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.force_insertion"),shortcutText:n?"\u2318":"Ctrl"}}},i=e=>e.isValid?e.isActive?"auto_layout_hints--activeShortcutWithTextContainer--dkT1S auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--invalidShortcutWithTextContainer--gvHLT auto_layout_hints--shortcutWithTextContainer--uEquz";return e?a.createElement("div",{className:ec()("auto_layout_hints--root--MJKU2",{"auto_layout_hints--rootAdjustedForQA--YZlbt":t})},a.createElement("div",{className:"auto_layout_hints--hintsBarContainer--3DyGD"},e.sort((e,t)=>e.shortcut-t.shortcut).map((e,t)=>{let n=r(e.shortcut);return a.createElement("div",{className:i(e),key:t},a.createElement("div",{className:e.isActive&&e.isValid?"auto_layout_hints--activeShortcutContainer--bj0CD auto_layout_hints--shortcutContainer--mIecl":"auto_layout_hints--shortcutContainer--mIecl"},n.shortcutText.length>0?a.createElement("div",{className:"auto_layout_hints--smallShortcutText--lHZ8Q utilities--bodySmall--JyKR1"},n.shortcutText):a.createElement(ed.S,{shortcut:n.shortcutText})),a.createElement("p",null,n.displayName))}))):null}let ep={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages",filterBy:"hidden_sections"},ef={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages"};var eg=n(563741),eh=n(553547),eE=n(768618),e_=n(410441),ey=n(167738),eb=n(959750),eC=n(393704),ev=n(685060),ew=n(181344),eT=n(27776);let eS=(0,o.eU)(new Map),ek=(0,e_.jz)(eT.LdP);function eI({children:e}){let t=(0,K.ut)(l.Ez5?.cooperFocusView().isInFocusedNodeView,!1),n=(0,K.ut)(l.Ez5?.canvasGrid().canvasGridArray,[]),r=(0,ev.rY)(n),i=a.useMemo(()=>r.reduce((e,t,n)=>(e.set(t,n),e),new Map),[r]),s=function(){let e=(0,T.wq)(),t=(0,o.Xr)(eS),[n,r]=a.useState(new Map),[l,i]=a.useState(new Map);return a.useEffect(()=>{let a=new Set,o=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,n=l.get(e.id),r={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};o.set(e.id,r),t&&(!n||t.x!==n.x&&t.y!==n.y)&&a.add(e)}),a.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let n=(0,eE.UN)().get(t),a=n?.containingCooperFrameId()??eh.AD;a!==eh.AD&&e.canvasPosition&&(i(t=>new Map(t.set(e.id,e.canvasPosition))),r(t=>new Map(t.set(e.id,a))))});let s=new Map;n.forEach((e,t)=>{let n=o.get(t);if(!n)return;let{commentCount:a,hasUnread:r}=n,l=s.get(e),i={commentCount:(l?.commentCount??0)+a,threadIds:[...l?.threadIds??[],t],hasUnread:l?.hasUnread||r};s.set(e,i)}),t(s)},[t,l,n,e.data,e.status]),n}(),c=(0,eb.qw)(),d=a.useCallback(e=>{let t=s.get(e.id);if(t)return t;let n=e.comments[0]?.client_meta?.node_id;if(!n)return eh.AD;let a=(0,eE.UN)().get(n);return a?.containingCooperFrameId()??eh.AD},[s]),{xDelta:u,yDelta:m}=(0,ew.m)(),p=a.useMemo(()=>({xDelta:u,yDelta:m}),[u,m]),f=a.useMemo(()=>{let e=[eC.mW.RESOLVED,eC.mW.YOURS];return t&&e.push(eC.mW.CURRENT_ASSET),e},[t]),g=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD,eC.qN.ASSET],[]),E=(0,ey.cm)(),_=a.useCallback(e=>{let t=d(e),n=i.get(t);return void 0!==n&&t!==eh.AD?(0,h.t)("comments.asset_number",{orderNum:n+1}):e.pageName},[d,i]),y=a.useMemo(()=>!!t,[t]),b=a.useCallback(e=>{if(!t)return()=>{};let n=d(e);return n!==eh.AD?()=>{E(n)}:()=>{l.Ez5?.cooperFocusView().exitFocusedNodeView()}},[d,E,t]),C=a.useMemo(()=>({[eC.qN.ASSET]:(e,t)=>{let n=1/0,a=d(e),r=d(t),l=i.get(a)??n,o=i.get(r)??n;return l!==o?l-o:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[d,i]),v=a.useMemo(()=>{let e,t=0;return{maxHeightDelta:-(e=0+ek),minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:t+=c}},[c,!0]),w=a.useMemo(()=>({paddingRight:c}),[c,!0]),S=a.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:y,orphanedBy:"deleted_anchors",filterBy:"deleted_anchors",sidebarFilters:f,sidebarSorts:g,sidebarModesDisabled:!0,dockPositionAdjustment:p,getParentName:_,getOnCommentSelect:b,sortComparatorOverrides:C,commentPositionPaddingAdjustment:w,draggableModalBoundsAdjustment:v}),[y,f,g,p,_,b,C,w,v]);return a.createElement(eg.a.Provider,{value:S},e)}var eN=n(858160),ex=n(572282),eA=n(645445),eL=n(638166);function eO({children:e}){let t=(0,r.d4)(e=>e.universalInsertModal?.pinned===eA.t.PINNED_AND_DOCKED_LEFT),n=(0,ex.a)(),{isPropertiesPanelCollapsed:l}=(0,eN.iT)(),i=(0,eb.qw)();i=l?0:i;let o=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS,eC.mW.CURRENT_PAGE],[]),s=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),{xDelta:c,yDelta:d}=(0,ew.m)(),u=a.useMemo(()=>{let e=(0,e_.hG)(eT.PXB),n=c;return t&&(n+=eL.AN+e),{xDelta:n,yDelta:d}},[t,d,c]),m=a.useMemo(()=>{let e=(0,e_.jz)(eT.LdP),t=0,a=0;return n&&(t+=e,a+=i),{maxHeightDelta:0,minBottomMarginDelta:t,minLeftMarginDelta:0,minRightMarginDelta:a}},[i,n]),p=a.useMemo(()=>{if(n)return{paddingRight:i}},[i,n]),f=a.useMemo(()=>({...ew.y,sidebarFilters:o,sidebarSorts:s,dockPositionAdjustment:u,draggableModalBoundsAdjustment:m,commentPositionPaddingAdjustment:p}),[o,s,p,u,m]);return a.createElement(eg.a.Provider,{value:f},e)}var eR=n(195124),eM=n(314774);let eD={isDevHandoff:!0};function eP({children:e}){let t=(0,ex.a)(),n=(0,C.hA)(),l=(0,r.d4)(e=>e.mirror.appModel.currentPage),i=a.useContext(eM.kw),{isPropertiesPanelCollapsed:o}=(0,eN.iT)(),s=(0,eb.UX)();s=o?0:s;let c=(0,e_.jz)(eT.ZB$),d=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS,eC.mW.CURRENT_PAGE],[]),u=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),m=(0,ew.m)(),p=a.useMemo(()=>{let e=0,n=0;return t&&(e+=c,n+=s),{maxHeightDelta:0,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:n}},[c,s,t]),f=a.useMemo(()=>{if(t)return{paddingRight:s}},[s,t]),g=a.useCallback(e=>{if(!n)return!1;let t=e&&l?i.getCommentDestinationForCanvasPosition(e,l)?.nodeId:void 0;return!t||!(0,eR.rV)((0,eE.UN)(),n,t)},[l,i,n]),E=a.useMemo(()=>{let e={...ew.y,sidebarFilters:d,sidebarSorts:u,dockPositionAdjustment:m,draggableModalBoundsAdjustment:p,commentPositionPaddingAdjustment:f,linkGenerationParams:eD,isCommentingDisabledAtPosition:g,commentDisabledPositionBellMessage:(0,h.t)("dev_handoff.workflows.focus_view.comments")};return n&&(e.filterBy="non_dev_mode_focus"),e},[d,u,m,p,f,g,n]);return a.createElement(eg.a.Provider,{value:E},e)}var eF=n(206639),eB=n(559836),eU=n(854673),eG=n(969641),eK=n(515640);let eV={isFigJam:!0};function eH({children:e}){let t=(0,eU.Vi)(),n=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS],[]),r=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),{xDelta:l,yDelta:i}=(0,ew.m)(),o=a.useMemo(()=>({xDelta:l,yDelta:i}),[l,i]),s=a.useMemo(()=>208,[]),c=a.useMemo(()=>{let e=new Map;return e.set(eB.b.DOCK_STYLE,eK._),e.set(eB.b.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,eF.Bx)("light")),e},[]),d=a.useMemo(()=>{let e;let n=(0,e_.jz)(eT.IuL),a=(0,e_.jz)(eT.rY4),r=0,l=0;return e=0-n,r+=n,t&&(l+=a),{maxHeightDelta:e,minBottomMarginDelta:r,minLeftMarginDelta:0,minRightMarginDelta:l}},[t]),u=a.useCallback(()=>{(0,eG.W)("left",()=>{})},[]),m=a.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:n,sidebarSorts:r,dockPositionAdjustment:o,draggableModalBoundsAdjustment:d,onDockSideEffect:u,sidebarBottomPaddingAdjustment:s,styleOverrideMap:c,linkGenerationParams:eV}),[o,d,u,s,n,r,c]);return a.createElement(eg.a.Provider,{value:m},e)}var ez=n(900723);function eW({children:e}){let t=(0,r.d4)(e=>e.selectedView.editorType),n=a.useMemo(()=>{if(window.FigmaMobile)return t===X.nT.Whiteboard?function({children:e}){return a.createElement(eg.a.Provider,{value:ep},e)}:function({children:e}){return a.createElement(eg.a.Provider,{value:ef},e)};switch(t){case X.nT.Design:return eO;case X.nT.Whiteboard:return eH;case X.nT.Slides:return ez.Yz;case X.nT.DevHandoff:return eP;case X.nT.Cooper:return eI;default:return function({children:e}){return a.createElement(eg.a.Provider,{value:ew.y},e)}}},[t]);return a.createElement(n,null,e)}var ej=n(584978),eY=n(773511),eJ=n(531788),eq=n(271020),eX=n(544405),eZ=n(989232),eQ=n(61503),e$=n(454805),e0=n(755534),e1=n(720522),e2=n(297638),e3=n(66699),e5=n(533226),e4=n(303006),e6=n(244534),e8=n(372566);let e9=0;class e7{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,n;let a=new Promise((e,a)=>{t=e,n=a}),r=++e9;return this.jobs.push({jobId:r,resolve:t,reject:n,callback:e}),{promise:a,jobId:r}}}let te={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},tt=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:n}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:n}},this.queuedWorker=new e7,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||te,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var tn=n(584063),ta=n(643841),tr=n(131804),tl=n(906314),ti=n(307877),to=n(439952),ts=n(489082),tc=n(552807),td=n(730143),tu=n(280255),tm=n(172797),tp=n(17753),tf=n(880801),tg=n(619534),th=n(219706),tE=n(345174),t_=n(307843),ty=n(697587),tb=n(175393);let tC="export_picker--header--Wz6np",tv="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE";var tw=n(443105);let tT=(0,e_.hG)(eT.zK5);function tS(){let e=(0,td.q5)(),t=(0,r.d4)(e=>e.exportableItems),n=(0,r.d4)(e=>e.dropdownShown),l=!!e&&(0,tu.Pe)(e),i=(0,eQ.Av)(),o=(0,r.d4)(e=>e.saveAsState),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),c=(0,r.wA)(),d=new e$.Mi(window.innerWidth-tT,i+12);return a.useEffect(()=>{c((0,tr.HR)())},[c]),a.createElement(tb.vx,{title:(0,h.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:d,onClose:()=>{c(e6.XE())},dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx"},a.createElement("div",{className:"export_picker--exportModalContainer---vmI7"},a.createElement(tN,{exports:t,isCopyExportRestricted:l,width:tT,dispatch:c,dropdownShown:n,saveAsState:o,currentPage:s})))}let tk=new e8.mz;function tI({nodeID:e,title:t,filename:n,exportSetting:r,colorProfile:i=l.RYP.SRGB,isBeingRenamed:o,...s}){let[c,d]=(0,a.useState)({size:"",warning:"",warningTooltip:""}),[u,m]=(0,a.useState)(""),p=(0,ti.A0)(l.uQ6.EXPORT_PICKER);(0,a.useEffect)(()=>{let a={guid:e,title:t,filename:n,exportSetting:r},o=l.glU.getExportWarningAndSize(a);if(o){let{size:e,warning:t,warningTooltip:n}=o;d({size:e,warning:t,warningTooltip:n})}else console.error("Failed to export",a);let s=!!r.contentsOnly,c=(0,ts.gl)(r)?i:(0,tn.A)([r],i),{jobId:u}=tt.queueJob(()=>{let t=tc._G(new e$.Mi(32,32),e,s),n="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(n=tc.Pv(t.pixels,t.pixelSize,c)),m(n)});return()=>tt.cancelJobs([u])},[i,r,n,e,t]);let{onToggleChecked:f,isChecked:g,isDisabled:h}=s,{imageType:E}=r,_=s.warning??c.warning,y=s.warningTooltip??c.warningTooltip,b=(0,a.useId)(),C=`${b}-input`,v=`${b}-desc`;return a.createElement("div",{className:"export_picker--row--lVRtp"},a.createElement("label",{htmlFor:C,className:"export_picker--label--43URE"},a.createElement(ej.W,{id:C,checked:g,onChange:f,disabled:h,"aria-describedby":v}),a.createElement(eY.E,{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),l.glU.panToNode(e,!1)},htmlAttributes:{"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":n}},!!u&&a.createElement("img",{src:u,className:"export_picker--thumb--pKbcx",alt:""})),a.createElement("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA"},a.createElement("div",{className:ec()("export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa",{"export_picker--nameRenaming--jTYjh":p&&o})},t),_&&a.createElement("div",{className:"export_picker--warningRow--PMwtO"},a.createElement(e1.B,{className:"export_picker--warningIcon--fgSRz",svg:tw.A,"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":y}),a.createElement("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa"},_)))),a.createElement("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:v},a.createElement("div",null,tk.format(r.constraint)," ",E),a.createElement("div",null,c.size)))}class tN extends a.PureComponent{constructor(){super(...arguments),this.state={renamingLayersRunning:!1,downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(e6.XE())},this.autoRenameFrameAndFile=async e=>{if(0===e.length)return;this.setState({renamingLayersRunning:!0}),this.props.exports.items.forEach(t=>{e.includes(t.nodeID)&&(t.isBeingRenamed=!0)}),o.zl.set(t_.zF,(0,tl.Tr)(l.uQ6.EXPORT_PICKER)),(0,tg.B3)(tf.JT.AUTO_RENAME_LAYERS),await (0,tg.Ag)(tf.JT.AUTO_RENAME_LAYERS,tl.Ay,{source:l.uQ6.EXPORT_PICKER,overwriteNames:!1,customNodeSelection:e,ignoreDescendants:!0});let t=(0,tg.pP)(tf.JT.AUTO_RENAME_LAYERS).state;t===tg.qy.DONE?this.props.exports.items.forEach(t=>{if(!e.includes(t.nodeID))return;let n=eE.UN().get(t.nodeID)?.name;t.filename=t.filename.replace(t.title,n||t.title),t.title=n||t.title,t.isBeingRenamed=!1}):(t===tg.qy.ERROR||t===tg.qy.CANCELLED)&&this.props.exports.items.forEach(e=>{e.isBeingRenamed=!1}),this.setState({renamingLayersRunning:!1})},this.cancelAutoRename=()=>{let{aiTrackingContext:e}=(0,tg.pP)(tf.JT.AUTO_RENAME_LAYERS),t={...e,...(0,th.LU)({shortcut:null,target:null}),interaction:tE.Ek.STOP};(0,tg.cT)(tf.JT.AUTO_RENAME_LAYERS),(0,th.nP)(t)},this.onExport=e=>{if(this.props.isCopyExportRestricted||((0,eZ.trackEvent)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()||0===e.length))return;let t=[this.props.currentPage];to.xY.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,tm.Dc)(tm.hV.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),n=0;l.glU.clearExportedItems();let a=t.map(e=>tt.queueJob(()=>l.glU.exportItem(e))),r=a.map(e=>e.promise);r.forEach(e=>e.then(()=>this.setState({exportingProgress:++n}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:a.map(e=>e.jobId)}),Promise.all(r).then(()=>{this.setState({exportingJobIds:[]}),l.glU.saveExportedItems(),this.props.dispatch(e6.XE()),this.props.dispatch(e5.rg()),(0,e3.YQ)({id:"export_completed",properties:{from:"export_picker"}})})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,n)=>{this.props.dispatch(e4.G({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(e4.G({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID],this.renderRenameLayersButton=e=>{let{detectedUnnamedLayers:t,exceedingLayerLimit:n,renamableNodeGuids:r}=(0,ti.Mc)(e.map(e=>e.nodeID),!0),l=this.state.renamingLayersRunning?this.cancelAutoRename:()=>this.autoRenameFrameAndFile(r),i=!(t&&!n)||this.state.downloadStarted||this.state.exportingStarted;return a.createElement(eJ.Pw,{variant:"secondary",onClick:l,disabled:i},this.state.renamingLayersRunning?(0,h.tx)("fullscreen.export.cancel"):a.createElement("div",{className:e2.s.flex.flexRow.justifyCenter.gap8.$},(0,h.tx)("fullscreen.context_menu.auto_rename_layers"),a.createElement(ty.y,{helpUrlVariant:tf.JT.AUTO_RENAME_LAYERS})))}}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&tt.cancelJobs(this.state.exportingJobIds)}getItemsToExport(){return this.props.exports.items?this.props.exports.items.filter(e=>this.isChecked(e)):[]}renderHeader(){if(this.isExporting())return a.createElement("div",{className:tC},a.createElement("label",{className:tv},(0,h.tx)("fullscreen.export.preparing_exporting_progress_of_exporting_total",{exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})),a.createElement(eJ.$n,{variant:"secondary",onClick:this.onCancel},(0,h.tx)("fullscreen.export.cancel")));if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return a.createElement("div",{className:tC},a.createElement("label",{className:tv},(0,h.tx)("fullscreen.export.exporting")));if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return a.createElement("div",{className:tC},a.createElement("label",{className:tv},(0,h.tx)("fullscreen.export.downloading")));{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return a.createElement("div",{className:tC},a.createElement("label",{className:tv},(0,h.tx)("fullscreen.export.downloading_progress",{downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})),a.createElement(eJ.$n,{variant:"secondary",onClick:this.onCancel},(0,h.tx)("fullscreen.export.cancel")))}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,n=e.length,r=n===t;return a.createElement("div",{className:tC},a.createElement(eq.S,{checked:r,mixed:!r&&t>0,onChange:()=>this.setAllChecked(!r),label:a.createElement(eX.J,null,(0,h.tx)("fullscreen.export.num_selected_of_total_selected",{numSelected:t,total:n}))}),a.createElement("span",{className:ec()("export_picker--flexRight--PFS7g")},a.createElement(eJ.$n,{variant:"secondary",disabled:!t,onClick:()=>this.onExport(this.getItemsToExport()),autoFocus:!0},(0,h.tx)("fullscreen.export.export"))))}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0,t=(0,ti.A0)(l.uQ6.EXPORT_PICKER);return a.createElement("div",null,a.createElement("div",{className:"export_picker--modal--FoIpV"},this.renderHeader(),a.createElement(e0.P,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6"},!e&&a.createElement("div",{className:"export_picker--emptyModal--x2aqt"},(0,h.tx)("fullscreen.export.no_selected_layers_with_export")),a.createElement(ta.ZH,null,({documentExportColorProfile:n})=>e&&this.props.exports.items.map((e,r)=>a.createElement(tI,{key:r,colorProfile:n,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),isBeingRenamed:t&&e.isBeingRenamed,...e})))),t&&a.createElement("div",{className:"export_picker--footer--a3gs1"},this.renderRenameLayersButton(this.getItemsToExport()))))}}tN.displayName="ExportPicker";var tx=n(345900),tA=n(672154),tL=n(797688),tO=n(995218),tR=n(601167),tM=n(277454),tD=n(88009),tP=n(688577),tF=n(228845),tB=n(439796);let tU=(0,e_.jz)(eT.ZAq);function tG({subscribeToUpdates__EXPENSIVE:e}){let t=(0,tR._X)({subscribeToUpdates_expensive:e}),n=(0,tO.ow)(),r=(0,tF.Ye)(),l=(0,eQ.Pg)(),i=(0,tP._)(),{left:o,right:s}=(0,tL.LO)();return a.useCallback((e,a,c)=>{let d={top:i,left:r||n?0:o,right:t.x+t.width-(Math.max(n?0:s,c+12)+8),bottom:t.height-(l+tU+16)},u=12;e<d.left?u=d.left+12:e>d.right&&(u=-(c+4));let m=12;return a>d.bottom&&(m=Math.min(d.bottom+12-(a+8),-(l+24))),{x:u,y:m}},[n,t,r,l,i,o,s])}var tK=n(803565),tV=n(320953),tH=n(986285);let tz={type:"SOLID",opacity:1,visible:!0,blendMode:"NORMAL"};function tW({initialPosition:e,initialCreationColor:t,initialView:n,disableStyleModal:i,onClose:o}){let{VariableAndStyleCreateModalRoot:s}=a.useContext(tH.l)??{},c=(0,r.d4)(e=>e.pickerShown),d=(0,r.wA)();function u(){(e6.Ty(c?.id??null)||e6.kU(c?.id??null))&&d(e6.XE())}let m=a.useMemo(()=>({type:l.Z_n.COLOR,resolvedType:l.rXF.COLOR,value:t}),[t]);return e&&s?a.createElement(s,{disableStyleModal:i,inheritStyleKeyField:"inheritFillStyleKey",initialPosition:e,initialStyleCreationPaint:tz,initialVariableValue:m,initialView:n,onClose:o,onCreateStyle:function(e){tV.l7.system("create-new-style-from-eyedropper",()=>{l.OmW.applyPaint((0,tK.oU)(t),null,e.node_id),u()})},onCreateVariable:function(e){let n=Object.values(e.modeValues)?Object.values(e.modeValues)[0]:null,a=(0,tK.oU)(n?.type===l.Z_n.COLOR?n.value:t);l.OmW?.applyPaint(a,e.node_id,null),u()},resolvedType:l.rXF.COLOR,shouldUseEyedropperStyleCreationFlow:!0}):null}var tj=n(948269),tY=n(297703),tJ=n(325498),tq=n(29188),tX=n(446470),tZ=n(781239),tQ=n(113752),t$=n(43322),t0=n(539829),t1=n(750892);let t2=(0,o.eU)(!1);var t3=n(523112),t5=n(890868),t4=n(866281),t6=n(325590),t8=n(888663),t9=n(891627),t7=n(665549),ne=n(581520);class nt extends a.Component{static getDerivedStateFromError(e){return{}}componentDidCatch(e,t){if((0,t7.isErrorCausedByWindowClose)(e))(0,N.xi)("FloatingWindowErrorBoundary","Ignoring IPC error",{error:e,errorInfo:t},{reportAsSentryError:!1});else throw e}render(){return this.props.children}}function nn({children:e,initialWidth:t,initialHeight:n,initialMinHeight:r,onChangePosition:l,hidden:i}){if(!tq.eD||!tq.eD.isFloatingWindowAvailable())throw Error("DesktopFloatingWindow: rendered with unsupported desktop app version");let[o,s]=(0,a.useState)(null),c=(0,a.useRef)(o),d=(0,a.useRef)(t),u=(0,a.useRef)(n),m=(0,a.useRef)(r),p=(0,a.useRef)(l),f=(0,a.useRef)(null),g=(0,a.useCallback)(e=>{null!=f.current&&f.current.displayId!==e.displayId&&requestAnimationFrame(()=>{null!=c.current&&(0,t7.withFloatingWindowAPI)(c.current,e=>{e.readyToDisplay()})}),f.current=e,p.current?.(e)},[]),h=(0,a.useCallback)(()=>{let e=`width=${d.current},height=${u.current},floatingWindow=true`;null!=m.current&&(e+=`,minHeight=${m.current}`);let t=window.open("about:blank","_blank",e);if(null==t)return(0,N.x1)("DesktopFloatingWindow","Unable to open floating window"),null;t.document.body.style.overflow="hidden",function(e){let t=0,n=()=>{(t-=1)<=0&&e.requestAnimationFrame(()=>{(0,t7.withFloatingWindowAPI)(e,e=>{e.readyToDisplay()})})};for(let t of(e.document.body.classList.add(ne.xE),document.body.attributes))t.name.startsWith("data-")&&e.document.body.setAttribute(t.name,t.value);for(let a of(e.document.body.style.colorScheme=document.body.style.colorScheme,document.querySelectorAll("link[rel=stylesheet], style"))){let r=a.cloneNode(!0);"LINK"===r.tagName&&(t+=1,r.addEventListener("load",n),r.addEventListener("error",n)),e.document.head.appendChild(r)}0===t&&n()}(t),(0,t7.withFloatingWindowAPI)(t,e=>{e.onChangePosition(g)}),s(t),c.current=t,t.addEventListener("close",()=>{s(null),c.current=null})},[g]),E=!!e;return((0,a.useEffect)(()=>{E?h():s(null)},[E,h]),(0,a.useEffect)(()=>{if(null!=o)return()=>{(0,t7.suppressingErrorsCausedByWindowClose)(()=>{o.close()})}},[o]),(0,a.useEffect)(()=>{null!=o&&(0,t7.withFloatingWindowAPI)(o,e=>{i?e.hideWindow():e.showWindow()})},[o,i]),null!=o)?t9.createPortal(e,o.document.body):null}function na(e){return a.createElement(nt,null,a.createElement(nn,{...e}))}function nr({children:e,eyedropperHeight:t,eyedropperWidth:n,hidden:r}){let o=!!(0,i.k)().desktop_floating_eyedropper_fake_cursor,s=(t+12+16)*2,c=(n+12+16)*2,[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!0),[h,E]=(0,a.useState)(!1),_=d?16:16+n+24,y=m===f?16:16+t+24;f||(y=-y);let b=a.useRef(null),C=a.useRef(null),v=(0,a.useCallback)(e=>{t9.flushSync(()=>{E(!0),e()}),b.current?.getBoundingClientRect(),t9.flushSync(()=>{E(!1)})},[]),w=(0,a.useCallback)(e=>{let t=C.current;C.current=e;let n=t?.yZone===t7.FloatingWindowVerticalZone.NN||t?.yZone===t7.FloatingWindowVerticalZone.N,a=e.yZone===t7.FloatingWindowVerticalZone.NN||e.yZone===t7.FloatingWindowVerticalZone.N,r=()=>{g(!a),u(e.xZone===t7.FloatingWindowHorizontalZone.EE),p(e.yZone===t7.FloatingWindowVerticalZone.SS)};null!=t&&(n!==a||t.displayId!==e.displayId)?v(r):r()},[v]);return(0,t3.Gz)(o&&!r),a.createElement(na,{initialWidth:c,initialHeight:s,initialMinHeight:t+16,onChangePosition:w,hidden:r},o&&a.createElement("div",{style:{position:"absolute",left:c/2,bottom:s/2,transform:"translate(-50%, 50%)",pointerEvents:"none"}},a.createElement(t3.fA,{currentToolForCursor:l.NLJ.DROPPER_COLOR})),a.createElement("div",{ref:b,style:{position:"absolute",height:t,width:n,left:0,[f?"top":"bottom"]:0,transform:`translate(${_}px, ${y}px)`,transition:h?void 0:"transform 0.2s ease-in-out"}},e))}var nl=n(476254),ni=n(353231);let no=document.createElement("canvas"),ns=no.getContext("2d"),nc=(e,t,n,a,r,i)=>{e.save();{let o=t/2;i?e.roundRect?e.roundRect(0,0,48,48,5):e.rect(0,0,48,48):e.arc(o,o,o-2,0,2*Math.PI,!1),e.clip();let{width:s,height:c,rgba:d,grid:u}=r;if(ns&&s&&c){let n=ns.createImageData(s,c,{colorSpace:r.colorProfile===l.RYP.DISPLAY_P3?"display-p3":"srgb"});n.data.set(d),no.width=s,no.height=c,ns.putImageData(n,0,0),e.imageSmoothingEnabled=!1,e.drawImage(no,0,0,t,t)}if(u){e.beginPath();let r=i?1:0,l=i?-.5:.5;for(let i=1;i<a;i++)l+=n,e.moveTo(l,r),e.lineTo(l,t-r),e.moveTo(r,l),e.lineTo(t-r,l);e.strokeStyle=i?"rgba(0, 0, 0, 0.1)":"rgba(51, 51, 51, 0.2)",e.stroke()}}e.restore()},nd=(e,t,n,a)=>{a||(e.strokeStyle="white",e.strokeRect(t-n/2-.5,t-n/2-.5,n+2,n+2),e.strokeStyle="black",e.strokeRect(t-n/2+.5,t-n/2+.5,n,n))},nu=(e,t,n)=>{if(n){e.beginPath(),e.roundRect?e.roundRect(0,0,348,548,5):e.rect(0,0,348,548),e.strokeStyle="rgba(0, 0, 0, 0.1)",e.stroke();return}e.beginPath(),e.arc(t,t,t-1,0,2*Math.PI,!1),e.strokeStyle="white",e.stroke(),e.beginPath(),e.arc(t,t,t-2,0,2*Math.PI,!1),e.strokeStyle="black",e.stroke()};function nm(e,t,n){let a=n?7:17,r=n?7:10,l=n?48:a*r,i=e.getContext("2d");if(!i)return;let o=devicePixelRatio;e.width=l*o,e.height=l*o,i.scale(o,o),nc(i,l,r,a,t,n),nd(i,l/2,r,n),nu(i,l/2,n)}let np="eyedropper_v2--text--dOiTx",nf="eyedropper_v2--rowContents--dv3nr",ng="eyedropper_v2--chit--1D1ND";function nh({eyedropper:e,onOpenCreationModal:t}){let n,s;let c=function(){let e=(0,r.d4)(e=>e.eyedropper),t=(0,r.d4)(e=>e.library.local.styles),n=(0,o.md)(tB.Cg),a=(0,r.d4)(e=>e.library.used__LIVEGRAPH.styles);if(!e)return null;let i=e.assetId,s={},c=e.variableSetModeId;if(""===i)return null;let d=null,u=null;if(tA.PK.isValid(i)){if(d=tA.PK.toGuidStrIfLocal(i)){if(d in t){let e={style:t[d]};return s[d]=e,e}}else if(u=tA.PK.toRefIfSubscribed(i)){d=tA.PK.fromRef(u);let e=(0,tM.yh)(u.key,a,{}),t=null;return e&&(t={style:e},s[d]=t),t}}else if(tA.sD.isValid(i)){if((d=tA.sD.toString(i))in n){let e={variable:n[d],variableModeId:c};return s[d]=e,e}let e=l.CWU.getSubscribedVariableInfo(d);if(e){let t={variable:(0,tD.ZI)(e),variableModeId:c};return s[d]=t,t}}return d&&d in s?s[d]:null}(),d=(0,r.wA)(),u=function(){let e=l.Ez5?.uiState().backgroundPickerOpen.getCopy(),t=(0,r.d4)(e=>e.mirror.appModel.prototypeBackgroundPickerOpen),n=(0,r.d4)(e=>e.variablePickerShown.isShown),a=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),i=(0,r.d4)(e=>e.mirror.selectionProperties.numSelected);return e||t||n||a.type!==l.rrT.NONE||0!==i}(),m=(0,tO.E3)(),p=(0,ta.Ep)(),g=(0,o.md)(t0.wg),_=(0,o.md)(t2),[y,b]=(0,tJ.Vc)("has_toggled_eyedropper_creation_mode",!1),[C,v]=a.useState(!1),[w,T]=a.useState(!1),S=m===X.nT.Whiteboard,k=m===X.nT.DevHandoff,I=!g||k||!u&&!y,N=a.useRef(null),x=a.useRef(null);a.useLayoutEffect(()=>{if(x.current){let{width:t,height:n,rgba:a,grid:r}=e;nm(x.current,{width:t,height:n,rgba:a,grid:r,colorProfile:p},!0)}});let A=(0,t$.v4)(),L=(0,t6.Ig)(),O=(0,eb.Ku)(),R=function(){let e=(0,eb.Ku)();return a.useCallback(()=>{let t=Object.keys(l.NVY).length/2,n=(e+1)%(t-1),a=[l.NVY.CSS,l.NVY.UIColor];for(;a.includes(n);)n=(n+1)%(t-1);(0,eb.UK)().colorFormat.set(n)},[e])}(),M=tG({subscribeToUpdates__EXPENSIVE:_}),D=(0,eF.H0)(e.color)??eF.UE,P=(0,eF.H0)(e.resolvedVariableColor)??eF.UE,F=c?.style?c.style:void 0,B=c?.variable?c.variable:void 0,U=L(D,{eyedropperFormat:!0})||"",G="",K=[];F?(G=F.name,n=a.createElement("div",null,a.createElement("div",{className:"eyedropper_v2--styleCircle--rLPqT"}),a.createElement(t8.zi,{dsStyle:F,disableOutline:!0,disableTooltip:!0})),s="eyedropper-v2-style",K=[{key:"modifier-1",label:"shift"}]):B?(G=k?(0,t$.xv)(B,A.id)??B.name:B.name,n=a.createElement(t5.J,{className:ng,color:P,hideBorderShadow:!0}),s="eyedropper-v2-variable",K=[{key:"modifier-1",label:"shift"}]):I?(G=(0,h.t)("eyedropper.click_to_copy"),n=a.createElement(tj.V,null)):y?(e.dropperData.creationFlow===l._4o.STYLES?(G=(0,h.t)("eyedropper.create_style"),n=a.createElement(tY.J,null),s="eyedropper-v2-style-creation"):e.dropperData.creationFlow===l._4o.VARIABLES&&(G=(0,h.t)("eyedropper.create_variable"),n=a.createElement(tY.J,null),s="eyedropper-v2-variable-creation"),K=[{key:"modifier-1",label:"shift"},{key:"modifier-2",label:f.Ay.mac?"\u2318":"ctrl",isMetaKey:f.Ay.mac}]):(G=(0,h.t)("eyedropper.click_to_sample"),n=a.createElement(tj.V,null));let V=!S&&!I&&e.dropperData.creationFlow!==l._4o.NONE&&!F&&!B,H=a.useCallback(()=>{if(!N.current)return null;t(D,e)},[t,D,e]),z=a.useCallback(()=>{if(!N.current)return;let t="",n="";C&&(F?t="style name":B&&(t="variable name"),n=G),""===t&&(t=O===l.NVY.HEX?"hex":t4.Fr.format(O),n=U),(!u||I)&&((0,tX.Dk)(n),d(E.F.enqueue({message:(0,h.t)("visual_bell.copied_color_to_clipboard_figma_design",{colorType:t}),count:n,icon:tQ.zX.EYEDROPPER})),function(e,t,n,a,r){let l,i;let o=nl.D.getState(),[s,c]=(l="raw",i=n,a&&"style name"===t?(l="style",i=a.node_id):r&&"variable name"===t&&(l="variable",i=r.node_id),[l,i]);(0,ni.ds)("eyedropper_copy",o.openFile?.key,o,{tracking_session_dropper_id:e,selection_type:s,copied_value:c,contains_style:!!a,contains_variable:!!r})}(e.dropperData.dropperId,t,n,F,B))},[O,d,e.dropperData,U,u,G,C,F,B,I]),W=tZ.fo("stylesAndVariablesEyedropper","keydown",e=>{let{event:t}=e,n=f.Ay.mac?t.metaKey:t.ctrlKey;if("Tab"===t.key&&(R(),e.accept()),t.shiftKey&&(F||B||!n||b(!0),(V&&n||F||B)&&(v(!0),e.accept())),"Enter"===t.key&&N.current){if(l.OmW?.toggleOffEyedropper(),e.accept(),V&&C){H();return}if(z(),!u)return;tV.l7.system("apply-eyedropper-with-keyboard",()=>{l.OmW?.applyPaint(tK.oU(D),C?B?.node_id??null:null,C?F?.node_id??null:null)})}}),j=a.useCallback(e=>{let t=f.Ay.mac?e.metaKey:e.ctrlKey;(e.shiftKey||"Shift"!==e.key)&&(!V||t||"Meta"!==e.key)||v(!1)},[V]),Y=a.useCallback(e=>{V&&C&&H()},[V,C,H]),J=a.useCallback(()=>{T(!0)},[]);a.useEffect(()=>(window.addEventListener("keyup",j),window.addEventListener("pointerup",z),window.addEventListener("mousedown",Y),window.addEventListener("mousemove",J,{once:!0}),()=>{window.removeEventListener("keyup",j),window.removeEventListener("pointerup",z),window.removeEventListener("mousedown",Y),window.removeEventListener("mousemove",J)}));let q=(0,i.k)().desktop_floating_eyedropper&&tq.eD?.isFloatingWindowAvailable(),Z=(0,e_.jz)(S?eT.tXK:eT.k22),Q=(()=>{let t;if(!_)return null;if(!q){let n=M(e.cursorPosition.x,e.cursorPosition.y,Z);t={transform:`translate(${n.x}px, ${n.y}px)`}}return a.createElement("div",{className:ec()("eyedropper_v2--eyedropperv2----W5m",w&&"eyedropper_v2--eyedropperv2Animation--AQ3Od"),style:t,ref:N,"data-testid":"eyedropper"},a.createElement("div",{className:ec()("eyedropper_v2--loupeSamplingSquare--mt9xT")}),a.createElement("canvas",{ref:x}),!S&&a.createElement("div",null,a.createElement(nE,{icon:a.createElement(t5.J,{className:ng,color:D,hideBorderShadow:!0}),text:U,keyBadges:[],isSelected:!C}),a.createElement(nE,{icon:n,text:G,keyBadges:K,isSelected:C,dataTestId:s})))})();return a.createElement(a.Fragment,null,null!=Q&&a.createElement(t1.vL,{focusOnMount:!0,name:"stylesAndVariablesEyedropper",handleKeyDown:W}),q?a.createElement(nr,{eyedropperHeight:(0,e_.jz)(eT.ZAq),eyedropperWidth:Z,hidden:null==Q},Q):null!=Q&&a.createElement(t3.ix,{position:e.cursorPosition,currentToolForCursor:l.NLJ.DROPPER_COLOR},Q))}function nE({icon:e,text:t,keyBadges:n,isSelected:r,dataTestId:l}){return a.createElement("div",{className:ec()("eyedropper_v2--menuRow--IGEss",r&&"eyedropper_v2--selectedRow--GlyoK",S.Dm),"data-testid":l},a.createElement("div",{className:nf},a.createElement("div",{className:"eyedropper_v2--iconContainer--TVZ5N"},e),a.createElement("div",{className:ec()("eyedropper_v2--menuOption--WK4oh",np)},t)),a.createElement("div",{className:nf},n&&n.map(e=>a.createElement("div",{key:e.key},a.createElement("div",{className:ec()(np,e.isMetaKey?"eyedropper_v2--keyMetaBadge--S1g3y eyedropper_v2--keyBadge--9GITk":"eyedropper_v2--keyTextBadge--ERRPy eyedropper_v2--keyBadge--9GITk")},a.createElement(ed.S,{shortcut:e.label}))))))}function n_(){let e=(0,r.d4)(e=>e.eyedropper),t=a.useRef(),n=tG({subscribeToUpdates__EXPENSIVE:!!e}),[i,o]=a.useState(!1),[s,c]=a.useState(null),[d,u]=a.useState("createVariable"),[m,p]=a.useState(!1),f=a.useCallback((e,a)=>{o(!0),c(e),u(a.dropperData.creationFlow===l._4o.STYLES?"createStyle":"createVariable"),p(a.dropperData.canAcceptStyles);let r=n(a.cursorPosition.x,a.cursorPosition.y,tx.i),i=new e$.Mi(r.x+a.cursorPosition.x,r.y+a.cursorPosition.y);t.current=i,l.OmW?.toggleOffEyedropper()},[n]),g=a.useCallback(()=>{o(!1)},[]),h=i&&s;return a.createElement(a.Fragment,null,e&&a.createElement(nh,{eyedropper:e,onOpenCreationModal:f}),h&&a.createElement(tW,{initialPosition:t.current,initialCreationColor:s,initialView:d,disableStyleModal:!m,onClose:g}))}var ny=n(520116),nb=n(355755),nC=n(698429);function nv(){let e=(0,r.d4)(e=>e.eyedropper),t=(0,nb.p8)("showUi"),n=(0,ny.lz)(),l=(0,nC.ks)(),i=(0,tO.ow)(),o=(0,k.GS)(),s=(0,eb.qw)(),c=(0,ta.Ep)(),d=a.useRef(null),u=o?7:10,m=o?48:(o?7:17)*u,p=m/2;if(a.useLayoutEffect(()=>{if(e&&d.current){let{width:t,height:n,rgba:a,grid:r}=e;nm(d.current,{width:t,height:n,rgba:a,grid:r,colorProfile:c},!1)}}),!e)return null;let f=t&&!i?o?l?n+(0,e_.jz)(eT.ms_):s+(0,e_.jz)(eT.ms_):l?n:(0,e_.jz)(eT.uj0):0;return a.createElement("div",{className:ec()({"eyedropper_view--container--Qpjgx":!0,"eyedropper_view--topToolbarShown--Aoby4":t,"eyedropper_view--topToolbarHidden--Auk7e":!t}),style:{width:m,height:m,right:(0,e_.jz)(eT.ms_)+f}},a.createElement("canvas",{ref:d}),a.createElement("div",{className:"eyedropper_view--label--PsjGr",style:{left:3*u,right:3*u,top:p+4*u,lineHeight:2*u+"px",borderRadius:u}},e.color))}var nw=n(133507),nT=n(652576),nS=n(938982),nk=n(998568),nI=n(324183);function nN(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function nx(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.mirror.appModel),l=e.clientX,i=e.clientY,o=async t=>{let n=await fetch(e.attachment.imageUrl,{mode:"cors"}),a=await n.blob();if(!t)return a;if("image/jpeg"===a.type||"image/gif"===a.type){let e=await createImageBitmap(a),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");return n?.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return a},s=[{name:"download-attachment",callback:async()=>{try{await o(!1).then(n=>{let a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=(0,h.t)("comments.attachment_default_name",{fileExtension:n.type.split("/")[1]}),r.click(),URL.revokeObjectURL(a),(0,eZ.trackEvent)("Comment Attachment Download Success",nN(e.attachment)),t(E.F.enqueue({message:(0,h.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(n){(0,eZ.trackEvent)("Comment Attachment Download Failure",nN(e.attachment)),(0,nk.$D)(nS.e.FEEDBACK,n),t(E.F.enqueue({message:(0,h.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(E.F.enqueue({message:(0,h.t)("comments.copying_attachment"),type:"copy-attachment",icon:tQ.zX.SPINNER}));try{await o(!0).then(async n=>{let a=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([a]).then(()=>{(0,eZ.trackEvent)("Comment Attachment Copy Success",nN(e.attachment)),t(E.F.enqueue({message:(0,h.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(n){(0,eZ.trackEvent)("Comment Attachment Copy Failure",nN(e.attachment)),(0,nk.$D)(nS.e.FEEDBACK,n),t(E.F.enqueue({message:(0,h.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return a.createElement(nI.Q,{appModel:n,menuItems:s,targetRect:{width:10,height:10,left:l+100,top:i,right:l+110,bottom:i-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var nA=n(923164),nL=n(518925),nO=n(972402),nR=n(996202),nM=n(733969),nD=n(863270),nP=n(361053),nF=n(253066),nB=n(478146);function nU({children:e,entryPoint:t}){let n=(0,td.tS)(),r=(0,F.iZ)(),l=(0,nP.ol)(),i=(0,nM.O)(),o=(0,nR.U)(),s=(0,nF.U)("upsell"),c=(0,a.useCallback)(()=>{o("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:t},{forwardToDatadog:!0}),s("handoff")},[t,s,o]);return a.createElement(nD.fu,{name:"Dev Mode Upsell In Design Mode",properties:{currentPlan:i,teamId:l?.id,userId:r?.id,fileKey:n,upsellSource:t}},a.createElement(eY.E,{className:"context_menus_upsells--upsellItem--lBYll",onClick:c},a.createElement(e1.B,{svg:nB.A}),a.createElement("span",null,e)))}function nG(){return a.createElement(nU,{entryPoint:"design_section_status"},(0,h.tx)("dev_handoff.paywall.ready_for_dev.upsell"))}function nK(){return a.createElement(nU,{entryPoint:"design_copy_as_code"},(0,h.tx)("dev_handoff.paywall.codegen.upsell"))}function nV(){return a.createElement(nU,{entryPoint:"design_annotations"},(0,h.tx)("dev_handoff.paywall.annotations.upsell"))}function nH({targetInViewport:e,annotationsCount:t,selectedView:n}){var l;let i=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),s=(0,r.d4)(e=>e.mirror.sceneGraph),c=(0,nF.U)("annotations_button"),d=(0,tR.ni)(),u=(0,nO._I)(),m=(0,nO.U4)(),p=(l=()=>c("handoff"),u?[{name:"view-annotations",callback:l,flags:["design"]},{separator:!0},{render:()=>a.createElement("div",{className:e2.s.flex.itemsCenter.colorTextMenuSecondary.columnGap4.pl4.pb4.pr10.pt0.$},a.createElement(tj.V,{style:{"--color-icon":"var(--color-text-menu-secondary)"}}),(0,h.tx)("dev_handoff.paywall.annotations.double_click_hint")),optionHeight:32}]:m?[{header:!0,name:(0,h.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>a.createElement(nV,null),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,h.t)("dev_handoff.annotation.number_annotations",{count:t})}]),f=e.origin.x+d.x,g=e.origin.y+d.y,E={left:f,top:g,right:f+e.size.x,bottom:g+e.size.y,width:e.size.x,height:e.size.y};return a.createElement("div",{className:S.Dm},a.createElement(nI.Q,{allowDisabledOnly:!m,appModel:o,dispatch:i,menuItems:p,minWidth:50,recordingKey:"annotationsButtonMenu",removeDisabledItems:m,sceneGraph:s,selectedView:n,showPoint:!0,targetRect:E}))}var nz=n(847461),nW=n(656320),nj=n(302982);function nY(e){let t=(0,r.wA)(),n=(0,T.I_)(),l=(0,r.d4)(e=>e.mirror.appModel);if(!(0,r.d4)(e=>(0,nW.U2)(e.selectedView)))return null;let{thread:i}=e,o=!!i.comments.find(e=>e.isUnread),s=!!i.isPendingFromSinatra,c=null,d=n.commentReceipts;d&&(c=o?{name:"mark-as-read",callback:()=>{t(nz.AY({receiptsAPI:d,thread:i}))}}:{name:"mark-as-unread",callback:()=>{t(nz.QY({receiptsAPI:d,comment:i.comments[0]}))}});let u=[];s||((0,nj.m)(i.sidebarItemType)?u.push({name:"resolve",callback:()=>{t(nz.hx({thread:i,resolved:!0}))},disabled:null!=i.commentPin},c,{name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0}):u.push({name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0})),u.push({action:"toggle-show-comments",displayText:(0,h.t)("fullscreen.context_menu.hide_comments")});let m=u.filter(e=>e).map(e=>e),p={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return a.createElement(nI.Q,{appModel:l,menuItems:m,targetRect:p,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var nJ=n(430385),nq=n(562027),nX=n(621464),nZ=n(918777),nQ=n(304756),n$=n(186112),n0=n(233594),n1=n(853434),n2=n(566726),n3=n(844525),n5=n(900898);async function n4({paint:e,fileKey:t,dispatch:n}){if(!t||"VIDEO"!==e.type||!e.video||!e.video?.hash)return n8("Incorrect asset type"),null;n(n3.n.set({message:(0,h.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let a=await (0,n5.w6)({paint:e,fileKey:t});if(null===a)return n8("Error getting download url for asset"),null;n6(a)}let n6=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},n8=e=>{(0,nk.$D)(nS.e.FIGJAM,Error(`Error exporting video: ${e}`))};var n9=n(807949),n7=n(763610),ae=n(846968),at=n(715980),an=n(90789),aa=n(675257),ar=n(984778),al=n(934083),ai=n(542510),ao=n(425835),as=n(913026),ac=n(240176),ad=n(577148),au=n(727310);function am(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var ap=n(812320),af=n(702038),ag=n(87599),ah=n(242749),aE=n(127340),a_=n(633468),ay=n(480945),ab=n(649616),aC=n(20687),av=n(578461),aw=n(567587),aT=n(671989),aS=n(324747),ak=n(764474),aI=n(444521),aN=n(194165),ax=n(13635),aA=n(748790),aL=n(937629),aO=n(113173),aR=n(122586),aM=n(215039),aD=n(298622),aP=n(596224),aF=n(288853),aB=n(50839),aU=n(600122),aG=n(643726);function aK(e,t){return{action:"slides-rewrite-text",flags:["slides"],callback:()=>(0,aB.mD)(e,{source:"context_menu"}),disabled:!t}}function aV(e){return!o.zl.get(aB.Tm)&&e}var aH=n(831047),az=n(324762),aW=n(565294),aj=n(911433),aY=n(67308),aJ=n(689134),aq=n(200300),aX=n(434289);function aZ(){let e=(0,aq.o3)(aq.nt.convertToSite),t=(0,tO.Em)(),n=(0,aJ.y)().transform(e=>e?.canCreateSitesFileWithReasons.result).unwrapOr(!1),a=(0,td.Kf)(),r=(0,az.VW)();if(!r||!r.isTopLevelFrame())return!1;let l=r.size.x;return!(l<1200)&&!(l>1600)&&!!e&&!!t&&!!n&&!!a}let aQ=(0,n(944239).n)((e,t)=>{(0,ni.Cu)({trackingContext:"SelectionContextMenu > DesignToSites",text:"Copy to Figma Sites",pageId:e,nodeId:t})}),a$={name:"copy-to-figma-sites",flags:["edit","design"],callback:(e,t,n)=>{let a=nl.D.getState(),r=(0,eE.UN)(),l=function(e){let t;let n=0;for(let a of e){if(++n>1)return;t=a}return t}(r.getDirectlySelectedNodes().map(e=>e.guid)),i=a.openFile?.key,s=a.fileVersion,c=r.getCurrentPage()?.guid;if(!i||!s||!c||!l){(0,N.x1)("designToSites","Unable to fetch required data to create a new Sites file",{fileKey:i,fileVersion:s,pageGuid:c,selectedNodeId:l},{reportAsSentryError:!0}),E.F.enqueue({message:(0,h.t)("selection_context_menu.error_creating_sites_file"),type:"design-to-sites-error",error:!0});return}let d=o.zl.set(aj.me,{fileKey:i,fileVersion:s,pageGuid:c,selectedNodeId:l}),u=(0,aY.Kl)(a);aQ(c,l),n((0,aW.zE)({state:u,from:aX.f6.DESIGN_COPY_TO_SITES_ENTRYPOINT,editorType:B._Y.SITES,team:void 0,openNewFileIn:aX.ai.NEW_TAB,newFileDataLocalStorageKey:d}))}},a0=(0,e_.hG)(eT.tui);class a1 extends a.PureComponent{items(){var e,t,n,a;let r=this.props.isPrototypeCanvasEditUiVisible&&!this.props.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],o=window.FigmaMobile,s=rr(this.props.appModel.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,o?.requestToAddDraftCommentPin),c=this.props.selectedView.editorType===X.nT.Whiteboard,d=this.props.selectedView.editorType===X.nT.Slides,u=this.props.selectedView.editorType===X.nT.Sites,m=this.props.selectedView.editorType===X.nT.Figmake,p=this.props.selectedView.editorType===X.nT.Cooper,g=(0,nC.$A)(this.props.selectedView),E=f.Ay.windows?"Ctrl+":"\u2318",_={action:"paste-here",flags:["edit"],displayText:c?(0,h.t)("fullscreen_actions.paste"):void 0,shortcutText:c?`${E}V`:void 0},y=!f.Ay.safari||o?.readClipboardData?[_,c?{separator:!0}:null]:[],b={name:"start-chat",disabled:this.props.isJoinedToActiveVotingSession||this.props.isCursorChatDisabled,callback:(e,t,n,a)=>{l.glU.triggerAction("set-tool-default",null),this.props.dispatch(n7.F6({position:{x:a.clientX||this.props.clientX,y:(a.clientY||this.props.clientY)-a0},source:"canvas_context_menu"}))}},C=(e=this.props.hasSlidesAiTextEnabled,t={x:this.props.clientX,y:this.props.clientY},n=this.props.slideId,a=this.props.viewportInfo,!!(n&&a&&(0,aG.ih)(n,t,a))&&aV(e)),v=aK(this.props.dispatch,C),w=this.props.openFile,T=this.props.canPublishOrgTemplate&&w?(0,aH.we)({dispatch:this.props.dispatch,file:{key:w.key,name:w.name,folder_id:w.folderId,team_id:w.teamId,editor_type:w.editorType,parent_org_id:w.parentOrgId},fileNeedsMovingBeforePublish:this.props.fileNeedsMovingBeforePublish,isPublished:this.props.isFilePublishedTemplate,source:"fullscreen-context-menu"}):null,S=c&&!(0,i.k)().figjam_quick_actions_v2,k=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,h.t)("fullscreen.context_menu.show_hide_comments")},...c||m?[]:[{separator:!0},b],S||m?null:{action:"toggle-menu",displayText:(0,aR.gn)()?(0,h.t)("fullscreen_actions.toggle-actions-menu"):(0,h.t)("fullscreen_actions.toggle-menu")},!this.props.userCanViewPlugins||u||m||p?null:(0,ar.qz)({...this.props,isReadOnly:this.props.appModel.isReadOnly},"contextmenu"),this.props.appModel.isReadOnly||!this.props.userCanViewWidgets||g?null:(0,al.Vd)(this.props,"contextmenu"),T,...r],I=[...s,...y,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...c?[b,{separator:!0}]:[],...d?[{separator:!0},v]:[],...k];return rs(I,"canvas_context_menu"),I}render(){let e=this.props.clientX,t=this.props.clientY;return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{allowCodegenOptions:this.props.selectedView.editorType===X.nT.Design,appModel:this.props.appModel,"aria-labelledby":this.props.ariaLabelledBy,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:(0,nJ.WI)(this.items()),recordingKey:"canvasMenu",removeDisabledItems:!0,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}}))}}a1.displayName="CanvasContextMenu";let a2=(0,r.Ng)((e,t)=>({...t,appModel:e.mirror.appModel,openFile:e.openFile,editorType:e.selectedView.editorType,orgEntity:(0,as.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,isJoinedToActiveVotingSession:(0,aE.gR)(e),hasSelection:Object.keys(e.mirror.sceneGraphSelection).length>0,isDevHandoff:(0,nC.$A)(e.selectedView)}))(a1);function a3(e){let t=(0,nT.op)(),n=(0,nT.$1)(),l=(0,nT.cW)(),i=(0,nT.Be)(),o=i.orgPlugins,s=i.orgWidgets,c=(0,ai.h)("plugin"),d=(0,ai.h)("widget"),u=(0,nT.NU)(),m=(0,nT.qr)(),p=(0,nT.ZT)(),f=(0,ax.S)(),g=(0,nR.am)();a.useEffect(()=>{g("Canvas Right Click")},[g]);let h=(0,tR._X)({subscribeToUpdates_expensive:!0}),E=(0,ao.J3)(),_=(0,ao.JU)(E),y=E===ao.kN.FILE_IN_DRAFTS,b=!!(0,ao.kD)(),C=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),v=ro(),w=(0,aB.Ne)(),T=(0,aF.Jb)();return a.createElement(a2,{...e,activeTextReviewPlugin:C,allSavedPlugins:i.plugins,canPublishOrgTemplate:_,fileNeedsMovingBeforePublish:y,hasSlidesAiTextEnabled:w,isCursorChatDisabled:f,isFilePublishedTemplate:b,isPrototypeCanvasEditUiVisible:v,localExtensions:n,orgPrivatePlugins:c,orgPrivateWidgets:d,orgSavedPlugins:o,orgSavedWidgets:s,publishedPlugins:l,publishedWidgets:p,recentlyUsedPlugins:t,recentlyUsedWidgets:m,savedWidgetVersions:u,slideId:T,viewportInfo:h})}class a5 extends a.PureComponent{constructor(){super(...arguments),this.savepointMenuItems=(e,t)=>{let n=this.props.version,a=(0,aI.pW)(n),r={name:this.props.editName||"savepoint-edit",args:{version:n,checkpointKey:e},callback:t},l={name:"savepoint-restore",args:{version:n,checkpointKey:e},callback:t},o={name:"savepoint-duplicate",args:{version:n,checkpointKey:e},callback:t,disabled:this.props.disableDuplicate},s={name:"savepoint-clear",args:{version:n,checkpointKey:e},callback:t,disabled:!this.props.enableClear},c={name:"savepoint-link",args:{version:n,checkpointKey:e},callback:t},d=[];if(this.props.userCanEditFile?a?"branch_child_merge"===n.view?(d.push(r,l,o,c),(0,i.k)().branching_undo_merge&&d.push({name:"savepoint-undo-merge",args:{version:n,checkpointKey:e},callback:t})):d.push(l,o,c):d.push(r,l,o,s,c):d.push(o,c),(0,i.k)().version_diffing&&this.props.selectedView.editorType!==X.nT.Whiteboard&&!(0,nC.$A)(this.props.selectedView)&&d.push({name:"savepoint-compare",args:{version:n,checkpointKey:e},callback:t}),(0,nC.$A)(this.props.selectedView)){let e=["savepoint-restore","savepoint-clear"];return d.filter(t=>!e.includes(t.name))}return d}}render(){let e=this.props.clientX,t=this.props.clientY,n=this.savepointMenuItems(this.props.checkpointKey,this.props.callback);return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:this.props.appModel,menuItems:n,dispatch:this.props.dispatch,selectedView:this.props.selectedView,showPoint:!0,targetRect:{width:10,height:10,left:e-5,top:t+7,right:e+5,bottom:t+17},removeDisabledItems:!1,recordingKey:"savepointMenu"}))}}a5.displayName="SavepointContextMenu";let a4=(0,r.Ng)((e,t)=>({...t,appModel:e.mirror.appModel}))(a5),a6=(e,t)=>l.glU.getObjectsListUnderCursor(e,t),a8=class e extends a.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{af.Uc(e)},this.objectsListMouseExit=()=>{af.Uc("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let n=a6(e,t);if(null==n)return[];let a=[];for(let e of n){let t=e.nodeId;a.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",source:"canvas_context_menu",displayText:(0,h.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return a},this.getNodeType=()=>{let e=this.getSelectionGuid();return l.glU.getNodeType(e)},this.getPageListForMoveToMenu=()=>{let e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];let t=[];for(let n of e)n.nodeId!==this.props.appModel.currentPage&&(n.isDivider?t.push({separator:!0}):t.push({name:n.name,args:{nodeId:n.nodeId,name:n.name},action:"page-move-to",displayText:(0,h.t)("fullscreen_actions.page-move-to",{name:n.name??""})}));return t},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(l.iCO.NONE),relatedStateMenu:this.getRelatedComponentMenu(l.iCO.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeType:this.isFigjam()?this.getNodeType():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){let t;if(e!==l.iCO.NONE&&e!==l.iCO.STATE_INSTANCE)return null;let n={userId:this.props.user?.id,fileKey:this.props.openFile?.key,orgId:this.props.openFile?.parentOrgId??void 0,teamId:this.props.openFile?.teamId??void 0},a=(0,aT.SY)(this.props.masterSymbolGUID,this.props.dispatch,this.props.openFile?.key||"",(0,nq.l)(this.props.openFile?.libraryKey??""),this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.isCooper,e,n,this.props.stateGroupSelectionInfo);if(0===a.length)return null;t=e===l.iCO.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let r=this.props.clientX,i=this.props.clientY;return{items:a,showPoint:!1,parentRect:{width:10,height:10,left:r+100,top:i,right:r+110,bottom:i-10},recordingKey:t,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return l.glU.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY)}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),n=this.props.spellCheckPreference,a=this.props.appModel.spellCheckSuggestions,r=a||!n?[{name:"spell-check-menu",flags:["design","whiteboard","slides","cooper"],children:[(0,ah.x)(),{separator:!0},...(0,ah.A)()]},...this.props.userCanViewPlugins?(0,ar.dL)(this.props,"contextmenu"):[]]:[];return[...n||this.props.appModel.activeTextReviewPlugin?rl(a,this.props.editorType):[],...r,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getFaviconMenu(e){return{name:e?"clear-favicon":"set-favicon",args:{label:e?(0,h.t)("fullscreen_actions.clear_favicon"):(0,h.t)("fullscreen_actions.set_as_favicon")},flags:["edit","!slides","sites"],featureFlags:["sites"],callback:()=>{let t=eE.UN().getCurrentPage()?.guid;void 0!==t&&tV.l7.user("set-responsive-set-settings",()=>{l.glU.setResponsiveSetSettings({faviconID:e?"":this.getSelectionGuid()},[t]),I.Y5.commit()})}}}getFileThumbnailMenu(e){return{name:(0,i.k)().dse_library_pg_thumbnails?I.Y5.getFileThumbnailMenuItemName():I.Y5.getThumbnailMenuItemName(),args:(0,i.k)().dse_library_pg_thumbnails?{label:e?(0,h.t)("fullscreen_actions.restore_default_file_thumbnail"):(0,h.t)("fullscreen_actions.set_as_file_thumbnail")}:{label:e?(0,h.t)("fullscreen_actions.restore_default_thumbnail"):(0,h.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(n9.$m({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}getPageThumbnailMenu(){return{get name(){return I.Y5.getPageThumbnailMenuItemName()},callback:()=>I.Y5.handlePageThumbnailMenuItem(),get disabled(){return I.Y5.disablePageThumbnailMenu()},flags:["edit","design"],featureFlags:["dse_library_pg_thumbnails"]}}selectedEmbedOrLinkPreviewHasValidUrl(){return this.props.widgetSelectionInfo?.pluginID===ap.k.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||this.props.widgetSelectionInfo?.pluginID===ap.k.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&this.props.selectedView.editorType===X.nT.Whiteboard}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,h.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeType?function(e){switch(e){case l.Z6A.STICKY:return(0,h.t)("fullscreen_actions.copy-link-to-sticky");case l.Z6A.CONNECTOR:return(0,h.t)("fullscreen_actions.copy-link-to-connector");case l.Z6A.WIDGET:return(0,h.t)("fullscreen_actions.copy-link-to-widget");case l.Z6A.STAMP:return(0,h.t)("fullscreen_actions.copy-link-to-stamp");case l.Z6A.SECTION:return(0,h.t)("fullscreen_actions.copy-link-to-section");case l.Z6A.TEXT:return(0,h.t)("fullscreen_actions.copy-link-to-text");case l.Z6A.TABLE:return(0,h.t)("fullscreen_actions.copy-link-to-table");case l.Z6A.WASHI_TAPE:return(0,h.t)("fullscreen_actions.copy-link-to-washi-tape");case l.Z6A.SHAPE_WITH_TEXT:return(0,h.t)("fullscreen_actions.copy-link-to-shape");case l.Z6A.INSTANCE:return(0,h.t)("fullscreen_actions.copy-link-to-instance");default:return(0,h.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeType):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,nC.$A)(this.props.selectedView)&&this.props.attributionContextKey,n=(0,C.Wl)(this.props.selectedView),a=(0,C.s4)(this.props.selectedView),r=(0,aU.P)(this.props.selectedView),o=(0,a_.jN)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,nC.$A)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),isDevModeOverview:n,devModeFocusId:a,attributionContext:t?(0,ay.b)(this.props.attributionContextKey,ay.d.FULLSCREEN_CONTEXT_MENU):null});if((0,i.k)().ce_copy_labelled_links){let t=(0,eE.UN)().get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}this.props.dispatch(n9.S({fileKey:this.props.openFile.key,url:o,label:e,source:ay.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:(()=>{if(this.isFigjam()&&this.state.nodeType)return function(e){switch(e){case l.Z6A.STICKY:return(0,h.t)("visual_bell.copy_link_to_sticky");case l.Z6A.CONNECTOR:return(0,h.t)("visual_bell.copy_link_to_connector");case l.Z6A.WIDGET:return(0,h.t)("visual_bell.copy_link_to_widget");case l.Z6A.STAMP:return(0,h.t)("visual_bell.copy_link_to_stamp");case l.Z6A.SECTION:return(0,h.t)("visual_bell.copy_link_to_section");case l.Z6A.TEXT:return(0,h.t)("visual_bell.copy_link_to_text");case l.Z6A.TABLE:return(0,h.t)("visual_bell.copy_link_to_table");case l.Z6A.WASHI_TAPE:return(0,h.t)("visual_bell.copy_link_to_washi_tape");case l.Z6A.SHAPE_WITH_TEXT:return(0,h.t)("visual_bell.copy_link_to_shape");case l.Z6A.INSTANCE:return(0,h.t)("visual_bell.copy_link_to_instance");default:return(0,h.t)("visual_bell.copy_link")}}(this.state.nodeType);if(r){let e=(0,eE.UN)().get(this.getSelectionGuid());if(e)return(0,h.t)("copy_to_clipboard.slides.link_to_slide_copied_to_clipboard",{name:e.name})}})()}))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,h.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,h.t)("visual_bell.copy_phone",{number:t})}}else{let t=am(e);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,h.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,ab.UA)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,ts.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,n1.V8)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let e=this.props.embedData?.url||this.props.embedData?.srcUrl||this.props.linkPreviewData?.url,t=am(decodeURIComponent(e));return{name:"labeled-menu-item",args:{label:(0,h.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t})},callback:()=>{!function(e,t){let n=decodeURIComponent(t);(0,tX.Dk)(n),(0,au.Rm)(ad.yc.COPY_LINK,n),e(E.F.enqueue({type:"copy-preview",message:(0,h.t)("visual_bell.copy_hyperlink",{hyperlink:am(n)}),error:!1}))}(this.props.dispatch,e)}}}getMaybeEmbedDeactivateMenu(){return this.props.widgetSelectionInfo?.pluginID!==ap.k.EMBED_WIDGET||this.props.widgetSelectionInfo.widgetID!==l.Ez5.embedUiState().activeEmbedData.getCopy().embedNodeId?null:{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{l.glU.deactivateEmbed()}}}getExportVideo(){if(!this.props.fillPaints||(0,ts.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!e)return null;let t=this.props.openFile?.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard"],platforms:["!ipad"],displayText:(0,h.t)("fullscreen.context_menu.export_selected_video"),callback:(n,a,r)=>{n4({paint:e,fileKey:t,dispatch:r})}}}selectedDefaultLibraryComponents(){let e=Object.keys(this.props.sceneGraphSelection);if(0===e.length)return!1;let t=this.props.sceneGraph.get(e[0])?.symbolId;if(!t)return!1;let n=this.props.sceneGraph.get(t)?.sourceLibraryKey;return!!n&&(0,tM.td)(this.props.library.defaultPublished,n)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if(this.props.selectedView.editorType===X.nT.Design)return null;let t=e=>this.props.dispatch(n2.af({id:e,resourceType:aS.bD.PLUGIN})),n=(0,aC.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(n,a)=>e.refreshCache.debounceRefresh(n,()=>t(n),a),ak.FW.FIGJAM),a=[],r=new Set;for(let e of n)r.has(e.pluginTypeAndID)||(a.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),r.add(e.pluginTypeAndID));return 0===a.length?null:{name:"remove-plugin-actions",children:[...a.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>l.NfO.removeRelaunchDataFromSelection(t),args:{extensionName:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>a.map(({plugin_id:e})=>l.NfO.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,Z.Yh)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,Z.Yh)(this.props.appModel,"push-changes-to-main"),n=(0,Z.Yh)(this.props.appModel,"restore-symbol-or-state-group"),a=(0,Z.Yh)(this.props.appModel,"add-variant"),r=(0,Z.Yh)(this.props.appModel,"publish-selection"),l=[e,t,n,a,r].filter(Boolean).length;if(0===l)return null;if(1===l){if(e)return{action:"find-symbol"};if(a)return{action:"add-variant",flags:["edit"]};if(r)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,Z.Yh)(this.props.appModel,"delete-table-contents"),t=(0,Z.Yh)(this.props.appModel,"delete-current-table-row")||(0,Z.Yh)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,n=!f.Ay.safari||!!t?.readClipboardData,r=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&!this.props.isCooperCarousel&&n,l=this.props.isTextEditModeMenu,o=(0,aL.P5)(),s=(0,aO.C7)()&&this.props.hasFragmentSearchPermission,c=(o||s)&&this.props.isUI3,d=this.props.isEligibleForDesignToSites,u=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>a.createElement(nK,null),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],m=f.Ay.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case X.nT.Design:case X.nT.Illustration:case X.nT.Figmake:case X.nT.Sites:case X.nT.Slides:case X.nT.Cooper:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,r?{action:"paste-here",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste-here"),shortcutText:l?`${m}V`:void 0}:this.props.isSingleSlideViewCarousel?{action:"paste",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste"),shortcutText:`${m}V`}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:l?(0,h.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:l?`${m}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:u},{action:"copy-as-menu",flags:["!edit"],children:u},{action:"duplicate-in-place",flags:["edit","slides","cooper"],displayText:(0,h.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${m}D`},d?a$:null,c?{action:"find-inspiration",flags:["edit","!slides","!cooper"]}:null,(0,i.k)().asset_suggestions_inspect_fragment?{action:"inspect-fragment",flags:["!slides","!cooper"]}:null];break;case X.nT.DevHandoff:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,r?{action:"paste",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste"),shortcutText:`${m}V`}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste-to-replace")}:null]}return e}getCopyExportMenu(){return[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,h.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]}rulerGuideMenu(e,t){let n="toggle-rulers",a=[e===l._0v.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:n,displayText:(0,h.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,Z.c1)(this.props.appModel.keyboardShortcuts,n)}],r=[{action:"remove-guide"}];switch(t){case l.bQY.RULER:return a;case l.bQY.GUIDE:return r;case l.bQY.BOTH:return r.concat(...a);default:return[]}}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["slides"]},{separator:!0},{action:"create-slide",flags:["slides"]},{action:"select-all-slides",flags:["slides"]},...this.skipSlidesMenu()]}skipSlidesMenu(){let e=(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,eE.UN)().get(e);if(!t?.isSlide)return!1}return!0})(),t=Object.keys(this.props.sceneGraphSelection).length>1;return e?[{separator:!0},(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=eE.UN().get(e)?.asSlide();if(!t||!t.isSkippedSlide)return!1}return!0})()?{action:t?"unskip-slides":"unskip-slide",flags:["slides"]}:{action:t?"skip-slides":"skip-slide",flags:["slides"]}]:[]}slidesObjectAnimationMenu(){return(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,eE.UN)().get(e);if(!t||!t.isInSlide)return!1}return!0})()?[{action:"add-slide-object-animation",flags:["edit","slides"]}]:[]}cooperCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["cooper"]}]}contextMenu(){let{objectItems:e,relatedComponentMenu:t,relatedStateMenu:n}=this.state,r=this.props.appModel,o=this.props.selectedView.editorType===X.nT.Design,s=this.props.selectedView.editorType===X.nT.Slides,c=(0,aP.Vj)(this.props.selectedView),d=this.props.selectedView.editorType===X.nT.Figmake,u=this.props.selectedView.editorType===X.nT.Cooper,m=this.props.selectedView.editorType===X.nT.Illustration,p=(o||c||d||m)&&(0,Z.Yh)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&e.length>1,f=this.props.isObjectsPanelMenu,g=f&&this.props.hasAIPermission&&(0,aO.Ii)()&&this.props.isUI3,E=window.FigmaMobile,_=rr(r.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,E?.requestToAddDraftCommentPin),y=(0,Z.Yh)(this.props.appModel,"swap-to-related-symbol"),b=(0,Z.Yh)(this.props.appModel,"swap-to-related-state"),C=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],v=this.getCopyPasteMenu(),w=this.getCopyExportMenu(),T=[p?{action:"select-node-menu",children:e,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],S=!o&&!m,k=s||c||d||u?[]:[S?{separator:!0}:null,this.props.userCanViewPlugins?(0,ar.qz)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly||!this.props.userCanViewWidgets?null:(0,al.Vd)(this.props,"contextmenu")],I=(0,i.k)().internal_only_debug_tools,N=I&&1===this.props.numSelected,x=(0,i.k)().convert_to_thumbnail_frame,A=this.props.spellCheckPreference,L=this.props.appModel.spellCheckSuggestions,O=aV(this.props.hasSlidesAiTextEnabled),R=aK(this.props.dispatch,O);return[...A||this.props.appModel.activeTextReviewPlugin?rl(L,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},..._,...v,{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},R,{separator:!0},...this.isFigjam()?w:[],{separator:!0},...T,{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit","slides"]},{action:"send-backward",flags:["edit","slides"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"create-responsive-set",flags:["edit","sites"]},{action:"set-as-default-responsive-set",flags:["edit","sites"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.ungroup")},f?{action:"rename-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.rename")}:null,g?{name:"auto-rename-layers",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.auto_rename_layers"),rightIcon:a.createElement(ty.y,{variant:aM.x.ON_MENU,helpUrlVariant:tf.JT.AUTO_RENAME_LAYERS}),callback:()=>{(0,aR.$I)({moduleToOpen:{type:"custom",module:a.createElement(aD.A,{source:l.uQ6.CONTEXT_MENU}),beforeModuleOpen:()=>{(0,tg.B3)(tf.JT.AUTO_RENAME_LAYERS),(0,tg.Ag)(tf.JT.AUTO_RENAME_LAYERS,tl.Ay,{source:l.uQ6.CONTEXT_MENU,overwriteNames:!1})},name:Y.Sn.RENAME_LAYERS_TOAST},trackingData:{source:"selection_context_menu_rename_layers"}})}}:null,{action:"flatten-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.flatten")},m?{action:"add-transform-modifier-to-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.wrap_with_transform")}:null,{action:"outline-stroke",flags:["edit"],shortcutText:(0,Z.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit"],get displayText(){let e=(0,an.P)();return(0,aa.A)(e)}},m?{action:"create-brush-menu",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.create-brush-menu"),children:[{action:"create-stretch-brush"},{action:"create-scatter-brush"}]}:null,{action:"set-as-primary-breakpoint",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.set-as-primary-breakpoint")},this.props.canSetAsFavicon&&!this.props.appModel.isReadOnly?this.getFaviconMenu(this.getSelectionGuid()===this.props.sceneGraph.getCurrentPage()?.responsiveSetSettings?.faviconID):null,this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getFileThumbnailMenu(this.getSelectionGuid()===this.props.openFile?.thumbnailGuid):null,(0,i.k)().dse_library_pg_thumbnails&&this.props.canSetAsPageThumbnail&&!this.props.appModel.isReadOnly?this.getPageThumbnailMenu():null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["design","edit","slides"]},(0,ae.r)({msalEnabled:(0,Z.Yh)(this.props.appModel,"run-multi-stack-auto-layout")&&!this.props.propertiesPanelShouldShowRemoveAutoLayout,destroyAllALEnabled:(0,Z.Yh)(this.props.appModel,"destroy-all-auto-layout"),resizeToFitEnabled:(0,Z.Yh)(this.props.appModel,"resize-to-fit")}),{action:"create-symbol",flags:["edit"]},{action:"create-code-layer-from-design",flags:["edit","sites"],featureFlags:["sts_code_authoring"],notFeatureFlags:["sts_code_authoring_by_plan"]},{action:"create-code-layer-from-design",flags:["edit","sites"],featureFlags:["sts_code_authoring_by_plan"]},{action:"edit-code",flags:["edit","sites"],featureFlags:["sts_code_authoring"],notFeatureFlags:["sts_code_authoring_by_plan"]},{action:"edit-code",flags:["edit","sites"],featureFlags:["sts_code_authoring_by_plan"]},{action:"restore-design-in-place-from-code",flags:["edit","sites"],featureFlags:["sts_code_authoring"],notFeatureFlags:["sts_code_authoring_by_plan"]},{action:"restore-design-in-place-from-code",flags:["edit","sites"],featureFlags:["sts_code_authoring_by_plan"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},{action:"convert-to-slot",flags:["edit"],featureFlags:["dse_slots"]},y&&t?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:t}:null,b&&n?{name:"swap-to-related-state",flags:["edit"],childDropdown:n}:null,{action:"reset-symbol",flags:["edit"]},{action:"reset-fauxverride",flags:["edit","sites"]},{action:"detach-instance",flags:["edit","design","sites"]},this.getMainComponentActionsMenu(),{action:"link-to-component",flags:["edit"]},...S?[]:k,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"remove-annotations",flags:["dev_handoff","design"]},{displayText:(0,h.t)("dev_handoff.layers.add_annotation"),flags:["design"],action:"add-annotation"},{separator:!0},...S?k:[],{separator:!0},this.getImageToProfilePicture(),...C,...s?this.skipSlidesMenu():[],{separator:!0},...s?this.slidesObjectAnimationMenu():[],(0,i.k)().dt_ccv2_on_canvas?{action:"find-codebase-suggestions",flags:[]}:null,N?{separator:!0}:null,N?{action:"debug-inspect-layer-figma-scope"}:null,x?{action:"convert-to-thumbnail-frame"}:null,I?{action:"debug-print-as-test-code"}:null]}getActionSource(){return this.props.isTextEditModeMenu?"canvas_context_menu":this.props.isObjectsPanelMenu?"panel":this.props.isRulerGuideMenu||this.props.isSelectLayerMenu?void 0:"canvas_context_menu"}render(){let e=this.props.clientX,t=this.props.clientY,n=(0,nJ.WI)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.props.isCooperCarousel?this.cooperCarouselMenu():this.contextMenu());return rs(n,this.getActionSource()),a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:this.props.appModel,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:n,recordingKey:"layerMenu",removeDisabledItems:!0,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}}))}};function a9(e){let t=e.mirror.sceneGraph.getCurrentPage()?.guid;return e.library.publishableSymbols.some(e=>e.containingFrame.pageId===t)||e.library.publishableStateGroups.some(e=>e.containingFrame.pageId===t)}function a7(e){let t=(0,r.d4)(td.tB),n=(0,nT.Tg)(),l=(0,tR._X)({subscribeToUpdates_expensive:!0}),i=(0,ac.ud)(),o=(0,nO._I)(),c=(0,nO.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ro(),m=(0,r.wA)(),p=(0,nT.Be)(),f=p.orgPlugins,g=(0,ai.h)("plugin"),h=(0,K.J2)((0,eb.UK)().spellCheckPreference),E=(0,s.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?(0,eE.UN)().get(t[0]):null,a=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type||"RESPONSIVE_SET"===n.type),r=null!=n&&"FRAME"===n.type&&n.isTopLevelFrame(),l=e.selectedView.editorType,i=a&&!n?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tu.Eh)(e),userCanViewWidgets:(0,nT.BE)(e),userCanRunExtensions:(0,tu.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,as.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:r,canSetAsFileThumbnail:i,canSetAsPageThumbnail:i&&a9(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:l,isDevHandoff:l===X.nT.DevHandoff,isLimitedDevMode:(0,nC.$A)(e.selectedView)&&!(0,nO.tn)(e)}}),_=(0,aA.PE)(),y=(0,aB.Ne)(),b=(0,aL.LC)(),C=aZ(),v=(0,k.GS)(),w=(0,n$.ge)();return a.createElement(a8,{...e,...E,activeTextReviewPlugin:d,allSavedPlugins:p.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:c,dispatch:m,editorType:E.editorType,fileByKey:i,hasAIPermission:_,hasFragmentSearchPermission:b,hasSlidesAiTextEnabled:y,isCooper:w,isEligibleForDesignToSites:C,isPrototypeCanvasEditUiVisible:u,isUI3:v,openFile:t,orgPrivatePlugins:g,orgSavedPlugins:f,recentlyUsedPlugins:n,spellCheckPreference:h,viewportInfo:l})}a8.displayName="SelectionContextMenu",a8.refreshCache=new aw.O(nZ.A.duration(1,"day"));var re=(e=>(e.SINGLE_SLIDE_VIEW="single_slide_view",e.COOPER_CAROUSEL="cooper_carousel",e))(re||{});function rt(e){let t=(0,r.d4)(td.tB),n=(0,nT.Tg)(),l=(0,tR._X)({subscribeToUpdates_expensive:!0}),i=(0,ac.ud)(),o=(0,nO._I)(),c=(0,nO.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ro(),m=(0,r.wA)(),p=(0,nT.Be)(),f=p.orgPlugins,g=(0,ai.h)("plugin"),h=(0,K.J2)((0,eb.UK)().spellCheckPreference),E=(0,s.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?(0,eE.UN)().get(t[0]):null,a=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type),r=e.selectedView.editorType,l=a&&!n?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tu.Eh)(e),userCanViewWidgets:(0,nT.BE)(e),userCanRunExtensions:(0,tu.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,as.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:!1,canSetAsFileThumbnail:l,canSetAsPageThumbnail:l&&a9(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isDevHandoff:r===X.nT.DevHandoff,isLimitedDevMode:(0,nC.$A)(e.selectedView)&&!(0,nO.tn)(e)}}),_=(0,aA.PE)(),y=(0,aB.Ne)()&&"single_slide_view"===e.carouselType,b=(0,aL.LC)(),C=aZ(),v=(0,k.GS)(),w=(0,n$.ge)();return a.createElement(a8,{...e,...E,activeTextReviewPlugin:d,allSavedPlugins:p.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:c,dispatch:m,editorType:E.editorType,fileByKey:i,hasAIPermission:_,hasFragmentSearchPermission:b,hasSlidesAiTextEnabled:y,isCooper:w,isCooperCarousel:"cooper_carousel"===e.carouselType,isEligibleForDesignToSites:C,isPrototypeCanvasEditUiVisible:u,isSingleSlideViewCarousel:"single_slide_view"===e.carouselType,isUI3:v,openFile:t,orgPrivatePlugins:g,orgSavedPlugins:f,recentlyUsedPlugins:n,spellCheckPreference:h,viewportInfo:l})}function rn({expandElement:e,guid:t,...n}){let l=(0,r.d4)(e=>e.mirror.sceneGraphSelection),i=(0,r.d4)(e=>e.mirror.appModel),o=(0,r.d4)(e=>e.mirror.sceneGraph),s=(0,C.hA)()??void 0,c=(0,td.q5)(),d=(0,r.d4)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),u=(0,V.Fk)((e,t)=>{let n=e.get(t);return n?n.canHaveAnnotation:null},t),m=(0,aN.s9)(),p=(0,r.wA)(),g=f.Ay.windows?"Ctrl+":"\u2318",E=[e?{name:"expand-element",callback:e}:null,{separator:!0},u&&m?{name:"add-annotation",action:"add-annotation"}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${g}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},d?{name:"copy-link",args:{label:(0,h.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!c)return;let e=(0,a_.jN)({file:c,nodeId:t,isDevHandoff:!0,devModeFocusId:s,isReadOnly:!0,isFigJam:!1,attributionContext:null});p(n9.S({fileKey:c.key,url:e,source:ay.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],_=n.clientX,y=n.clientY;return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:i,dispatch:p,menuItems:E.filter(n0.t),recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:o,sceneGraphSelection:l,selectedView:n.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:_+100,top:y,right:_+110,bottom:y-10}}))}function ra({...e}){let t=(0,r.d4)(e=>e.mirror.sceneGraphSelection),n=(0,r.d4)(e=>e.mirror.appModel),l=(0,r.d4)(e=>e.mirror.sceneGraph),i=(0,r.wA)(),o=f.Ay.windows?"Ctrl+":"\u2318",s=[];navigator.clipboard&&navigator.clipboard.write&&s.push({name:"copy",shortcutText:`${o}C`,callback:()=>{e.onCopyText()}});let c=e.clientX,d=e.clientY;return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:n,dispatch:i,menuItems:s,recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:l,sceneGraphSelection:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:c+100,top:d,right:c+110,bottom:d-10}}))}function rr(e,t,n,a,r,l,i){return e&&n&&t.commentsEnabled&&f.Ay.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,n,a,r){if(!e)return;let l={x:t,y:n-a0};if(r)r({x:l.x,y:l.y,width:36.8,height:36.8});else{let t=(0,tR.$$)(e,l);a(nz.vV({anchorPosition:t})),a(nz.CX())}}(n,a,r,l,i)}},{separator:!0}]:[]}function rl(e,t){var n;if(!e)return[];let a=!!e?.figma;return[...function(e,t){let{figma:n,textReviewPlugin:a}=e,r=e=>{if(!e)return[];let n=[],a=e?.suggestions||[],r=e?.rangeStart||0,l=e?.rangeEnd||0;for(let e of a.slice(0,3))n.push({action:"replace-selected-text",flags:ri,displayText:e,recordingKey:`replace-selected-text-${n.length}`,args:{replacementText:e,rangeStart:r,rangeEnd:l},callback(){let e=(0,ni.pi)({editorType:(0,X.oD)(t)});(0,eZ.trackEvent)("Spell Check Suggestion Clicked",{productType:e})}});return n},l=r(n),i=r(a);return l.length||i.length?!l.length&&i.length?[{header:!0,name:av.SH()?.plugin.name||"Plugin"},...i]:l.length&&!i.length?l:[...l,{name:"replace-selected-text",displayText:av.SH()?.plugin.name||"Plugin",children:i}]:[{header:!0,flags:ri,name:(0,h.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...a&&e?.figma?.rangeText?[(n=e?.figma?.rangeText,{name:"spell-check-menu-add-word",flags:ri,callback:async(e,t,a)=>{try{let e=await nQ.Ay.post("/api/spell-check-words",{word:n});if(200===e.status){let e=await (0,ag.Xw)();await e.addWords([n]),I.Y5.triggerAction("redo-spell-checking")}else(0,N.x1)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(nX.k.error(e),(0,N.x1)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}let ri=["design","whiteboard","slides","sites","cooper"];function ro(){return(0,K.ut)((0,af.aY)(),l.FAf.DESIGN)===l.FAf.PROTOTYPE}function rs(e,t){t&&e.forEach(e=>{e&&((0,at._o)(e)&&(e.source=t,"submenu"in e&&e.submenu&&rs(e.submenu,t)),(0,at.TV)(e)&&e.children&&rs(e.children,t))})}var rc=n(792533);function rd({clientX:e,clientY:t,selectedView:n}){let l=(0,r.wA)(),i=(0,r.d4)(e=>e.mirror.appModel),o=(0,td.q5)(),s=a.useCallback(()=>{l(rc.lW({stringToCopy:(0,a_.jN)({file:o,isDevHandoff:!0,isDevModeOverview:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null}),successText:(0,h.t)("permissions.copy_link_button.visual_bell.copy_summary_link")}))},[l,o]),c=[{name:"page-copy-link",displayText:(0,h.t)("dev_handoff.status.copy_summary_link"),callback:s}];return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:i,menuItems:c,dispatch:l,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,recordingKey:"overviewMenu"}))}function ru({pageId:e,clientX:t,clientY:n,selectedView:l}){let i=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),s=(0,V.Fk)((e,t)=>e.get(t)?.isPageDivider,e),c=[{action:"page-copy-link",args:{nodeId:e},disabled:s}];return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:o,menuItems:c,dispatch:i,selectedView:l,showPoint:!1,targetRect:{width:10,height:10,left:t+100,top:n,right:t+110,bottom:n-10},removeDisabledItems:!1,recordingKey:"pageMenu"}))}function rm(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.mirror.appModel),l=e.clientX,i=e.clientY,o=[{name:"redistribute-gradient-stops",callback:e.redistributeStops},{separator:!0},{name:"delete-gradient-stop",callback:e.deleteStop}];return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:n,menuItems:o,dispatch:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:l+100,top:i,right:l+110,bottom:i-10},removeDisabledItems:!1,recordingKey:"pageMenu"}))}var rp=n(517614),rf=n(471476),rg=n(38011),rh=n(511067),rE=n(442022);function r_(){let e=(0,rh.Um)(),t=(0,r.wA)(),n=(0,rg.Gt)(e?.data.pluginId,e?.data.triggeredFrom),l=(0,rg.dR)(e?.data.pluginId,e?.data.triggeredFrom),i=(0,rf.t)(e?.data.pluginId,n,l);if(!e)return null;let o=e.data.target.height+e.data.target.width>0;return a.createElement(rE.j,{showPoint:o,items:i,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:o?"left":"right"})}var ry=n(885683),rb=n(615484),rC=n(453370),rv=n(338104),rw=n(859480),rT=n(952647),rS=n(857607),rk=n(264478),rI=n(178806);let rN=(0,o.eU)("");function rx({onResult:e}){let[t,n]=(0,o.fp)(rN),[l,i]=(0,a.useState)(!1),s=a.useRef(null),c=(0,a.useCallback)(e=>{n(e.target.value)},[n]),d=(0,r.d4)(e=>(0,nC.$A)(e.selectedView)),u=(0,a.useCallback)(()=>{e(t),n("")},[t,e,n]),m=a.useCallback(e=>{switch(e.keyCode){case rS.Uz.SPACE:case rS.Uz.ENTER:u(),e.stopPropagation();return}},[u]);return(0,a.useEffect)(()=>{let e=s.current;if(e)return e.addEventListener("keydown",m),()=>{e.removeEventListener("keydown",m)}},[m]),a.createElement(rT.J,{brand:d?"dev-handoff":"design",mode:"dark"},a.createElement("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z"},a.createElement(rk.ks,{autoFocus:!0,className:"ready_status_menu_item--textInput--iqTJf",maxLength:1e3,onChange:c,onCompositionEnd:()=>i(!1),onCompositionStart:()=>i(!0),onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||l||u()},placeholder:(0,h.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t}),a.createElement(rI.Ih,{ref:s,variant:"primary",onClick:u,recordingKey:"markReady"},(0,h.tx)("dev_handoff.status.menu_note_button"))))}let rA="status_context_menu--headerStrong--9G-Jb";function rL({targetInViewport:e,nodeId:t,selectedView:n}){let i=(0,r.wA)(),c=(0,r.d4)(e=>e.mirror.appModel),d=(0,eE.UN)(),u=(0,az.mJ)(t),m=!!u?.hasReadyStatus,p=!!u?.hasCompletedStatus,f=m||p,g=(0,ry.D)()&&!!u?.hasBeenEditedSinceLastStatusChange,E=(0,td.q5)(),_=(0,nF.U)("status_label_menu"),y=(0,tR.ni)(),b=(0,nO._I)(),C=(0,nO.U4)(),v=(0,ry.D)(),w=b&&v,T=(0,Z.Yh)(c,"set-selection-completed-status"),k=(0,Z.Yh)(c,"mark-incomplete"),I=(0,nR.U)(),N=(0,tO.E3)(),[,x]=(0,o.fp)(rb.wz),A=(0,rw.dh)(),L=(0,ti.A0)(l.uQ6.READY_FOR_DEV),O=(0,nO.xo)(),R=(0,a.useMemo)(()=>l.w3z.isReadOnly(l.SES.NODE_STATUS),[]),M=l.w3z.canEditNodeStatus(),D=C&&R&&!b,P=(0,s.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,editorType:X.nT.DevHandoff,focusViewBackNavigation:{toEditorType:e.selectedView.editorType,toOverview:!1},devModeFocusId:t,overviewBackButtonTargetNodeId:A}:e.selectedView),F=(0,a.useMemo)(()=>{if(!E)return[];let e=k?{name:"status-mark-as-ready",callback:()=>{rv.z4.setNodesReady(!0,[t],"canvas",null),L&&(0,ti.R4)([t])},flags:["dev_handoff","design"],disabled:!!O}:null,r=T?{name:"status-mark-as-completed",callback:()=>{rv.z4.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"],disabled:!!O}:null,l=m?r:e,o={name:"ready-status-copy-dev-link",callback:()=>{let e=(0,a_.jN)({file:E,nodeId:t,isDevHandoff:!0});i(n9.S({fileKey:E.key,url:e,source:ay.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},s=C?[{name:"ready-status-open-in-dev-mode",callback:()=>{_("handoff")},flags:["design"]},o]:[o],c={separator:!0,flags:["design","dev_handoff"]},d=[c,{render:()=>a.createElement(nG,null),optionHeight:32,flags:["design"]}],u=[{name:"enter-dev-mode-focus-view",callback:()=>{I("Dev Mode Canvas Focus Entry Clicked",{nodeId:"devModeFocusId"in P?P.devModeFocusId:""}),_("handoff"),x(N===X.nT.DevHandoff?"dev_mode_canvas":"design_canvas"),i(rC.$T(P))},flags:["design","dev_handoff"]},{name:"status-copy-focus-link",callback:()=>{let e=(0,a_.jN)({file:E,nodeId:A,isDevHandoff:!0,devModeFocusId:n?.devModeFocusId??t});i(n9.S({fileKey:E.key,url:e,source:ay.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1}],y=w&&!rv.z4.getIsExtension()?u:s;if(!M)return[...y,...D?d:[]];let b=[...y,...l?[c,l]:[],c,{name:"status-remove",callback:()=>{rv.z4.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1,disabled:!!O},...D?d:[]];return f?g?[{name:"completed-status-remark-as-ready",displayText:p?(0,h.t)("dev_handoff.status.menu_title_design_changed_since_completed"):(0,h.t)("dev_handoff.status.menu_title_design_changed_since_ready"),displayTextClassName:rA,children:b,showDotDotDotButton:!0},{render:()=>a.createElement(rx,{onResult:e=>{rv.z4.setNodesReady(!0,[t],"canvas",e??null),L&&(0,ti.R4)([t]),i(rC.oB())}}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,allowClickThrough:!0,flags:["design","dev_handoff"],disabled:!!O}]:b:[{header:!0,name:(0,h.t)("dev_handoff.status.menu_title_start_handoff_title"),displayTextClassName:rA},{render:()=>a.createElement(rx,{onResult:e=>{rv.z4.setNodesReady(!0,[t],"canvas",e??null),L&&(0,ti.R4)([t]),i(rC.oB())}}),flags:["design","dev_handoff"],disabled:!!O}]},[E,T,k,A,m,C,M,D,t,_,i,w,f,g,P,n?.devModeFocusId,p,N,x,I,L,O]),B=e.origin.x+y.x,U=e.origin.y+y.y,G={left:B,top:U,right:B+e.size.x,bottom:U+e.size.y,width:e.size.x,height:e.size.y};return a.createElement("div",{className:`${S.Dm}`},a.createElement(nI.Q,{appModel:c,dispatch:i,menuItems:F,minWidth:176,recordingKey:"readyStatusMenu",removeDisabledItems:!O,sceneGraph:d,selectedView:n,showPoint:!0,targetRect:G}))}var rO=n(209951),rR=n(273555),rM=n(835020),rD=n(927036),rP=n(79555);function rF({clientX:e,clientY:t,selectedView:n,targetItem:i,paint:o,onPaintChange:c}){let d=(0,r.wA)(),{appModel:u,sceneGraph:m,sceneGraphSelection:p}=(0,s.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),f=(0,rD.s1)(),g=(0,rM.k1)(f),h=[];return"DOCUMENT_COLOR"===i.type?h.push({name:"slides-move-to-theme-colors",recordingKey:"moveToThemeColors",callback:()=>{let e=g(i.documentColor);e&&o&&(0,ts.hS)(o)&&o.color&&(0,eF.DA)(o.color,i.documentColor)&&c((0,rP.FW)(e),rR.zk.YES)}}):(h.push({name:"slides-edit-theme-color",recordingKey:"edit",callback:i.onEdit}),h.push({name:"slides-delete-theme-color",recordingKey:"delete",callback:()=>{l.CWU.deleteVariable(i.variableId)}})),a.createElement("div",{className:S.Dm},a.createElement(nI.Q,{appModel:u,dispatch:d,menuItems:h,recordingKey:"slidesColorPickerContextMenu",removeDisabledItems:!0,sceneGraph:m,sceneGraphSelection:p,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}}))}var rB=n(695640),rU=n(122260),rG=n(352683),rK=n(621266);function rV({boundingRect:e,selectedView:t,targetObjectAnimation:n}){let i=(0,r.wA)(),{appModel:o,sceneGraph:c,sceneGraphSelection:d}=(0,s.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),{slideId:u,targetNodeId:m}=n,p=function({sceneGraph:e,slideId:t,targetNodeId:n}){let a=[],r=e.get(t),i=r?.objectAnimations??[],o=rG.kP.fromPrototypeInteractions(i),s=(0,rU.Z4)(),c=(0,rU.D0)(),d=o.findIndex(e=>(0,rG.uc)(e)&&(0,rB.Gu)(e.action.transitionNodeID)===n);if(d<0)return a;let u=o[d];if(!r||!u)return a;let m=o[d-1],p=o[d+1];if(m&&(0,rG.eB)(m)){let e=o[d-2];e&&(0,rG.uc)(e)&&a.push({name:"slides-merge-object-animation-with-above",callback:()=>{let t=(0,rK.Eo)(u,e,m,o);t&&(s(),r.objectAnimations=t)}})}if(u.startCondition===l.luZ.TRIGGER&&p&&(0,rG.eB)(p)){let e=o[d+2];e&&(0,rG.uc)(e)&&a.push({name:"slides-merge-object-animation-with-below",callback:()=>{let t=(0,rK.Eo)(u,p,e,o);t&&(s(),r.objectAnimations=t)}})}return u.startCondition===l.luZ.AFTER_PREVIOUS&&(!p||(0,rG.eB)(p))&&a.push({name:"slides-separate-object-animation",callback:()=>{let e=(0,rK.zQ)(u,{type:rG.hT.SECTION_HEADER,interactionIndex:u.interactionIndex+1},o);e&&(s(),r.objectAnimations=e)}}),a.push({name:"slides-delete-object-animation",callback:()=>{c(),r.removeObjectAnimation(n),I.Y5.commit()},recordingKey:"delete"}),a}({sceneGraph:c,slideId:u,targetNodeId:m}),f={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height,width:e.width,height:e.height};return a.createElement("div",{className:S.Dm},a.createElement(nI.Q,{appModel:o,dispatch:i,lean:"left",menuItems:p,recordingKey:"slidesAnimationContextMenu",removeDisabledItems:!0,sceneGraph:c,sceneGraphSelection:d,selectedView:t,showPoint:!1,targetRect:f}))}var rH=n(559389),rz=n(210185),rW=n(31898),rj=n(566841),rY=n(968602),rJ=n(686464),rq=n(152545),rX=n(707790),rZ=n(923659),rQ=n(695596),r$=n(446951),r0=n(414607);let r1=(0,r$.Ju)(function({sectionId:e,initialTemplateId:t,initialShelfId:n,onConfirm:r,onCancel:l}){let i=(0,td.tS)();return a.createElement(nD.fu,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:i,sectionId:e,initialTemplateCategory:n,initialTemplateId:t,templateType:rq.n.HubFile}},a.createElement(r0.Rw,{confirmationTitle:a.createElement("div",null,a.createElement("p",{className:ec()(e2.s.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R")},(0,h.tx)("whiteboard.section_preset_picker.confirmation_modal.header")),(0,h.tx)("whiteboard.section_preset_picker.confirmation_modal.description")),confirmText:(0,h.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,h.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:r,onCancel:l}))},"SectionPresetPickerConfirmationModal");function r2({name:e,leadingIcon:t,onIconClick:n}){return a.createElement("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},a.createElement("button",{className:ec()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":n}),onClick:n},a.createElement(e1.B,{svg:t})),a.createElement("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},e))}var r3=n(143823),r5=n(56834),r4=n(802589);function r6(){return a.createElement("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n"},a.createElement(r3.k,{size:"lg"}))}function r8({name:e,description:t,iconUrl:n}){return a.createElement(r7,{name:e,description:t,iconUrl:n,trailingIcon:a.createElement(e1.B,{className:"section_preset_picker--chevronRight--hORsb",svg:r4.A}),itemType:"shelf"})}function r9({name:e,description:t,iconUrl:n,isSelected:r,iconBackgroundColor:l}){return a.createElement(r7,{name:e,description:t,iconUrl:n,trailingIcon:r?a.createElement(e1.B,{svg:r5.A}):void 0,iconBackgroundColor:l,itemType:"template"})}function r7({name:e,description:t,itemType:n,iconUrl:r,trailingIcon:l,iconBackgroundColor:i}){return a.createElement("div",{className:ec()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===n,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===n})},a.createElement("div",{className:ec()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===n,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===n}),style:{backgroundColor:i}},r&&a.createElement("img",{src:r,alt:(0,h.t)("whiteboard.section_preset_picker.shelf.thumbnail")})),a.createElement("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},a.createElement("div",{className:"section_preset_picker--nameText--LS4BG"},e),a.createElement("div",{className:"section_preset_picker--descriptionText--OCJkN"},t)),l&&a.createElement("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97"},l))}var le=n(89035),lt=n(751870),ln=n(577900);let la="section_preset_item",lr=/^Section(\s\d+)?$/,ll=(0,e_.jz)(eT.IuL);function li({sectionId:e,sectionName:t,initialShelfId:n,initialTemplateId:i,showAlertOnSelect:s}){let c,d;let u=(0,r.wA)(),m=(0,td.tS)(),p=(0,o.md)(rQ.g),f="hasData"===p.state?p.data:[],g=0!==f.length,[E,_]=(0,a.useState)(n),[y,b]=(0,a.useState)(!1),[C,v]=(0,a.useState)(!1),w=(0,rY.fG)(),T=(0,rX.g)(),S=(0,o.Xr)(rZ.Yq),k=(0,o.Xr)(rZ.pn),I=(0,o.Xr)(rZ.bj),N=(0,o.md)(rZ.oh),x=(0,o.md)(rZ.pF),A=(0,rJ.q)(),L=(0,o.md)(rZ.pg),O=function(e,t){let n=(0,tR._X)({subscribeToUpdates_expensive:!0}),r=n.zoomScale,l=(0,a.useMemo)(()=>{let t=(0,eE.UN)().get(e);if(!t)return null;let n=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:n.x,y:n.y}}},[r,e]);if(!l)return null;let{canvasSpaceSectionTopLeft:i,canvasSpaceSectionOrigin:o}=l,s=(0,tR.Z0)(n,{x:i.x,y:i.y},!0),c={x:s.x-8,y:s.y},d=(0,tR.Z0)(n,o,!0),u=Math.max(c.y+n.y,n.y+8),m={top:u,bottom:u+200,height:200,left:0,right:c.x,width:301},p={x:(0,tR.Qt)(t.x,0,r,0),y:(0,tR.Qt)(t.y,0,r,0)};return{contextMenuRect:m,mouseBoundaryRect:{x:c.x,y:d.y+n.y,width:p.x+8,height:p.y}}}(e,x),R=a.useRef(!1),M=a.useCallback(()=>{S(),k(),b(!1)},[S,k]);(0,a.useEffect)(()=>{let e=setTimeout(()=>{v(!0)},500);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>()=>{R.current||(S(),k())},[S,k]);let D=O?.mouseBoundaryRect;if((0,a.useEffect)(()=>{if(!y||!D)return;let e=(0,rH.s)(function(e){let t=document.activeElement?.id??"";(!D||e.clientX>D.x+D.width||e.clientX<D.x||e.clientY>D.y+D.height||e.clientY<D.y)&&!t.includes(la)&&M()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[M,y,D]),!O)return null;let{contextMenuRect:P}=O,F=(n,a,r)=>{if(A&&m&&!L&&(b(!1),N?.template.id!==n.template.id)){if(S(),n.template.id===i){k();return}n.type===rq.n.HubFile&&(0,rj.Zg)({insert:()=>T(n,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:l.Z6A.SECTION,options:{nodeId:e,newName:lr.test(t)||a&&t===a?r:null,shelfId:n.category??"",templateId:n.template.id,templateName:(0,rY.gY)(n)}}}),template:n,fileKey:m,dispatch:u,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},B=e=>{(0,rj.Zg)({insert:()=>I({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:tV.zk.USER}),template:e,fileKey:m,dispatch:u,triggeredFrom:"section-preset",userTriggered:!0})},U=t=>{A&&m&&!L&&t.template.id!==i&&(R.current=!0,s?u((0,rW.to)({type:r1,data:{sectionId:e,initialTemplateId:i,initialShelfId:n,onConfirm:()=>B(t),onCancel:()=>M()}})):B(t))},G=E?f.find(e=>e.id===E):void 0;if(G){c={displayText:G.title,render:()=>a.createElement(r2,{name:G.title,leadingIcon:lt.A,onIconClick:()=>{_(null),S()}}),preventDismissOnSelected:!0};let e=n&&i?(0,le.bO)(f,n,i):null;d=G.shelf_content.map((t,n)=>{let r={type:rq.n.HubFile,template:t,category:E},{name:l,description:o}=w(r),s=(0,rz.$J)(o).trim(),c="client_meta"in t?JSON.parse(t.client_meta):{},d=c.preset_picker?.thumbnail_url_dark_bg??"";return{displayText:l,render:()=>a.createElement(r9,{name:l,description:s,iconUrl:d,isSelected:i===r.template.id,iconBackgroundColor:(0,le.j3)(n)}),onMouseEnter:()=>{F(r,e,l)},callback:()=>U(r)}})}else c={displayText:"Edit section name",render:()=>a.createElement(r2,{name:(0,h.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:ln.A}),preventDismissOnSelected:!0},d=f.map(t=>({displayText:t.title,render:()=>a.createElement(r8,{name:t.title,description:t.description,iconUrl:t.shelf_meta.preset_picker?.thumbnail_url}),preventDismissOnSelected:!0,callback:()=>{(0,eZ.trackEvent)("section_preset_picker_category_clicked",{fileKey:m,sectionId:e,selectedCategory:t.id,initialTemplateCategory:n,initialTemplateId:i}),_(t.id),S()}}));if(!g){if(!C)return null;d.push({displayText:"Loading",render:()=>a.createElement(r6,null),disabled:!0})}return a.createElement(nD.fu,{name:"section_preset_picker_shown",enabled:g,properties:{fileKey:m,sectionId:e,initialTemplateCategory:n,initialTemplateId:i,templateType:rq.n.HubFile}},a.createElement(rE.j,{depth:0,disableDropdownScrollContainer:!0,dispatch:u,displayOverTarget:!0,items:[c,...d],lean:"left",leanPadding:0,minBottomMargin:ll,minWidth:301,onMouseLeaveMenu:e=>{if(e.clientX>=P.right){b(!0);return}M()},onSelectItem:e=>{e.callback&&e.callback("",null,u)},parentRect:P,preventZoom:!0,recordingKey:la,showPoint:!1}))}function lo(e){let t=(0,r.d4)(e=>!e.mirror.appModel.isReadOnly),n=(0,td.q5)(),l=(0,F.iZ)();(0,r.d4)(e=>n?.team||null);let i=(0,nT.x)(),o=(0,nT.QZ)(),s=(0,nT.V2)(),c=n?.canEdit||!1,d=(0,r.wA)(),u=e.dropdownShown.type,m=(0,nA.v)();if(u===S.K9){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(a7,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!1})}if(u===S.wi){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(a7,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(u===S.ku){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(a7,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(u===S.t4){let{clientX:n,clientY:r,axis:l,rulerGuideContextMenuType:c}=e.dropdownShown.data;return a.createElement(a7,{axis:l,clientX:n,clientY:r,isObjectsPanelMenu:!1,isRulerGuideMenu:!0,isTextEditModeMenu:!1,rulerGuideContextMenuType:c,selectedView:e.selectedView,userCanEditFile:t,userCanRunExtensions:s,userCanViewPlugins:i,userCanViewWidgets:o})}if(u===S.Rb){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(a7,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!0})}if(u===S.W_){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(a3,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(u===S.LO)return a.createElement(r_,null);else if(u===S.SA){let{clientX:t,clientY:n,pageId:r}=e.dropdownShown.data;return a.createElement(ru,{pageId:r,clientX:t,clientY:n,selectedView:e.selectedView})}else if(u===S.bx){let{clientX:t,clientY:n}=e.dropdownShown.data;return a.createElement(rd,{clientX:t,clientY:n,selectedView:e.selectedView})}else if(u===S.d2){let{clientX:t,clientY:n,pageIds:r,shouldShowDuplicateOption:l}=e.dropdownShown.data;return a.createElement(rp.W,{pageIds:r,clientX:t,clientY:n,selectedView:e.selectedView,shouldShowDuplicateOption:l})}else if(u===S.$O){let{clientX:t,clientY:n,version:r,checkpointKey:l,callback:d,editName:u,enableClear:m,disableDuplicate:p}=e.dropdownShown.data;return a.createElement(a4,{callback:d,checkpointKey:l,clientX:t,clientY:n,disableDuplicate:p,editName:u,enableClear:m,isObjectsPanelMenu:!1,selectedView:e.selectedView,userCanEditFile:c,userCanRunExtensions:s,userCanViewPlugins:i,userCanViewWidgets:o,version:r})}else if(u===S.VJ){let{comment:t,parentRect:n,thread:r,isUnread:i}=e.dropdownShown.data;return a.createElement(nL.V,{dispatch:d,comment:t,parentRect:n,currentUser:l,isUnread:i,thread:r,copyLink:m})}else if(u===S.Z7){let{thread:t,pinClientRect:n}=e.dropdownShown.data;return a.createElement(nY,{selectedView:e.selectedView,thread:t,pinClientRect:n,copyLink:m})}else if(u===S.DT){let{attachment:t,clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(nx,{attachment:t,selectedView:e.selectedView,clientX:n,clientY:r})}else if(u===S.i){let{clientX:n,clientY:r,stringToCopy:l,expandElement:c,guid:d}=e.dropdownShown.data;return a.createElement(rn,{clientX:n,clientY:r,expandElement:c,guid:d,isObjectsPanelMenu:!0,selectedView:e.selectedView,stringToCopy:l,userCanEditFile:t,userCanRunExtensions:s,userCanViewPlugins:i,userCanViewWidgets:o})}else if(u===S.Sl){let{clientX:n,clientY:r,onCopyText:l}=e.dropdownShown.data;return a.createElement(ra,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!0,onCopyText:l})}else if(u===S.WJ){let{targetInViewport:n,nodeId:r}=e.dropdownShown.data;return a.createElement(rL,{targetInViewport:n,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!0,nodeId:r})}else if(u===S.XX){let{targetInViewport:n,annotationsCount:r}=e.dropdownShown.data;return a.createElement(nH,{targetInViewport:n,annotationsCount:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!0})}else if(u===S.si){let{sectionId:n,initialShelfId:r,initialTemplateId:l,sectionName:c,showAlertOnSelect:d}=e.dropdownShown.data;return a.createElement(li,{initialShelfId:r,initialTemplateId:l,isObjectsPanelMenu:!0,sectionId:n,sectionName:c,selectedView:e.selectedView,showAlertOnSelect:d,userCanEditFile:t,userCanRunExtensions:s,userCanViewPlugins:i,userCanViewWidgets:o})}else if(u===S.U3){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(rt,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!1,carouselType:re.SINGLE_SLIDE_VIEW})}else if(u===S.kX){let{clientX:t,clientY:n,targetItem:r,paint:l,onPaintChange:i}=e.dropdownShown.data;return a.createElement(rF,{clientX:t,clientY:n,selectedView:e.selectedView,targetItem:r,paint:l,onPaintChange:i})}else if(u===S.OI){let{boundingRect:t,targetObjectAnimation:n}=e.dropdownShown.data;return a.createElement(rV,{boundingRect:t,selectedView:e.selectedView,targetObjectAnimation:n})}else if(u===S.J7){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(rO.mh,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}else if(u===S.V6){let{clientX:t,clientY:n,deleteCollection:r,collectionId:l}=e.dropdownShown.data;return a.createElement(nw.e_,{clientX:t,clientY:n,deleteCollection:r,selectedView:e.selectedView,collectionId:l})}else if(u===S.Zn){let{clientX:t,clientY:n,deleteField:r,duplicateField:l}=e.dropdownShown.data;return a.createElement(nw.Zx,{clientX:t,clientY:n,deleteField:r,duplicateField:l,selectedView:e.selectedView})}else if(u===S.s9){let{clientX:t,clientY:n,deleteItemOrItems:r}=e.dropdownShown.data;return a.createElement(nw.M9,{clientX:t,clientY:n,deleteItemOrItems:r,selectedView:e.selectedView})}else if(u===S.jQ){let{clientX:t,clientY:n,deleteItem:r,renameItem:l,isLayerLike:i,selectOnCanvas:o}=e.dropdownShown.data;return a.createElement(rO.lV,{clientX:t,clientY:n,isLayerLike:i,deleteItem:r,renameItem:l,selectOnCanvas:o,selectedView:e.selectedView})}else if(u===S.k3){let{clientX:n,clientY:r}=e.dropdownShown.data;return a.createElement(rt,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:i,userCanViewWidgets:o,userCanRunExtensions:s,isObjectsPanelMenu:!1,carouselType:re.COOPER_CAROUSEL})}else if(u===S.Vl){let{clientX:t,clientY:n,deleteStop:r,redistributeStops:l}=e.dropdownShown.data;return a.createElement(rm,{clientX:t,clientY:n,deleteStop:r,redistributeStops:l,selectedView:e.selectedView})}return null}var ls=n(678405),lc=n(47551),ld=n(629469),lu=n(262989),lm=n(735067),lp=n(409159),lf=n(865114),lg=n(972487),lh=n(146859),lE=n(69658),l_=n(954703),ly=n(150934),lb=n(92778),lC=n(398612),lv=n(258871),lw=n(129170),lT=n(744577),lS=n(925085),lk=n(87463),lI=n(621350),lN=n(99496),lx=n(166045),lA=n(783464),lL=n(219377),lO=n(996046),lR=n(825241),lM=n(915499),lD=n(112661);function lP(e){return a.createElement("div",null,(0,at.Dz)(e.token.content))}function lF(e){let t=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts);return a.createElement("div",{style:lT.sx.colorText.px14.$,className:e.isSelected?"action_autocomplete_input--rowSelected--62Uvp autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"action_autocomplete_input--row--HRsbZ autocomplete_permissions--contactRow--DRMiv"},a.createElement(lS.Y,null,a.createElement(lk.E,null,(0,lx.EG)(e.searchResult)),a.createElement(lS.M,null),a.createElement(lk.E,null,e.searchResult.shortcutText??(0,Z.c1)(t,(0,at.Dz)(e.searchResult)))))}function lB({onAutocompleteChange:e}){let t=(0,lL.FX)(),n=(0,lO.c4)(),l=(0,r.d4)(e=>e.mirror.appModel),i=(0,r.d4)(e=>e.selectedView),o=(0,r.d4)(e=>e.user?.locale),s=(0,lA.M)({isReadOnly:l.isReadOnly,extensionMenuProps:n,includeDisabled:!0}),c=new lD.xm(l,i,[...t,...s],{includeDisabled:!0,acceptsUnicode:"ja"===o}),[d,u]=a.useState((0,lR.Rs)());return a.createElement(lM.P,{autoFocus:!0,autocompleteResultsClassName:e2.s.maxW300.$,autocomplete:d,placeholder:(0,h.t)("fullscreen_actions.search_menus_commands_and_plugins"),onChange:t=>{u(t),e(t)},validateToken:p.lQ,getSearchResults:e=>c.searchIncludeKey(l,e.inputValue).filter(([e,t])=>!t.parametersRequired).map(([e,t])=>({id:`${(0,at.Dz)(t)}-${t.pluginId}-${(0,lx.EG)(t)}`,searchKey:e,...t})),SearchResultComponent:lF,TokenComponent:lP})}var lU=n(871043),lG=n(61674);let lK="\u{1F310}";var lV=(e=>(e[e.NOT_PRESSED=0]="NOT_PRESSED",e[e.PRESSED=1]="PRESSED",e[e.PRESSED_FIRST_TIME=2]="PRESSED_FIRST_TIME",e[e.HELD=3]="HELD",e[e.COMPLETED_TAB_ANIMATION=4]="COMPLETED_TAB_ANIMATION",e))(lV||{}),lH=(e=>(e[e.FIGJAM=0]="FIGJAM",e[e.DESIGN=1]="DESIGN",e[e.DEV_MODE=2]="DEV_MODE",e[e.SLIDES=3]="SLIDES",e[e.SITES=4]="SITES",e[e.FIGMAKE=5]="FIGMAKE",e[e.COOPER=6]="COOPER",e[e.ILLUSTRATION=7]="ILLUSTRATION",e))(lH||{});function lz(e,t){return e in t?t[e].map(e=>e.text).filter(e=>-1===e.toLowerCase().indexOf("num")).map(lY.splitStringIntoKeys):null}function lW(e,t){let n=e.map(e=>{let n=lz(e,t);return null==n||0===n.length?null:n[0]}).filter(lU.Vq);if(0===n.length)return null;if(1===n.length)return nX.k.warn("combineShortcuts: Could not find bindings to combine. \nactions: %o",e),null;let a=n[0].slice(0,-1),r=n.map(e=>e.length-1===a.length&&e.slice(0,-1).filter((e,t)=>e===a[t]).length===a.length?e.slice(-1)[0]:null).filter(lU.Vq);return r.length!==e.length?(nX.k.warn("combineShortcuts: Bindings length mismatch. \nactions: %o, shortcuts %s and %s",e,n[0].join(""),n[1].join("")),null):[[...a,r]]}let lj=class e extends a.PureComponent{constructor(){super(...arguments),this.state={pressed:0,animationDelays:this.calculateAnimationDelays(this.props)},this.prettifyKeyLabel=e=>e.replace(/\u23B5/,(0,h.t)("whiteboard.keyboard_shortcuts.key_label.space")).replace(/\u21E5/,`\u21E5 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.tab")}`).replace(/\u21DE/,`\u21DE ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.pg_up")}`).replace(/\u21DF/,`\u21DF ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.pg_dn")}`).replace(/\u2196/,`\u2196 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.home")}`).replace(/\u2198/,`\u2198 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.end")}`).replace(/\u238B/,`\u238B ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.esc")}`).replace(/\u21A9/,`\u21A9 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter")}`),this.getTooltipText=e=>{switch(e){case"\u2318":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.command");case"\u21E7":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.shift");case"\u2325":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.option_alt");case"\u2303":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.control");case"\u232B":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.backspace");case"\u2190":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.left");case"\u2192":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.right");default:return null}},this.renderCharKeyBox=(e,t)=>{let n=this.prettifyKeyLabel(e),r=n.startsWith(lK),l=n.length>1&&!r?lG.SR:lG.FU,i=this.state.animationDelays[t]?{animationDelay:`${this.state.animationDelays[t]}ms`}:{};return a.createElement("span",{key:n+t,className:l,style:i,"data-tooltip-show-immediately":"true","data-tooltip-show-above":"true","data-tooltip-type":tp.Ib.TEXT,"data-tooltip":this.getTooltipText(e)},n)},this.renderKeyBindings=e=>{let t=[],n=0;return e.forEach(e=>{if("string"==typeof e)t.push(this.renderCharKeyBox(e,n)),n++;else{let r=this.renderCharKeyBox(e[0],n),l=this.renderCharKeyBox(e[1],n+1);t.push(r),t.push(a.createElement("div",{key:`${e[0]}-${e[1]}`,className:lG.Uo},(0,h.tx)("whiteboard.keyboard_shortcuts.and"))),t.push(l),n+=2}}),a.createElement("span",{className:lG.pi},t)},this.triggerUnpressed=()=>{this.setState({pressed:0})},this.triggerPressed=()=>{4!=this.state.pressed&&2!=this.state.pressed&&(clearTimeout(this.pressedTimeout),this.pressedTimeout=setTimeout(()=>this.triggerUnpressed(),500),3!=this.state.pressed&&(1==this.state.pressed?this.setState({pressed:3}):this.setState({pressed:1})))},this.triggerPressedFirstTime=()=>{this.setState({pressed:2}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),1200)},this.triggerCompletedTab=()=>{this.setState({pressed:4}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),4e3)}}static shortcutUsedCount(e,t){if(null==t)return 0;switch(e){case"align-centers":return Math.min(t["align-horizontal-center"]||0,t["align-vertical-center"]||0);case"align-left-right":return Math.min(t["align-left"]||0,t["align-right"]||0);case"align-top-bottom":return Math.min(t["align-top"]||0,t["align-bottom"]||0);case"distribute-spacing":return Math.min(t["distribute-horizontal-spacing"]||0,t["distribute-vertical-spacing"]||0);case"text-font-size-adjust":return Math.min(t["text-font-size-increase"]||0,t["text-font-size-decrease"]||0);case"text-letter-spacing-adjust":return Math.min(t["text-letter-spacing-increase"]||0,t["text-letter-spacing-decrease"]||0);case"text-indent-and-dedent-list":return Math.min(t["text-indent-list"]||0,t["text-dedent-list"]||0);case"text-line-height-adjust":return Math.min(t["text-line-height-increase"]||0,t["text-line-height-decrease"]||0);case"bold-and-italic":return Math.min(t["toggle-bold"]||0,t["text-toggle-italic"]||0);case"text-bold-adjust":return Math.min(t["text-bold-increase"]||0,t["text-bold-decrease"]||0);case"bulleted-and-numbered-list":return Math.min(t["text-toggle-unordered-list"]||0,t["text-toggle-ordered-list"]||0);default:return t[e]||0}}calculateAnimationDelays(e){let t=[];for(var n=0;n<5;n++){let n=0;e.allTabsCompletedAnimation?n=-Math.floor(2e3*Math.random()):e.tabCompletedFirstTimeAnimation&&null!=e.tabCompletedAnimationKeyPosition&&(n=110*Math.abs(e.keyPosition-e.tabCompletedAnimationKeyPosition)+100),t.push(n)}return t}UNSAFE_componentWillReceiveProps(t){let n=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts),a=e.shortcutUsedCount(t.shortcutKey,t.usedKeyboardShortcuts);if(this.props.allTabsCompletedAnimation!=t.allTabsCompletedAnimation||this.props.tabCompletedFirstTimeAnimation!=t.tabCompletedFirstTimeAnimation){let e=this.calculateAnimationDelays(t);this.setState({animationDelays:e})}t.tabCompletedFirstTimeAnimation&&!this.props.tabCompletedAnimation&&t.tabCompletedAnimation?this.triggerCompletedTab():n!=a&&this.props.shortcutKey==t.shortcutKey&&(1==a?this.triggerPressedFirstTime():this.triggerPressed())}render(){let t,n;try{t=this.props.customName?this.props.customName:this.props.displayName?(0,aa.A)(this.props.displayName):(0,aa.A)(this.props.shortcutKey)}catch(e){console.error(e),t=this.props.shortcutKey}let r=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts)>0,l=e.keybindingsForShortcut(this.props.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts),i=null;return l&&(i=this.renderKeyBindings(l[0])),n=this.props.allTabsCompletedAnimation?lG.Ve:4==this.state.pressed?lG.T7:2==this.state.pressed?lG.Q3:3==this.state.pressed?lG.u$:1==this.state.pressed?lG.b3:r?lG.k3:lG.J8,l&&a.createElement("tr",{className:n,key:this.props.shortcutKey},this.props.icon&&(this.props.editorType===X.nT.Design||this.props.editorType===X.nT.Illustration||this.props.editorType===X.nT.DevHandoff)&&a.createElement("td",{className:lG.mH},a.createElement(e1.B,{svg:this.props.icon,className:lG.cw})),a.createElement("td",{className:lG.QL},t,this.props.usage&&a.createElement("div",{className:lG.CI},this.props.usage)),a.createElement("td",{className:lG.qH},i))}};lj.displayName="Shortcut",lj.specialKeys=["Backspace","Delete","Down","End","Enter","Home","Left","Page Down","Page Up","Right","Tab","Up","F6"],lj.getLocalizedSpecialKey=e=>{switch(e){case"Backspace":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.backspace");case"Delete":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.delete");case"Down":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.down");case"End":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.end");case"Enter":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter");case"Home":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.home");case"Left":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.left");case"Page Down":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.page_down");case"Page Up":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.page_up");case"Right":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.right");case"Tab":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.tab");case"Up":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.up");case"F6":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.f6")}},lj.splitStringIntoKeys=e=>{let t=[],n=(0,i.k)().ce_mac_page_shortcuts&&eu.y.isApple();for(;e.length>0;)if(e.startsWith("Ctrl+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl")),e=e.slice(5);else if(e.startsWith("Shift+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.shift")),e=e.slice(6);else if(e.startsWith("Alt+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.alt")),e=e.slice(4);else if(e.startsWith("Win+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.win")),e=e.slice(4);else if(n&&e.startsWith("Page Up"))t.push(lK),t.push("\u2191"),e=e.slice(7);else if(n&&e.startsWith("Page Down"))t.push(lK),t.push("\u2193"),e=e.slice(9);else{let n=!1;for(let a=0;a<lj.specialKeys.length;a++){let r=lj.specialKeys[a];if(e.startsWith(r)){t.push(lj.getLocalizedSpecialKey(r)),e=e.slice(r.length),n=!0;break}}n||(t.push(e[0]),e=e.slice(1))}return t},lj.keybindingsForShortcut=(e,t,n)=>{if(!n)return null;let a=function(e,t){let n=eu.y.isApple(),a=n?"\u2325":f.Ay.chromeos?(0,h.t)("whiteboard.keyboard_shortcuts.key_label.search"):(0,h.t)("whiteboard.keyboard_shortcuts.key_label.alt"),r=n?"\u2318":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),l=n?"\u21A9":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter"),i=n?"\u238B":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.esc"),o=n?"\u21E7":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.shift"),s=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.drag"),c=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.click"),d=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.dbl_click"),u=Object.entries({"align-left-right":lW(["align-left","align-right"],e),"align-top-bottom":lW(["align-top","align-bottom"],e),"align-centers":lW(["align-horizontal-center","align-vertical-center"],e),copy:[[r,"C"]],"center-resize-drag":[[a]],"crop-image":[[a,d]],cut:[[r,"X"]],"deep-select":[[r,c]],"deep-select-rectangle":[[r,s]],"deselect-all":[[i]],duplicate:[[a]],"ignore-constraints":[[r]],"measure-to-selection":[[a]],"move-while-resizing":[["\u23B5"]],pan:[["\u23B5",s]],paste:[[r,"V"]],"request-edit-mode":[[l]],"resize-proportionally":[[o]],"swap-instance":[[a]],"text-letter-spacing-adjust":lW(["text-letter-spacing-decrease","text-letter-spacing-increase"],e),"text-line-height-adjust":lW(["text-line-height-decrease","text-line-height-increase"],e),"text-font-size-adjust":lW(["text-font-size-decrease","text-font-size-increase"],e),"text-bold-adjust":lW(["text-bold-decrease","text-bold-increase"],e),"bold-and-italic":lW(["toggle-bold","text-toggle-italic"],e),"stamp-or-reaction-wheel":[["E"]],"set-tool-section":[["F"]],"bulleted-and-numbered-list":lW(["text-toggle-ordered-list","text-toggle-unordered-list"],e),"distribute-spacing":lW(["distribute-horizontal-spacing","distribute-vertical-spacing"],e),"text-indent-and-dedent-list":lW(["text-indent-list","text-dedent-list"],e),"straight-connector":[[o,s]],"edit-text":[[l]],"set-opacity-00":t?[["0","0"]]:[[o,"0","0"]],"quick-create-immutable-frame":lz("quick-create",e),"stamp-on-node":lz("quick-create",e)}).reduce((e,[t,n])=>((0,lU.Vq)(n)&&(e[t]=n),e),{});return n?{...u,"bend-tool":[["\u2318"]]}:u}(n,t);return e in n?lz(e,n):e in a?a[e]:null};let lY=lj;function lJ(){let[e,t]=a.useState({step:"NOT_CURRENTLY_ADDING"}),n=(0,tO.lg)(),i=(0,K.J2)(l.Ez5.editorState().useNumbersForOpacity),o=(0,r.d4)(e=>e.usedKeyboardShortcuts),s=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),c="ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&e.menuItem,d=a.createRef(),u=a.useCallback(n=>{n.stopPropagation(),n.preventDefault();let a=function(e){let t=(0,lN.v7)(),n=[];if(e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),e.ctrlKey&&n.push("Control"),"MetaRight"===e.code||"MetaLeft"===e.code||"ShiftRight"===e.code||"ShiftLeft"===e.code||"ControlRight"===e.code||"ControlLeft"===e.code||"AltRight"===e.code||"AltLeft"===e.code);else if(t===l.aTn.UNKNOWN){let t=l.glU.stringKeyFromWebEventKeycode(e.keyCode);n.push(t)}else{let a=l.glU.stringKeyFromWebEventCode(e.code,t);n.push(a)}return lI.Gm.getKeyboardShortcutFromText(n.join("+"),null)}(n),r=a&&"Escape"===a.key;if(a&&"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&c&&!r){let e,t;if("None"===a.key)return;c.action?(e=l.XpX.FULLSCREEN,t=c.action):(e=l.XpX.NON_FULLSCREEN,t=c.searchKey),(0,lv.L3)(e,t,(0,lI.t4)(a))}t({step:"NOT_CURRENTLY_ADDING"})},[c,e.step]);return a.useEffect(()=>{"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&d.current?.focus()},[d,e.step]),a.createElement("div",{className:lG.PG},a.createElement("div",{className:lG.fi},a.createElement(lS.Y,{direction:"vertical",height:"fill-parent",padding:{vertical:10}},a.createElement(lk.E,{color:"menu",fontSize:14},(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts")),a.createElement(eJ.$n,{variant:"primary",iconPrefix:a.createElement(ly.x,null),onClick:()=>t({step:"ADDING_WAITING_FOR_ACTION_INPUT"})},a.createElement(lk.E,null,(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts.add"))),a.createElement(lS.M,null),a.createElement(lw.Ex,{className:e2.s.mt4.$,text:"Internal only - #feat-custom-keyboard-shortcuts",color:lw.zE.WARNING,onClick:()=>(0,lC.FJ)("https://figma.slack.com/archives/C055MQJ2E5P","_blank")}))),a.createElement("div",{className:lG.fi,style:lT.sx.pt32.overflowYScroll.add({maxHeight:"162px"}).$},Object.values((0,lv.Uc)()).map(({action:e,type:t})=>a.createElement(lS.Y,{key:`custom-shortcuts-${e}`,width:"fill-parent",height:"hug-contents"},a.createElement(lY,{customName:"FULLSCREEN"===t?void 0:e,shortcutKey:e,editorType:(0,X.wN)(n),keyPosition:0,useNumbersForOpacity:i,usedKeyboardShortcuts:o,appModelKeyboardShortcuts:s}),a.createElement("span",{className:"keyboard_shortcut_panel_custom_tab--deleteButton--xf9nN"},a.createElement(l_.K,{onClick:()=>(0,lv.C4)("FULLSCREEN"===t?l.XpX.FULLSCREEN:l.XpX.NON_FULLSCREEN,e),"aria-label":(0,h.t)("whiteboard.keyboard_shortcuts.delete.shortcut"),htmlAttributes:{"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":(0,h.t)("whiteboard.keyboard_shortcuts.delete.shortcut")}},a.createElement(lb.O,null))))),"ADDING_WAITING_FOR_ACTION_INPUT"===e.step&&a.createElement("div",{className:e2.s.relative.mt4.$},a.createElement(lB,{onAutocompleteChange:e=>{let n=e.tokens[0];n&&t({step:"ADDING_WAITING_FOR_KEY_REGISTRATION",menuItem:n.content})}})),"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&a.createElement(lS.Y,{height:"hug-contents",verticalAlignItems:"center"},a.createElement(lk.E,{color:"menu"},(0,lx.EG)(e.menuItem)),a.createElement(lS.M,null),a.createElement("div",{className:e2.s.py4.$},a.createElement("div",{className:ec()(lG.k3,lG.pi)},a.createElement(eJ.$n,{ref:d,variant:"primary",htmlAttributes:{onKeyDown:u}},a.createElement(lk.E,null,(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts.press_key")))))),a.createElement("div",{style:lT.sx.h150.$})))}var lq=n(361323),lX=n(383933),lZ=n(648032),lQ=n(666676);function l$(e){return e?"component-insert-display-name-ui3":"component-insert-display-name"}function l0(e,t){return{[lZ.Jq.ESSENTIAL]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.essential"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.essential"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES],columns:[[{shortcuts:[{shortcutKey:"toggle-ui",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_ui_description"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"create-slide",usage:(0,h.tx)("slides.keyboard_shortcuts.create-slide-description"),includeInEditorType:lH.SLIDES}]}],[{shortcuts:[t?{shortcutKey:"component-insert",displayName:l$(e),usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.component_insert_description"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]}:{shortcutKey:"toggle-dropper",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_dropper_description"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-grid-focus-view",usage:(0,h.tx)("slides.keyboard_shortcuts.toggle-slide-view-description"),includeInEditorType:lH.SLIDES}]}],[{shortcuts:[{shortcutKey:"toggle-menu",displayName:(0,aR.gn)()?"toggle-actions-menu":"toggle-menu",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_menu_description"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES]}]}]]},[lZ.Jq.TOOLS]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.tools"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.tools"),columns:[[{shortcuts:[{shortcutKey:"set-tool-default",displayName:"set-tool-default-desc-figma",icon:(0,lX.SD)(l.NLJ.SELECT),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER]},{shortcutKey:"set-tool-sites-responsive-set",displayName:"set-tool-sites-responsive-set",icon:(0,lX.SD)(l.NLJ.SITES_RESPONSIVE_SET),includeInEditorType:lH.SITES},{shortcutKey:"set-tool-default-figjam",displayName:"set-tool-default-desc-figjam",icon:(0,lX.SD)(l.NLJ.SELECT),includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-frame",displayName:"set-tool-frame-desc",icon:(0,lX.SD)(l.NLJ.FRAME),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"set-tool-pen",displayName:"set-tool-pen-desc",icon:(0,lX.SD)(l.NLJ.VECTOR_PEN),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"set-tool-sticky",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-connector-straight",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-connector-elbowed",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-pencil",displayName:"set-tool-pencil-desc",icon:(0,lX.SD)(l.NLJ.VECTOR_PENCIL),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"set-tool-pencil",displayName:"set-tool-marker",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-hand",displayName:"set-tool-hand",icon:(0,lX.SD)(l.NLJ.HAND),includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"set-tool-scale",displayName:"set-tool-scale",icon:(0,lX.SD)(l.NLJ.SCALE),includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"toggle-dropper",displayName:"toggle-dropper",icon:(0,lX.SD)(l.NLJ.DROPPER_COLOR),includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"toggle-menu",displayName:(0,aR.gn)()?"toggle-actions-menu":"toggle-menu",icon:lX.bs(aR.gn()?"toggle-actions-menu":"toggle-menu")?.svg??null,includeInEditorType:[lH.SLIDES,lH.SITES,lH.COOPER]}]}],[{shortcuts:[{shortcutKey:"set-tool-type",displayName:"set-tool-type-desc",icon:(0,lX.SD)(l.NLJ.TYPE),hideInEditorType:lH.DEV_MODE},{shortcutKey:"set-tool-table",icon:(0,lX.SD)(l.NLJ.TABLE),includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-section",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-rectangle",displayName:"set-tool-rectangle-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_RECTANGLE),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.COOPER]},{shortcutKey:"set-tool-shape-whiteboard-square",displayName:"set-tool-rectangle-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_RECTANGLE),includeInEditorType:lH.SLIDES},{shortcutKey:"set-tool-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_ELLIPSE),hideInEditorType:lH.DEV_MODE},{shortcutKey:"set-tool-shape-whiteboard-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_ELLIPSE),includeInEditorType:lH.SLIDES},{shortcutKey:"set-tool-line",displayName:"set-tool-line-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_LINE),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES,lH.COOPER]},{shortcutKey:"toggle-publish",includeInEditorType:lH.FIGJAM},{shortcutKey:"place",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-arrow",displayName:"set-tool-arrow-desc",icon:(0,lX.SD)(l.NLJ.SHAPE_ARROW),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES,lH.COOPER]},{shortcutKey:"set-tool-comments",icon:(0,lX.SD)(l.NLJ.COMMENTS),includeInEditorType:lH.DEV_MODE},{shortcutKey:"set-tool-annotate",displayName:"set-tool-annotate-desc",icon:(0,lX.SD)(l.NLJ.ANNOTATE),includeInEditorType:lH.DEV_MODE},{shortcutKey:"set-tool-measure",icon:(0,lX.SD)(l.NLJ.MEASURE),includeInEditorType:lH.DEV_MODE}]}],[{shortcuts:[{shortcutKey:"start-chat",includeInEditorType:lH.FIGJAM},{shortcutKey:"stamp-or-reaction-wheel",includeInEditorType:lH.FIGJAM},{shortcutKey:"set-tool-code-block",includeInEditorType:[lH.FIGJAM,lH.SLIDES]},{shortcutKey:"set-tool-table",icon:(0,lX.SD)(l.NLJ.TABLE),includeInEditorType:lH.SLIDES},{shortcutKey:"set-tool-pen",icon:(0,lX.SD)(l.NLJ.VECTOR_PEN),includeInEditorType:lH.SLIDES},{shortcutKey:"set-tool-pencil",icon:(0,lX.SD)(l.NLJ.VECTOR_PENCIL),includeInEditorType:lH.SLIDES},{shortcutKey:"browse-all-resources-modal",icon:lX.bs("browse-all-resources-modal")?.svg??null,includeInEditorType:lH.SLIDES},{shortcutKey:"set-tool-comments",icon:(0,lX.SD)(l.NLJ.COMMENTS),hideInEditorType:lH.DEV_MODE},{shortcutKey:"set-tool-annotate",displayName:"set-tool-annotate-desc",icon:(0,lX.SD)(l.NLJ.ANNOTATE),includeInEditorType:lH.DESIGN},{shortcutKey:"toggle-dropper",icon:lQ.A,includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.DEV_MODE]},{shortcutKey:"set-tool-slice",displayName:"set-tool-slice-desc",icon:(0,lX.SD)(l.NLJ.SLICE),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]}]}]]},[lZ.Jq.VIEW]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.view"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.view"),columns:[[{shortcuts:[{shortcutKey:"toggle-grid-focus-view",displayName:"toggle-slide-view-short-description",includeInEditorType:[lH.SLIDES]},{shortcutKey:"toggle-grid-focus-view",displayName:"toggle-view-short-description",includeInEditorType:[lH.COOPER]},{shortcutKey:"enter-slides-design-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:lH.SLIDES},{shortcutKey:"enter-slides-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:lH.SLIDES},{shortcutKey:"toggle-cooper-tool-mode",displayName:"toggle-cooper-tool-mode-description",includeInEditorType:lH.COOPER},{shortcutKey:"toggle-animate-info",displayName:"toggle-animate-info-description",includeInEditorType:lH.SLIDES},{shortcutKey:"toggle-ui",hideInEditorType:lH.SLIDES},{shortcutKey:"toggle-multiplayer-cursors",hideInEditorType:lH.SLIDES},{shortcutKey:"enter-design-mode",hideInEditorType:lH.SLIDES},{shortcutKey:"enter-inspect-mode",hideInEditorType:lH.SLIDES}]}],[{shortcuts:[{shortcutKey:"pan",includeInEditorType:lH.FIGJAM},{shortcutKey:"zoom-in",includeInEditorType:lH.FIGJAM},{shortcutKey:"zoom-out",includeInEditorType:lH.FIGJAM},{shortcutKey:"zoom-reset",includeInEditorType:lH.FIGJAM},{shortcutKey:"toggle-rulers",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-outlines",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-pixel-preview",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-shown-layout-grids",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES]},{shortcutKey:"toggle-grid",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"zoom-in",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"zoom-out",includeInEditorType:[lH.SLIDES,lH.COOPER]}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit",includeInEditorType:lH.FIGJAM},{shortcutKey:"zoom-to-selection",includeInEditorType:lH.FIGJAM},{shortcutKey:"toggle-layers",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-library",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"show-design-panel",includeInEditorType:lH.DESIGN},{shortcutKey:"show-prototype-panel",includeInEditorType:lH.DESIGN},{shortcutKey:"zoom-reset",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"zoom-to-selection",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"zoom-to-fit",includeInEditorType:[lH.SLIDES,lH.COOPER]}]}]]},[lZ.Jq.ZOOM]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.zoom"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.zoom"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.DEV_MODE],columns:[[{shortcuts:[{shortcutKey:"pan"},{shortcutKey:"zoom-in"},{shortcutKey:"zoom-out"},{shortcutKey:"zoom-reset"}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit"},{shortcutKey:"zoom-to-selection"},{shortcutKey:"next-artboard"},{shortcutKey:"previous-artboard"}]}],[{shortcuts:[{shortcutKey:"page-previous"},{shortcutKey:"page-next"},{shortcutKey:"previous-artboard-same-zoom"},{shortcutKey:"next-artboard-same-zoom"}]}]]},[lZ.Jq.TEXT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.text"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.text"),hideInEditorType:lH.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"bold-and-italic"},{shortcutKey:"text-toggle-underline"},{shortcutKey:"text-edit-hyperlink",hideInEditorType:lH.SLIDES},{shortcutKey:"text-toggle-strikethrough"},{shortcutKey:"bulleted-and-numbered-list",hideInEditorType:lH.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-align-left",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-align-center",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-align-right",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-align-justified",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-style-normal",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-style-h3",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-style-h2",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-style-h1",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-style-title",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-edit-hyperlink",includeInEditorType:lH.SLIDES},{shortcutKey:"bulleted-and-numbered-list",includeInEditorType:lH.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-font-size-adjust",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER]},{shortcutKey:"text-bold-adjust",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER]},{shortcutKey:"text-letter-spacing-adjust",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-line-height-adjust",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"text-align-left",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-align-center",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-align-right",includeInEditorType:lH.FIGJAM},{shortcutKey:"text-indent-and-dedent-list",includeInEditorType:lH.FIGJAM}]}]]},[lZ.Jq.SHAPE]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.shape"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.shape"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES],columns:[[{shortcuts:[{shortcutKey:"set-tool-pen",icon:(0,lX.SD)(l.NLJ.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",icon:(0,lX.SD)(l.NLJ.VECTOR_PENCIL)}]},{caption:"while-editing-shape",shortcuts:[{shortcutKey:"set-tool-paint-bucket",icon:(0,lX.SD)(l.NLJ.VECTOR_PAINT_BUCKET)},{shortcutKey:"set-tool-shape-builder",icon:(0,lX.SD)(l.NLJ.SHAPE_BUILDER),featureFlags:["ce_il_sb_tool"]},{shortcutKey:"set-tool-vector-lasso",icon:(0,lX.SD)(l.NLJ.VECTOR_LASSO),featureFlags:["ce_il_la_tool"]},{shortcutKey:"bend-tool",icon:(0,lX.SD)(l.NLJ.VECTOR_BEND)},{shortcutKey:"set-tool-cut",icon:(0,lX.SD)(l.NLJ.VECTOR_CUT),featureFlags:["ce_il_vem_cut_tool"]}]}],[{shortcuts:[{shortcutKey:"remove-fill"},{shortcutKey:"remove-stroke"},{shortcutKey:"swap-fill-and-stroke"},{shortcutKey:"outline-stroke"},{shortcutKey:"flatten-selection"}]}],[{caption:"after-selecting-points",shortcuts:[{shortcutKey:"join-selection"},{shortcutKey:"smooth-join-selection"},{shortcutKey:"delete-and-heal-selection"}]}]]},[lZ.Jq.SELECT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.selection"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.selection"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES],columns:[[{shortcuts:[{shortcutKey:"select-all"},{shortcutKey:"select-inverse",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"deselect-all"},{shortcutKey:"deep-select"}]}],[{shortcuts:[{shortcutKey:"select-child"},{shortcutKey:"select-parent"},{shortcutKey:"select-next-sibling"},{shortcutKey:"select-previous-sibling",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"select-matching",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]}]}],[{shortcuts:[{shortcutKey:"group-selection"},{shortcutKey:"ungroup-selection"},{shortcutKey:"frame-selection"},{shortcutKey:"toggle-shown-for-selected-nodes",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]}]}]]},[lZ.Jq.CURSOR]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.cursor"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.cursor"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION],columns:[[{caption:"while-pointing",shortcuts:[{shortcutKey:"measure-to-selection"}]},{caption:"while-moving",shortcuts:[{shortcutKey:"duplicate"}]}],[{caption:"while-clicking",shortcuts:[{shortcutKey:"deep-select"}]},{caption:"while-dragging-to-select",shortcuts:[{shortcutKey:"deep-select-rectangle"}]}],[{caption:"while-resizing",shortcuts:[{shortcutKey:"center-resize-drag"},{shortcutKey:"resize-proportionally"},{shortcutKey:"ignore-constraints",displayName:"ignore-constraints-desc"}]}]]},[lZ.Jq.COPY]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.copy"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.copy"),includeInEditorType:lH.DEV_MODE,columns:[[],[{shortcuts:[{shortcutKey:"copy",includeInEditorType:lH.DEV_MODE},{shortcutKey:"copy-as-png",includeInEditorType:lH.DEV_MODE}]}],[]]},[lZ.Jq.EDIT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.edit"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.edit"),hideInEditorType:lH.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"copy"},{shortcutKey:"cut"},{shortcutKey:"paste"},{shortcutKey:"paste-to-replace",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER]},{shortcutKey:"paste-over-selection"},{shortcutKey:"export-selection-or-current-page",displayName:"export-selection-or-current-page-desc",includeInEditorType:lH.FIGJAM}]}],[{shortcuts:[{shortcutKey:"bring-forward",includeInEditorType:lH.FIGJAM},{shortcutKey:"send-backward",includeInEditorType:lH.FIGJAM},{shortcutKey:"bring-to-front",includeInEditorType:lH.FIGJAM},{shortcutKey:"send-to-back",includeInEditorType:lH.FIGJAM},{shortcutKey:"group-selection",includeInEditorType:lH.FIGJAM},{shortcutKey:"undo",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"redo",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"duplicate",includeInEditorType:[lH.SLIDES,lH.COOPER]},{shortcutKey:"duplicate-in-place",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER]},{shortcutKey:"rename-selection",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"export-selected-exportables",displayName:"export-selected-exportables-desc",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"canvas-search",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]}]}],[{shortcuts:[{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:lH.FIGJAM},{shortcutKey:"canvas-search",includeInEditorType:[lH.FIGJAM,lH.SLIDES,lH.COOPER]},{shortcutKey:"undo",includeInEditorType:lH.FIGJAM},{shortcutKey:"redo",includeInEditorType:lH.FIGJAM},{shortcutKey:"copy-as-png",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"copy-properties",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES,lH.COOPER]},{shortcutKey:"paste-properties",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SLIDES,lH.COOPER]}]}]]},[lZ.Jq.TRANSFORM]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.transform"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.transform"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION],columns:[[{shortcuts:[{shortcutKey:"flip-horizontal"},{shortcutKey:"flip-vertical"},{shortcutKey:"mask-selection"}]}],[{shortcuts:[{shortcutKey:"request-edit-mode",displayName:"edit-shape-or-image"},{shortcutKey:"place"}]}],[{shortcuts:[{shortcutKey:"set-opacity-00"},{shortcutKey:"set-opacity-1"},{shortcutKey:"set-opacity-5"},{shortcutKey:"set-opacity-0"}]}]]},[lZ.Jq.ARRANGE]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.arrange"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.arrange"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES,lH.SLIDES,lH.COOPER],columns:[[{shortcuts:[{shortcutKey:"bring-forward"},{shortcutKey:"send-backward"},{shortcutKey:"bring-to-front"},{shortcutKey:"send-to-back"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"distribute-spacing",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"tidy-up",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]}]}],[{shortcuts:[{shortcutKey:"stack-selection",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION,lH.SITES]},{shortcutKey:"unstack-selection",includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"run-multi-stack-auto-layout",featureFlags:["auto_auto_layout"],includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION]},{shortcutKey:"distribute-spacing",includeInEditorType:lH.SLIDES},{shortcutKey:"tidy-up",includeInEditorType:[lH.SLIDES,lH.COOPER]}]}]]},[lZ.Jq.COMPONENTS]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.components"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.components"),includeInEditorType:[lH.DESIGN,lH.ILLUSTRATION],columns:[[{shortcuts:[{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"toggle-library"},{shortcutKey:"create-symbol"},{shortcutKey:"detach-instance"}]}],[{shortcuts:[{shortcutKey:"component-insert",displayName:l$(e)}]},{caption:"while-inserting-a-component",shortcuts:[{shortcutKey:"swap-instance"}]}]]},[lZ.Jq.ACCESSIBILITY]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.accessibility"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.accessibility"),includeInEditorType:lH.FIGJAM,columns:[[{shortcuts:[{shortcutKey:"select-next-node"},{shortcutKey:"select-previous-node"},{shortcutKey:"select-parent"},{shortcutKey:"select-child"}]}],[{shortcuts:[{shortcutKey:lq.dz},{shortcutKey:lq.Jt}]}]]},[lZ.Jq.ADVANCED]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.advanced"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.advanced"),includeInEditorType:lH.FIGJAM,columns:[[{caption:"while-editing-shape-or-sticky",shortcuts:[{shortcutKey:"quick-create-immutable-frame"}]},{caption:"while-text-shape-or-sticky-selected",shortcuts:[{shortcutKey:"edit-text"}]}],[{caption:"while-stamping",shortcuts:[{shortcutKey:"stamp-on-node"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"tidy-up"},{shortcutKey:"straight-connector"}]}]]}}}function l1(e,t,n){if(void 0===t&&void 0===n)return!0;let a=e=>{let a=!0;return void 0!==n&&(a&&=n!==e),void 0!==t&&(Array.isArray(t)?a&&=t.includes(e):a&&=t===e),a};return e===X.nT.Design?a(lH.DESIGN):e===X.nT.DevHandoff?a(lH.DEV_MODE):e===X.nT.Whiteboard?a(lH.FIGJAM):e===X.nT.Slides?a(lH.SLIDES):e===X.nT.Sites?a(lH.SITES):e===X.nT.Figmake?a(lH.FIGMAKE):e===X.nT.Cooper?a(lH.COOPER):e===X.nT.Illustration&&a(lH.ILLUSTRATION)}function l2(e){return!e||e.every(e=>(0,i.k)()[e])}function l3(e,t,n,a,r){let l={};for(let i in e){let o=!0;for(let l of e[i].columns)for(let e of l)if(l1(r,e.includeInEditorType,e.hideInEditorType)){for(let l of e.shortcuts)if(l1(r,l.includeInEditorType,l.hideInEditorType)&&lY.keybindingsForShortcut(l.shortcutKey,n,a)&&!(lY.shortcutUsedCount(l.shortcutKey,t)>0)){o=!1;break}}l[i]=o}return l}function l5(e,t,n){let a=!0;for(let r in e)if(!e[r]&&l1(t,n[r]?.includeInEditorType)){a=!1;break}return a}var l4=n(469508);let l6="keyboard_rows--row--8eEsv",l8="ISO_ENTER",l9="SPACER";function l7({createKey:e}){return a.createElement("div",{className:l6},e("Backquote"),e("Digit1"),e("Digit2"),e("Digit3"),e("Digit4"),e("Digit5"),e("Digit6"),e("Digit7"),e("Digit8"),e("Digit9"),e("Digit0"),e("Minus"),e("Equal"),e("IntlYen"),e("Backspace",113))}function ie({createKey:e,isBackslashRow2:t}){let n=null==t?e("Backslash"):t?e("Backslash"):e(l8,90);return a.createElement("div",{className:l6},e("Tab",90),e("KeyQ"),e("KeyW"),e("KeyE"),e("KeyR"),e("KeyT"),e("KeyY"),e("KeyU"),e("KeyI"),e("KeyO"),e("KeyP"),e("BracketLeft"),e("BracketRight"),n)}function it({createKey:e,isBackslashRow2:t}){let n=null==t?e("Backslash"):t?null:e("Backslash"),r=null==t?e("Enter",60):t?e("Enter",60):e(l9,20);return a.createElement("div",{className:l6},e("CapsLock",120),e("KeyA"),e("KeyS"),e("KeyD"),e("KeyF"),e("KeyG"),e("KeyH"),e("KeyJ"),e("KeyK"),e("KeyL"),e("Semicolon"),e("Quote"),n,r)}function ia({createKey:e}){return a.createElement("div",{className:l6},e("ShiftLeft",134),e("IntlBackslash"),e("KeyZ"),e("KeyX"),e("KeyC"),e("KeyV"),e("KeyB"),e("KeyN"),e("KeyM"),e("Comma"),e("Period"),e("Slash"),e("IntlRo"),e("ShiftRight",94))}function ir({createKey:e}){return f.Ay.mac?a.createElement("div",{className:l6},e("Fn"),e("ControlLeft"),e("AltLeft"),e("MetaLeft"),e("Space",500),e("MetaRight"),e("AltRight")):a.createElement("div",{className:l6},e("Fn"),e("ControlLeft"),e("MetaLeft"),e("AltLeft"),e("Space",500),e("AltRight"),e("ControlRight"))}var il=n(445506),ii=n(120846);let io="keyboard_shortcut_panel_layout_tab--row--MilbG",is="keyboard_shortcut_panel_layout_tab--column--SzOhn keyboard_shortcut_panel--column--lHvov",ic="keyboard_shortcut_panel_layout_tab--wideColumn--tR6V-";var id=n(411264);function iu(e){switch(e){case l.aTn.CHINESE:case l.aTn.KOREAN:case l.aTn.US_QWERTY:case l.aTn.UNKNOWN:case l.aTn.DVORAK:return!0;default:return!1}}function im({label:e,width:t}){return a.createElement("div",{style:{flexGrow:t??1},className:"keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},e)}function ip({layout:e}){let t=(0,a.useCallback)(t=>"Space"===t?" ":l.glU.getKeyboardLayoutAsJSON(e)[t],[e]),n=(e,n)=>{if(e!==l8&&e!==l9){let r=t(e);return r?a.createElement(im,{key:e,width:n,label:r}):null}return e===l8?a.createElement("div",{style:{flexGrow:n??1},className:"keyboard_shortcut_panel_layout_tab--enterISOKeyContainer--PK7LJ keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},a.createElement(e1.B,{className:"keyboard_shortcut_panel_layout_tab--enterISOKey--AbX2h",svg:id.A})):e===l9?a.createElement("div",{style:{flexGrow:n??1},className:"keyboard_shortcut_panel_layout_tab--spacerKey--g8rv4 keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},t("Enter")):null};return a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardContainer--JLzz1"},a.createElement("div",{className:io},a.createElement(l7,{createKey:n})),a.createElement("div",{className:io},a.createElement(ie,{createKey:n,isBackslashRow2:iu(e)})),a.createElement("div",{className:io},a.createElement(it,{createKey:n,isBackslashRow2:iu(e)})),a.createElement("div",{className:io},a.createElement(ia,{createKey:n})),a.createElement("div",{className:ec()(io,"keyboard_shortcut_panel_layout_tab--row5--TBfPa")},a.createElement(ir,{createKey:n})))}let ig=async()=>{if(!tq.eD)return null;let e=await tq.eD.getKeyboardLayout();return e?(0,il.pB)(e):null};class ih extends ii.c${}function iE({layout:e,setPreviewedLayout:t}){let n=(0,r.wA)(),i=(0,r.d4)(e=>e.dropdownShown),[o,s]=(0,a.useState)(e),[c,d]=(0,a.useState)();ig().then(e=>{c!==e&&d(e)});let u=(0,a.useMemo)(()=>{let e=c?a.createElement(ih,{key:c,value:c}):null,t=(0,lN.GP)().map(e=>{if(isNaN(parseInt(e)))return null;let t=parseInt(e);return t===c?null:{name:(0,lN.As)(t),layoutOption:t}}).filter(lU.Vq).sort((e,t)=>e.layoutOption===l.aTn.UNKNOWN?1:t.layoutOption===l.aTn.UNKNOWN?-1:e.name.localeCompare(t.name)).map(({layoutOption:e})=>a.createElement(ih,{key:e,value:e}));return null!=e?[a.createElement(ih,{key:(0,h.t)("keyboard_settings.detected"),formattedValue:(0,h.t)("keyboard_settings.detected"),disabled:!0}),e,a.createElement(ii.sK,{key:"divider-1"}),a.createElement(ih,{key:(0,h.t)("keyboard_settings.other_layouts"),formattedValue:(0,h.t)("keyboard_settings.other_layouts"),disabled:!0}),...t]:t},[c]),m=a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorWrapper--ecEHm"},a.createElement(ii.l6,{autoFocus:!1,chevronClassName:"keyboard_shortcut_panel_layout_tab--selectorChevron--ZnCbX",className:"keyboard_shortcut_panel_layout_tab--selectorContainer--BWtmR",dispatch:n,dropdownClassName:S.s4,dropdownShown:i,formatter:{format:e=>(0,lN.As)(e)},id:"keyboard-layout-select",inputClassName:"keyboard_shortcut_panel_layout_tab--selectorInputContainer--z1tfj",onChange:e=>{s(e),(0,lN.rd)({layout:e})},onMouseDown:e=>{e.stopPropagation()},onOptionFocus:t,property:o,recordingKey:"keyboardLayoutSelector"},u));return a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorRow--QPlYR"},a.createElement("span",{className:"keyboard_shortcut_panel_layout_tab--selectorLabelText--3jkuk"},(0,h.t)("keyboard_settings.keyboard_layout_panel_selector")),a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorDropdownContainer--0rd1S"},m))}function i_({layout:e,setPreviewedLayout:t}){let n=(0,h.t)("keyboard_settings.figma_keyboard_shortcuts_won_t_automatically_change_if_you_change_your_system_keyboard_layout");return a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--leftColumnWrapper--8Jn1P"},a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardSelectorContainerSection--gTvK9"},a.createElement(iE,{layout:e,setPreviewedLayout:t})),a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardDescriptionSection--yD9L-"},e===l.aTn.UNKNOWN?null:n),a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardLearnMoreSection--PV6Hj",style:{"--color-text-brand":"var(--color-text-menu-selected)","--color-text-brand-secondary":"var(--color-text-menu-selected-secondary)","--color-bg-brand-tertiary":"var(--color-bg-menu-selected-tertiary)"}},a.createElement(l4.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/5665442977431"},(0,h.tx)("keyboard_settings.request_a_new_layout_or_learn_more"))))}function iy(){let e=(0,K.J2)(l.Ez5.editorState().keyboardLayoutPreference),[t,n]=(0,a.useState)();return a.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--contents--8vVa7 keyboard_shortcut_panel--contents--8ae0D"},a.createElement("div",{className:ec()(is,ic)},a.createElement(i_,{layout:e,setPreviewedLayout:n})),a.createElement("div",{className:ec()(is,ic,"keyboard_shortcut_panel_layout_tab--keyboardVisualColumn--5Hw4F")},a.createElement(ip,{layout:t??e})))}var ib=n(211156),iC=n(353264),iv=n(821527);class iw extends a.PureComponent{render(){return a.createElement("div",{className:lG.fi},a.createElement("table",null,this.props.children))}}iw.displayName="Column";class iT extends a.PureComponent{render(){let e=a.Children.toArray(this.props.children).filter(e=>!!e);if(0===e.length)return null;let t=this.props.caption?(0,aa.A)(this.props.caption):null;return a.createElement("tbody",null,t&&a.createElement("tr",null,a.createElement("th",{className:lG.xQ,colSpan:3},t)),e)}}function iS(e){return e===X.nT.Design||e===X.nT.Illustration||e===X.nT.Slides?"essential":e===X.nT.DevHandoff?"view":"tools"}function ik({usedKeyboardShortcuts:e,useNumbersForOpacity:t,appModelKeyboardShortcuts:n,...l}){let o=(0,a.useRef)([]),s=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)({}),u=iL(),m=(0,lf.ZC)(u),p=(0,lf.ZC)(e),f=(0,r.wA)(),g=(0,k.GS)(),E=(0,aq.o3)(aq.nt.customKeyboardShortcuts),_=(0,i.k)().eu_fpl_migration_tabs_primitive,[y,b]=(0,a.useState)(l.initActiveTab??iS(u)),C=function(e,t,n,a,r,l){let i=l0(e,n),o=[],s=a===X.nT.Design||a===X.nT.Illustration?lG.CJ:"";for(let e in i)l1(a,i[e].includeInEditorType,i[e].hideInEditorType)&&l2(i[e].featureFlags)&&o.push({displayName:i[e].displayName,displayNameText:i[e].displayNameText,id:e,active:r==e,className:ec()(lG.Mf,s,{[lG.vB]:l})});if(a===X.nT.Design||a===X.nT.Illustration){let e={id:"spacer",className:ec()(lG.Mf,s,{[lG.vB]:l})};o.push(e)}return o.push({displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.layout"),displayNameText:(0,h.t)("whiteboard.keyboard_shortcuts.tab.layout"),id:"layout",active:"layout"===r,className:ec()(lG.Mf,s,{[lG.vB]:l})}),t&&o.push({displayName:(0,h.tx)("keyboard_settings.custom_tab"),displayNameText:(0,h.t)("keyboard_settings.custom_tab"),id:"custom",active:"custom"===r,className:ec()(lG.Mf,s,{[lG.vB]:l})}),o}(g,E,l.hasSubscribedLibraries,u,y,_),v=Object.fromEntries(C.map(({id:e})=>[e,"spacer"!==e])),[w,T,S]=lc.u(v,{defaultActive:l.initActiveTab??iS(u),recordingKey:l.recordingKey});(0,a.useEffect)(()=>{s.current?.focus()},[]);let N=l0(g,l.hasSubscribedLibraries),x=l3(N,e,t,n,u),[A,L]=(0,a.useState)(x),[O,R]=(0,a.useState)(l5(x,u,N)),[M,D]=(0,a.useState)(!1),[P,F]=(0,a.useState)(!1),[B,U]=(0,a.useState)(void 0),[G,K]=(0,a.useState)(!1);function V(e){b(e),F(!1),D(!1)}function H(e){L(e),R(!0),F(!1),D(!1),K(!0)}(0,a.useEffect)(()=>{let e=_?S.activeTab:y;e&&m!==u&&!l1(u,N?.[e]?.includeInEditorType,N?.[e]?.hideInEditorType)&&(b(iS(u)),S.setActiveTab(iS(u)))},[u,m,N,_,S,y]),(0,a.useEffect)(()=>{let a=_?S.activeTab:y;if(p!==e){let r=l3(N,e,t,n,u),l=l5(r,u,N);if(p){let i=l3(N,p,t,n,u);if(l&&!l5(i,u,N))H(r);else{let l=Object.values(lZ.Jq).includes(a)?function(e,t,n,a,r,l){for(let i of t[e].columns)for(let e of i)for(let t of e.shortcuts)if(lY.keybindingsForShortcut(t.shortcutKey,n,a)){let e=lY.shortcutUsedCount(t.shortcutKey,r);if(lY.shortcutUsedCount(t.shortcutKey,l)>e)return t.shortcutKey}return null}(a,N,t,n,p,e):null;l&&r[a]&&!i[a]&&(setTimeout(()=>{L(r),F(!0),U(d.current?.[l]),D(!0)},1500),setTimeout(()=>{F(!1),D(!1)},6e3))}}L(r),R(l)}},[u,m,e,p,N,t,n,_,S.activeTab,y]);let z=u===X.nT.Design||u===X.nT.Illustration?lG.CJ:"",W=lG.C$;for(let e=0;e<C.length;e++){let t=C[e];if(null==t||"spacer"===t.id)continue;let n=_?S.activeTab===t.id:t.active;if((0,lZ.$w)(t)&&n){t.className=P?ec()(lG.Ug,z,{[lG.vB]:_}):ec()(lG.yR,z,{[lG.vB]:_});let n=e>0?C[e-1]:null;n?n.className=ec()(lG.gK,z,{[lG.vB]:_}):W=lG.JA;let a=e<C.length-1?C[e+1]:null;a?a.className=ec()(lG.hM,z,{[lG.vB]:_}):W=lG.NZ;break}}let j={tabCompletedFirstTimeAnimation:P,tabCompletedAnimation:M,tabCompletedAnimationKeyPosition:B,allTabsCompletedAnimation:G,setKeyShortcutPositionsInTab:function(e,t){d.current[e]=t}},Y=a.createElement("button",{className:_?lG.Ew:lG.Nk,onClick:function(){f(lg.FU({tab:null})),I.Y5.triggerAction("toggle-keyboard-shortcuts")},"aria-label":(0,h.t)("general.close"),"data-fullscreen-intercept":!0},a.createElement(e1.B,{svg:iv.default})),J=O?a.createElement(eY.E,{className:ec()(lG.C_,{[lG.Yk]:G,[lG.H7]:_}),onClick:function(){G?K(!1):H(A)}},a.createElement(e1.B,{svg:G?ib.A:iC.A})):null;return _?a.createElement("div",{className:lG.Ku},a.createElement("div",{className:ec()(lG.HN,{[lG.cI]:O})},a.createElement(ld.r,{className:W,ref:s,manager:S},C.map(e=>a.createElement(iI,{key:e.id,tab:e,isTabComplete:A[e.id],tabProvidedProps:w[e.id]}))),Y,J),C.map(({id:e})=>"spacer"===e?null:a.createElement(iN,{key:e,activeTab:S.activeTab,tabPanelRef:c,completedTabs:A,tabPanelProps:T[e],...j}))):a.createElement("div",{className:lG.Ku,"data-fullscreen-intercept":!0},a.createElement("div",{role:"tablist",ref:s,"aria-label":(0,h.t)("keyboard_settings.keyboard_shortcuts"),className:W,onKeyDown:function(e){if("ArrowLeft"===e.key&&0===(0,rS.sN)(e)){let t=o.current?.findIndex(e=>!!e&&e.id===y);if(!o.current||null==t)return;let n=t-1;for(;!o.current[n]&&n>0;)n--;0===t&&(n=o.current.length-1),o.current[n].focus(),V(o.current[n].id),e.preventDefault()}else if("ArrowRight"===e.key&&0===(0,rS.sN)(e)){let t=o.current?.findIndex(e=>!!e&&e.id===y);if(!o.current||null==t)return;let n=t+1;for(;!o.current[n]&&n<o.current.length-1;)n++;t===o.current.length-1&&(n=0),o.current[n].focus(),V(o.current[n].id),e.preventDefault()}else if("Home"===e.key)o.current&&V(o.current[0].id),e.preventDefault();else if("End"===e.key)o.current&&V(o.current[o.current.length-1].id),e.preventDefault();else if("Tab"===e.key&&0===(0,rS.sN)(e))c.current?.focus(),e.preventDefault();else if("Escape"===e.key){if(s.current?.blur(),o.current){let e=o.current.findIndex(e=>!!e&&e.id===y);o.current[e].blur()}e.preventDefault()}else"Enter"===e.key?e.preventDefault():(0,lh.f7)(e)},tabIndex:0},a.createElement(lZ.Qz,{tabInfo:C,completedTabs:A,onNavClick:V,recordingKey:l.recordingKey,ref:o}),Y,J),a.createElement(iN,{activeTab:y,tabPanelRef:c,completedTabs:A,...j}))}function iI({tab:e,isTabComplete:t,tabProvidedProps:n}){let r=(0,a.useRef)(null),l=(0,lu.R)(r);return"spacer"===e.id?a.createElement("div",{key:e.id,className:ec()(e.className,lG.GM)}):a.createElement(lm.r,{key:e.id,ref:r,className:e.className,"data-completed":t,htmlAttributes:{"data-tooltip":l?e.displayNameText:void 0,"data-tooltip-type":l?tp.Ib.TEXT:void 0},...n},e.displayNameText)}function iN({completedTabs:e,tabPanelRef:t,...n}){let r;let{tabCompletedFirstTimeAnimation:l,activeTab:o}=n,s=(0,aq.o3)(aq.nt.customKeyboardShortcuts);r=l?lG.iV:e[o]?lG.xd:lG.Y0,"layout"===o&&(r=lG.Y0);let c="essential"===o?a.createElement(a.Fragment,null,a.createElement("div",{className:lG.pG},(0,h.tx)("whiteboard.keyboard_shortcuts.essential_keyboard_shortcuts")),a.createElement(ix,{wrapperClassName:lG.Bz,...n})):"layout"===o?a.createElement("div",{className:lG.PG},a.createElement(iy,null)):"custom"===o&&s?a.createElement(lJ,null):a.createElement(ix,{wrapperClassName:lG.PG,...n});return(0,i.k)().eu_fpl_migration_tabs_primitive&&n.tabPanelProps?a.createElement(lp.N,{ref:t,className:r,...n.tabPanelProps},c):a.createElement("div",{role:"tabpanel",ref:t,id:lZ.xC,"aria-labelledby":o,className:r,tabIndex:0,"data-fullscreen-intercept":!0},c)}function ix({wrapperClassName:e,...t}){let n=(0,k.GS)(),r=(0,lE.je)(),l="loaded"===r.status&&r.data.length>0,i=iL(),o=l0(n,l);return a.createElement("div",{className:e},o[t.activeTab]?o[t.activeTab].columns.map((e,n)=>a.createElement(iw,{...t,key:`column-${n}`},e.map((e,r)=>l1(i,e.includeInEditorType,e.hideInEditorType)?a.createElement(iT,{caption:e.caption,key:`category-${n}-${r}`,...t},e.shortcuts.map((e,n)=>a.createElement(iA,{key:n,keyPosition:n,...e,...t}))):null))):[])}function iA({keyPosition:e,activeTab:t,setKeyShortcutPositionsInTab:n,shortcutKey:i,...o}){let s=(0,r.d4)(e=>e.usedKeyboardShortcuts),c=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),d=(0,K.J2)(l.Ez5.editorState().useNumbersForOpacity),u=iL();return(n(i,e),l1(u,o.includeInEditorType,o.hideInEditorType)&&l2(o.featureFlags))?a.createElement(lY,{shortcutKey:i,key:`shortcut-${t}-${e}`,editorType:u,keyPosition:e,usedKeyboardShortcuts:s,appModelKeyboardShortcuts:c,useNumbersForOpacity:d,...o}):null}function iL(){let e=(0,r.d4)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:X.nT.Design),t=(0,K.ut)(l.Ez5?.interopToolMode(),l.nQ7.SELF);return e===X.nT.Slides&&t===l.nQ7.DESIGN||e===X.nT.Cooper&&t===l.nQ7.DESIGN?X.nT.Design:e}function iO(e){let t=(0,lE.je)(),n="loaded"===t.status&&t.data.length>0,i=(0,r.d4)(e=>e.usedKeyboardShortcuts),o=(0,r.d4)(e=>e.keyboardShortcutPanel.tab),s=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),c=(0,r.d4)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:X.nT.Design),d=(0,K.J2)(l.Ez5.editorState().useNumbersForOpacity);return a.createElement(ik,{recordingKey:e.recordingKey,usedKeyboardShortcuts:i,initActiveTab:o,appModelKeyboardShortcuts:s,hasSubscribedLibraries:n&&c!==X.nT.Slides&&c!==X.nT.Cooper,useNumbersForOpacity:d})}iT.displayName="Category",ik.displayName="KeyboardShortcutPanel";var iR=n(861673),iM=n(11594),iD=n(234505);function iP(){let e=(0,o.Xr)(iR.mH),t=(0,iM.XC)((0,o.md)(iR.a8));return(0,i.k)().cursor_bot&&t?a.createElement("div",{className:iD.CR,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var iF=n(83948),iB=n(315933),iU=n(452275),iG=n(506428),iK=n(665411),iV=n(345964);function iH({background:e,showSpinner:t}){let n=a.useContext(eM.kw),{x:r,y:l,width:o}=n.getViewportInfo(),s={background:e},c=window.innerWidth-o;n&&(s={...s,width:`calc(100vw - ${c}px)`,height:`calc(100vh - ${l}px)`,top:`${l}px`,left:`${r}px`});let d=!1;return(0,i.k)().css_backed_loading_spinner?d=!0:!(0,i.k)().disable_page_switch_spinner||(0,f.KR)()||f.rr||(t=!1),a.createElement("div",{className:"loading_overlay--pageSyncing--9AqbU"},a.createElement("div",{className:ec()("loading_overlay--blurredOverlay--79bya",S.Dm),style:s}),t&&d?a.createElement("div",{className:"loading_overlay--pageSyncingFadeIn--QVvQE"},a.createElement(iV.$y,{size:"large"})):t&&a.createElement(iV.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"}))}function iz(){let e=(0,nR.U)(),t=(0,r.d4)(e=>e.selectedView),n=r.d4(e=>e.versionHistory)?.isLoadingPage,o=(0,iG.DP)(),{isLoading:s}=(0,iK.v9)({selectedView:t,isLoadingVersionHistory:n,theme:o}),c=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState),d=(0,iU.y)(),u=(0,r.d4)(e=>e.mirror.appModel.currentPage),m=(0,r.wA)(),[p,f]=a.useState(null),g=(0,lf.ZC)(s),h=(0,a.useCallback)(t=>{e("page_loading_overlay",{timeElapsedMs:t,pageNodeId:u},{forwardToDatadog:!0})},[e,u]);return a.useEffect(()=>{if((0,i.k)().long_page_change_notif){if(l.h3O.isIncrementalSession()&&s)s!==g&&d&&c!==l.kul.JOINED&&(f(Date.now()),m(E.F.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=p?Date.now()-p:0;e<3e3||e>9e3?(m(E.F.dequeue({matchType:"long-page-change"})),f(null)):setTimeout(()=>{m(E.F.dequeue({matchType:"long-page-change"})),f(null)},Math.max(0,9e3-e))}}},[s,c,d,m,p,g]),a.createElement(iW,{onPageLoadingFinish:h,selectedView:t,isLoadingVersionHistory:n,theme:o})}function iW({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:n,theme:r}){let{isLoading:l,isLoadingMissingFonts:i,background:o}=(0,iK.v9)({selectedView:t,isLoadingVersionHistory:n,theme:r});return((0,a.useEffect)(()=>{!l&&iB.sn.get("page_loading_overlay")&&requestAnimationFrame(()=>{let t=iB.sn.tryStop("page_loading_overlay");t&&e&&e(t)})},[l,e]),l)?(iB.sn.get("page_loading_overlay")||iB.sn.start("page_loading_overlay"),a.createElement(iH,{background:o,showSpinner:!i})):null}var ij=n(660376),iY=n(182317),iJ=n(524648),iq=n(354427),iX=n(898700),iZ=n(540698),iQ=n(755860),i$=n(280361),i0=n(274466),i1=n(770686),i2=n(81004),i3=n(517523),i5=n(241211),i4=n(587977),i6=n(291686),i8=n(766482),i9=n(192062),i7=n(609335),oe=n(580851),ot=n(575164),on=n(718668),oa=n(617101),or=n(568132),ol=n(377036);let oi=e=>(0,at.Zj)(e)&&!e.hideCheckForQuickCommand;class oo extends tZ.o6{constructor(e){super(e),this.searchInputRef=a.createRef(),this.scrollContainerRef=a.createRef(),this.listboxId=(0,iY.g)(),this.resultPrefix=(0,iY.g)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let n=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(n)}else t=this.recentlyUsedItemsMenu();this.logSearchResults(e,t),this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.logSearchResults=(e,t)=>{this.props.quickActionsSessionId&&this.props.fireQueryResultTrackingEvent({quickActionsSessionId:this.props.quickActionsSessionId,quickActionsQueryId:this.props.latestQuerySessionIdRef.current,searchQuery:e,numSearchResults:this.state.searchResults.length,currentSelection:this.props.currentSelection,module:Y.Jc.ALL,moduleFilters:null,qaVersion:i5.U3,searchQueryResults:(0,i4.X)(t)})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=tZ.cZ(this,"click",e=>{e?.button!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=tZ.C0(this,"keydown",e=>{let t=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,n=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,a=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:n,displayAriaActiveDescendant:a}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(n)}},n=(0,rS.vN)(e,rS.xH.CONTROL),a=f.Ay.mac?(0,rS.vN)(e,rS.xH.META):n,r=f.Ay.mac&&n;switch(e.keyCode){case rS.Uz.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&tV.l7.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case rS.Uz.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(rC.oB());break;case rS.Uz.N:case rS.Uz.DOWN_ARROW:if(e.keyCode===rS.Uz.N&&!r){(0,lh.jr)(e,lh.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(1);break;case rS.Uz.P:case rS.Uz.UP_ARROW:if(e.keyCode===rS.Uz.P&&!r){(0,lh.jr)(e,lh.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(-1);break;case rS.Uz.TAB:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&t.itemParameterArgs&&(this.onStartParameterMode(t.itemParameterArgs,t,"tab"),this.logActionSelectedEvent(t));break}case rS.Uz.R:case rS.Uz.S:case rS.Uz.D:case rS.Uz.E:case rS.Uz.F:case rS.Uz.O:if(a){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,lh.jr)(e,lh.W0.NO)}}),this.onSearchChange=tZ.Z7(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSelectItem=(e,t)=>{if(e.disabled)this.cancelDelayedClose();else{let n=!1;if(e.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)i$.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),n=!0;else if(e.parametersRequired){this.onStartParameterMode(e.itemParameterArgs,e,t?.type==="click"?"click":"enter"),this.logActionSelectedEvent(e);return}}if(e.callback&&!n&&(e.callback((0,at.Dz)(e),e.args,this.props.dispatch),n=!0),e.action&&(iQ.VU.get(e.action,"quick-actions",e.args)(t),n=!0),n&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),this.logActionSelectedEvent(e),"toggle-publish"===e.action&&(0,e3.YQ)({id:"insert-component-onboarding-event"}),oi(e)&&!(0,iZ.PN)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(rC.oB())},300);return}this.props.dispatch(rC.oB())}},this.renderResult=(e,t)=>{let n=t===this.state.activeItemIndex;return a.createElement(od,{key:e.action||t,actionIcon:this.getActionIcon(e),active:n,allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,appModel:this.props.appModel,disabled:!!e.disabled,id:this.getResultId(t),isLastItem:t===this.state.searchResults.length-1,item:e,onClick:t=>this.onSelectItem(e,t),onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,recordingKey:tZ.Pt(this.props,e.action||"searchResult"),role:"option",searchQuery:this.state.searchQuery})},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,iq.c2)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,lA.M)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,isReadOnly:this.props.appModel.isReadOnly,includeDisabled:!0});return new lD.xm(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:!0})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}logActionSelectedEvent(e){let{createMetrics:t}=this.props.interactionMetrics;(0,i7.kp)({item:e,searchQuery:this.state.searchQuery,qaVersion:i5.U3,numSearchResults:this.state.searchResults.length,searchPosition:this.state.activeItemIndex,moduleFilters:null,...t()})}recentlyUsedItemsMenu(){return(0,nJ.WI)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),n=e.filter(e=>e.disabled);return t.concat(n)}addToRecentlyUsedCommands(e,t){let n=(0,lx.EG)(e),a=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==n&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));a.length>=3&&a.pop(),a.unshift({displayName:n,runPluginArgs:t}),this.props.dispatch(e6.PQ(a)),this.props.updateFrecencyHistory(e,this.state.searchQuery),(0,i.k)().qa_frecency_recents_sync&&(0,i8.s)({displayText:n,runPluginArgs:t,localFileIdOrPluginId:e.pluginLocalFileId??e.pluginId})}getActionIcon(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,aC.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...this.props.pluginAndWidgetMenuArgs.publishedPlugins,...this.props.pluginAndWidgetMenuArgs.publishedWidgets}})),t&&!(0,ak.ZQ)(t))?a.createElement(i1.V,{className:ot.ZR,plugin:t,role:"presentation"}):a.createElement(e1.B,{className:ot.pB,svg:or.A,ariaLabel:`${e.name} icon`})}if(e.iconType&&"external_link"===e.iconType)return a.createElement(e1.B,{svg:oa.A})}onStartParameterMode(e,t,n){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,n)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return a.createElement("div",{className:ot.Tk},(0,h.tx)("fullscreen_actions.no_matches"))}else if(0===this.state.searchResults.length)return null;return a.createElement(oe.h,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox"},e.map(this.renderResult))}render(){let e=this.state.searchQuery||this.state.searchResults.length;return a.createElement(oe.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions"},a.createElement("div",{className:ot.$P},a.createElement(e1.B,{svg:ol.A,className:ot.qc}),a.createElement("input",{ref:this.searchInputRef,"aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0,"aria-autocomplete":"list","aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-owns":this.listboxId,className:ot.Rt,dir:"auto",maxLength:150,onChange:this.onSearchChange,onClick:this.onClick,placeholder:(0,aa.A)("quick-actions-modal-placeholder"),role:"combobox",spellCheck:!1,value:this.state.searchQuery})),this.renderResults())}}oo.displayName="QuickActions";let os=(0,r.Ng)(function(e,t){return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,interactionMetrics:t.interactionMetrics,fireQueryResultTrackingEvent:t.fireQueryResultTrackingEvent,currentSelection:t.currentSelection,updateFrecencyHistory:t.updateFrecencyHistory,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:t.recentlyUsedQuickCommands,onStartParameterEntry:t.onStartParameterEntry,locale:e.user?.locale,quickActionsSessionId:t.quickActionsSessionId,latestQuerySessionIdRef:t.latestQuerySessionIdRef}},function(e){return{dispatch:e}})(oo);function oc(e){let t=(0,lO.c4)(),n=(0,lL.FX)(),l=(0,i7.Sk)(),{addFrecencyUsage:s}=(0,i2.fJ)(),c=(0,r.d4)(i0.l),d=(0,t_.Ev)(),u=(0,o.md)(J.dd),m=(0,o.md)(J.Rt),p=(0,iX.F)(m),f=(0,i3.wo)(),g=(0,r.d4)(e=>e.recentlyUsedQuickCommands),h=(0,i.k)().qa_recently_used_db_read?f:g;return a.createElement(os,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:n,interactionMetrics:l,updateFrecencyHistory:s,fireQueryResultTrackingEvent:d,currentSelection:c,quickActionsSessionId:u,latestQuerySessionIdRef:p,recentlyUsedQuickCommands:h})}function od(e){let t=(0,K.J2)((0,eb.UK)().showQuickCommandRankDebug);return a.createElement(ou,{...e,showQuickCommandRankDebug:t})}class ou extends tZ.o6{constructor(e){super(e),this.onClick=tZ.cZ(this,"click",e=>{if(!this.props.onClick)return tZ.aH;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item;if(e.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return a.createElement(i9._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return a.createElement(i9.h,{itemPath:t})}let t=(0,lx.EG)(e);return this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore&&(t=`M${e.stringMatchScore} P${e.popularityScore}: `+t),a.createElement("div",{className:ot.D6},t)},oi(this.props.item)?this.state={itemIsChecked:(0,at.WJ)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,at.WJ)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),n=(0,at.Dz)(e),r=e.shortcutText||(0,Z.c1)(this.props.appModel.keyboardShortcuts,n),l=void 0!==this.props.item.runPluginArgs,o=e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),s="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,c=null;void 0!==this.state.itemIsChecked?c=a.createElement(i6.S,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(c=this.props.actionIcon);let d=`${this.props.active?ot.ix:ot.Ke} ${this.props.disabled?ot.wn:""}`;return a.createElement("div",{className:d,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked},a.createElement("div",{className:ot.EA},c),a.createElement("div",{className:ot.V4},t,o&&a.createElement("div",{className:ot.Vu},(0,h.tx)("fullscreen_actions.development"))),r&&!s&&a.createElement("div",{className:ot.LE},a.createElement(ed.S,{shortcut:r})),!r&&s&&a.createElement("div",{className:ot.LE},a.createElement("div",{className:ot.Hq},(0,h.tx)("fullscreen_actions.tab")),l&&a.createElement("div",{className:ot.w8},(0,h.tx)("fullscreen_actions.to_edit")),a.createElement(e1.B,{svg:on.A})),!r&&e.isRepairCommand&&(0,i.k)().internal_only_debug_tools&&a.createElement("div",{style:lT.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$},"REPAIR"))}}function om({parameterEntryArgs:e,fireTrackingEvent:t}){let[n,r]=a.useState(),[l,i]=a.useState(!0),s=(0,o.Xr)(J.dd);if(a.useEffect(()=>{if(l){i(!1);let n=(0,iY.g)();s(n),t(n),e&&r({args:e})}},[e,l,t,s]),!n)return a.createElement(oc,{recordingKey:"quickActions",onStartParameterEntry:(e,t,n)=>{let a;switch(n){case"tab":a="quick-actions-tab";break;case"enter":a="quick-actions-enter";break;case"click":a="quick-actions-click";break;default:(0,ij.xb)(n)}r({args:{...e,triggeredFrom:a},item:t})}});{let{args:e,item:t}=n,l=t?(0,lx.EG)(t):void 0;return a.createElement(iJ.ry,{command:e.command,displayName:e.displayName,initialParameterValues:t?.runPluginArgs?.parameterValues,onExitParameterEntry:()=>{r(void 0)},parameterOnly:e.parameterOnly,parameters:e.parameters,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,recentlyUsedCommandName:l,recordingKey:"parameterEntry",triggeredFrom:e.triggeredFrom})}}ou.displayName="QuickActionsResult";var op=n(480960),of=n(178908),og=n(256350),oh=n(967428),oE=n(529848),o_=n(486383),oy=n(456028),ob=n(433166),oC=n(92338),ov=n(459403),ow=n(394882),oT=n(606672),oS=n(810807),ok=n(991675),oI=n(286803),oN=n(575221),ox=n(226455),oA=n(123863),oL=n(741358),oO=n(642014),oR=n(422232),oM=n(607906);function oD(){let e=(0,td.q5)();return a.createElement(eY.E,{className:"extension_toolbar_left_items--leftToolbar--npGkc",onClick:()=>(0,oR._r)(),htmlAttributes:{"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.back_button")},"aria-label":(0,h.t)("dev_handoff.vscode.toolbar.back_button")},a.createElement(oO.t,{svg:oM.A,className:"extension_toolbar_left_items--back--JwiF5"}),a.createElement("div",{className:"extension_toolbar_left_items--fileNameText---u61D"},e?.name))}var oP=n(64643),oF=n(242499);function oB({focusModeEnabled:e,onClick:t}){return a.createElement("button",{"data-editor-theme":"dev-handoff",onClick:t,"data-tooltip":(0,h.t)(e?"dev_handoff.vscode.exit_focus_mode":"dev_handoff.vscode.enter_focus_mode"),"data-tooltip-type":tp.Ib.TEXT},a.createElement(e1.B,{svg:e?oF.A:oP.A,className:"dev_handoff_toolbar_focus_button--focusModeIcon--LMEyU"}))}var oU=n(503190),oG=n(712533),oK=n(819596);function oV(){let e=(0,r.wA)(),t=(0,K.J2)(l.Ez5.devHandoffState().focusMode);return a.createElement("div",{className:"extension_toolbar_right_items--buttons--3pMn8"},t&&a.createElement(oU.jX,null),a.createElement(oB,{focusModeEnabled:t,onClick:()=>l.w3z.setFocusModeEnabled(!t)}),a.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>e(rc.lW({stringToCopy:window.location.toString()})),"data-tooltip":(0,h.t)("dev_handoff.copy_link"),"data-tooltip-type":tp.Ib.TEXT},a.createElement(e1.B,{svg:oG.A})),a.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>oR.Qn(window.location.toString()),"data-tooltip":(0,h.t)("dev_handoff.open_in_figma"),"data-tooltip-type":tp.Ib.TEXT},a.createElement(e1.B,{svg:oK.A})))}var oH=n(204295),oz=n(365153),oW=n(621543),oj=n(781943),oY=n(979890),oJ=n(533737),oq=n(896046),oX=n(70969),oZ=n(473736);let oQ=(0,o.eU)(!1),o$=(0,o.eU)(e=>e(oQ)),o0=(0,o.eU)(null,(e,t)=>{(0,eG.W)("left",()=>{t(o1)}),t(oQ,!0)}),o1=(0,o.eU)(null,(e,t)=>{t(oQ,!1)}),o2="pages_sidebar_toolbar_ui2--selected--VbVrq";var o3=n(776773),o5=n(445891);function o4(){return a.createElement(e1.B,{svg:o3.A,ariaLabel:(0,h.t)("pages_panel.toolbar.icon.addPage.aria_label"),dataTestId:"newPageToolbarIcon"})}function o6({numberOfPages:e}){return e>9?a.createElement(e1.B,{svg:o5.A,ariaLabel:(0,h.t)("pages_panel.toolbar.icon.ellipis.aria_label"),dataTestId:"ellipsisPagesToolbarIcon"}):function({numberOfPages:e}){return a.createElement("span",{"data-testid":"pageCountToolbarIcon","aria-label":(0,h.t)("pages_panel.toolbar.icon.pageCount.aria_label")},a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 17H18L18 18H20L21 18V17V7.6875V4V3H20H7H6V4L6 6.00004L7 6.00004V4L20 4V7.6875V17ZM17 20.0001H4V7.00012H17V10.6876V20.0001ZM4 6.00012H17H18V7.00012V10.6876V20.0001V21.0001H17H4H3V20.0001V7.00012V6.00012H4Z",fillOpacity:"0.9"}),a.createElement("text",{id:"numberText",x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"500",fontSize:"9"},e)))}({numberOfPages:e})}function o8(){let e=(0,o.md)(o$),t=(0,o.Xr)(o0),n=(0,o.Xr)(o1),l=(0,rw.rE)(),i=(0,nR.am)(),s=(0,r.d4)(e=>e.mirror.appModel.pagesList),c=(0,a.useMemo)(()=>s.filter(e=>!e.isDivider).length,[s]),d=(0,rw.nn)(),u=(0,r.wA)(),m=(0,oX.h5)({nonDividerPageCount:c,isDropdownOpen:e}),p=()=>{i("pages_panel_open_toggle",{isPagesOpen:!e},{forwardToDatadog:!0}),e?n():(t(),u(oJ.b({[oq.jn]:!0})))};if(!m)return null;switch(m){case oX.mb.ADD_PAGE:return a.createElement(oZ.P,{tooltipText:(0,h.t)("pages_panel.toolbar.add_pages_tooltip"),isActive:e,onClick:()=>{l(null),p()},addLeftMargin:!1,recordingKey:"figjamPagesToolbarItem",onboardingKey:oq.gh,dataTestId:"addPages"},a.createElement("div",{className:e2.s.mxAuto.$},a.createElement(o4,null)));case oX.mb.VIEW_PAGES:return a.createElement("div",{className:"pages_sidebar_toolbar_ui2--toolbarItemContainer--az3u2"},a.createElement(oY.GG,{className:ec()("pages_sidebar_toolbar_ui2--toolbarItemButton--cNref","pages_sidebar_toolbar_ui2--withHover--zKrg8",{[o2]:e}),recordingKey:"figjamPagesToolbarItem",dataTestId:"figjam.pages_panel.toolbar.dropdown_trigger",onClick:p,"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":(0,h.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-label":(0,h.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-pressed":e,"data-onboarding-key":oq.gh},a.createElement("div",{className:ec()("pages_sidebar_toolbar_ui2--iconContainer--XuPru")},a.createElement("div",{className:"pages_sidebar_toolbar_ui2--icon--wevM1"},a.createElement(o6,{numberOfPages:c}))),a.createElement("div",{className:ec()("pages_sidebar_toolbar_ui2--textWrapper--HJ3UH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[o2]:e})},d)));default:(0,ij.xb)(m)}}var o9=n(886159);function o7(){let e=(0,nb.aV)(),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),n=!(0,oH.q8)()&&(0,oW.Uy)(),i=f.Ay.isMeetDevice;return t?a.createElement(o8,null):a.createElement(a.Fragment,null,n&&a.createElement(oj.V,null),a.createElement(oz.y,null),!e&&!i&&a.createElement(o9.j,null),a.createElement(o8,null))}var se=n(116848),st=n(493228),sn=n(755042),sa=n(628017),sr=n(756878),sl=n(153203),si=n(230701);function so({variant:e}){switch(e){case"design":return a.createElement("div",{className:e2.s.px8.$},a.createElement("div",{className:e2.s.h16.px4.bRadius3.$,style:lT.sx.add({border:"1px solid var(--color-bg-design)",color:"var(--color-bg-design)"}).$},a.createElement(lk.E,{fontSize:9},(0,h.tx)("fullscreen.toolbar.integ_zoom.beta"))));case"figjam":return a.createElement("div",{className:e2.s.px8.$},a.createElement(lw.Ex,{text:(0,h.t)("fullscreen.toolbar.integ_zoom.beta"),color:lw.zE.FIGJAM,subtle:!0}))}}function ss(){let e=(0,F.iZ)(),t=(0,ov.ck)(),n=(0,rh.Um)(),o=(0,r.d4)(e=>e.multiplayer),s=(0,td.q5)(),c=(0,st.dR)(),d=(0,st.Ww)(),u=(0,se.B4)(),m=(0,r.wA)(),p=(0,r.d4)(e=>"prototype"===e.selectedView.view),g=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),h=a.useCallback(e=>{(0,sa.Lx)(e,d?.sessionID,m,p,o,c,u)},[d?.sessionID,m,p,o,c,u]);(0,a.useEffect)(()=>{},[o,e]);let E=p?null:s,_=(0,oy.DG)(E?.key||"").enabled,y=!e&&!f.Ay.isMeetDevice,b=e?a.createElement(a.Fragment,null,d&&a.createElement(sa.v7,{dropdownShown:n,multiplayer:o,currentUser:d,onUserClick:h})):a.createElement(sa.cU,{dropdownShown:n,multiplayer:o,currentUser:d,onUserClick:h,editingFile:E});return ov.pb.isGoogleClassroomIntegration()?null:a.createElement(a.Fragment,null,(0,i.k)().internal_only_debug_tools&&a.createElement(oU.bu,null),a.createElement(oU.n8,null),o&&s&&a.createElement(a.Fragment,null,!t&&E&&e&&a.createElement(sl.k,{fileKey:E.key}),a.createElement("div",{className:e2.s.flex.cursorDefault.selectNone.itemsCenter.$},a.createElement(sn.sK,null),b,!g&&a.createElement(si.J,null),E&&a.createElement(sr.w,{user:e,editingFile:E,isFileInWorkshop:_}))),y&&a.createElement(oU.tO,null),(0,ov.MP)()&&a.createElement(so,{variant:"figjam"}))}var sc=n(72462),sd=n(946778),su=n(847947),sm=n(24052),sp=n(262709),sf=n(7148),sg=n(892),sh=n(944702),sE=n(593713),s_=n(50429),sy=n(334675);function sb(e){let t=(0,nZ.A)(),n=Math.ceil((0,nZ.A)(e).diff(t,"minutes",!0));if(n>30){let e=Math.ceil(n/60);return(0,h.t)("figjam_try.timer_hours_left",{hoursLeft:e})}if(n>=10){let e=10*Math.ceil(n/10);return(0,h.t)("figjam_try.timer_minutes_left",{minutesLeft:e})}return(0,h.t)("figjam_try.timer_less_than_ten_minutes_left")}function sC({until:e,ctaText:t,onCtaClick:n,isFigjam:r,tooltipText:l,showAndHideTooltipImmediately:i,isLoading:o,onExpire:s,onboardingKey:c}){let[d,u]=(0,a.useState)(sb(e));return(0,a.useEffect)(()=>{let t=setInterval(()=>{u(sb(e)),(0,nZ.A)().isAfter((0,nZ.A)(e))&&s&&s()},6e4);return()=>{clearInterval(t)}},[e,s]),a.createElement("div",{className:r?"countdown--figjamContainer--hlbVE countdown--container--WCLxZ":"countdown--designContainer--PVZIP countdown--container--WCLxZ","data-onboarding-key":c},a.createElement("div",{className:"countdown--timerContainer--L3IFQ","data-tooltip-type":tp.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-immediately":i,"data-tooltip-hide-immediately":i},a.createElement(e1.B,{className:"countdown--icon--PREBw",svg:sy.A}),a.createElement("span",{className:"countdown--text--kN4nf ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},d)),a.createElement(s_.x,{isLoading:!!o,className:"countdown--loading--DaaWQ"},()=>a.createElement(nD.$z,{className:"countdown--cta--JhE8T ellipsis--ellipsis--Tjyfa",onClick:()=>n(),trackingProperties:{buttonContext:t}},t)))}var sv=n(615233);function sw(e){let t=(0,nZ.A)(),n=Math.ceil((0,nZ.A)(e).diff(t,"minutes",!0));if(n>30){let e=Math.ceil(n/60);return(0,h.t)("figjam_try.meet_hardware.timer_hours_left",{hoursLeft:e})}if(n>=10){let e=10*Math.ceil(n/10);return(0,h.t)("figjam_try.meet_hardware.timer_minutes_left",{minutesLeft:e})}return(0,h.t)("figjam_try.meet_hardware.timer_less_than_ten_minutes_left")}function sT({until:e,ctaText:t,onCtaClick:n,tooltipText:r,showAndHideTooltipImmediately:l,isLoading:i,onExpire:o,onboardingKey:s}){let[c,d]=(0,a.useState)(sw(e));return(0,a.useEffect)(()=>{let t=setInterval(()=>{d(sw(e)),(0,nZ.A)().isAfter((0,nZ.A)(e))&&o&&o()},6e4);return()=>{clearInterval(t)}},[e,o]),a.createElement("div",{className:"countdown_meet_hardware--figjamContainer--libjf countdown_meet_hardware--container--gM5Hl","data-onboarding-key":s},a.createElement("div",{className:"countdown_meet_hardware--timerContainer--JsqME","data-tooltip-type":tp.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-immediately":l,"data-tooltip-hide-immediately":l},a.createElement("img",{src:(0,sv.ck)("d2458a35e4543003186712a5c44448bc0949f82b"),alt:"Wave hand icon",className:"countdown_meet_hardware--waveIcon--Lc-LT"}),a.createElement("span",{className:"countdown_meet_hardware--countdownText--Igbr2 ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},c),a.createElement("span",{className:"countdown_meet_hardware--text--Ahn7z ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time-text"},(0,h.t)("figjam_try.meet_hardware.board_deletion_disclaimer"))),a.createElement(s_.x,{isLoading:!!i,className:"countdown_meet_hardware--loading--s6qrq"},()=>a.createElement(nD.$z,{className:"countdown_meet_hardware--cta--H8MOo ellipsis--ellipsis--Tjyfa",onClick:()=>n(),trackingProperties:{buttonContext:t}},t)))}let sS="figjam-try-countdown",sk="figjam-try-timed-tooltip-shown",sI=(0,r$.Ju)(function(){let e=(0,r.wA)(),t=(0,sp.B)(),n=()=>{e(rW.ES({type:sI.type}))};return a.createElement(nD.fu,{name:"FigJam Try - Timed Tooltip"},a.createElement(sE.OA,{targetKey:sS,shouldCenterArrow:tb.EL.FALLBACK,title:(0,h.t)("figjam_try.timed_tooltip_headline"),topPadding:8,dismissModal:n,width:300-2*sE.uv,ctaText:(0,h.t)("figjam_try.timed_tooltip_cta"),onClickPrimaryCta:()=>{n(),t({origin:"figjam_try_timed_tooltip",formState:sd.qB.SIGN_UP})},buttonContext:"Create account"},a.createElement("p",null,(0,h.tx)("figjam_try.timed_tooltip_body"))))},"FigjamTryTimedTooltip");function sN(){let e=(0,oy.nF)(),t=(0,r.wA)(),n=(0,r.d4)(e=>!e.user),l=(0,td.tS)(),i=f.Ay.isMeetDevice,o=(0,r.d4)(e=>!!l&&e.loadingState[su.Q.loadingKeyForPayload({file_key:l})]===sc.r.LOADING),s=(0,sp.B)(),c=(0,r.d4)(e=>!!e.modalShown),d=(0,a.useRef)((0,nZ.A)().add(5,"minutes")),u=(0,sf.Kx)(),[m,p]=(0,a.useState)(!!(0,tJ.DN)().get(sk));if((0,a.useEffect)(()=>{if(!m&&n&&!c&&!u?.shouldOptimizeForIpadApp&&!i){let e=setInterval(()=>{(0,nZ.A)().isSameOrAfter(d.current)&&(p(!0),(0,tJ.DN)().set(sk,1),t(rW.to({type:sI})))},6e4);return()=>{clearInterval(e)}}},[m,n,c,t,u?.shouldOptimizeForIpadApp,i]),!e.enabled||!l)return null;let g=()=>{t(rW.to({type:sg.nM,data:{onSubmitEmail:({fileKey:e,emailAddress:n})=>{t(sm.f({fileKey:e,emailAddress:n,onSuccess:_}))}}}))},E=({fileKey:e,emailAddress:n,isResentEmail:a})=>{t(sm.f({fileKey:e,emailAddress:n,isResentEmail:a}))},_=e=>{t(rW.to({type:sh.DH,data:{email:e,onChangeEmail:g,onResendEmail:E}}))};return a.createElement(nD.fu,{name:"FigJam Try Countdown Timer"},i?a.createElement(sT,{until:e.until,ctaText:(0,h.t)("figjam_try.save_board"),onCtaClick:()=>{t(rW.to({type:sg.nM,data:{onSubmitEmail:({fileKey:e,emailAddress:n})=>{t(sm.f({fileKey:e,emailAddress:n,onSuccess:_}))}}}))},tooltipText:n?(0,h.t)("figjam_try.timer_tooltip_anonymous"):(0,h.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:sS}):a.createElement(sC,{until:e.until,ctaText:(0,h.t)("figjam_try.save_board"),onCtaClick:()=>{n?s({origin:"figjam_try_countdown_timer",formState:sd.qB.SIGN_UP}):t(su.Q({file_key:l}))},isFigjam:!0,tooltipText:n?(0,h.t)("figjam_try.timer_tooltip_anonymous"):(0,h.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:sS}))}var sx=n(446695),sA=n(190171),sL=n(700694),sO=n(566090),sR=n(953508),sM=n(403451),sD=n(535884),sP=n(84849),sF=n(882839),sB=n(419515),sU=n(854178),sG=n(152574),sK=n(623519),sV=n(773612);function sH(){let e=(0,o.md)((0,sD.Xh)(void 0)),t=(0,o.md)(sP.Lc),{isLibraryModalShown:n,onToggleLibraryModal:r}=(0,sM.u)({entrypoint:sF.r6.TOOLBAR_BUTTON,modalType:"editor",initialTab:t?tD.Wv.UPDATES:tD.Wv.LIBRARIES}),l=t?(0,h.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):e?(0,h.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,h.t)("fullscreen.libraries_button.tooltip.no_updates"),i=t||e;return(0,sB.Pf)({showBadge:i,hasChangesToPull:t}),a.createElement("span",{className:ec()(sG.WT,(0,sU.M)(!0,n))},a.createElement(oO.t,{svg:sK.A,fallbackSvg:sV.A,recordingKey:"actionLibraryButton",className:ec()(sG.gb),onMouseDown:r,"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":l,"data-tooltip-submenu-open":n}),i&&a.createElement("span",{className:ec()(sU.I.updatesBadge)}))}var sz=n(156974),sW=n(597452),sj=n(65963),sY=n(335744),sJ=n(391812),sq=n(769773);function sX(){let[e,t]=a.useState(!1),n=a.useRef(null),l=a.useRef(null),[i,o]=a.useState(null),s=(0,r.d4)(e=>e.mirror.appModel.pagesList),c=(0,r.d4)(e=>e.mirror.appModel.currentPage),d=s.find(e=>e.nodeId===c),u=(0,tR.RU)({subscribeToUpdates_expensive:!1})-(0,e_.hG)(eT.YI7)-(i?.top??0);if((0,sW.L)(n,()=>{e&&t(!1)}),!s)return null;async function m(e){await (0,eE.UN)().setCurrentPageFromNodeAsync(e),t(!1)}return a.createElement("div",{className:"toolbar_page_picker--pagePicker--GVgi5",ref:n},a.createElement("button",{className:"toolbar_page_picker--pagePickerButton--5Hmqt",ref:l,onClick:function(){if(e)t(!1);else{let e=l.current?.getBoundingClientRect();e&&(o(e),t(!0))}},"data-tooltip":(0,h.t)("dev_handoff.pages_list"),"data-tooltip-type":tp.Ib.TEXT},a.createElement(sj.v,{pageGuid:c,margin:"marginRight",fallback:a.createElement(e1.B,{svg:sJ.A,className:"toolbar_page_picker--pagePickerIcon--BvSvj"})}),a.createElement("span",{className:"toolbar_page_picker--pagePickerButtonContent--Sr4lK"},d?.name||""),a.createElement(e1.B,{svg:sq.A,className:"toolbar_page_picker--pagePickerButtonChevron--MiHhI"})),e&&i&&a.createElement(sY.Cf,{targetRect:i,maxHeight:u,propagateCloseClick:!0},s.map(e=>a.createElement(sz.MM,{key:e.nodeId,checked:c===e.nodeId,onClick:()=>m(e.nodeId)},a.createElement(sj.v,{pageGuid:e.nodeId,margin:"marginRight"}),a.createElement("span",{className:"toolbar_page_picker--dropdownOptionContent--7gcmF"},e.name)))))}var sZ=n(1511),sQ=n(588123);let s$="toolbar_vscode_frame_stepper--stepperButton--eRoSc",s0="toolbar_vscode_frame_stepper--stepperButtonDisabled--XSjQQ";function s1(){let e=(0,K.J2)(l.Ez5.devHandoffState().focusNodeId),t=(0,K.J2)(l.Ez5.devHandoffState().nodeIds),n=(0,nb.eY)(),r=e?t.indexOf(e):-1,i=n?.get(e);if(!i||-1===r)return null;let o=0===r,s=r===t.length-1;return a.createElement("div",{className:"toolbar_vscode_frame_stepper--stepperContainer--ux6kR"},a.createElement("span",{className:o?s0:s$},a.createElement(l_.K,{htmlAttributes:{"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.previous_frame")},"aria-label":(0,h.t)("dev_handoff.vscode.toolbar.previous_frame"),onClick:()=>l.glU.triggerActionInUserEditScope("dev-handoff-focus-previous",{}),disabled:o},a.createElement(sZ.C,null))),a.createElement("span",{className:"toolbar_vscode_frame_stepper--stepperContent--hVi69"},i?.name||""),a.createElement("span",{className:s?s0:s$},a.createElement(l_.K,{htmlAttributes:{"data-tooltip-type":tp.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.next_frame")},"aria-label":(0,h.t)("dev_handoff.vscode.toolbar.next_frame"),onClick:()=>l.glU.triggerActionInUserEditScope("dev-handoff-focus-next",{}),disabled:s},a.createElement(sQ.e,null))))}var s2=n(955095);let s3=(0,oC.ck)(),s5=a.memo(function({item:e}){let t=(0,r.d4)(t=>(0,aa.A)(e.label));return a.createElement("div",{key:`label-${e.label}`,className:sG.Pf},t)}),s4=a.memo(function({item:e,recordingKey:t}){let n=(0,r.d4)(t=>(0,Z.Yh)(t.mirror.appModel,e.action)),l=(0,r.d4)(t=>(0,aa.A)(e.action));return a.createElement(oU.FK,{key:`text-button-${e.action}`,action:e.action,isEnabled:n,text:l,recordingKey:t})}),s6=a.memo(function({item:e,numUnreadComments:t,disabled:n,recordingKey:l}){let o=e.children.filter(e=>!(0,sO.Zk)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,i.k)()[e])),c=(0,s.R)(e=>o.filter(t=>(0,sO.Zk)(t)&&(0,Z.Yh)(e.mirror.appModel,t.action))),d=(0,r.d4)(e=>c.length>0&&s8(c[0],e));if(0===c.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===c.length){var u;return a.createElement(oU.rA,{key:`action-button-${c[0].action}`,item:(u=c[0],{type:sR.ZU.ACTION,...u}),isEnabled:!0,isActive:d,recordingKey:l})}return 1===c.length&&"flatten-selection"===c[0].action?null:a.createElement(oI.xn,{key:`flyout-${e.name}`,item:{...e,children:o},numUnreadComments:t,disabled:n,recordingKey:l,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function s8(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let s9=a.memo(function({item:e,recordingKey:t}){let{featureFlags:n=[]}=e,l=(0,r.d4)(t=>s8(e,t)),o=(0,r.d4)(t=>(0,Z.Yh)(t.mirror.appModel,e.action)&&n.every(e=>(0,i.k)()[e])&&(!e.isAvailable||e.isAvailable(t.mirror.appModel,t.mirror.selectionProperties.resettableInstanceOverrides?.selectionOverrides,t.openFile)));return a.createElement(oU.rA,{key:`action-button-${e.action}`,item:e,isEnabled:o,isActive:l,recordingKey:t})}),s7=a.memo(function({item:e,numUnreadComments:t,recordingKey:n,canEdit:o}){let s=(0,r.d4)(t=>(0,Z.Yh)(t.mirror.appModel,e.action)),c=(0,rh.Um)(),d=(0,r.d4)(t=>e.tool!==l.NLJ.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,Z.TY)(c)),u=(0,r.d4)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>"ce_il_vem_cut_tool"===e?(0,op.m)().ce_il_vem_cut_tool:(0,i.k)()[e])?null:a.createElement(oU.T0,{key:`tool-button-${e.tool}`,dropdownShown:c,isEnabled:s,isActive:d,item:e,numUnreadComments:t,recordingKey:n,topLevelMode:u,isWide:e.isWideForEditors&&o})}),ce=a.memo(function({item:e,numUnreadComments:t,recordingKey:n}){let i=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),o=(0,r.d4)(e=>e.mirror.appModel.currentTool),s=(0,td.q5)(),c=(0,r.d4)(e=>e.progressBarState.mode),d=(0,ob.T)(c),u=(0,r.d4)(e=>d?!s?.canEdit:e.mirror.appModel.isReadOnly),m=(0,r.d4)(e=>e.mirror.appModel.isSceneReadOnly),p=(0,r.d4)(e=>!!e.user);if(!e||m&&!e.nonEditorsAllowed||e.onlyShowInReadOnly&&!(u&&c!==l.Oin.HIDE_UI)||e.hideInExtension&&rv.z4.getIsExtension()||!s&&e.newFileDisabled||!p&&!e.loggedOutAllowed||e.editModes&&-1===e.editModes.indexOf(i)||e.showForTools&&-1===e.showForTools.indexOf(o))return null;let f=e.dontChainRecordingKeys?e.recordingKey:tZ.Pt(n,e.recordingKey);switch(e.type){case sR.ZU.LABEL:return a.createElement(s5,{item:e});case sR.ZU.TEXT_BUTTON:return a.createElement(s4,{item:e,recordingKey:f});case sR.ZU.FLYOUT:return a.createElement(s6,{item:e,numUnreadComments:t,disabled:d,recordingKey:f});case sR.ZU.ACTION:return a.createElement(s9,{item:e,recordingKey:f});case sR.ZU.TOOL:return a.createElement(s7,{item:e,numUnreadComments:t,recordingKey:f,canEdit:s?.canEdit||!1});default:(0,ij.xb)(e)}}),ct=()=>{let e=(0,r.wA)(),t=(0,nb.p8)("activeCanvasEditModeType"),n=td.q5()?.canEdit;return()=>{if((0,ls.Ah)(t)){e((0,oT.Eg)());return}if(!n){e(oE.Fm({id:oT.V_})),I.Y5.triggerAction("enter-preview-mode");return}e(oE.Fm({id:oT.V_})),I.Y5.triggerAction("enter-layout-mode")}};function cn(e){let{recordingKey:t}=e,n=(0,r.d4)(e=>e.userStateLoaded),o=(0,nb.p8)("topLevelMode"),s=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,r.d4)(e=>e.selectedView),d=td.q5()?.canEdit,u=ct();return n&&(!(0,i.k)().version_diffing||s!==l.m1T.COMPARE_CHANGES)&&((0,ls.Ah)(s)||o===l.lyf.BRANCHING)&&(c.editorType===X.nT.Design||c.editorType===X.nT.DevHandoff)?a.createElement("div",{className:sG.dM},a.createElement(rk.$$,{key:d?"back-to-editing-btn":"back-to-viewing-btn",className:sG.uX,recordingKey:tZ.Pt(t,"backToEditing"),onClick:u},(0,h.tx)("fullscreen.toolbar.done"))):null}function ca(e){let t=a.useRef(null),n=a.useCallback(()=>{requestAnimationFrame(()=>{let e=t.current;e&&e.clientWidth!==innerWidth&&(e.style.width="99.999%",requestAnimationFrame(()=>{e.style.width=""}))})},[]);return(a.useEffect(()=>(addEventListener("resize",n),()=>{removeEventListener("resize",n)}),[n]),(0,lq.C_)(t),"fullscreen"===e.selectedView.view&&e.selectedView.editorType===X.nT.Whiteboard)?a.createElement(cs,{ref:t,dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,showUi:e.showUi,user:e.user}):a.createElement(cc,{ref:t,devHandoffFocusMode:e.devHandoffFocusMode,dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user})}function cr(e){return{openFile:e.openFile,dropdownShown:e.dropdownShown,modalShown:e.modalShown,loadingState:e.loadingState,user:e.user,userFlags:e.userFlags,multiplayer:e.multiplayer,userStateLoaded:e.userStateLoaded,topLevelMode:e.mirror.appModel.topLevelMode,isInitialized:e.mirror.appModel.isInitialized,progressBarMode:e.progressBarState.mode,activeVoiceCallExists:!!e.openFile&&e.openFile.key in e.voice.activeCall,showUi:e.mirror.appModel.showUi,isFreeUser:e.isFreeUser}}function cl(e){let t=(0,s.R)(cr),n=(0,td.q5)(),i=(0,r.d4)(e=>e.orgById),o=(0,r.d4)(e=>e.teams),c=(0,oS.YL)({openFile:n,teams:o,orgById:i}),d=(0,oy.$D)(),u=(0,K.J2)(l.Ez5.uiState().showMissingFontsButton),m=(0,K.J2)(l.Ez5.devHandoffState().focusMode),p=(0,nb.p8)("showUi"),f=(0,r.wA)();return a.createElement(ca,{...(0,of.d)(t),...e,dispatch:f,voiceEligibility:c,isWorkshopFile:d,showMissingFontsButton:u,devHandoffFocusMode:m,showUi:p})}function ci({numUnreadComments:e,recordingKey:t}){let n=(0,tO.E3)(),r=(0,oL.z)(),i=(0,oA.g)(),o=(0,nO._I)(),s=(0,C.l7)(),c=(0,y.e)(),d=(0,C.ZO)(),u=(0,nb.p8)("isReadOnly");if(s||c||d)return null;let m=(()=>{switch(n){case X.nT.Whiteboard:return sO.FW.filter(e=>n!==X.nT.Whiteboard||!r&&!i||e.type!==sR.ZU.TOOL||e.tool!==l.NLJ.SELECT&&e.tool!==l.NLJ.HAND);case X.nT.DevHandoff:return sO._8.filter(e=>e.type!==sR.ZU.TOOL||e.tool!==l.NLJ.ANNOTATE&&e.tool!==l.NLJ.MEASURE||o);default:if(!u)return sO.U3;return sO.XU}})();return a.createElement(a.Fragment,null,m.map((n,r)=>a.createElement(ce,{key:r,item:n,numUnreadComments:e,recordingKey:t})))}function co({renderDesignMiddleItems:e,renderFileName:t,renderFigjamTryCountdown:n}){let i=(0,K.J2)(l.Ez5.editorState().selectionEmpty),o=(0,oh.s)(!1),{topLevelMode:c,editMode:d}=(0,s.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),u=(0,r.d4)(e=>{let t=e.modalShown;return t?.type===oN.e}),m=(0,td.q5)(),p=(0,nb.aV)(),f=(0,oC.ck)(),g=d===l.m1T.COMMENTS||d===l.m1T.PREVIEW||d===l.m1T.BRANCHING||c===l.lyf.HISTORY||c===l.lyf.PREVIEW||c===l.lyf.DEV_HANDOFF||c===l.lyf.BRANCHING,h=(0,tO.ow)(),E=(0,C.l7)(),_=!!m?.isTryFile&&!u&&!p&&f,y=!u&&(h||i||g||p)&&!o,b=p||h?void 0:a.createElement(sL.m,null);return a.createElement("div",{key:"center-group","data-onboarding-key":ox.lm,className:`${sG.GC} ${sG.V3}`},b,t(y&&!_),n(_),e(!y&&!h&&!_&&!E))}let cs=a.forwardRef(function(e,t){var n,r;let{loadingClassName:l,hideToolsClassName:i}=cd(e.progressBarMode,e.openFile,e.isInitialized),o=cu(e.recordingKey),s=(n=e.numUnreadComments,r=e.recordingKey,a.useMemo(()=>new ow.H4(()=>{let e=[];return sO.D4.forEach((t,l)=>{let i=a.createElement(ce,{key:l,item:t,numUnreadComments:n,recordingKey:r});i&&e.push(i)}),e}),[n,r]));return a.createElement(nD.fu,{name:ok.e0.EDITOR_TOOLBAR,trackingTargets:o_.K.RCS},a.createElement("div",{onFocus:t1.F2.focusCustomCanvasFocusElement,tabIndex:0}),a.createElement(og.V,null,a.createElement("div",{className:ec()(sG.KE,S.Dm,l,sG.Jg,{[sG.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,h.t)("fullscreen.accessibility_dom.primary_toolbar_label")},a.createElement("div",{key:"left-group",className:`${sG.GC} ${sG.l3} ${i}`},a.createElement(oU.xG,{hideToolsClassName:i,recordingKey:e.recordingKey}),a.createElement(ci,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),a.createElement(o7,null),a.createElement(cn,{recordingKey:e.recordingKey})),a.createElement(co,{renderFileName:e=>o.render({isVisible:e,className:sG.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&a.createElement(sN,null),renderDesignMiddleItems:e=>s.render({isVisible:e,displayAs:"block"})}),a.createElement("div",{key:"right-group",className:`${sG.GC} ${sG.gt} ${i}`},a.createElement(ss,null)))))}),cc=a.forwardRef(function(e,t){let n=(0,nC.$A)(e.selectedView),r=(0,C.l7)(),l=n&&rv.z4.getIsExtension(),i=!s3&&!e.selectedView.isRecoveryMode&&!r,{devHandoffFocusMode:o,openFile:s,user:c}=e,{loadingClassName:d,hideToolsClassName:u}=cd(e.progressBarMode,e.openFile,e.isInitialized),m=(s?.canEdit??!1)&&!!c,p=cu(e.recordingKey),f=a.useMemo(()=>new ow.H4(()=>{let t=[];return sO.D4.forEach((n,r)=>{let l=a.createElement(ce,{key:r,item:n,numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey});l&&t.push(l)}),t}),[e.numUnreadComments,e.recordingKey]);return a.createElement(nD.fu,{name:ok.e0.EDITOR_TOOLBAR,trackingTargets:o_.K.RCS},a.createElement("div",{onFocus:t1.F2.focusCustomCanvasFocusElement,tabIndex:0}),a.createElement(og.V,null,a.createElement("div",{className:ec()(sG.KE,S.Dm,d,{[sG.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,h.t)("fullscreen.accessibility_dom.primary_toolbar_label")},a.createElement("div",{key:"left-group",className:`${sG.GC} ${sG.l3} ${u}`},!l&&a.createElement(oU.xG,{hideToolsClassName:u,recordingKey:e.recordingKey}),l&&o?a.createElement(oD,null):a.createElement(a.Fragment,null,a.createElement(ci,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),a.createElement(cn,{recordingKey:e.recordingKey}))),l?o?a.createElement(s1,null):a.createElement(sX,null):a.createElement(co,{renderFileName:e=>e&&sO.mb.isActive?.({})?a.createElement(ce,{item:sO.mb,numUnreadComments:0}):p.render({isVisible:e,className:sG.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&a.createElement(sN,null),renderDesignMiddleItems:e=>f.render({isVisible:e,displayAs:"block"})}),a.createElement("div",{key:"right-group",className:`${sG.GC} ${sG.gt} ${u}`},l?a.createElement(oV,null):r&&e.multiplayer&&e.openFile?a.createElement("div",{className:sG.XA},a.createElement(sa.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user})):a.createElement(a.Fragment,null,a.createElement(oU.n8,null),e.multiplayer&&e.openFile&&a.createElement(sa.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),!e.user&&a.createElement(oU.tO,{useDarkTheme:!0}),i&&a.createElement(sA.Z,{recordingKey:e.recordingKey,extraPadding:m}),m&&a.createElement(sH,null),!s3&&a.createElement(ce,{item:sO.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&a.createElement(oU.w8,{recordingKey:e.recordingKey}),a.createElement(s2.H,{recordingKey:tZ.Pt(e,"zoomMenu")}),(0,ov.MP)()&&a.createElement(so,{variant:"design"}))))))});function cd(e,t,n){let a=(0,ob.T)(e);return{loadingClassName:a?sG.Lq:"",hideToolsClassName:!a||t?.canEdit&&n?"":sG.yM}}function cu(e){return a.useMemo(()=>new ow.H4(()=>a.createElement(sx.fH,{recordingKey:tZ.Pt(e,"filenameView")})),[e])}function cm(e){return(0,k.GS)()?null:a.createElement(cl,{...e})}var cp=n(512681),cf=n(879169),cg=n(622518),ch=n(347487),cE=n(673786),c_=n(693108),cy=n(14850),cb=n(122537),cC=n(709393),cv=n(275053),cw=n(141839);function cT({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:n,onSubmit:l,shouldUseEyedropperStyleCreationFlow:i}){let o=(0,r.d4)(e=>e.mirror.selectedStyleProperties),s=(0,r.d4)(e=>e.mirror.sceneGraphSelection),c=a.useRef(Object.keys(s).length>0),d=(0,c_.sg)(e),{styleRef:u,createStyle:m}=(0,cv.u)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:c.current,trackingOptions:{styleType:d},shouldUseEyedropperStyleCreationFlow:i}),p=tZ.of(n,"submit",()=>{m(),l(u)});return o.styleType?a.createElement(cy.zK.Provider,{value:cy.zM.CREATE_VARIABLE_STYLE},a.createElement(cw.O8,{type:o.styleType,recordingKey:n,isInspectPanel:!1,selectedStyleProperties:o,showProperties:!0,onEnterPressed:p}),a.createElement(lS.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},a.createElement(eJ.$n,{onClick:p,disabled:!u,variant:"primary"},(0,h.tx)("design_systems.create_style.create_style")))):null}var cS=n(482999),ck=n(611209),cI=n(630478);function cN({clientType:e}){let t=(0,nR.U)();(0,a.useEffect)(()=>{let n=Date.now();return()=>{let a=Date.now()-n;t("reconnecting_modal_shown",{msElapsed:a,clientType:e}),a>1e3&&(0,ck.B3)(e)}},[e,t]);let n=`${cI.hd} ${cI.ME}`;return a.createElement("div",{className:n},a.createElement("div",{className:cI.nw},(0,h.tx)("reconnecting_modal.loading")))}function cx(){(0,nR.U)()("waiting_for_sync_modal_shown");let e=`${cI.hd}`;return a.createElement("div",{className:e},a.createElement("div",{className:cI.nw},(0,h.tx)("waiting_for_sync_modal.saving")))}var cA=n(1896),cL=n(387594),cO=n(380592);function cR(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substring(7):e}function cM(e){let t=(0,r.wA)(),n=(0,r.Pj)().getState(),[i,o]=a.useState(cR(e.hyperlinkLocation.url)),s=a.useRef(!0),c=a.useRef(i);a.useEffect(()=>{c.current=i},[i]);let d=a.useCallback(t=>tV.l7.user("set-hyperlink",()=>!l.glU.setHyperlink(cR(t),e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),[e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeEnd,e.hyperlinkLocation.rangeStart]);a.useEffect(()=>()=>{s.current&&(d(c.current),(0,eZ.trackEvent)("Hyperlink Editor Updated Link On Dismiss"))},[d]);let u=tZ.AF(e.recordingKey,"change",e=>{o(e.target.value.trim())}),m=tZ.v_(e.recordingKey,"keydown",n=>{if((0,lh.jr)(n,lh.W0.NO))return tZ.aH;if("Escape"===n.key)n.preventDefault(),s.current=!1,(0,eZ.trackEvent)("Hyperlink Editor Cancelled On Escape"),l.glU.hideHyperlinkEditor();else if("Enter"===n.key){if(n.preventDefault(),s.current=!1,d(i))(0,eZ.trackEvent)("Hyperlink Editor Invalid Link"),t(E.F.enqueue({message:(0,h.t)("hyperlink.invalid_link_plain")}));else if(""===i)(0,eZ.trackEvent)("Hyperlink Editor Deleted Link"),t(E.F.enqueue({message:(0,h.t)("hyperlink.link_deleted")}));else{i&&cA.wt.reportEditAction("hyperlink_edit");let t={};if(i&&!i.startsWith("mailto:"))try{let n=new URL((0,cL.xT)(i)).hostname,a=e.editorType;t={domain:n,editorType:a}}catch(e){}(0,eZ.trackEvent)("Hyperlink Editor Updated Link On Enter",t)}l.glU.hideHyperlinkEditor()}}),f=tZ.rf(e.recordingKey,"click",n=>{s.current=!1,e.hyperlinkLocation&&tV.l7.user("clear-hyperlink",()=>l.glU.setHyperlink("",e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),t(E.F.enqueue({message:(0,h.t)("hyperlink.link_deleted")})),cA.wt.reportEditAction("hyperlink_edit"),l.glU.hideHyperlinkEditor(),n.stopPropagation()}),g=e.hyperlinkLocation.x,_=e.hyperlinkLocation.y,y=I.Y5.getViewportInfo(),b=Math.round(Math.min(Math.max(g,100),y.width-100)+y.x),C=Math.round(_+y.y);return e.editorType===X.nT.Sites||e.editorType===X.nT.Figmake?a.createElement(rO.S7,{recordingKey:"hyperlinkEditor",setUrl:o,onClickTrash:f,store:n}):a.createElement(cO.c,{url:i,location:new e$.Mi(b,C),onInputChange:u,onInputKeyDown:m,onBlur:p.lQ,onClickTrash:f})}var cD=n(566287),cP=n(981420),cF=n(254028),cB=n(366022),cU=n(983747),cG=n(17726),cK=n(957070);function cV(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===l.NLJ.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===l.Oin.HIDE_UI||e.progressBarState.mode===l.Oin.ON_AND_LOCKED,hasCursorBot:!!(0,i.k)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}function cH({fileKey:e}){let t=(0,r.wA)(),n=(0,r.Pj)(),i=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),o=(0,cB.jz)(),s=(0,cU.e_)()===cU.$_.ELIGIBLE,c=(0,V.Fk)(e=>e.getCurrentPage()?.guid);return a.useLayoutEffect(()=>{if(!i||!s)return;let a=n.getState(),r=o?.find(e=>e.inProgress),d=a.mirror.appModel.votingSessionInfo,m=d.sessionId&&o?o.find(e=>e.id===d.sessionId):null;if(r){if(r.id!==d.sessionId){t(w.au({}));let n=(0,G.VP)(a.loadingState,w.$c(e))||a.voting.lastInitiatedVotingSessionId===r.id;t(w.H1({votingStage:n?l.W8Y.JOINED:l.W8Y.NOT_JOINED}))}}else d.sessionId&&!m?t(w.H1({votingStage:l.W8Y.NO_SESSION})):!r&&d.sessionId&&d.votingStage!==l.W8Y.ENDED&&(t((m?.pageNodeId&&(0,u.oA)(m.pageNodeId))===c?w.H1({sessionId:d.sessionId,votingStage:l.W8Y.ENDED}):w.H1({votingStage:l.W8Y.NO_SESSION})),t(w.D6("")))},[e,t,o,i,s,n,c]),null}function cz(){let e=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),t=a.useRef(!1);return a.useEffect(()=>{e&&!t.current&&((0,m.Z1)(),t.current=!0)},[e,t]),null}let cW={VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:n,initialStyleCreationPaint:i,initialView:o,resolvedType:s,onCreateVariable:c,onCreateStyle:d,onClose:u,disableStyleModal:m,shouldUseEyedropperStyleCreationFlow:p}){let f="createVariableAndStyleModal";(0,cC.NF)({resolvedType:s});let{onCreateVariableSubmit:g,onCreateStyleSubmit:E}=function({onCreateVariable:e,onCreateStyle:t,onClose:n}){let{onCreateVariableSubmit:a}=(0,cb.useVariableCreateModalActions)({onCreateVariable:e,onClose:n}),i=(0,td._G)(),o=(0,r.d4)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:a,onCreateStyleSubmit:function(e){let a=function(e){let t=l.Pt4.getStyleNodeId(e.key,e.version),n=o.get(t);return n?{type:tD.PW.STYLE,name:n.name,library_key:i??(0,nq.l)(""),key:n.styleKeyForPublish,thumbnail_url:"",canvas_url:"",content_hash:n.styleVersionHash??void 0,userFacingVersion:(0,cE.IA)(n.userFacingVersion),node_id:n.guid,isLocal:!0,style_type:n.styleType}:null}(e);a&&(t(a),n())}}}({onCreateVariable:c,onCreateStyle:d,onClose:u}),[_,y,b]=cf.t.useTabs({createStyle:!m,createVariable:!0},{recordingKey:tZ.Pt(f,"viewTabs"),defaultActive:()=>(function(e){let t=["createVariable","createStyle"];return e&&t.includes(e)?e:t[0]})(o)});return a.createElement(cg.bL,{onClose:u,defaultPosition:e,width:tx.i,recordingKey:"createStyleWindow"},a.createElement(ch.vo,null,a.createElement(ch.Y9,null,a.createElement(ch.r1,null,(0,h.tx)("design_systems.create_style.title")),a.createElement(cf.t.TabStrip,{manager:b},a.createElement(cf.t.Tab,{..._.createStyle},(0,h.tx)("design_systems.create_style.style")),a.createElement(cf.t.Tab,{..._.createVariable},(0,h.tx)("variables.create_modal.title")))),a.createElement(ch.nB,{padding:0},a.createElement(cf.t.TabPanel,{...y.createStyle},a.createElement(cT,{inheritStyleKeyField:n,initialStyleCreationPaint:i,recordingKey:"createStyleModal",onSubmit:E,shouldUseEyedropperStyleCreationFlow:p??!1})),a.createElement(cf.t.TabPanel,{...y.createVariable},a.createElement(cb.CreateVariableForm,{resolvedType:s,initialValue:t,recordingKey:tZ.Pt(f,"createVariableForm"),onSubmit:g})))))},VariableAndComponentPropCreateModalRoot:cp.NO};function cj({children:e,versionHistoryEnabled:t=!0}){let n=(0,s.R)(cV),m=(0,T.n6)(),w=(0,r.wA)(),N=(0,F.TA)(),x=n.openFile?n.openFile.key:"",A=(0,K.ut)(l.Ez5?.uiState().shouldShowAutoLayoutHintsIfExist,!1),L=(0,K.ut)(l.Ez5?.uiState().autoLayoutShortcutHints,new Map),O=(0,d.Rs)(U.Jpz,{key:x}),R=!1;if(O&&"loaded"===O.status&&n.openFile){let e=O.data.file;if(e&&N){let t=e.linkAccess,a=(0,u.oA)(e.team?.isStarterTeam,!1),r=(0,u.oA)(e.team?.isStudentTeam,!1),l=!!e.roles.find(e=>e.userId===N);n.openFile.canEdit&&t===B.PQ.EDIT&&a&&!r&&!l&&(R=!0)}}let G=(0,k.GS)(),V=(0,_.fk)(x),H=n.openFile?.editorType==="design",z=(0,C.l7)(),W=(0,y.e)(),j=(0,C.ZO)(),Y=(0,cF.Oc)(),[J]=(0,o.fp)(P.vE),Q=(0,o.Xr)(t2),$=!n.showUi&&(0,Z.TY)(n.dropdownShown),et=n.dropdownShown?.type===Z.jv,ea=et?n.dropdownShown?.data?.parameterEntryArgs:void 0,er=n.dropdownShown?.data?.fireQuickActionsTrackingEvent||p.lQ,el=n.topLevelMode===l.lyf.HISTORY,es=!(0,cD.ty)(),ec=(0,a.useCallback)(e=>{w((0,v.r)({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},[w]),ed=(0,a.useCallback)(e=>{I.Y5.reparentRootElement(e),e&&e.addEventListener("drop",ec)},[ec]),eu=J&&J.status===P.QY.WAITING,ep=!eu&&n.showingReconnectingModal;return a.createElement(a.Fragment,null,(0,i.k)().ee_color_management_debug?a.createElement(M,null):null,x&&a.createElement(cH,{fileKey:x}),!(f.Ay.isIpad||f.Ay.isIpadNative||f.Ay.isMobileBrowser||f.Ay.isMeetDevice)&&a.createElement(cz,null),a.createElement("div",{className:cK.MY,"data-forward-events-to-fullscreen":!0},a.createElement(tH.l.Provider,{value:cW},a.createElement(eW,null,(0,i.k)().cursor_bot&&H&&n.hasCursorBot&&a.createElement(iP,null),!z&&!W&&!j&&!Y&&a.createElement("div",{key:"fullscreen-container",ref:ed,onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1)}),a.createElement(iz,null),a.createElement(eo.T,null),n.showToolbar&&a.createElement(cm,{numUnreadComments:m,selectedView:n.selectedView,recordingKey:"toolbarView"}),(0,D.T)()&&(0,i.k)().dt_vscode_ready_for_dev&&a.createElement(b.f,{isOnReadyForDevPage:!1}),!n.fileIsLoading&&a.createElement(ee,null),$&&a.createElement(nI.e,{key:"fullscreen-menu",dropdown:n.dropdownShown}),et&&a.createElement(g.tH,{boundaryKey:"QuickActionsOuter",onError:()=>{w(E.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(om,{key:"quick-actions",parameterEntryArgs:ea,fireTrackingEvent:er})),a.createElement(q,null),G&&(0,i.k)().ce_al_experiments_on&&A&&L.size>0&&a.createElement(em,null),e,n.showUi&&t&&el&&!G&&a.createElement("div",{className:cK.yL},a.createElement(ls.yU,{recordingKey:"versionHistoryView",fileHasCMSData:V})),n.hyperlinkLocation&&a.createElement(cM,{hyperlinkLocation:n.hyperlinkLocation,editorType:n.selectedView.editorType,recordingKey:"hyperlinkEditor"}),a.createElement(ei.yq,null),n.progressBarState.mode!==l.Oin.OFF&&a.createElement(cS.z2,{editorType:(0,X.oD)(n.selectedView.editorType),progressBarMode:n.progressBarState.mode,progressBarType:n.progressBarState.type,left:0}),eu?a.createElement(cx,null):ep&&a.createElement(cN,{clientType:"fullscreen"}),a.createElement(cG.Nd,null),a.createElement(cG.jx,{showStartModal:R}),n.dropdownShown&&!es&&!f.Ay.isMeetDevice&&a.createElement(g.tH,{boundaryKey:"FullscreenContextMenu",onError:()=>{w(E.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(lo,{dropdownShown:n.dropdownShown,selectedView:n.selectedView,ariaLabelledBy:(0,h.t)("fullscreen.fullscreen_view.context_menu.aria_label")})),n.pickerShown?.id===S.C9&&a.createElement(tS,null),n.pickerShown?.id===iF.O&&a.createElement(iF.S,{recordingKey:"nudgeAmountPicker"}),G?a.createElement(n_,null):a.createElement(nv,null)))),a.createElement(en,null),n.showKeyboardShortcuts&&a.createElement(iO,{recordingKey:"keyboardShortcutPanel"}),(0,i.k)().react_scenegraph&&a.createElement(cP.U,{fallback:c.H4.NONE}))}},17726:(e,t,n)=>{n.d(t,{jx:()=>eE,XI:()=>eC,qn:()=>eg,Nd:()=>eh,jS:()=>ev,RS:()=>ef,X_:()=>ew,P2:()=>ey,j6:()=>eb,Ky:()=>e_});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(179507),s=n(637640),c=n(967688),d=n(972402),u=n(363367),m=n(361964),p=n(16084),f=n(212885),g=n(31898),h=n(330362),E=n(303397),_=n(92338),y=n(355755),b=n(730143),C=n(125761),v=n(476254),w=n(353231),T=n(434289),S=n(221242),k=n(11899),I=n(361860),N=n(376852),x=n(320953),A=n(768618),L=n(536384),O=n.n(L),R=n(813009),M=n(857607),D=n(781239),P=n(66699),F=n(142896),B=n(1896),U=n(146859),G=n(702038),K=n(489082),V=n(963307),H=n(601167),z=n(42725),W=n(996202),j=n(84145),Y=n(21614);function J(e,t,n){let i;let{maxWidth:o,noSelectOnFocus:s=!1,disableSaveOnEscape:c=!1}=n,{padding:d,margin:u,...m}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),p=(0,H._X)({subscribeToUpdates_expensive:!0}),f=p?.zoomScale||1,[g,h]=a.useState(e),[_,y]=a.useState(!0),b=a.useRef(null),C=a.useRef(null),[v,w]=a.useState(0),[T,S]=a.useState(!1),k=a.useCallback((e,t)=>{switch(m.mode){case l.nzw.FRAME_NAME:case l.nzw.CANVAS_GRID_ROW_NAME:w(Math.min(e,o*f)+7);break;case l.nzw.RESPONSIVE_SET_NAME:case l.nzw.SECTION_NAME:let n=o*f;m.mode===l.nzw.RESPONSIVE_SET_NAME&&(n-=60),e<n?w(e):w(n-2*u.x);break;case l.nzw.FLOW_STARTING_POINT_NAME:w(Math.min(e,o)+4);break;case l.nzw.MEASUREMENT_FREE_TEXT:w(Math.min(e,o*f)+8.5);break;case l.nzw.GRID_TRACK_SIZE:let a=e;l.qmM&&(a=l.qmM.measureConsistentTrackLabelSize(t).x),w(Math.min(a,o*f+8.5))}},[m.mode,o,f,u.x]);a.useLayoutEffect(()=>{C.current&&k(C.current.scrollWidth,g)},[g,k]),a.useEffect(()=>{e&&(y(!0),h(e))},[e]),a.useEffect(()=>{let e=e=>{let t=!(b.current&&b.current.contains(e.target)),n=document.querySelector('[data-resource-id="rename-selection"]'),a=e.target&&n&&n.contains(e.target);t&&!a&&l.glU.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let I=D.AF("onCanvasRename","change",e=>{h(e.target.value)}),x=D.v_("onCanvasRename","keydown",e=>{if(!T){if("Escape"===e.key&&c){y(!1),l.glU.hideOnCanvasNameEditor();return}switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),y(!1),t(g),E.Y5.commit(),l.glU.hideOnCanvasNameEditor();break;case"=":case"-":(0,M.Fo)(e)&&(0,U.f7)(e,!0)}}});if(!p)return null;let A={},L=(0,H.Z0)(p,{x:m.x,y:m.y},!1),O={x:L.x+p.x,y:L.y+p.y};if(m.mode===l.nzw.FLOW_STARTING_POINT_NAME&&(O.x-=32+v,O.y=Math.round(O.y)),m.mode===l.nzw.FRAME_NAME){let e=(0,N.Cc)(5,9,(p.zoomScale-.1)*5);e=(0,N.qE)(e,5,9)-3,O.y-=e}if(m.mode===l.nzw.CANVAS_GRID_ROW_NAME){let e=l.Ez5.canvasGrid().gridRowSpacing()/2*p.zoomScale;e-=8,O.y-=e}if(m.mode===l.nzw.RESPONSIVE_SET_NAME&&(O.x+=36,O.y-=3),m.mode===l.nzw.GRID_TRACK_SIZE&&l.qmM){let e=l.qmM.getTrackIndicatorOffsetY(p.zoomScale,m.isTLF);m.axis===l._0v.X?(O.y-=e+9,O.y=Math.round(O.y),A.transform=`translate(calc(${O.x}px - 50%), ${O.y}px)`):(O.y-=9,O.y=Math.round(O.y),O.x-=e-9,A.transform=`translate(calc(${O.x}px - 100%), ${O.y}px)`)}else m.mode===l.nzw.MEASUREMENT_FREE_TEXT?m.invertTextPosition?A.transform=m.isCentered?`translate(calc(${O.x}px - 50%), ${O.y-24}px)`:`translate(calc(${O.x-6}px - 100%), ${O.y-9.5}px)`:A.transform=m.isCentered?`translate(calc(${O.x}px - 50%), ${O.y+7}px)`:`translate(${O.x+6}px, ${O.y-9.5}px)`:A.transform=`translate(${O.x}px, ${O.y}px) rotate(${m.angle}deg)`;switch(m.mode){case l.nzw.FRAME_NAME:case l.nzw.CANVAS_GRID_ROW_NAME:i="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V";break;case l.nzw.FLOW_STARTING_POINT_NAME:i="on_canvas_name_editor--flowStartingPointNameInput--lLEZF";break;case l.nzw.MEASUREMENT_FREE_TEXT:i="on_canvas_name_editor--measurementFreeTextInput--gJle8 sf_pro--uiFontWithSFProFallback--m-p9V";break;case l.nzw.GRID_TRACK_SIZE:i="on_canvas_name_editor--gridTrackSizeInput--TX2Zz sf_pro--uiFontWithSFProFallback--m-p9V"}return{containerRef:b,measurerRef:C,containerStyle:A,inputClassname:i,editingName:g,onFocus:e=>{s||e.target.select(),C.current&&k(C.current.scrollWidth,g)},onChange:I,onKeyDown:x,onBlur:e=>{_&&(t(e.target.value),E.Y5.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&l.glU.hideOnCanvasNameEditor())},width:v,setIsComposing:S}}function q(e){let t=J(e.name,e.setName,{maxWidth:e.maxWidth,noSelectOnFocus:e.noSelectOnFocus,disableSaveOnEscape:e.disableSaveOnEscape});if(!t)return null;let{containerRef:n,measurerRef:r,containerStyle:l,editingName:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,width:u,setIsComposing:m,inputClassname:p}=t;return a.createElement("div",{ref:n,className:O()(e.containerClassname,F.Dm,"on_canvas_name_editor--containerOnLight--6zUKs"),style:l},a.createElement("span",{ref:r,className:"on_canvas_name_editor--measurer--KTnSp"},i),a.createElement("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:p,dir:"auto",onBlur:d,onChange:s,onCompositionEnd:()=>m(!1),onCompositionStart:()=>m(!0),onFocus:o,onKeyDown:c,spellCheck:!1,style:{width:`${u}px`},value:i}))}function X(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width),n=(0,Y.xv)(),l=(0,j.W)();return e&&t&&n?a.createElement(q,{name:e,setName:t=>{e&&(B.wt.reportEditActionIf(e!==t,"rename-frame"),x.l7.user("rename-frame",()=>G.i(n,t)),l({newTitle:t,nodeType:"FRAME"}),t!==e&&(0,j.d)(t).length>0&&(0,P.YQ)({id:"frame_node_name_changed_with_rfd_indicator",properties:{nodeId:n}}))},maxWidth:t}):null}function Z(){let[e,t]=(0,V.lJ)("prototypeStartingPoint"),n=K.E7(e)?.name||"";return n?a.createElement(q,{name:n,setName:n=>{n&&t({name:n,description:K.E7(e)?.description||"",position:K.E7(e)?.position||""})},maxWidth:93,containerClassname:"on_canvas_name_editor--flowStartingPointNameContainer--JdVwd"}):null}function Q(){let{measurementId:e,initMeasurementText:t}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),n=(0,r.d4)(e=>e.mirror.appModel.currentPage),i=a.useMemo(()=>l.w3z.findMeasurement(e,n),[e,n]),o=a.useRef(!i?.freeText),s=function(){let e=(0,W.U)();return a.useCallback((t,n,a)=>{let r=t.findContainingTopLevelFrameOrSelf(),l=t.containingCanvas,i={measurement_id:n.id,from_node_id:n.fromNode,to_node_id:1===n.toNode.length?n.toNode[0].toString():n.toNode.toString(),node_type:t.type};r&&(i.tlf_id=r),l&&(i.page_id=l),i.free_text=a,e("update_annotation_measurement_free_text",i)},[e])}();return i?a.createElement(q,{name:t,setName:e=>{let n=(0,A.UN)().get(i.fromNode);if(n){if(o&&e===t)return;x.l7.user("free-text-annotation-measurement",()=>{n.updateMeasurementFreeText(i.id,e),s(n,i,e)})}},maxWidth:150}):null}function $(){let e;let[t,n]=(0,V.lJ)("gridTrackSize"),[r,i]=(0,V.lJ)("gridTrackSizingType"),{axis:o,width:s,initialText:c}=(0,R.R)(e=>({axis:e.mirror.appModel.onCanvasNameEditorInfo.axis,width:e.mirror.selectionProperties.width,initialText:e.mirror.appModel.onCanvasNameEditorInfo.initialText})),d=(0,K.E7)((0,V.kl)("gridRowCount")),u=(0,K.E7)((0,V.kl)("gridColumnCount"));if(!t||!r||!s||!u||!d||(0,K.gl)(t))return null;e=o===l._0v.X?Math.round(s/u):Math.round(s/d);let m="Flex"===r?"Auto":(0,z.lg)(t);return a.createElement(q,{name:c||m,setName:e=>{if(e=e.trim().toLowerCase(),"auto".startsWith(e))i("Flex");else{let t=parseFloat(e);if(isNaN(t))return;n(t)}},maxWidth:e,noSelectOnFocus:!!c,disableSaveOnEscape:!0})}function ee(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width),n=(0,j.W)();return null!=e&&t?a.createElement(et,{name:e,setNameWithNodeId:(t,a)=>{B.wt.reportEditActionIf(e!==a,"rename-section"),x.l7.user("rename-section",()=>G.i(t,a?a.trim():"")),n({newTitle:a,nodeType:"SECTION"})},maxWidth:t}):null}function et(e){let{name:t,setNameWithNodeId:n,maxWidth:i}=e,o=(0,Y.uQ)(),s=J(t,e=>{o&&n(o,e)},{maxWidth:i}),c=(0,r.d4)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType;return t===l.m1T.DESIGN_LAYOUT||t===l.m1T.SITES_LAYOUT}),{fontSize:d,top:u,left:m,height:p,horizontalPadding:f,verticalPadding:g,borderRadius:h}=function(e,t){let{fontSize:n,padding:a,margin:i,cornerRadius:o}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),s=l.qmM.editorTypeConfig().showBigSectionNamePills(),c=a.x,d=a.y,u=s?24:2*a.y+n,m=0,p=-i.y-u,f=l.qmM.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=f)&&(m=i.x,p=i.y),{fontSize:n,height:u,top:p,left:m,horizontalPadding:c,verticalPadding:d,borderRadius:o}}((0,r.d4)(e=>{if(null===o)return!1;let t=e.mirror.sceneGraph.get(o),n=e.mirror.appModel.currentPage,a=!!t?.isResponsiveSet;return t&&("SECTION"===t.type||a)&&t.parentGuid===n}),Math.round(100*(0,H._X)({subscribeToUpdates_expensive:!0}).zoomScale));if(!s||!o)return null;let{containerRef:E,measurerRef:_,containerStyle:y,editingName:b,onFocus:C,onChange:v,onKeyDown:w,onBlur:T,width:S,setIsComposing:k}=s,I=c?"normal":500;return a.createElement("div",{ref:E,className:`on_canvas_name_editor--sectionNameContainer--D8aez ${F.Dm}`,style:y},a.createElement("span",{ref:_,className:"on_canvas_name_editor--sectionMeasurer--kfBij",style:{fontSize:d,fontWeight:I,paddingLeft:f,paddingRight:f,paddingTop:g,paddingBottom:g}},b),a.createElement("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"on_canvas_name_editor--sectionNameInput--MgIUi",dir:"auto",onBlur:T,onChange:v,onCompositionEnd:()=>k(!1),onCompositionStart:()=>k(!0),onFocus:C,onKeyDown:w,spellCheck:!1,style:{width:`${S}px`,fontSize:d,fontWeight:I,left:m,top:u,height:p,borderRadius:h,paddingLeft:f,paddingRight:f,paddingTop:g,paddingBottom:g},value:b}))}var en=n(413097),ea=n(499927),er=n(69946),el=n(989232),ei=n(863270),eo=n(680090),es=n(414607),ec=n(639088);function ed(e){let t=(0,C.iZ)();return a.createElement(ei.fu,{name:"Starter team edit confirmation modal",properties:{userId:t?.id,userEmail:t?.email}},a.createElement(es.Rw,{confirmationTitle:(0,c.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,el.trackEvent)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),eo.L.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,el.trackEvent)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),s.Ay.redirect("/files/recents-and-sharing")}},a.createElement("div",{className:ec.jE},(0,c.tx)("fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",{email:t?.email}))))}var eu=n(238462);let em=(0,n(446951).Ju)(function(e){return a.createElement(es.Nb,{size:"small",className:ec.yl,disableClickOutsideToHide:!0,hide:eu.lQ},a.createElement("div",{className:ec.DD},(0,c.tx)("file_migration.updating.title")),a.createElement("div",{className:ec.jE},(0,c.tx)("file_migration.updating.message")))},"FileMigrationWarningModal");function ep(){return(0,r.d4)(e=>e.progressBarState)}let ef=(0,o.xx)((e,t,n)=>{e(f.gI()),e(p.mV({}))});function eg(){switch((0,y.p8)("onCanvasNameEditorInfo").mode){case l.nzw.FRAME_NAME:return a.createElement(X,null);case l.nzw.FLOW_STARTING_POINT_NAME:return a.createElement(Z,null);case l.nzw.SECTION_NAME:return a.createElement(ee,null);case l.nzw.MEASUREMENT_FREE_TEXT:return a.createElement(Q,null);case l.nzw.RESPONSIVE_SET_NAME:return a.createElement(ee,null);case l.nzw.CANVAS_GRID_ROW_NAME:return a.createElement(X,null);case l.nzw.GRID_TRACK_SIZE:return a.createElement($,null);default:return null}}function eh(){let e=ep(),t=(0,r.d4)(e=>e.showingOpenDesktopAppModal),n=(0,r.wA)();if(e.mode!==l.Oin.OFF)return a.createElement(a.Fragment,null);switch(t){case T.kF.FOR_OPEN:return a.createElement(ea.g,{dispatch:n});case T.kF.FOR_MENU:return a.createElement(en.s,{dispatch:n})}return a.createElement(a.Fragment,null)}function eE(e){let t=(0,b.q5)(),n=(0,C.iZ)();return e.showStartModal&&n&&t&&t.key?a.createElement(ed,{fileKey:t.key}):a.createElement(a.Fragment,null)}function e_(){let e=(0,a.useRef)(null),t=(0,a.useRef)(!1),n=ep(),i=(0,r.wA)(),o=(0,r.d4)(e=>e.needsUpgrade),s=(0,a.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null)},[e]),c=(0,a.useCallback)(()=>{s(),e.current=setTimeout(()=>{t.current=!0,o&&n.mode!==l.Oin.OFF&&i((0,g.to)({type:em}))},2e4)},[o,n,i,s]),d=(0,a.useCallback)(()=>{t.current&&i(g.Ce()),t.current=!1,s()},[t,s,i]);(0,a.useEffect)(()=>(E.Y5.fromFullscreen.on("multiplayerConnect",c),E.Y5.fromFullscreen.on("multiplayerDisconnect",s),E.Y5.fromFullscreen.on("multiplayerGotSchema",d),()=>{E.Y5.fromFullscreen.removeListener("multiplayerConnect",c),E.Y5.fromFullscreen.removeListener("multiplayerDisconnect",s),E.Y5.fromFullscreen.removeListener("multiplayerGotSchema",d),s()}),[s,c,d])}function ey(e,t,n){!t.current&&function(e,t){if(t===l.NLJ.VECTOR_PENCIL||t===l.NLJ.ERASER||t===l.NLJ.HIGHLIGHTER){var n;return n="figjam",(0,w.uE)("Pointer Input",v.D.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case l.NLJ.VECTOR_PENCIL:return"VECTOR_PENCIL";case l.NLJ.ERASER:return"ERASER";case l.NLJ.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:n}),!0}return!1}(e,n)&&(t.current=!0)}function eb(e,t){t.current||(t.current=!0)}function eC({commentsDetailContainerRef:e}){let t=(0,y.p8)("topLevelMode")===l.lyf.HISTORY,n=(0,b.q5)(),i=(0,r.d4)(e=>e.user),o=(0,y.p8)("currentPage"),s=(0,r.d4)(e=>e.comments),c=(0,m.l7)(),p=(0,u.e)(),f=(0,m.ZO)(),g=(0,h.k)(),E=(0,d.xo)(),_=s.activeThread?.id||null,C=s.showOnlyParticipating,v=s.showResolved;return a.createElement(a.Fragment,null,a.createElement(er.Ay,null),n&&!t&&!c&&!p&&!f&&(i||g)&&!E&&a.createElement(k.$2,{showOnlyParticipatingComments:C,showResolvedComments:v,pageId:o,activeId:_,renderDetailContainerInPortal:!0,detailContainerPortal:e.current}),!E&&a.createElement(I.yL,null))}function ev(){l.h3O?.detach();let e=document.getElementById("fullscreen-root");e?.remove()}function ew(e,t){let{openFile:n,wasInWorkshop:a,previousCanEdit:r,previousCanView:l,wasInUnclaimedTryFile:o,previousFileKey:d}=e;if(null==n){a||(ev(),i.zl.get(S._)||(0,_.A7)((0,c.t)("404.file_no_access.title"),t));return}let u=o&&!n.isTryFile;if((null!==r&&n.canEdit!==r||null!==l&&n.canView!==l)&&!u&&n.key===d){let e=new URLSearchParams(s.Ay.location.search);e.set("perms-refresh","1"),s.Ay.replace(`${s.Ay.location.pathname}?${e.toString()}`,s.Ay.location.state),s.Ay.reload("file access changed")}}},369644:(e,t,n)=>{n.d(t,{v:()=>P});var a=n(848318),r=n(301168),l=n(186606),i=n(536384),o=n.n(i),s=n(256350),c=n(401424),d=n(14837),u=n(180294),m=n(554326),p=n(67470),f=n(999667),g=n(989232),h=n(476254),E=n(615233),_=n(410725),y=n(879263),b=n(81884),C=n(244534),v=n(795240),w=n(456028),T=n(652576),S=n(389541),k=n(730143),I=n(209595),N=n(155148),x=n(55116),A=n(17726);function L(){return(0,N.o)(),a.createElement(a.Fragment,null)}function O(e){let t=(0,I._6)(),n="fullscreen"===t.view?t.fileKey:null,i=(0,r.wA)(),o=(0,r.d4)(e=>e.fileByKey),s=(0,r.d4)(e=>e.userAnalyticsData),c=(0,r.d4)(e=>e.user),d=(0,k.q5)(),u=d?.canEdit,{orgId:m}=e,p=null!=n&&!!o[n]?.is_favorited,O=(0,_.Rs)(x.jJU,{fileKey:n||""},{enabled:!!n});a.useEffect(()=>{if("loaded"===O.status){let e=O.data.file?.developerRelatedLinks,t=e?.reduce((e,t)=>{let n=e.get(t.nodeId)??[];return n.push(t),e.set(t.nodeId,n),e},new Map);if(t)try{l.glU.setDeveloperRelatedLinks(t)}catch{}}},[O]);let R=a.useRef(!1),M=(0,f.Xr)(w.Kc),D=(0,_.Rs)(x.a8q,{fileKey:n||""},{enabled:!!n});a.useLayoutEffect(()=>{if("loaded"!==D.status)return;let e=D.data.figFileWorkshopMode;M(e?e.expiresAt:null),e&&e.expiresAt>new Date&&(R.current=!0),i(v.lX(e?{id:e.id,until:e.expiresAt,loaded:!0}:{loaded:!0}))},[D,i,M]);let P=a.useRef(null),F=a.useRef(!1),B=a.useRef(null),U=a.useRef(null),G=(0,_.Rs)(x.ehp,{fileKey:n||""},{enabled:!!n});a.useLayoutEffect(()=>{if("loaded"!==G.status||G.errors.length>0&&null===G.data.file)return;let e=G.data.file;if(null===P.current){let t=(0,E.Ay)().editing_file;null!==e&&t&&e.key===t.key&&!!t.can_edit!==e.canEdit&&((0,g.trackEvent)("open_file_inconsistent_permission",{file_key:e.key,lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit,user:h.D.getState().user?.id},{batchRequest:!0}),(0,y.Rh)("open_file.inconsistent_permissions",{lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit}))}if((0,A.X_)({openFile:e,wasInWorkshop:R.current,previousCanEdit:P.current,wasInUnclaimedTryFile:F.current,previousCanView:U.current,previousFileKey:B.current?.key||null},i),null==e)return;U.current=e.canView,P.current=e.canEdit,R.current&&e.isTryFile&&(F.current=!0);let t=h.D.getState().selectedView;"fullscreen"===t.view&&t.fileKey===e?.key&&B.current!==e&&(i(C.UC({openFile:{...e,isFavorited:p},isLiveGraphSync:!0})),B.current=e)},[G,i,p]);let K=(0,T.Be)();return a.useLayoutEffect(()=>{let e=h.D.getState().selectedView;if(!K.loaded||"fullscreen"!==e.view)return;let{plugins:t,widgets:n,orgPlugins:a,orgWidgets:r}=K,l={...t,...a},o={...n,...r};i(b.g3(l)),i(b.zI(o))},[i,m,K]),(0,S.rB)(),u&&(0,N.n)(s,c?.email)?a.createElement(L,null):a.createElement(a.Fragment,null)}var R=n(222116),M=n(957070);function D(){return(0,c.co)(),null}function P({children:e,setShouldShowDragAndDropBorder:t,onPointerDown:n=A.j6,isDragTarget:i=!1}){let c=(0,r.d4)(e=>e.modalShown),f=(0,d.T)(),g=(0,m.ut)(l.Ez5?.devHandoffState()?.focusMode,!1),h=(0,u.dq)(),E=a.useRef(!1);return a.createElement(R.d,null,a.createElement(s.Y,{isDragTarget:()=>i,onTargetDragEnter:()=>{t(!0)},onTargetDragLeave:()=>{t(!1)},onTargetDrop:()=>{t(!1)},style:{flex:"1 1 auto"}},a.createElement("div",{"aria-hidden":!!c,className:o()(M.lA,f&&g&&M.$J),onPointerDown:e=>{n(e,E)}},a.createElement(O,{orgId:h}),e,a.createElement(p.G,null),a.createElement(D,null))))}},226671:(e,t,n)=>{n.d(t,{z:()=>p});var a=n(848318),r=n(301168),l=n(142917),i=n(967428),o=n(368575),s=n(917982),c=n(355755),d=n(457858),u=n(583484),m=n(897713);function p(){let e=(0,r.wA)(),t=(0,c.aV)(),n=(0,r.d4)(e=>e.selectedView.compareChangesVersionId),p=(0,r.d4)(e=>e.selectedView.compareChangesActivityId),f=(0,s.eS)(),g=(0,r.d4)(e=>e.selectedView?.view==="fullscreen"&&e.selectedView.compareChangesNodeId||null),h=(0,s.WL)(g)??f,E=(0,l.ei)(h?.id),_=(0,i.i)(h),{versions:y,versionsQueryLoaded:b}=(0,u.DS)(h?.id),C=!b||0===y.length||!E,v=(0,d.P)(),w=(0,o.M3)(h?.id??null,"cc_version_id_url");a.useEffect(()=>{(n||p)&&!t&&b&&!v&&(_&&!C?w():(0,m.L$)(void 0,e,!1,null))},[n,p,e,t,v,C,_,w,b])}},70969:(e,t,n)=>{n.d(t,{h5:()=>E,hZ:()=>f,hs:()=>_,mb:()=>h,sv:()=>y});var a=n(660376),r=n(580494),l=n(696786),i=n(859480),o=n(730143),s=n(180294),c=n(125761),d=n(228845),u=n(975695);let m=/^Page \d+$/;var p=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(p||{});function f(){let e=(0,s.sZ)(),t=!!e?.k12_google_org,n=c.iZ()?.profile?.job_title;return t&&"student"===n}function g(){let e=(0,o.q5)(),t=(0,d.cT)(),n=(0,s.sZ)(),a=!!n?.k12_google_org,l=f();if(!e)return"fileLoading";if((0,r.k)().figjam_pages_for_education){if(l)return"k12"}else{let t=!!e.team?.studentTeamAt;if(a||t)return"k12"}return t?"readOnly":(0,u.Qy)(e)?"personalDraft":null}var h=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(h||{});function E({nonDividerPageCount:e,isDropdownOpen:t}){let n=g(),r=(0,i.nn)(),o=(0,l.GS)(),s=r&&!m.exec(r);if("fileLoading"===n)return null;if(e>1||s||t&&!o)return"viewPages";switch(n){case null:return"addPage";case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,a.xb)(n)}}function _(){return null===g()}function y(){return null===g()}},841825:(e,t,n)=>{n.d(t,{m:()=>y});var a=n(848318),r=n(301168),l=n(580494),i=n(536384),o=n.n(i),s=n(989232),c=n(781239),d=n(14564),u=n(967688),m=n(330362),p=n(459403),f=n(511067),g=n(183143),h=n(446695),E=n(195159),_=n(282497);function y(e){let t=(0,r.wA)(),n=(0,f.Um)(),i=n?.type===h.eg,y=(0,r.d4)(e=>e.isRenaming),b=(0,m.k)(),C=(0,d.WN)(),v=(0,a.useCallback)(()=>!b||(C("LEFT_PANEL_FILE_NAME_CHEVRON"),!1),[b,C]);return y?null:a.createElement("div",null,a.createElement("div",{className:o()("file_menu--chevronContainer--rxTVi",{"file_menu--selected--URB0u":i||e.isDropdownVisibleWithDelay,"file_menu--enableSecondaryHover--h5duI":!(i||e.isDropdownVisibleWithDelay)}),onMouseEnter:()=>{e.setFileMenuIsHovered?.(!0)},onMouseLeave:()=>{e.setFileMenuIsHovered?.(!1)}},a.createElement(g.c,{ariaLabel:(0,u.t)("fullscreen.filename_view.edit_file_menu"),canOpenDropdown:v,className:"file_menu--chevron--55jNJ",dataOnboardingKey:h.O0,dataTestId:"filename-menu-chevron",dispatch:t,dropdownKey:h.eg,isUI3:!0,recordingKey:(0,l.k)().eu_fpl_migration_button_2?e.recordingKey:c.Pt(e.recordingKey,"chevron"),showingDropdown:i,tabIndex:0,toggleOnClick:!0})),(0,p.MP)()&&a.createElement(_.e,{isUI3:!0,targetKey:h.O0}),a.createElement(E.G_,{dropdownTargetRect:n?.data?.targetRect,dispatch:t,dropdownVisible:i,recordingKey:e.recordingKey,activatePathOnMount:n?.data?.activatePathOnMount,trackEvent:s.trackEvent}))}},112863:(e,t,n)=>{n.d(t,{n:()=>b});var a=n(848318),r=n(301168),l=n(804751),i=n(536384),o=n.n(i),s=n(755596),c=n(781239),d=n(981733),u=n(587745),m=n(989884),p=n(511067),f=n(162261),g=n(730143),h=n(125761),E=n(446695),_=n(975695);let y="filename_view--renaming--cVUNf";function b(e){let t=(0,h.iZ)(),n=(0,g.q5)(),i=n?.repo,b=!!(n&&i&&(0,u.Ns)(n,i)),C=!!(n&&(0,u.Kz)(n)),v=!!n&&(0,_.DF)(n,t),w=(0,r.d4)(e=>e.isRenaming),T=p.Um()?.type===E.eg,S=(0,r.d4)(e=>e.mergingStatus),k=(0,r.d4)(e=>e.openFileMerge),I=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),N=(0,r.d4)(e=>e.modalShown),x=(0,r.wA)(),A=(0,m.H)({useCurrentPlan:!0}),L=n?.project?.activeProjectResourceConnections?.[0];return a.createElement("div",{className:o()("filename_view--filenameView--b0c-Y",{[y]:w})},C&&a.createElement("span",{"data-testid":"branch-icon",className:"filename_view--branchIcon--0Svod"},a.createElement(l.L,null)),a.createElement("span",{className:o()("filename_view--filenameText--YXXQf",{[y]:w,"filename_view--dropdownOpen--UgkTl":T||e.isDropdownVisibleWithDelay,"filename_view--enableSecondaryHover--W9whf":!w,"filename_view--shouldShowFileMenu--LeXqA":!e.shouldShowFileMenu}),onMouseEnter:()=>{e.setFileNameIsHovered?.(!0)},onMouseLeave:()=>{e.setFileNameIsHovered?.(!1)}},b&&i?a.createElement(E.IS,{dispatch:x,user:t,repo:i,canRename:v,isRenaming:w,dataTestId:"repo_name_data_test_id"}):a.createElement(E.o3,{recordingKey:c.Pt(e.recordingKey,"fileName")})),e.shouldShowConnectedBadge&&A&&L&&a.createElement(d.W,{hostPlanName:L.hostPlanName,connectedPlanName:L.connectedPlanName}),n?.fileRepoId&&t?.id&&a.createElement(a.Fragment,null,a.createElement(s.aY,{openFile:n,modalShown:N,topLevelMode:I,dispatch:x}),a.createElement(f.jQ,{repoId:n.fileRepoId,openFileKey:n.key,currentUserId:t.id,appMergingStatus:S,openFileMerge:k})))}},704371:(e,t,n)=>{n.d(t,{x$:()=>N,t7:()=>A,Fp:()=>k,SZ:()=>I,l9:()=>x});var a=n(848318),r=n(536384),l=n.n(r),i=n(135450),o=n(511067),s=n(125761),c=n(150340),d=n(489596),u=n(446695),m=n(841825),p=n(112863),f=n(301168),g=n(773511),h=n(967688),E=n(978036),_=n(587745),y=n(730143),b=n(991675),C=n(801860),v=n(573534);function w(){let e=(0,y.q5)(),t=e?.repo,n=!!(t&&(0,_.Ns)(e,t)),r=!!(e&&(0,_.Kz)(e)),l=(0,f.wA)();return r&&t?a.createElement(v.o,{repo:t,dispatch:l,trackingContextName:b.e0.EDITOR_TOOLBAR_ACTION}):n&&e.fileRepoId?a.createElement(T,null):null}function T(){let e=(0,f.wA)(),t=a.useContext(C.X);return null===t||t<1?null:a.createElement(g.E,{className:"repo_info--button--3ej13",onClick:()=>e(E.o5({trackingContextName:b.e0.EDITOR_TOOLBAR_ACTION}))},(0,h.tx)("fullscreen.filename_view.branch-count",{BRANCHES:t}))}let S="left_panel_header_components--row--5uMsb",k="leftPanelHeader";function I({shouldUseBottomBorder:e,children:t,withSmallPaddingRight:n}){return a.createElement("div",{className:l()("left_panel_header_components--container--i23pm",{"left_panel_header_components--withBottomBorder--OQzj-":e,"left_panel_header_components--withSmallPaddingRight--BOLxn":n})},t)}function N({shouldShowFileMenu:e=!0,recordingKey:t}){let[n,r]=a.useState(!1),l=o.Um()?.type===u.eg,[s,d]=a.useState(l);a.useEffect(()=>{if(l)d(!0);else{let e=requestAnimationFrame(()=>{d(!1)});return()=>cancelAnimationFrame(e)}},[l]);let f=(0,i.b)(),g=a.createElement("div",{className:S,"data-file-header-hover":n,style:f?{overflow:"hidden"}:void 0},a.createElement(p.n,{setFileNameIsHovered:r,isDropdownVisibleWithDelay:s,recordingKey:t,shouldShowFileMenu:e}),e&&a.createElement(m.m,{setFileMenuIsHovered:r,isDropdownVisibleWithDelay:s,recordingKey:t}));return a.createElement(c.x,null,g)}function x(){return a.createElement("div",{className:l()(S,"left_panel_header_components--withBottomMargin--qvGQT")},a.createElement(w,null))}function A({openFile:e}){let t=(0,s.iZ)();return a.createElement("div",{className:S},a.createElement(u.ur,{openFile:e,user:t}),a.createElement(d.s,{openFile:e}))}},798581:(e,t,n)=>{n.d(t,{En:()=>d,J:()=>s,Ty:()=>c});var a=n(848318),r=n(713196),l=n(135450),i=n(297638);n(353806);var o=n(17753);function s(){return!1}function c(){return{shouldShow:!1,label:"This is a local C++ build so it may be out of date.\n\nRun this inside fullscreen/ to use the latest build from CI:\n\n./fs unlink",icon:r.Z}}function d(){let e=(0,l.b)(),{shouldShow:t,label:n,icon:r}=c();return t?a.createElement("span",{className:i.s.h32.w32.inlineFlex.itemsCenter.justifyCenter.$,"data-tooltip-type":o.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-right":e},a.createElement(r)):null}},86140:(e,t,n)=>{n.d(t,{J:()=>g,K:()=>f});var a=n(848318),r=n(301168),l=n(40594),i=n(186606),o=n(996202),s=n(223931),c=n(967688),d=n(31898),u=n(554326),m=n(17753),p=n(489749);function f(){let e=(0,r.d4)(e=>e.modalShown),t=e?.type===p.CM.type,n=(0,u.ut)(i.Ez5?.uiState().showMissingFontsButton,!1),a=(0,o.U)(),s=(0,r.wA)();return{expanded:t,icon:l.z,label:(0,c.t)("fullscreen.toolbar.missing_fonts"),onClick:()=>{t?s((0,d.AS)()):(a("missing_fonts_button_clicked"),i.glU.findMissingFontsAndShowPopover())},shouldShow:n}}function g(){let{label:e,onClick:t,shouldShow:n}=f();return n?a.createElement(s.J,{onClick:t,recordingKey:"toolbarView.missingFontsButton","aria-label":(0,c.t)("fullscreen.toolbar.missing_fonts"),htmlAttributes:{"data-tooltip":e,"data-tooltip-type":m.Ib.TEXT}},a.createElement(l.z,null)):null}},475335:(e,t,n)=>{n.d(t,{E:()=>r});var a=n(848318);function r(e,t){let[n,r]=(0,a.useState)(null);return(0,a.useLayoutEffect)(()=>{if(!e||!e.current||!t)return;r(e.current.getBoundingClientRect().width);let n=new ResizeObserver(e=>{e.forEach(e=>{let t=e.borderBoxSize?.[0];r(t?t.inlineSize:e.contentRect.width)})});return n.observe(e.current),()=>n.disconnect()},[e,t]),n}},63340:(e,t,n)=>{n.d(t,{Q:()=>d});var a=n(848318),r=n(536384),l=n.n(r),i=n(959750),o=n(831271),s=n(554326),c=n(228845);let d=a.forwardRef(({shouldAnimate:e=!0,ignoreRulers:t,leftOffset:n=0,floatingWhenExpanded:r,children:d},u)=>{let m=(0,s.J2)((0,i.UK)().renderRulers),p=(0,c.Ye)(),f=(0,o.T)();return a.createElement("div",{ref:u,className:l()("left_panel_positioner--leftPanelPositioner--8Yehe",{"left_panel_positioner--withShowingRulers--xB1lD":m&&!t,"left_panel_positioner--withAnimation--pFRuR":e&&!f,"left_panel_positioner--withInsetEditorEnabled--GYcUX":!p&&!r}),style:n?{left:n}:void 0},d)})},188775:(e,t,n)=>{n.d(t,{Nz:()=>ee,Qe:()=>en,X5:()=>er,hH:()=>G});var a=n(848318),r=n(301168),l=n(660376),i=n(186606),o=n(999667),s=n(536384),c=n.n(s),d=n(740705),u=n(978877),m=n(989232),p=n(315933),f=n(865114),g=n(656329),h=n(116848),E=n(753269),_=n(61503),y=n(140357),b=n(967688),C=n(696786),v=n(70217),w=n(601167),T=n(355755),S=n(730143),k=n(493228),I=n(334074),N=n(209595),x=n(688577),A=n(861673),L=n(592374),O=n(11594),R=n(231563),M=n(566287),D=n(268170),P=n(514045),F=n(944616),B=n(495607),U=n(784372);let G=5;var K=(e=>(e[e.Default=0]="Default",e[e.Mobile=1]="Mobile",e[e.Prototype=2]="Prototype",e[e.Slide=3]="Slide",e))(K||{});let V=(e,t)=>{let n=(0,w.ni)(),r=(0,_.Av)(),i=(0,x._)(),o=(0,T.p8)("showUi"),s=(0,N._6)(),c="prototype"===s.view&&"slides"===s.file.editor_type,d=function({isUI3:e,prototypeHeaderHidden:t,showUi:n,style:a,toolbarHeight:r,editorBannerHeight:i}){let o=0;if(e)o=g.Ay.isIpadNative||(0,g.FP)()&&n?(0,M.VA)():0;else switch(a){case 3:case 0:case 1:o=n||g.Ay.isIpadNative?r:0;break;case 2:o=t?0:r;break;default:(0,l.xb)(a)}return 0!==i&&(o+=i),o}({isUI3:(0,C.GS)()&&!c,prototypeHeaderHidden:t,showUi:o,style:e,toolbarHeight:r,editorBannerHeight:i});return a.useMemo(()=>({left:n.x,top:d,width:n.width}),[n,d])};function H(e){let t;let n=(0,w.ni)(),r=(0,x._)(),l=(0,C.GS)(),i=(0,T.p8)("showUi"),o=0;l?(g.Ay.isIpad||(0,g.FP)())&&(o=(0,M.VA)()):g.Ay.isIpadNative&&(o=i?0:(0,M.VA)());let s=n.y+r+o;switch(e){case 1:t=4;break;case 2:t=s;break;case 3:t=0;break;case 0:t=2*G}return a.useMemo(()=>({left:n.x,top:s,width:n.width-(0===e?2*G:0),height:n.height-r-t-o}),[n,e,s,t,r,o])}let z=(e,t)=>{let n;let r=H(t),l=0;switch(t){case 0:n={borderWidth:G},l=G;break;case 1:if((0,g.FP)()){n={};break}n={borderTopWidth:4},l=4;break;case 3:n={borderWidth:G,borderRadius:"0.8rem",boxSizing:"border-box"},l=G;break;case 2:n={}}return a.useMemo(()=>({style:{...r,...n,"--multiplayerBorderColor":e,borderStyle:"solid","--multiplayerBorderWidth":`${l}px`},borderInfo:{width:l,color:e}}),[e,r,n,l])};function W(e){let{children:t,prototypeHeaderHidden:n}=e,r=(0,N.z3)(),l=0;"prototype"===r?l=2:g.Xb&&(l=1);let i=V(l,n||!1),o=2===l?U.Y$:void 0,s=2===l&&n?U.Fd:void 0;return a.createElement("div",{className:c()(U.GE,o,s),style:i,"data-testid":"multiplayer-bell-container"},t)}function j(){let{style:e,borderInfo:t}=a.useContext(F.h);return e={...e,borderColor:t.color},a.createElement("div",{"data-testid":"viewport-frame",className:c()(U.KM),style:e})}function Y(){let{style:e,borderInfo:t}=a.useContext(F.h);return e={...e,color:"brand"===t.color?"var(--color-bg-brand)":t.color,"--borderColorTransitionDurationSeconds":`${B.Bn}s`},a.createElement("div",{className:U.KM,style:e})}function J(e){let{children:t,colorOverride:n,overlayStatus:r}=e,l=(0,k.$0)(),i=(0,k.dR)(),o=(0,k.Ww)(),s=(0,N._6)(),c=0;"prototype"===s.view?c=s.isPresenterView?3:2:g.Xb&&(c=1);let d=z((()=>{if(n)return n;if(!r)return i&&o?.sessionID===i?.sessionID?o?.color??"transparent":l?.color??"transparent";{let{self:e,others:t}=r;return"none"!==e?"brand":"following"===t&&"none"===e?l?.color??"transparent":"transparent"}})(),c);return a.createElement(F.h.Provider,{value:d},t)}var q=(e=>(e.PRESENTING="presenting",e.PROMPT_TO_ACCEPT_NOMINATION="prompt_to_accept_nomination",e.SHOWING_EXPLAINER="showing_explainer",e.NONE="none",e))(q||{}),X=(e=>(e.PENDING_AUTO_FOLLOW="pending_auto_follow",e.FOLLOWING="following",e.PROMPT_TO_REJOIN="prompt_to_rejoin",e.NONE="none",e))(X||{});function Z(){return"prototype"!==(0,N.z3)()&&!(0,g.FP)()}function Q(e,t,n,r){let l=(0,f.ZC)(e),i=(0,f.ZC)(t),o=a.useRef(performance.now());return a.useEffect(()=>{if("presenting"===e){let e=p.sn.tryStop("start_spotlight");e&&(0,m.trackEvent)("start_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("pending_auto_follow"===t){let e=p.sn.tryStop("join_spotlight");e&&(0,m.trackEvent)("join_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("following"===t){let e=p.sn.tryStop("start_following");e&&(0,m.trackEvent)("start_following",{elapsedMs:e},{forwardToDatadog:!0})}},[e,t,n,r]),(e!==l||t!==i)&&(o.current=performance.now()),{statusChangedAt:o.current}}function $(e){let{multiplayer:t,prototypeHeaderHidden:n}=e,r=(0,k.Ww)(),s=(0,k.dR)(),c=(0,k.$0)(),m=(0,k.y)(),p=(0,S.q5)(),f=(0,I.T)(),_=(0,h.y7)(),C=(0,h.oJ)(),w=(0,h.$)(),[T,x]=a.useState(!1);a.useEffect(()=>{x(!1)},[s?.sessionID]),a.useEffect(()=>{c?.sessionID===s?.sessionID&&x(!1)},[c?.sessionID,s?.sessionID]);let{isAutoFollowPending:A,cancelAutoFollowCallback:L,completeAutoFollowCallback:O,observeCurrentPresenter:R,autoFollowType:M,autoFollowDelayMs:F}=(0,k.oW)(e),{isWaitingForFirstFollower:U,stopPresenting:G}=function(e){let[t,n]=a.useState(!1),r=e.followerCount,[l,s]=(0,o.fp)(E.Dv);0===r||t||n(!0);let c=(0,h.jA)(e)||l;(0,h.jA)(e)&&l&&s(!1),!c&&t&&n(!1);let d=c&&0===r&&!t,u=(0,I.T)(),m=(0,N.z3)(),p=a.useCallback(()=>{u(I.N.STOP),"prototype"===m?y.hk()?.stopPresenting():i.h3O.stopPresenting()},[u,m]),f=a.useCallback(()=>!!d&&(p(),!0),[p,d]);return(0,v.O1)(f,v.KD.MULTIPLAYER_SPOTLIGHT),{isWaitingForFirstFollower:d,stopPresenting:p}}(t),K=function(e){let{multiplayer:t,showingExplainer:n,isPendingPresenting:a}=e;return(0,h.jA)(t)||a?"presenting":n?"showing_explainer":(0,h.NB)(t)?"prompt_to_accept_nomination":"none"}({multiplayer:t,showingExplainer:(0,o.md)(E.ah),isPendingPresenting:(0,o.md)(E.Dv)}),V=function(e){let{multiplayer:t,isAutoFollowPending:n,presenterUser:a,suppressRejoinPrompt:r}=e;return n?"pending_auto_follow":(0,h.L3)(t)?"following":a&&!r?"prompt_to_rejoin":"none"}({multiplayer:t,isAutoFollowPending:A,presenterUser:s,suppressRejoinPrompt:T}),H=a.useRef(t.allUsers.length);H.current=t.allUsers.length;let{statusChangedAt:z}=Q(K,V,p,H),[j,q]=function(e,t){switch(e){case"presenting":if("following"===t||"prompt_to_rejoin"===t)return[e,"none"];return[e,t];case"prompt_to_accept_nomination":if("pending_auto_follow"===t)return["none",t];return[e,"none"];case"showing_explainer":case"none":return[e,t];default:(0,l.xb)(e)}}(K,V),X=a.useCallback(()=>{x(!0),L(),f(I.N.IGNORE)},[L,f]),$=M===k.D_.INITIAL,ee=a.useCallback(()=>"pending_auto_follow"===q&&!!A&&M===k.D_.INITIAL&&(L(),!0),[M,L,A,q]);(0,v.O1)(ee,v.KD.MULTIPLAYER_SPOTLIGHT);let et=Z(),en="showing_explainer"===j,ea="none"!==j,er="none"!==q,el=["presenting","prompt_to_accept_nomination","showing_explainer"].includes(j)||["following"].includes(q),[ei,eo]=(0,o.fp)(E.uc);return el!==ei&&eo(el),a.createElement(J,{overlayStatus:{self:j,others:q}},a.createElement(d.N,null,el&&a.createElement(u.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:B.Bn}},a.createElement(Y,null))),a.createElement(d.N,null,ea&&a.createElement(u.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:B.Bn}},a.createElement(W,{prototypeHeaderHidden:n},(()=>{switch(j){case"presenting":if(null===r)return null;if(U){let e=(0,b.tx)("collaboration.spotlight.bell.presenter.waiting_for_followers"),t=(0,b.t)("collaboration.spotlight.bell.presenter.cancel");return a.createElement(P.Y,{color:"brand",message:{text:e},renderKey:`${r.sessionID}`,progressBar:!0,progressBarDurationMs:k.S$,autoHide:!1,button:{text:t,onClick:G}})}return a.createElement(P.Y,{color:"brand",message:{text:a.createElement(D.s,{count:t.followerCount})},renderKey:`${r.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,b.t)("collaboration.spotlight.bell.presenter.stop"),onClick:G},docked:et});case"prompt_to_accept_nomination":if(!r||!m)return null;return a.createElement(P.Y,{autoHide:!1,button:{text:(0,b.t)("collaboration.spotlight.tooltip.spotlight_me"),onClick:()=>{_(t)}},color:"brand",message:{text:(0,b.tx)("collaboration.spotlight.bell.follower.nominated",{nominatorName:m.name})},onCloseCallback:()=>{C(r.sessionID,t)},progressBar:!1,progressBarDurationMs:0,renderKey:`${r.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"showing_explainer":if(null===r)return null;let e=s?(0,b.tx)("collaboration.spotlight.bell.explainer.takeover",{currentPresenter:s?.name}):(0,b.tx)("collaboration.spotlight.bell.explainer");return a.createElement(P.Y,{color:"brand",useSecondaryColor:!0,message:{text:e},renderKey:`${t.sessionID}`,autoHide:!1,progressBar:!1,progressBarDurationMs:0,button:null,docked:!1});case"none":return null;default:(0,l.xb)(j)}})()))),a.createElement(d.N,null,er&&a.createElement(u.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:B.Bn}},a.createElement(W,{prototypeHeaderHidden:n},(()=>{switch(q){case"pending_auto_follow":{if(!s)return null;let e=s.name,t=$?{text:(0,b.tx)("collaboration.spotlight.bell.follower.spotlighting_presenter_alternate_copy",{presenterName:e}),onClick:O}:{text:(0,b.tx)("collaboration.spotlight.bell.follower.switching_to_new_presenter",{presenterName:e})},n=$?{text:(0,b.t)("collaboration.spotlight.bell.follower.not_now"),onClick:X}:null;return a.createElement(P.Y,{color:s?.color,message:t,renderKey:`${s.sessionID}`,progressBar:$,progressBarDurationMs:F||0,autoHide:!1,button:n,ghost:en})}case"following":{let e=t.observingSessionID===t.presenterSessionID;if(null===c)return null;let n=c?.name||"",r=e?(0,b.tx)("collaboration.spotlight.bell.follower.spotlight_on_presenter",{observedUserName:n}):(0,b.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:n}),l={text:e?(0,b.t)("collaboration.spotlight.bell.stop_following"):(0,b.t)("collaboration.spotlight.bell.stop"),onClick:()=>w(t)};return a.createElement(P.Y,{color:c?.color,message:{text:r},renderKey:`${t.observingSessionID}`,autoHide:!g.Xb,progressBar:!1,progressBarDurationMs:0,button:l,docked:et,ghost:en})}case"prompt_to_rejoin":let e=()=>(0,h.KI)(R,t,"Spotlight Rejoined",z);if(null!==c||null===s)return null;let n=(0,b.tx)("collaboration.spotlight.bell.follower.reprompt_spotlight_on_presenter",{presenterUserName:s.name}),r=(0,b.t)("collaboration.spotlight.bell.follower.follow");return a.createElement(P.Y,{autoHide:!1,button:{text:r,onClick:e},color:s?.color,ghost:en,message:{text:n,onClick:e},onCloseCallback:()=>(0,h.KI)(()=>x(!0),t,"Spotlight Rejoin Dismissed",z),progressBar:!1,progressBarDurationMs:0,renderKey:`${s.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"none":return null;default:(0,l.xb)(q)}})()))))}function ee(e){let{prototypeHeaderHidden:t}=e,n=(0,r.d4)(({multiplayer:e})=>e),l=(0,k.HG)(),i=(0,k.By)(),o=-1!==n.observingSessionID;return((0,k.VA)({multiplayer:n}),(0,k.Pi)({multiplayer:n}),i)?null:l?a.createElement($,{multiplayer:n,prototypeHeaderHidden:t}):o?a.createElement(et,{prototypeHeaderHidden:t}):null}function et(e){let{prototypeHeaderHidden:t}=e,n=(0,k.$0)(),l=(0,S.q5)(),i=(0,r.d4)(e=>e.multiplayer.allUsers.length),o=a.useRef(i);o.current=i,Q("none","following",l,o);let s=`${n?.sessionID}`,c=a.useMemo(()=>{let e=n?.name||"";return{text:(0,b.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:e})}},[n]),d=Z();return null===n?null:a.createElement(J,null,a.createElement(j,null),a.createElement(W,{prototypeHeaderHidden:t},a.createElement(P.Y,{color:n?.color,message:c,renderKey:s,autoHide:!g.Xb,progressBar:!1,progressBarDurationMs:0,button:null,docked:d})))}function en(){let e=(0,o.md)(A.a8)===L.h0.PLAYING,t=(0,o.md)(A.$i);if(!e)return null;switch(t){case L.JJ.CANVAS:return a.createElement(J,{colorOverride:O.rK},a.createElement(j,null));case L.JJ.PROPERTIES_PANEL:return a.createElement(ea,null);default:return null}}function ea(){let e=H(0),t=R.iP-2*G;return a.createElement("div",{"data-testid":"cursor-bot-properties-panel-frame",className:U.KM,style:{border:`${G}px solid ${O.rK}`,width:`${t}px`,height:e.height,top:e.top,right:0}})}function er(){return a.createElement(J,{colorOverride:"var(--color-border-brand-strong)"},a.createElement(j,null))}},612803:(e,t,n)=>{n.d(t,{a:()=>eo,S:()=>ei});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(565294),s=n(533737),c=n(34542),d=n(67308),u=n(730143),m=n(752181),p=n(318147),f=n(526594),g=n(434289),h=n(263336),E=n(188775),_=n(780508),y=n(329362),b=n(546021),C=n(136169),v=n(861673),w=n(592374),T=n(309109),S=n(314979),k=n(34375),I=n(125761),N=n(11594);let x=[w.wn.CREATE_FRAME,w.wn.FORMAT_FRAME,w.wn.CREATE_TEXT,w.wn.FORMAT_TEXT];var A=n(92018),L=n(925040),O=n(615233),R=n(967688),M=n(179932),D=n(865037),P=n(762826);function F(e,t){let n=w.wn.CREATE_FRAME,{tutorialPlayedUserFlag:r,stepCompletedUserFlag:i}=(0,N.Of)(n,t);return{name:n,tutorialPlayedUserFlag:r,stepCompletedUserFlag:i,duration:t?8900:5200,startingState:t?{centerNodeMatcher:D.C7,resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.product_page_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:void 0,steps:function(e,t){let n=[{type:w.HQ.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:600},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.FRAME}];return t?n.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:D.b7,height:D.mg},nodeName:D.Ur,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.C7,offsetX:523,offsetY:285},nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1500},{type:w.HQ.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:w.HQ.INSERT_NODE,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:(0,O.ck)("eccc694a7069c9cafd11d1b91b27e0a5c5e7a394"),width:D.b7,height:D.g1},nodeName:"Image",nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:w.$2.BOTTOM_RIGHT},{type:w.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,D.xK)(e,1),nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME}):n.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:w.bn.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:w.Le.NO_BASICS_FILE_FRAME,additionalDelay:1500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1500}),n.push({type:w.HQ.CLEAR_CHAT}),n}(0,t),TooltipElement:t=>{let{primaryCtaProps:n,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,M.W)({isReplay:e,props:t});return a.createElement(P.e,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:n,secondaryCtaProps:r,onClose:t.onClickClose,bodyText:(0,R.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}}var B=n(195124),U=n(297638),G=n(957872),K=n(863270),V=n(675172);function H(e){let t=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return a.useEffect(()=>{t&&l.glU.triggerAction("set-tool-type",null)},[t]),a.createElement(V.b,{disableHighlight:!0,dismissModal:e.onClose,lowerLeftText:a.createElement(K.$z,{onClick:e.onBackCtaClick,className:U.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:G.c.BACK}},(0,R.tx)("general.back")),onPrimaryCtaClick:e.onPrimaryCtaClick,onSecondaryCtaClick:e.onSecondaryCtaClick,pointsTo:"toolbar",primaryCtaProps:e.primaryCtaProps,secondaryCtaProps:e.secondaryCtaProps,targetKey:"tool-type-onboarding",title:(0,R.tx)("cursor_bot.add_words_where_needed"),trackingContextName:"Cursor Bot Create Text Step"},(0,R.tx)("cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that"))}function z(e,t,n){let r=w.wn.CREATE_TEXT,{tutorialPlayedUserFlag:i,stepCompletedUserFlag:o}=(0,N.Of)(r,t);return{name:r,tutorialPlayedUserFlag:i,stepCompletedUserFlag:o,duration:t?11400:6600,startingState:t?{centerNodeMatcher:e=>(0,D.xK)(e,D.$5),resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.ginger_no_text_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:{centerNodeMatcher:D.ok},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let n=[];return t?n.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500}):n.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,B.cy)(D.ok,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."}),n.push({type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:1200}),t?n.push({type:w.HQ.INSERT_NODE,nodeName:D.qw,payload:{nodeType:"TEXT",text:D.qw,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,1),offsetX:24,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:D.A8,payload:{nodeType:"TEXT",text:D.A8,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,2),offsetX:316,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:D.$j,payload:{nodeType:"TEXT",text:D.$j,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,3),offsetX:24,offsetY:368},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):n.push({type:w.HQ.INSERT_NODE,nodeName:D.N1,payload:{nodeType:"TEXT",text:D.N1,width:29,height:16,shouldCenterAlign:!0,typingDurationPerCharMs:200},cursorPosition:w.$2.BOTTOM_LEFT,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.ok,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:w.Le.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1500}),n}({shouldSkipYup:e||!n,isInBasicsFile:t}),TooltipElement:t=>{let{primaryCtaProps:n,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,M.W)({isReplay:e,props:t});return a.createElement(H,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:n,secondaryCtaProps:r,onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}}var W=n(292190),j=n(326268);let Y=(0,L.Mz)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,n)=>({...t,[n.name]:!!e[n.stepCompletedUserFlag]}),{}));var J=(e=>(e.PanAndZoom="pan_and_zoom",e.YoureAllSet="youre_all_set",e))(J||{}),q=n(536384),X=n.n(q),Z=n(989232),Q=n(264478),$=n(601167),ee=n(17753),et=n(107855),en=n(234505);let ea=a.memo(({currentTutorial:e,stateManager:t})=>{let n;let r=(0,i.md)(v.a8),l=(0,i.md)(v.jE),o=a.useCallback(()=>{let e=d.current;return e?Math.min(Math.round(e/l*100),100):0},[l]);a.useEffect(()=>{let n=n=>{n&&27===n.keyCode&&(0,N.XC)(r)&&((0,Z.trackEvent)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.ESC_KEY}))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[r,t,o,e.name]);let[s,c]=(0,i.fp)(v.mH),d=a.useRef(0),u=a.useRef();if(a.useEffect(()=>{if(!(0,N.XC)(r)){d.current=0,clearInterval(u.current),u.current=void 0;return}let e=setInterval(()=>d.current+=17,17);return u.current=e,()=>clearInterval(e)},[r]),(0,N.XC)(r)){let e=l-d.current;n={animation:`50% center ${e}ms linear`}}let m=(0,$.ni)(),p=a.useMemo(()=>({top:m.y+E.hH+4}),[m.y]);return a.createElement("div",{className:en.CL,style:p},a.createElement("div",{className:X()({[et.e]:s}),onAnimationEnd:()=>{c(!1)}},a.createElement("div",{className:en.KB,style:n},a.createElement(Q.Kz,{multiple:1,direction:"x"}),a.createElement("div",null,e.name),a.createElement(Q.Kz,{multiple:1,direction:"x"}),a.createElement(K.$z,{className:en.gd,onClick:()=>{t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.STOP_BTN})},"data-tooltip-type":ee.Ib.TEXT,"data-tooltip":(0,R.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:G.c.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,R.t)("cursor_bot.stop_tutorial")},(0,R.tx)("collaboration.spotlight.bell.presenter.stop")))))}),er="create_frame_animation--frameCornerSquare--TEcO4";function el(){let e=(0,$._X)({subscribeToUpdates_expensive:!1}),t=(0,i.md)(v.Dh);if(null==t)return null;let{x:n,y:r,width:l,height:o,duration:s}=t,c=(0,$.Yb)(e,{x:n,y:r,width:l,height:o}),d=e.x+c.x,u=e.y+c.y;return a.createElement("div",{style:{top:u,left:d,width:`${c.width}px`,height:`${c.height}px`,position:"absolute"}},a.createElement("div",{style:{border:"1px solid #4497F7",animationDuration:`${s}ms`},className:"create_frame_animation--animationFrame--4fuzR"},a.createElement("div",{style:{top:-3,left:-3,background:"#ffffff"},className:er}),a.createElement("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:X()(er)}),a.createElement("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:er}),a.createElement("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:er})))}function ei(){let{isShowing:e,show:t,complete:n,uniqueId:E}=(0,c.e)({overlay:C.SyB,priority:h.N.OVERRIDING_MODAL}),L=(0,r.wA)(),O=(0,r.Pj)(),R=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),M=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===l.kul.JOINED),D=(0,A.b)(),P=(0,i.md)(v.a8),B=(0,m.f)("has_cursor_bot_onboarding_v2");!function(e,t,n){let a=(0,I.iZ)(),l=(0,r.wA)(),i=(0,m.f)("has_cursor_bot_onboarding_v2"),o=(0,u.Cq)({useSinatraType:!0}),c=(0,f.WO)(a?.id,o,["exp_cursor_bot_onboarding"]),d=e=>{let a={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let n of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.has_zoomed_in_design_file=!1,t.has_panned_in_design_file=!1,t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),x)){let{tutorialPlayedUserFlag:a,stepCompletedUserFlag:r}=(0,N.Of)(n,e);t[a]=!1,t[r]=!1}return t}(c),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(a.has_cursor_bot_onboarding_v2=!0),l(s.b(a)),t||n()};(0,k.E)(e,T.Wl,()=>{o?.editor_type===p._Y.DESIGN?d(!0):l(S.s.error("Cursor Bot can only be run in Figma design."))}),(0,k.E)(e,"Reset Onboarding",()=>{i&&o?.editor_type===p._Y.DESIGN&&d()})}(E,e,t);let[U,G]=a.useState(b.en.FORWARD),K=function(){let e=(0,m.f)("has_cursor_bot_onboarding_v2"),t=(0,m.f)("cursor_bot_v2__basics_file__started_flow"),n=(0,f.Ai)(["exp_cursor_bot_onboarding"]),l=(0,f.jm)(n),i=function(e){let t=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),n=!!(0,m.f)((0,N.Of)(w.wn.CREATE_FRAME,e).tutorialPlayedUserFlag),r=!!(0,m.f)((0,N.Of)(w.wn.FORMAT_FRAME,e).tutorialPlayedUserFlag),l=!!(0,m.f)((0,N.Of)(w.wn.CREATE_TEXT,e).tutorialPlayedUserFlag),i=!!(0,m.f)((0,N.Of)(w.wn.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,a.useMemo)(()=>e?[F(n,e),z(l,e,t),(0,j.Z)(i,e),(0,W.p)(r,e)]:[F(n,e),(0,W.p)(r,e),z(l,e,t),(0,j.Z)(i,e)],[e,t,n,l,i,r])}(n),o=(0,r.d4)(e=>Y(e,i));if(!e||l||!n&&t)return null;let s=0;if(i.forEach(e=>{o[e.name]&&(s+=1)}),s>=i.length)return n?"youre_all_set":"pan_and_zoom";let c={...i[s]};return s>0&&(c.previousTutorialCompleteUserFlag=i[s-1].stepCompletedUserFlag),c}(),V=(0,f.Ai)(["exp_cursor_bot_onboarding"]),H=(0,f.Y3)(),q=(0,f.jm)(V),X=H||q,Z=u.q5()?.canEdit;a.useEffect(()=>{!X&&!e&&B&&K&&R&&M&&Z&&t()},[X,e,t,B,K,R,M,Z]),a.useEffect(()=>{e&&(q||!K)&&n()},[e,n,q,K]);let Q=(0,m.f)("cursor_bot_v2__basics_file__started_flow");if(a.useEffect(()=>{e&&V&&!Q&&L(s.b({cursor_bot_v2__basics_file__started_flow:!0}))},[L,V,e,Q]),!e||!K)return null;let $=()=>{V?L(s.b({cursor_bot_v2__basics_onboarded:!0})):L(s.b({cursor_bot_v2__no_basics_onboarded:!0})),n()};if(K===J.YoureAllSet)return a.createElement(_.J,{onPrimaryCtaClick:()=>{let e=(0,d.xA)({state:O.getState(),openNewFileIn:g.ai.NEW_TAB,folderOverride:"drafts",trackingInfo:{from:g.f6.CURSOR_BOT_END_MODAL,selectedView:O.getState().selectedView},editorType:p._Y.DESIGN});L(o.uM(e)),$()},onSecondaryCtaClick:$,onClose:$});if(K===J.PanAndZoom)return a.createElement(y.iF,{markComplete:$});if(P===w.h0.PLAYING)return a.createElement(eo,{cursorBotStateManager:D,currentTutorial:K});let ee=()=>{K.previousTutorialCompleteUserFlag&&(G(b.en.BACKWARD),L(s.b({[K.previousTutorialCompleteUserFlag]:!1})))},et=()=>{G(b.en.FORWARD),L(s.b({[K.stepCompletedUserFlag]:!0}))};return a.createElement(K.TooltipElement,{onClickShowMe:()=>D.runTutorial(K),onClickNext:et,onClickClose:$,onClickBack:ee,skip:U===b.en.BACKWARD?ee:et})}function eo({cursorBotStateManager:e,currentTutorial:t}){return a.createElement(a.Fragment,null,a.createElement(T.Yh,null),a.createElement(ea,{currentTutorial:t,stateManager:e}),a.createElement(el,null),a.createElement(E.Qe,null))}},92018:(e,t,n)=>{n.d(t,{b:()=>D});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(566841),s=n(15105),c=n(702038),d=n(752181),u=n(554326),m=n(314774),p=n(861673),f=n(938982),g=n(320953),h=n(195124),E=n(989232),_=n(206639),y=n(810503),b=n(540698),C=n(423198),v=n(314979),w=n(514019),T=n(533737),S=n(1896),k=n(303397),I=n(601167),N=n(152545),x=n(273555),A=n(160674),L=n(592374),O=n(11594);let R=(0,b.Lg)()?0:300;class M{constructor(e,t,n,a,r,i,o,s,c,d,u,m,p,f,g,h,E,_,y,C,v){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=n,this.setCursorBotAnimationDuration=a,this.setCursorBotTutorialPhase=r,this.setCursorType=i,this.setCursorDirection=o,this.setToolbarActionWithSimulatedHover=s,this.setCursorBotAnimationLayerPosition=c,this.setCursorBotOverlayType=d,this.setCursorBotTutorialDuration=u,this.hasWaved=m,this.cursorBotX=p,this.cursorBotY=f,this.getViewportInfo=g,this.navigate=h,this.sceneGraph=E,this.infoForSentry=_,this.dispatch=y,this.insertTemplate=C,this.appModel=v,this.waitForDuration=(e,t)=>new Promise(n=>{this.setTimeoutWrapper({callback:n,delay:(0,b.Lg)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{l.Ez5.editorState().shouldBlockUserEvents.set(!0),S.wt.setIsCursorBotEditing(!0),(0,b.Lg)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(L.h0.AWAITING_PLAYBACK),l.Ez5.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null,S.wt.setIsCursorBotEditing(!1)},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let n=t.slice(0,e);this.setCursorBotChat(n),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,b.Lg)()?0:35,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let n=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t,e.name)}catch(n){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:n,tutorialName:e.name});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,C.Lk)(O.tF,f.e.UNOWNED);let a=window.performance.now();return this.currentTutorialRunningPromise=n(),this.currentTutorialRunningPromise.finally(()=>{(0,C.Dz)(O.tF);let t=window.performance.now()-a;(0,y.Lo)(O.tF,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:n,tutorialName:a}){if(!e)throw Error("Hub file ID is not provided");let r=async e=>{let r=l.qmM.findBoundsToCenterNewTopLevelNode(t+88,n),i=r.origin.x+88,o=r.origin.y;await this.centerViewportAroundCanvasRect({x:i,y:o,width:t,height:n}),await this.waitForDuration(this.moveCursorBot({x:i+t/2,y:o+n/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:L.HQ.SET_CHAT,message:"Here\u2019s another example..."},a),await this.insertTemplate({template:{type:N.n.HubFile,template:e},userTriggered:!1,editScopeType:l.zkO.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:l.hKj.CUSTOM_POSITION,templateCustomPosition:{x:i,y:o},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?r(this.startingStateHubFiles[e]):new Promise((t,n)=>{this.dispatch(w.ts({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await r(e),t()}catch(e){n(e)}}}))})}logSentryError(e,t){(0,y.x1)(O.tF,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(v.s.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial({tutorialName:t.tutorialName,stopTrigger:L.mf.STATE_MANAGER_ERROR,errorMessage:e,nodeName:t.name})}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,E.trackEvent)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:n}){this.timeoutIds.push(setTimeout(e,t)),n&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(p.Lw),this.setCursorBotY(p.WW),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(l.z7E.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(L.zu.DEFAULT),this.setCursorBotOverlayType(L.JJ.CANVAS),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){let e=this.sceneGraph.getCurrentPage()?.childrenGuids;e&&e.length>0?l.NfO.scrollAndZoomIntoView(e):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==l.glU.getFirstSelectedNodeIdForCurrentPage()){let t=l.glU.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(n&&e(n,this.sceneGraph))return n}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:n,resetStartingState:a}=e.startingState;!(0,h.cy)(n,this.sceneGraph)&&a&&(t+=3e3)}this.hasWaved||(t+=O.Y4+O.YX),this.setCursorBotTutorialDuration(t),(0,y.Lo)(O.tF,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(L.h0.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(T.b({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:O.Y4,isBlockingTutorialExecution:!1}),await this.transition({type:L.HQ.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:O.YX,preDelay:O.Y4},e.name)),void 0!==e.startingState){let t;let{centerNodeMatcher:n,prioritizeSelectedNode:a,resetStartingState:r}=e.startingState;if(a&&(t=this.getSelectedNodeIfMatches(n)),t||(t=(0,h.WY)(n,this.sceneGraph)),!t&&r)try{await this.insertStartingStateFromHubFile({...r,tutorialName:e.name}),t=(0,h.cy)(n,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,h.E6)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},n=l.NfO.getViewportBounds(),a=(0,O.dK)(t,{width:n.width,height:n.height,zoom:this.getViewportInfo().zoomScale});null==a||isNaN(a)||(e.scale=a),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(T.b({[e]:!0})),t?.(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},R)}async centerViewportAroundCanvasRect(e,t=!1){let{x:n,y:a,width:r,height:l}=e,i=this.getViewportInfo();if(t&&(0,I.UN)(e,i))return;let o=i.zoomScale;(r*o>i.width||l*o>i.height)&&(o=Math.min(i.width/r,i.height/l)/1.1),await this.navigate({centerX:n+r/2,centerY:a+l/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:n,animationDuration:a}){if("canvas"===n){let n=this.getViewportInfo(),a=(0,I.Z0)(n,{x:e,y:t});e=a.x+n.x,t=a.y+n.y}return a=a||function(e,t,n,a){let r=Math.abs(e-t),l=Math.abs(n-a);return Math.min(Math.round(1.6*Math.sqrt(r*r+l*l)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(a),this.setCursorBotX(e),this.setCursorBotY(t),a}repositionNode(e,t,n){g.l7.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:n})}async insertNode(e,t,n,a,r){let i;if("RECTANGLE"===e.nodeType){let t=await (0,O.mF)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});i=t?this.sceneGraph.get(t):null}else i=g.l7.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!i)return null;if(g.l7.onboarding("size",()=>{i&&l.Egt.setSelectedNodeAndCanvas(i.guid,!1)}),r){let e=(0,h.cy)(r,this.sceneGraph,this.tutorialParentNode);g.l7.onboarding("append-child",()=>i&&e?.appendChild(i))}if(this.repositionNode(i,n,a),g.l7.onboarding("rename-node",()=>{i&&(i.name=t)}),"FRAME"===e.nodeType)g.l7.onboarding("resize-frame",()=>i?.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){l.glU.triggerAction("set-tool-default",null),this.setCursorType(l.z7E.DEFAULT);let t=i.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;g.l7.onboarding("set-text-color",()=>{i&&(i.fills=[{...i.fills[0],color:(0,_.HD)(e||_.UE)?_.UE:_.Uv}])})}let n=e.text.length,a=e.typingDurationPerCharMs||50,r=500;for(let t=0;t<n;t++)this.setTimeoutWrapper({callback:()=>{g.l7.onboarding("set-text",()=>{i?.spliceCharacters(i.textData?.characters?.length??t,i.textData?.characters?.length??t,e.text[t],"BEFORE")})},delay:r,isBlockingTutorialExecution:!1}),r+=Math.max(a-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{g.l7.onboarding("set-text-horizontal-alignment",()=>{i&&(i.textAlignHorizontal="CENTER",i.textAlignVertical="CENTER")})},delay:r,isBlockingTutorialExecution:!1}),await this.waitForDuration(r)}return i}getCursorBotNodeInsertionLocation(e){let t;if(e.locationType===L.bn.INSIDE_SCENE_NODE){let{parentMatcher:n,useDefaultLocationIfParentNotFound:a}=e.location,r=(0,h.cy)(n,this.sceneGraph,this.tutorialParentNode);if(!r)return a?this.getCursorBotNodeInsertionLocation({...e,locationType:L.bn.DEFAULT}):void 0;let l=e.location?.offsetX??0,i=e.location?.offsetY??0,{absoluteBoundingBox:{x:o,y:s,w:c,h:d}}=r;e.location.shouldPositionRelativeToCenterOfParent&&(l+=c/2,i+=d/2),t={cursorBotX:o+l,cursorBotY:s+i,insertionX:l,insertionY:i}}else if(e.locationType===L.bn.CANVAS_COORDINATE)t={cursorBotX:e.location.x,cursorBotY:e.location.y,insertionX:e.location.x,insertionY:e.location.y};else{let n=l.qmM.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100);t={cursorBotX:n.origin.x,cursorBotY:n.origin.y,insertionX:n.origin.x,insertionY:n.origin.y}}if(void 0!==e.cursorPosition&&null==e.nodeDrawingAnimationDuration){let n=e.payload.width??100,a=e.payload.height??100;switch(e.cursorPosition){case L.$2.BOTTOM_LEFT:t.cursorBotY+=a;break;case L.$2.BOTTOM_RIGHT:t.cursorBotX+=n,t.cursorBotY+=a;case L.$2.TOP_LEFT:}}return t}async transition(e,t){if(this.shouldStop)return;let n=async()=>{switch(e.type){case L.HQ.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case L.HQ.CLEAR_CHAT:this.setCursorBotChat("");return;case L.HQ.TARGET_DOM_NODE:{let n=(0,A.xT)(e.dataOnboardingKey);if(!n){let n={name:e.dataOnboardingKey,tutorialName:t,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",n):this.logErrorAndStopTutorial("Failed to find DOM node to target",n);return}let{targetX:a,targetY:r}=(0,O.L7)(n,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:a,y:r,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case L.HQ.TARGET_SCENE_NODE:{let n=(0,h.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(n=this.getSelectedNodeIfMatches(e.meetsConditions)??n),!n){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging,tutorialName:t});return}await this.centerViewportAroundCanvasRect({x:n.absoluteBoundingBox.x,y:n.absoluteBoundingBox.y,width:n.absoluteBoundingBox.w,height:n.absoluteBoundingBox.h},!0);let a=e.position||{x:L.GF.RIGHT,y:L.NI.BOTTOM},{targetX:r,targetY:i}=(0,O.L7)(n,a,e.offset);await this.waitForDuration(this.moveCursorBot({x:r,y:i,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&l.Egt.setSelectedNodeAndCanvas(n.guid,!1);return}case L.HQ.SELECT_SCENE_NODE:{let n;if(e.prioritizeSelectedNode&&(n=this.getSelectedNodeIfMatches(e.meetsConditions)),n||(n=(0,h.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!n){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging,tutorialName:t});return}l.Egt.setSelectedNodeAndCanvas(n.guid,!1);return}case L.HQ.INSERT_NODE:{let n=this.getCursorBotNodeInsertionLocation(e);if(void 0===n){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging,tutorialName:t});return}let a=e.payload.height??100,r=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:n.cursorBotX,y:n.cursorBotY,width:r,height:a},!0),await this.waitForDuration(this.moveCursorBot({x:n.cursorBotX,y:n.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:n.cursorBotX,y:n.cursorBotY,width:r,height:a,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:n.cursorBotX+r,y:n.cursorBotY+a,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let l=n.insertionX??n.cursorBotX,i=n.insertionY??n.cursorBotY;await this.insertNode(e.payload,e.nodeName,l,i,e.locationType===L.bn.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case L.HQ.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case L.HQ.CHANGE_TOOL:[l.NLJ.FRAME,l.NLJ.TYPE].includes(e.toolType)?(e.toolType===l.NLJ.TYPE?l.glU.triggerAction("set-tool-type",null):e.toolType===l.NLJ.FRAME&&l.glU.triggerAction("set-tool-frame",null),this.setCursorType(l.z7E.CROSSHAIR)):e.toolType===l.NLJ.HAND?(l.glU.triggerAction("set-tool-hand",null),this.setCursorType(l.z7E.HAND)):e.toolType===l.NLJ.NONE&&(l.glU.triggerAction("set-tool-default",null),this.setCursorType(l.z7E.DEFAULT));return;case L.HQ.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case L.HQ.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case L.HQ.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case L.HQ.SET_PROPERTIES_PANEL_TAB:(0,c.NT)(e.tab);return;case L.HQ.UPDATE_SELECTED_NODE_PROPERTIES:{let t=l.glU.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(!n){(0,y.x1)(O.tF,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===l.m1T.TEXT&&((0,c.wr)(),l.Egt.setSelectedNodeAndCanvas(t,!1)),k.Y5.updateSelectionProperties({..."function"==typeof e.properties?e.properties(n):e.properties},{shouldCommit:x.zk.YES,editScopeType:l.zkO.ONBOARDING});return}case L.HQ.SCROLL_PROPERTIES_PANEL:(0,O.$1)(e.value);return;case L.HQ.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,y.x1)(O.tF,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case L.HQ.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await n();let a=e.additionalDelay||0;e.type===L.HQ.SET_CHAT&&(a+=35*e.message.length),a>0&&await this.waitForDuration(a,e.type===L.HQ.SET_CHAT),await e.callback?.(this.dispatch)}}function D(){let[e,t]=(0,i.fp)(p.jr),[n,f]=(0,i.fp)(p.Sf),g=(0,i.Xr)(p.H7),h=(0,i.Xr)(p.nG),E=(0,i.Xr)(p.Ds),_=(0,i.Xr)(p.Dh),y=(0,i.Xr)(p.a8),b=(0,i.Xr)(p.iB),C=(0,i.Xr)(p.oO),v=(0,i.Xr)(p.$i),w=(0,i.Xr)(p.jE),T=!!(0,d.f)("cursor_bot_v2_has_greeted_with_wave"),S=a.useContext(m.kw),k=(0,s.Z)(),I=(0,r.d4)(e=>e.mirror.sceneGraph),N=(0,r.wA)(),{insertTemplate:x}=(0,o.Fz)(),A=(0,u.ut)((0,c.aY)(),l.FAf.DESIGN),L=(0,r.d4)(e=>e.mirror.appModel.showUi),O=(0,r.d4)(e=>e.mirror.appModel),R=a.useRef();return R.current||(R.current=new M(t,f,h,E,y,b,g,C,_,v,w,T,e,n,()=>S.getViewportInfo(),k,I,{isUiShown:L,propertiesPanelTab:A},N,x,O)),a.useEffect(()=>{R.current?.updatePositionState(e,n)},[e,n]),a.useEffect(()=>{R.current?.updateSceneGraphReference(I)},[I]),a.useEffect(()=>{R.current?.updateInfoForSentry({isUiShown:L,propertiesPanelTab:A})},[A,L]),a.useEffect(()=>{R.current?.updateAppModel(O)},[O]),a.useEffect(()=>{R.current?.updateHasWaved(T)},[T]),R.current}},179932:(e,t,n)=>{n.d(t,{W:()=>o});var a=n(186606),r=n(967688),l=n(957872),i=n(752181);function o({isReplay:e,props:t}){let n,o,s,c;let d=(0,i.f)("cursor_bot_v2_make_show_me_primary_cta"),u=()=>{t.onClickNext?.(),a.glU.triggerActionInUserEditScope("set-tool-default",null)},m=t.isFollowUp?(0,r.t)("cursor_bot.got_it"):(0,r.t)("tooltips_plus_onboarding.next"),p=t.isFollowUp?l.c.GOT_IT:l.c.NEXT;return d?(n={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},o={ctaText:m,ctaTrackingDescriptor:p},s=t.onClickShowMe,c=u):(n={ctaText:m,ctaTrackingDescriptor:p},o={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},s=u,c=t.onClickShowMe),{primaryCtaProps:n,secondaryCtaProps:o,onPrimaryCtaClick:s,onSecondaryCtaClick:c}}},865037:(e,t,n)=>{n.d(t,{$5:()=>p,$j:()=>v,A8:()=>C,AO:()=>R,C7:()=>A,Dl:()=>f,HX:()=>o,IM:()=>P,LW:()=>m,N1:()=>B,Q$:()=>D,TT:()=>L,U4:()=>x,Ui:()=>E,Ur:()=>c,Ut:()=>U,YH:()=>k,YI:()=>h,_q:()=>N,b7:()=>d,bO:()=>T,e7:()=>i,g1:()=>s,mg:()=>u,ok:()=>F,qw:()=>b,ro:()=>_,wG:()=>y,x0:()=>w,xK:()=>O,yz:()=>I,zk:()=>S});var a=n(803565),r=n(195124);let l="Watermelon",i=1440,o=900,s=310,c="Cherries",d=395,u=416,m=24,p=1,f=4,g={r:1,g:1,b:1,a:1},h={r:237/255,g:239/255,b:228/255,a:1};function E(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}let _={r:225/255,g:228/255,b:217/255,a:1},y={family:"Inter",style:"Regular",postscript:"Inter-Regular"},b="Rainier cherries",C="$3.99 / lb",v="Grown in Linden, CA",w="Semi Bold",T="Italic",S="Roboto Serif",k={r:71/255,g:103/255,b:48/255,a:1},I={r:116/255,g:121/255,b:109/255,a:1},N={value:130/1.21,units:"PERCENT"},x={value:150/1.21,units:"PERCENT"};function A(e,t){return!(!M(e)||!(0,r.cy)(e=>e.name===l,t,e)||(0,r.cy)(e=>e.name===c,t,e))}function L(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===c&&e.absoluteBoundingBox.w===d&&e.absoluteBoundingBox.h===u&&!!t&&M(t)}(e)&&(void 0===t||e.childCount===t)}function O(e,t){return!!(L(e,t)&&0===e.cornerRadius&&e.strokePaints?.data?.length===0&&(0,a.Vm)(e.fills[0]?.color,g))}function R(e,t){if(!O(e,t))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!U(t))return!1;return!0}function M(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&e.absoluteBoundingBox.w===i&&e.absoluteBoundingBox.h===o}function D(e,t){let n=e.parentNode;return"FRAME"===e.type&&e.name===l&&!!n&&A(n,t)}function P(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function F(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childCount}let B="Hello";function U(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==y.family||e.fontName.style!==y.style)return!1;let n=e.parentNode;return!!n&&O(n,f)}},292190:(e,t,n)=>{n.d(t,{p:()=>_});var a=n(848318),r=n(186606),l=n(195124),i=n(615233),o=n(297638),s=n(967688),c=n(957872),d=n(863270),u=n(526594),m=n(592374),p=n(11594),f=n(179932),g=n(865037),h=n(850389),E=n(875531);function _(e,t){let n=m.wn.FORMAT_FRAME,{tutorialPlayedUserFlag:_,stepCompletedUserFlag:y}=(0,p.Of)(n,t);return{name:n,tutorialPlayedUserFlag:_,stepCompletedUserFlag:y,duration:t?17500:9400,steps:function(e){let t=[];return t.push({type:m.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e?t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.xK)(e,g.Dl),nodeNameForLogging:m.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:m.Le.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:m.HQ.SET_CURSOR_DIRECTION,direction:m.zu.RIGHT},{type:m.HQ.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:h.W,offset:{x:-28,y:132},position:{x:m.GF.LEFT,y:m.NI.TOP},cursorBotMovementAnimationDuration:600},{type:m.HQ.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:m.JJ.PROPERTIES_PANEL,additionalDelay:1500},{type:m.HQ.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"fill"),position:{x:m.GF.LEFT,y:m.NI.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:(0,g.IM)(e?g.YI:(0,g.Ui)())}),additionalDelay:0},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:m.HQ.CLEAR_CHAT}),e&&t.push({type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"A border...",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:(0,g.IM)(g.ro),strokeWeight:2},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:m.HQ.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:m.HQ.CLEAR_CHAT},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:700,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"Or rounded corners!",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:g.LW},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:m.HQ.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>(0,g.xK)(e,g.Dl),resetStartingState:{hubFileId:i.Ay()?.cursor_bot?.ginger_formatted_text_hub_file_id,nodeHeight:g.HX,nodeWidth:g.e7}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:n=>{let{primaryCtaProps:r,secondaryCtaProps:i,onPrimaryCtaClick:u,onSecondaryCtaClick:m}=(0,f.W)({isReplay:e,props:n});return a.createElement(E.Z,{bodyText:t?(0,s.t)("cursor_bot.design_panel_can_change_objects"):(0,s.t)("cursor_bot.design_panel_is_key"),frameNodeMatcher:t?e=>(0,l.WY)(e=>(0,g.TT)(e,g.Dl),e)||(0,l.cy)((e,t)=>(0,g.Q$)(e,t),e):void 0,fromCursorBot:!0,isFollowUp:n.isFollowUp,lowerLeftText:n.onClickBack?a.createElement(d.$z,{onClick:n.onClickBack,className:o.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:c.c.BACK}},(0,s.tx)("cursor_bot.back")):void 0,onClose:n.onClickClose,onPrimaryCtaClick:u,onSecondaryCtaClick:m,primaryCtaProps:r,secondaryCtaProps:i,skip:n.skip,title:(0,s.t)("cursor_bot.make_it_look_just_right")})}}}},326268:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(848318),r=n(186606),l=n(195124),i=n(768618),o=n(615233),s=n(297638),c=n(967688),d=n(324762),u=n(957872),m=n(863270),p=n(526594),f=n(592374),g=n(11594),h=n(179932),E=n(865037),_=n(577612);function y(e,t){let n=f.wn.FORMAT_TEXT,{tutorialPlayedUserFlag:y,stepCompletedUserFlag:b}=(0,g.Of)(n,t);return{name:n,tutorialPlayedUserFlag:y,stepCompletedUserFlag:b,duration:t?10500:8500,steps:function(e){let t=[];return t.push({type:f.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e&&t.push({type:f.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,E.Ut)(e,E.$j),prioritizeSelectedNode:!0,nodeNameForLogging:f.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:f.HQ.TARGET_DOM_NODE,dataOnboardingKey:_.B,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:f.HQ.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:f.HQ.SET_CURSOR_DIRECTION,direction:f.zu.RIGHT},{type:f.HQ.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:f.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,E.Ut)(e,E.qw),nodeNameForLogging:f.Le.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:f.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:f.GF.LEFT,y:f.NI.CENTER},cursorBotMovementAnimationDuration:500,additionalDelay:1e3},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:E.x0,lineHeight:E._q}},{type:f.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,E.Ut)(e,E.A8),nodeNameForLogging:f.Le.CHERRIES_FRAME_PRICE_TEXT},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,E.IM)(E.YH),fontSize:20,fontStyle:E.x0,lineHeight:E._q,textAlignHorizontal:"RIGHT"}},{type:f.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,E.Ut)(e,E.$j),nodeNameForLogging:f.Le.CHERRIES_FRAME_GROWN_TEXT},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,E.IM)(E.yz),fontSize:16,lineHeight:E.U4},additionalDelay:1500}):t.push({type:f.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-picker-button"),position:{x:f.GF.LEFT,y:f.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===E.zk?E.wG.family:E.zk}),additionalDelay:300},{type:f.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:f.GF.LEFT,y:f.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===E.bO?E.wG.style:E.bO}),additionalDelay:300},{type:f.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size"),position:{x:f.GF.LEFT,y:f.NI.CENTER},cursorBotMovementAnimationDuration:600},{type:f.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:f.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:1500}),t.push({type:f.HQ.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?f.JJ.TEXT_PANEL:f.JJ.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(0,E.AO)(e,4),resetStartingState:{hubFileId:o.Ay()?.cursor_bot?.ginger_hub_file_id,nodeHeight:E.HX,nodeWidth:E.e7}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:n=>{let r=(0,d.VW)(),{primaryCtaProps:o,secondaryCtaProps:p,onPrimaryCtaClick:f,onSecondaryCtaClick:g}=(0,h.W)({isReplay:e,props:n});return a.createElement(_.P,{bodyText:(0,c.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,getNodeToSelect:t?()=>(0,l.WY)(e=>"TEXT"===e.type&&(e.name===E.$j||"Grown in Tracy, CA"===e.name),(0,i.UN)()):()=>r?.type==="TEXT"?r:(0,l.WY)(e=>"TEXT"===e.type,(0,i.UN)()),isFollowUp:n.isFollowUp,lowerLeftText:n.onClickBack?a.createElement(m.$z,{onClick:n.onClickBack,className:s.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:u.c.BACK}},(0,c.tx)("cursor_bot.back")):void 0,onClose:n.onClickClose,onPrimaryCtaClick:f,onSecondaryCtaClick:g,primaryCtaProps:o,secondaryCtaProps:p,skip:n.skip,title:t?(0,c.t)("cursor_bot.pick_the_perfect_font"):(0,c.t)("cursor_bot.and_pick_the_perfect_font")})}}}},453761:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(848318),r=n(536384),l=n.n(r),i=n(665411);function o({isFullHeight:e,children:t}){let n=(0,i._Z)().isLoading;return a.createElement("div",{"data-testid":"left-panel-body",className:l()("left_panel_body--container--GuUjF sf_pro--uiFontWithSFProFallback--m-p9V",{leftPanelBody:!n,"left_panel_body--flexGrow--HFJjd":e})},t)}},590267:(e,t,n)=>{n.d(t,{c0:()=>S,Jc:()=>I});var a=n(848318),r=n(938982),l=n(773511),i=n(272520),o=n(999667),s=n(601295),c=n(647029),d=n(536384),u=n.n(d),m=n(996202),p=n(410725),f=n(748008),g=n(72462),h=n(998568),E=n(345964),_=n(999556),y=n(555772),b=n(967688),C=n(730143),v=n(55116),w=n(7905),T=n(353956);function S({pageRowRef:e,pagesListRef:t,nodeId:n,nodeName:r,pageThumbnail:s,isLoading:c}){let d=(0,C.q5)(),p=(0,m.hC)(),f=(0,o.Xr)(T.qp);if(!d||!t.current||!e.current)return null;let h=t.current.getBoundingClientRect().left+t.current.getBoundingClientRect().width,v=h-16,S=`calc(${h}px + var(--spacer-2, 0.5rem))`,k=e.current.getBoundingClientRect().top,I=e.current.getBoundingClientRect().height;return a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"fixed",zIndex:10,left:v+"px",top:k+"px",height:I+"px",width:"32px"}}),a.createElement("div",{"data-testid":"PageSummaryPreview",className:"page_summary_preview--previewContainer--kx2Uy",style:{left:S,top:k+I/2}},a.createElement("div",{className:"page_summary_preview--thumbnailContainer--a-jPQ"},a.createElement("div",{"data-testid":"FileThumbnail"},a.createElement(y.V,{thumbnailType:(0,_.lv)(d.editorType,!1),thumbnailUrl:s?.thumbnail_url??null,clientMeta:s?.thumbnail_meta??d.clientMeta,noBorder:!0})),a.createElement(l.E,{"aria-label":(0,b.t)("pages_panel.summary_preview.update_preview"),className:u()("page_summary_preview--refreshButton--XAvPe",{"page_summary_preview--alwaysShowRefreshButton--M3IDC":!s}),onClick:()=>{d&&!c&&(p("figjam_pages_summary.preview_refreshed",{previewPageId:n}),f(g.r.LOADING),w.S.updatePageCheckpointThumbnails({fileKey:d.key}).catch(()=>{p("figjam_summary_preview.page_thumbnails_request_failed_increment_metric",{})}))},htmlAttributes:{"data-tooltip":(0,b.t)("pages_panel.summary_preview.update_preview"),"data-tooltip-type":"text","data-testid":"RefreshPreviewButton"}},c?a.createElement(E.kt,{testId:"LoadingSpinner",size:"small",className:"page_summary_preview--loadingSpinner--FXocO"}):a.createElement(i.o,null))),a.createElement("div",{className:"page_summary_preview--pageTitleContainer--Yk-qK text--fontPos13--xW8hS text--_fontBase--QdLsd"},r)))}let k=c.z.record(c.z.object({thumbnail_url:c.z.string(),thumbnail_meta:c.z.object({}).passthrough().transform(e=>JSON.stringify(e)),created_at:c.z.string().optional()}));function I(e){let t=(0,C.q5)(),n=(0,p.Rs)(v.SPC,{fileKey:t?.key??""},{enabled:!!(t?.key&&e)});return s.Qw.useTransform(n,e=>{if(e?.file?.pagesSignedThumbnailData.status!==f.tT.Loaded)return null;try{if(!e?.file?.pagesSignedThumbnailData.data)return null;let t=JSON.parse(e.file.pagesSignedThumbnailData.data);return k.parse(t)}catch(n){return(0,h.$D)(r.e.FIGJAM,Error(`PageSummaryPreview: Failed to parse page thumbnail data. Error: ${n.message}.`),{tags:{fileKey:t?.key},extra:{parsedPageThumbnails:e?.file?.pagesSignedThumbnailData.data}}),null}})}},412840:(e,t,n)=>{n.d(t,{R:()=>J});var a=n(848318),r=n(762217),l=n(536384),i=n.n(l),o=n(967688),s=n(696786),c=n(859480),d=n(834497),u=n(256350),m=n(755534),p=n(702038),f=n(665411),g=n(254320),h=n(301168),E=n(898700),_=n(264478),y=n(174121),b=n(31898),C=n(740495),v=n(863270),w=n(222556),T=n(499668),S=n(472520),k=n(613733),I=n(355755),N=n(730143),x=n(672940),A=n(318147),L=n(253332),O=n(407638),R=n(679996),M=n(698429);function D({onHeightChange:e}){let t=(0,h.wA)(),n=(0,N.q5)(),r=(0,x.FC)(),l=(0,I.p8)("pagesList").length,s=(0,M.ks)(),c=(0,C.Fr)(),d=w.h.useTrackingContext({trigger:R.b.PAGE_TRACKER_UPSELL}),u=(0,E.F)(e),m=a.useCallback(e=>{u.current?.(e?.getBoundingClientRect().height||0)},[l]),p=(0,h.d4)(e=>e.isOpenFileLoadedFromLiveGraph),f=n?.team,g=n?.plan,D=f&&(0,O.canEditTeam)(f.id,r)&&!(0,L.XX)(f),P=f&&g&&f.canEdit&&g.tier===A.Ag.STARTER,F=(0,k.u8)({oldValue:D,newValue:P,newValueReady:p,label:S.A.PageTrackerUpsell.canEditStarterTeam,enableFullRead:(0,T.DQ)(T.Pw.GROUP_7),contextArgs:{planId:g?.id,isOpenFileLoadedFromLiveGraph:p}});if(l<=0||!n||s||!F)return null;let B=(0,L.Lj)(n);if((B<=1||B>=1/0)&&!c(n))return null;let U=()=>{let e=R.b.PAGE_TRACKER_UPSELL;t((0,b.to)({type:y.V,data:{upsellSource:e,teamId:f?.id,openCheckoutInNewTab:!0}}))},G=a.createElement(_.Us,{onClick:U,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,o.tx)("fullscreen.pages_panel.see_plans_that_offer_more")),K=a.createElement(_.Us,{onClick:U,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,o.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")),V=l/L.LF[n.editorType??A._Y.DESIGN],H=i()({"page_tracker_upsell--progressPartial--guOiP":V<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===V,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":V>1}),z=`${Math.trunc(100*Math.min(V,1))}%`,W={fileTeamId:f?.id,numPages:l,...d};return a.createElement(v.fu,{name:"Page Tracker Upsell",properties:W},a.createElement("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:m,"data-testid":"page_tracker_upsell"},a.createElement("div",{className:"page_tracker_upsell--upsellBody--yUAjd"},a.createElement("div",{className:"page_tracker_upsell--progressBar--fDCBY"},a.createElement("div",{className:H,style:{width:z},"data-testid":"page_tracker_progress_bar"})),a.createElement("p",{className:"page_tracker_upsell--upsellText--Ng-u0"},(()=>{let e=L.LF[n.editorType??A._Y.DESIGN]-l;return e>=2?a.createElement(a.Fragment,null,(0,o.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),a.createElement("br",null),G):1===e?a.createElement(a.Fragment,null,(0,o.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),a.createElement("br",null),K):0===e?a.createElement(a.Fragment,null,(0,o.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:L.LF[n.editorType??A._Y.DESIGN]}),a.createElement("br",null),K):a.createElement(a.Fragment,null,(0,o.tx)("fullscreen.pages_panel.all_free_pages_used"),a.createElement("br",null),K)})()))))}var P=n(20649),F=n(351632),B=n(236668),U=n(214758);function G({pages:e,initialHeight:t,extraControls:n,panelHeadersHeight:r,onScroll:l,shouldHighlightActivePage:i,isComparingChanges:o,pageToNumChanges:s,isReadOnly:c,onPageContextMenu:d,filterState:h,onHeightChange:E}){let _=(0,f._Z)().isLoading,y=(0,a.useRef)(null);(0,B.a)({pagesList:e,scrollContainerRef:y});let b=(0,a.useRef)(null),[C,v]=(0,a.useState)(0),w=e.length,{height:T,setHeight:S,defaultHeight:k}=(0,F.k3)({initialHeight:t,numberOfPages:w,upsellHeight:C,panelHeadersHeight:r,showingExtraControls:!!n,scrollContainerInnerRef:b,filterState:h,onHeightChange:E});return a.createElement(u.V,null,a.createElement(g.wV,{size:T,defaultSize:k,onResize:e=>{S(e),p.Uc("")},side:"bottom",className:_?U.aY:U.l$},a.createElement(m.P,{scrollBarAlways:!1,ref:y,scrollContainerRef:b,className:U.jG,onScroll:l},a.createElement(P.bU,{pages:e,scrollContainer:y.current??void 0,shouldHighlightActivePage:i,isComparingChanges:o,pageToNumChanges:s,isReadOnly:c,onContextMenu:d}),n,a.createElement(D,{onHeightChange:v}))))}var K=n(781239),V=n(297638),H=n(368141),z=n(394960),W=n(29259);function j({isReadOnly:e,hasScrollLine:t,onTogglePages:n,recordingKey:r}){return a.createElement(H.B,{onClick:e?n:void 0,hasScrollLine:t},a.createElement(z.H,null,(0,o.tx)("fullscreen.pages_panel.pages")),!e&&a.createElement("div",{className:V.s.flex.mx8.itemsCenter.$},a.createElement(W.e,{recordingKey:K.Pt(r,"newPage")})))}var Y=n(348113);function J({height:e,onHeightChange:t,isOpen:n,onToggle:l,showHeader:u=!0,pages:m,extraControls:p,filterState:f,panelHeadersHeight:g=d.uF,shouldHighlightActivePage:h=!0,isComparingChanges:E=!1,pageToNumChanges:_,isReadOnly:y,onPageContextMenu:b,onCanvasSearch:C}){let v="pagesPanel",w=(0,s.GS)(),[T,S]=(0,a.useState)(!1),k=(0,a.useCallback)(e=>{S(e>0)},[S]),I=(0,c.rE)(),N=w?n&&T:T,x=m.some(e=>m[0]&&e.pageType!==m[0].pageType);return a.createElement(r.o,{eventListeners:["onClick"]},a.createElement("div",{className:i()("pages_panel--pagesPanelContent--ZGkcM",{"pages_panel--pagesPanelContentBottomBorder--dozDy":u})},u&&(w?a.createElement(Y.J,{hasMultiplePageTypes:x,hasScrollLine:N,isComparingChanges:E,isPagesOpen:n,isReadOnly:y,onCanvasSearch:C,onClickNewPage:()=>I(null),onPageContextMenu:b,onTogglePages:l,recordingKey:v,title:(0,o.t)("fullscreen.pages_panel.pages"),tooltipText:(0,o.t)("fullscreen.pages_panel.add_new_page")}):a.createElement(j,{isReadOnly:y,onTogglePages:l,hasScrollLine:N,recordingKey:v})),n&&a.createElement(G,{extraControls:p,filterState:f,initialHeight:e??void 0,isComparingChanges:E,isReadOnly:y,onHeightChange:t,onPageContextMenu:b,onScroll:k,pageToNumChanges:_,pages:m,panelHeadersHeight:g,shouldHighlightActivePage:h})))}},65963:(e,t,n)=>{n.d(t,{v:()=>W,G:()=>z});var a=n(848318),r=n(301168),l=n(871043),i=n(773511),o=n(433231),s=n(901948),c=n(2446),d=n(200362),u=n(408193),m=n(186606),p=n(580494),f=n(999667),g=n(536384),h=n.n(g),E=n(615233),_=n(781239),y=n(720522),b=n(967688),C=n(952039),v=n(555637),w=n(301360),T=n(995218),S=n(696786),k=n(859480),I=n(70433),N=n(665411),x=n(554326),A=n(614092),L=n(17753),O=n(517614),R=n(857607),M=n(146859),D=n(614892);function P({value:e,setValue:t,recordingKey:n,isDisabled:r,stopRenaming:l}){let i=(0,a.useRef)(null);(0,a.useEffect)(()=>{i.current?.select()},[]);let o=_.v_(n,"keydown",e=>{if(e.keyCode===R.Uz.ESCAPE)l(!1),e.stopPropagation();else if(e.keyCode===R.Uz.ENTER)e.preventDefault(),l(!0);else{if(e.keyCode!==R.Uz.TAB)return(0,M.jr)(e,M.W0.NO),_.aH;e.preventDefault(),l(!0)}}),s=_.AF(n,"change",e=>{r||t(e.currentTarget.value)}),c=_.iQ(n,"blur",()=>{l(!0)});return a.createElement(D.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"page_rename_input--input--s2o7Q",innerRef:i,onBlur:c,onChange:s,onKeyDown:o,spellCheck:!1,value:e})}var F=n(214758),B=n(954206),U=n(255111),G=n(344432),K=n(871428);function V({editorType:e}){switch(e){case m._YF.DESIGN:return a.createElement(o.k,null);case m._YF.WHITEBOARD:return a.createElement(y.B,{svg:K.A});case m._YF.SLIDES:return a.createElement(s.l,null);default:return null}}function H(e){let{isActive:t,isDivider:n,pageType:r,hasMultiplePageTypes:l}=e;return n||!l?null:a.createElement("div",{className:h()(F.n6,{[F.vu]:t})},a.createElement(V,{editorType:r}))}function z({pageType:e,hasMultiplePageTypes:t,nodeId:n,nodeName:i,isRenaming:o,startRenaming:s,stopRenaming:c,renamingPagePendingName:d,setRenamingPagePendingName:u,isActive:g,shouldShowGuids:x,onMouseDownCallback:R,onMouseUpCallback:M,onMouseMoveCallback:D,onClickCallback:G,reorderingPageGuids:K,selectedPageGuids:V,onContextMenuCallback:z,showMemoryUsage:Y,showInFileMemoryPercentage:J,isOffline:q,isComparingChanges:X,pageToNumChanges:Z,versionHistory:Q,isDivider:$,pagesList:ee,index:et,activePageShouldUseBrandColor:en,shouldUseButtonRow:ea}){let er=(0,r.wA)(),el=(0,S.GS)(),ei="whiteboard"===(0,T.lg)(),[eo,es]=a.useState(!1),ec=(0,f.md)(O.l),ed=(0,f.md)(v.Yh),eu=(0,A.Fk)((e,t)=>e.get(t)?.nodeMemoryUsage,n),em=(0,A.Fk)((e,t)=>e.get(t)?.rootMemoryUsage,n),ep=a.useMemo(()=>(0,N.Fy)(ee,n)===m.xal.LOADED,[n,ee]),ef=a.useMemo(()=>ee.slice(0,et).reverse().find(e=>e.isDivider),[et,ee]),eg=m.h3O.getSessionState()===m.kul.JOINED,eh=a.useMemo(()=>q&&!eg&&!ep&&m.h3O.isIncrementalSession(),[q,ep,eg]),eE=_.Pt("pagesPanel","row",et)||"",e_=_.rf(eE,"contextmenu",e=>{e.preventDefault(),!eh&&z&&z({nodeId:n,e})}),ey=_.rf(eE,"dblclick",()=>{eh||o||s(n)}),eb=_.rf(eE,"click",e=>{if(!$&&!o){if(eh){er(C.F.enqueue({type:"offline-page-switch",message:(0,b.t)("fullscreen.pages_panel.unavailable_offline")}));return}G(n,e)}}),eC=a.useCallback(e=>{eh||o||R(n,e)},[o,n,R,eh]),ev=a.useCallback(e=>{o||D(n,e)},[o,n,D]),ew=a.useCallback(e=>{o||M(n,e)},[o,n,M]),eT=a.useCallback(()=>(0,l.uy)(eu)||(0,l.uy)(em)?"":(0,I.pr)(eu,em,!0),[eu,em]),eS=X&&Z?.get(n)||0,ek=Q?.activeId&&"current_version"===Q.activeId,eI=Y&&J&&!o&&ek,eN=!X&&!o,ex=$&&!g&&!o,eA=ei&&!o&&g&&V?.length===0,eL=(0,p.k)().ce_page_separators_titles&&!(0,E.O_)()&&!$&&void 0!==ef&&!ef.name.match(/^(-+|\u2013+|\u2014+|\*+|\s+)$/),eO=h()({[F.mB]:ex,[F.oG]:!ex,[F.sl]:g,[F.sR]:eA&&eo&&ec,[F.Pl]:en,[F.Dq]:0===K.length&&0===V.length,[F.vy]:eL,[F.As]:ea},0!==K.length||0!==V.length?V.includes(n)?F.wH:K.includes(n)?F.iB:0===K.length?F.Dq:"":""),eR=a.useRef(null),eM=a.useRef(!1),eD=a.useCallback(e=>{c(e),eM.current=!0},[c]);a.useLayoutEffect(()=>{!o&&eM.current&&eR.current&&(eR.current.focus(),eM.current=!1)},[o]);let eP=o&&a.createElement(P,{value:d||"",setValue:u,stopRenaming:eD,recordingKey:eE,isDisabled:eh}),eF=eh&&!ex&&a.createElement("div",{className:F.Nr,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},a.createElement(y.B,{className:F.VQ,svg:U.A,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"})),eB=(0,p.k)().version_diffing&&X&&eS>0&&a.createElement("div",{className:F.Sp},eS),eU=(0,p.k)().piper_present_summary&&eA&&!t?a.createElement(j,{accessibleLabel:ea?(0,b.t)("fullscreen.pages_panel.page_row.more_actions",{pageName:i}):void 0,onContextMenuCallback:z,nodeId:n,isMoreActionsActive:eo,setIsMoreActionsActive:es,isPageContextMenuOpen:ec,isUI3:el,shouldAbsolutePositionButton:ea}):null,eG=a.createElement(a.Fragment,null,!ex&&!el&&a.createElement(y.B,{className:h()(g?F.Mp:F._J,{[F.Vt]:!1}),svg:B.A}),!ea&&eP,ex?(e=>{let t=!!e.match(/^(-+|\u2013+|\u2014+|\*+|\s+)$/),n=(0,k.Bc)(e);return(0,p.k)().ce_page_separators_titles&&!(0,E.O_)()&&!t&&n?a.createElement("span",{className:F.O0},n[1]):a.createElement("span",{className:F.jE,"data-testid":"pageDivider"})})(i):!o&&a.createElement("div",{className:F.Nz},a.createElement("span",{className:eh?F.YW:F.KE},x?`${i} (${n})`:i)),a.createElement("div",{className:F.q8},eN&&a.createElement(W,{pageGuid:n,fallback:a.createElement(H,{isActive:g,isDivider:$,pageType:e,hasMultiplePageTypes:t}),hideBackground:!0}),eF,eI&&a.createElement("span",{className:eh?F.hi:F.VC,dir:"auto"},eT()),eB,!ea&&eU));return ea?o?a.createElement("div",{className:eO,"data-onboarding-key":ed===n?w.$:"",draggable:!1,onContextMenu:e_},eP,a.createElement("div",{className:F.q8},eF,eB)):a.createElement("div",{className:"pages_panel_row--pageRowContainer--oVnTb"},a.createElement("button",{ref:eR,"aria-current":g?"page":void 0,className:eO,"data-onboarding-key":ed===n?w.$:"",draggable:!1,onClick:eb,onContextMenu:e_,onDoubleClick:ey,onMouseDown:eC,onMouseMove:ev,onMouseUp:ew,type:"button"},eG),eU):a.createElement("div",{className:eO,"data-onboarding-key":ed===n?w.$:"",draggable:!1,onClick:eb,onContextMenu:e_,onDoubleClick:ey,onMouseDown:eC,onMouseMove:ev,onMouseUp:ew},eG)}function W({pageGuid:e,margin:t,fallback:n=null,hideBackground:r=!1}){let l=(0,x.J2)(m.Ez5.currentSceneState().numReadyNodesByPage),i=(0,x.J2)(m.Ez5.currentSceneState().numCompletedNodesByPage),o=(0,S.GS)(),s=l.has(e)?l.get(e)>0:m.glU.nodeStatusesOnPage(e).includes(m.zIx.BUILD),d=i.has(e)?i.get(e)>0:m.glU.nodeStatusesOnPage(e).includes(m.zIx.COMPLETED);return d&&!s&&o?a.createElement(c.g,{className:"pages_panel_row--pageCompleted--gzdWd","data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.status.completed"),"data-testid":"pageCompletedIndicator"}):s||d?a.createElement(y.B,{className:h()("pages_panel_row--pageReady--XaDiG",{"pages_panel_row--hideBackground--22Ike":r}),svg:G.A,style:t?{[t]:"8px"}:void 0,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.tag.ready_to_build"),dataTestId:"pageReadyIndicator"}):n}function j({accessibleLabel:e,onContextMenuCallback:t,nodeId:n,isMoreActionsActive:r,isPageContextMenuOpen:l,setIsMoreActionsActive:o,isUI3:s,shouldAbsolutePositionButton:c}){let m=a.useRef(null),p=s?-4:-15,f=s?10:9;return a.useEffect(()=>{l||o(!1)},[l,o]),a.createElement(i.E,{ref:m,"aria-label":e,htmlAttributes:c?void 0:{onDoubleClick:e=>e.stopPropagation()},onClick:e=>{o(!0);let a=m.current?.getBoundingClientRect();a&&t({nodeId:n,e,clientX:a.x+p,clientY:a.y+a.height+f})},className:h()("pages_panel_row--pageMoreActionsButton--5Rty9",{"pages_panel_row--pageMoreActionsButtonActive--2dmC-":r&&l,"pages_panel_row--pageMoreActionsAbsolutePosition--S-xcp":c}),"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.more_pages_actions"),"data-tooltip-show-above":!0},s?a.createElement(d.A,{className:"pages_panel_row--pageMoreActionsIcon--kzZVn"}):a.createElement(u.J,null))}},485558:(e,t,n)=>{n.d(t,{y:()=>i});var a=n(848318),r=n(536384),l=n.n(r);function i({children:e,withBorder:t,autoHeight:n=!1}){return a.createElement("div",{className:l()("tabs_header--tabsHeader--8rHi8",{"tabs_header--autoHeight--eXDMV":n,"tabs_header--withBorder--jZYSF":t})},e)}},90206:(e,t,n)=>{n.d(t,{K:()=>d,g:()=>u});var a=n(848318),r=n(301168),l=n(999667),i=n(453370),o=n(142896),s=n(228845),c=n(353956);function d(){let e=(0,r.wA)();return(0,a.useCallback)(({nodeId:t,clientX:n,clientY:a})=>{e((0,i.j7)({type:o.SA,data:{clientX:n,clientY:a,pageId:t}}))},[e])}function u({pagesList:e,shouldShowDuplicateOption:t=!0}){let n=(0,r.wA)(),[d,u]=(0,l.fp)(c.cE);return(0,a.useCallback)(({nodeId:a,clientX:r,clientY:l})=>{let c=new Set(e.map(e=>e.nodeId)),m=d.filter(e=>c.has(e));m.length>0&&!m.includes(a)&&c.has(a)&&(m.push(a),u(m));let p=(()=>{if(m.length>0){let t=(0,s.Pe)(e);return[...m].sort((e,n)=>t[e]-t[n])}return[a]})();0!==p.length&&n((0,i.j7)({type:o.d2,data:{clientX:r,clientY:l,pageIds:p,shouldShowDuplicateOption:t}}))},[d,n,e,u,t])}},236668:(e,t,n)=>{n.d(t,{a:()=>u});var a=n(848318),r=n(999667),l=n(410441),i=n(898700),o=n(859480),s=n(353956),c=n(27776);let d=(0,l.hG)(c.xM9);function u({pagesList:e,scrollContainerRef:t}){let n=(0,o.dh)(),l=(0,r.md)(s.l7),c=(0,i.F)(e),d=(0,i.F)(!!l);(0,a.useLayoutEffect)(()=>{d.current||m({pageId:n,pagesList:c.current,scrollContainerRef:t})},[n,t,c,d]),(0,a.useLayoutEffect)(()=>{l&&m({pageId:l,pagesList:c.current,scrollContainerRef:t})},[l,t,c])}function m({pageId:e,pagesList:t,scrollContainerRef:n}){let a=n.current;if(!a)return;let r=t.findIndex(t=>t.nodeId===e);if(-1===r)return;let l=r*d,i=l+d,o=a.getScrollTop(),s=o+a.getTrackHeight();l<o?a.scrollTo(l-d/2):i>s&&a.scrollTo(o+(i-s)+d/2)}},832608:(e,t,n)=>{n.d(t,{Uz:()=>f,_k:()=>g,oP:()=>p});var a=n(848318),r=n(999667),l=n(857607),i=n(303397),o=n(702038),s=n(859480),c=n(228845),d=n(353956),u=(e=>(e.RANGE="range",e.INDIVIDUAL="individual",e))(u||{});function m(e){return(0,l.Fo)(e)?"individual":e.shiftKey?"range":null}function p(e){return!!m(e)}function f({pagesList:e,isDisabled:t,selectedPageIds:n,startRenaming:r,cancelMultiselect:o,cancelReordering:s}){(0,a.useEffect)(()=>{if(t)return;let a=t=>{let a=(0,c.Pe)(e),d=n.filter(t=>{let n=a[t];return void 0!==n&&!e[n].isDivider}).sort((e,t)=>a[e]-a[t]);if(0!==d.length)switch(t.keyCode){case l.Uz.ESCAPE:o(),s();break;case l.Uz.R:(0,l.Fo)(t)&&(1===d.length?r(d[0]):i.Y5.triggerActionInUserEditScope("batch-page-rename",{args:{nodeIds:d}}))}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t,e,n,o,s,r])}function g(e){let[t,n]=(0,r.fp)(d.cE),l=(0,s.dh)(),c=(0,a.useCallback)(()=>{n(e=>e.length?[]:e)},[n]),u=(0,a.useCallback)((a,r)=>{let s=m(r);switch(s&&((0,o.tJ)([]),i.Y5.commit()),s){case"individual":return n(t.includes(a)?t.filter(e=>e!==a):0===t.length&&l!==a?[l,a]:[...t,a]),!0;case"range":{let r=0===t.length?l:t[t.length-1],i=e.findIndex(e=>e.nodeId===r),o=e.findIndex(e=>e.nodeId===a),s=Math.min(i,o),c=Math.max(i,o),d=new Set(t),u=e.slice(s,c+1).map(e=>e.nodeId);return d.has(u[0])&&d.has(u[u.length-1])?n(t.filter(e=>!u.includes(e))):n([...t,...u.filter(e=>!d.has(e))]),!0}case null:return c(),!1}},[c,e,l,t,n]);return{selectedPageIds:t,handleMultiselectClick:u,cancelMultiselect:c}}},275205:(e,t,n)=>{n.d(t,{c:()=>E});var a=n(848318),r=n(301168),l=n(186606),i=n(768618),o=n(999667),s=n(996202),c=n(66699),d=n(555637),u=n(806496),m=n(859480),p=n(665411),f=n(730143),g=n(84145),h=n(353956);function E(e){let t=(0,m.dh)(),[n,E]=(0,o.fp)(h.l7),[_,y]=(0,o.fp)(h.oZ),b=(0,f.q5)(),C=(0,r.wA)(),v=(0,m.rE)(),w=(0,r.d4)(e=>e.versionHistory),T=(0,s.am)(),S=(0,g.W)(),k=(0,o.Xr)(d.Yh),I=(0,a.useCallback)(e=>{E(e),l.glU.triggerActionInUserEditScope("track-page-rename",{args:{nodeId:e}})},[E]),N=(0,a.useCallback)(()=>E(null),[E]),x=(0,a.useCallback)(async()=>{if(!n)return;let a=(0,i.UN)().get(n),r=a?.name,o=_||"",s=await (0,m.zO)({openFile:b,pageNode:a,pageName:o});if((0,m.CQ)({openFile:b,pageId:n,newName:o,oldName:r,trackRenamePage:()=>T("page_commit_rename",{nodeId:t,isDivider:s},{forwardToDatadog:!0})}),s&&t===n){let n=e.findIndex(e=>e.nodeId===t),a=n+1,r=e[a];for(;r&&r.isDivider;)a+=1,r=e[a];if(r)(0,u.J)(()=>(0,m.$P)(r.nodeId,t,w,C,(0,p.Fy)(e,r.nodeId)===l.xal.LOADED,T));else{let a=n-1,r=e[a];for(;r&&r.isDivider;)a-=1,r=e[a];r?(0,u.J)(()=>(0,m.$P)(r.nodeId,t,w,C,(0,p.Fy)(e,r.nodeId)===l.xal.LOADED,T)):v(null)}}E(e=>e===n?null:e),S({newTitle:o,nodeType:"PAGE"}),r!==o&&(0,g.d)(o).length>0&&(k(n),(0,c.YQ)({id:"page_name_changed_with_rfd_indicator",properties:{pageId:n}}))},[e,v,n,E,_,b,t,w,T,C,S,k]);return{renamingPageId:n,startRenaming:I,cancelRenaming:N,commitRenaming:x,pendingPageName:_,setPendingPageName:y}}},467601:(e,t,n)=>{n.d(t,{C:()=>s});var a=n(848318),r=n(186606),l=n(320953),i=n(996202),o=n(228845);function s(e){let[t,n]=(0,a.useState)([]),s=(0,a.useRef)(null),[c,d]=(0,a.useState)(null),u=t.length>0,m=(0,i.U)(),p=(0,a.useCallback)(e=>{n(e),d(null),s.current=null},[]),f=(0,a.useCallback)(()=>{n(e=>e.length?[]:e),d(null),s.current=null},[]),g=(0,a.useCallback)((e,n)=>{if(t.includes(e)){d(null);return}let a=n.target;c&&c.dragOverPageId===e&&s.current||(s.current=a.getBoundingClientRect());let r=n.clientY-s.current.top<s.current.height/2?"before":"after";d(t=>t&&t.dragOverPageId===e&&t.insertPosition===r?t:{dragOverPageId:e,insertPosition:r})},[c,t]),h=(0,a.useCallback)(()=>!c||!u||t.includes(c.dragOverPageId)?(f(),!1):(l.l7.user("reorder-pages",()=>{let n=(0,o.Pe)(e);"before"===c.insertPosition?[...t].sort((e,t)=>n[e]-n[t]).forEach(e=>{r.Egt.pageMoveBeforePage(e,c.dragOverPageId)}):[...t].sort((e,t)=>n[t]-n[e]).forEach(e=>{r.Egt.pageMoveAfterPage(e,c.dragOverPageId)})}),f(),m("page_reorder",{reorderedPageIds:t,dragOverPageId:c.dragOverPageId,insertPosition:c.insertPosition},{forwardToDatadog:!0}),!0),[e,u,t,f,c,m]);return{isReordering:u,reorderingPageIds:t,startReordering:p,cancelReordering:f,commitReordering:h,draggingState:c,updateDraggingState:g}}},455945:(e,t,n)=>{n.d(t,{d:()=>o});var a=n(848318),r=n(301168),l=n(325498),i=n(730143);function o({defaultIsOpen:e}){let[t,n]=function(e){let t=(0,i.tS)(),[n,o]=(0,a.useState)(()=>t?s(t)??e:e);return(0,a.useLayoutEffect)(()=>{if(!t)return;let e=s(t);e&&o(e)},[t]),[n,(0,a.useCallback)(e=>{o(n=>{let a="function"==typeof e?e(n):e;return t&&function(e,t){let n=(0,l.TQ)();if(n){let a=JSON.parse(n.getItem("pages-panel")||"{}");if((0,r.bN)(a[e],t))return;a[e]=t,n.setItem("pages-panel",JSON.stringify(a))}}(t,a),a})},[t])]}({height:null,isOpen:e,devHandoffShowAllPages:!1}),o=(0,a.useCallback)(e=>{n(t=>({...t,isOpen:e}))},[n]),c=(0,a.useCallback)(e=>{n(t=>({...t,height:e}))},[n]),d=(0,a.useCallback)(e=>{n(t=>({...t,devHandoffShowAllPages:e}))},[n]);return{height:t.height,setHeight:c,isOpen:t.isOpen,setIsOpen:o,devHandoffShowAllPages:t.devHandoffShowAllPages,setDevHandoffShowAllPages:d}}function s(e){let t=(0,l.TQ)();if(t)return JSON.parse(t.getItem("pages-panel")||"{}")[e]}},524648:(e,t,n)=>{n.d(t,{Hj:()=>W,W$:()=>z,ry:()=>H});var a=n(848318),r=n(301168),l=n(430385),i=n(660376),o=n(936733),s=n(938982),c=n(580494),d=n(536384),u=n.n(d),m=n(989232),p=n(857607),f=n(656329),g=n(781239),h=n(998568),E=n(810503),_=n(720522),y=n(967688),b=n(453370),C=n(244534),v=n(652576),w=n(303397),T=n(280255),S=n(20687),k=n(578461),I=n(674225),N=n(280361),x=n(91688),A=n(452011),L=n(770686),O=n(241211),R=n(766482),M=n(4993),D=n(580851),P=n(627977),F=n(575164),B=n(610488),U=n(377036);let G="Loading suggestions...";function K(e){(0,i.vA)(null!==e,"We should never be in the middle state if there are no optional parameters")}class V extends g.o6{constructor(e){let t;if(super(e),this.searchInputRef=a.createRef(),this.scrollContainerRef=a.createRef(),this.searchBarRef=a.createRef(),this.primaryPlaceholderTextRef=a.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),n=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),a=n>=0?n:this.state.activeItemIndex,r=t.length||!this.state.searchQuery?null:(0,y.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:a,items:t,errorMessage:r});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,y.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{let e=this.state.activeParameterIndex,t=null;if("middle"===e){if(K(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}t=this.firstOptionalIndex-1}else if("final"===e)t=this.props.parameters.length-1;else{if(0===e){this.props.onExitParameterEntry();return}t=e-1}let n={...this.state.parameterValues},a=this.getParameterForIndex(t)?.key;a&&delete n[a],this.setParameterIndex(t,n)},this.onTextChange=e=>{let t;let n=this.state.activeParameterIndex;if("middle"===n)K(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===n)return;t=n}let a=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:a,currentSearchQuery:e}),this.setLoadingMessage(G),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let n;let a=this.state.activeParameterIndex;if("final"===a){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let r={...this.state.parameterValues};if("middle"!==a){if(0===this.state.items.length)return;let n=this.props.parameters[a];if(e<0||e>=this.state.items.length){let r="Trying to select suggestion at invalid index";console.error(r),(0,E.Lo)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:a,parameter:n.name,keyPress:t}),(0,h.$D)(s.e.EXTENSIBILITY,Error(r));return}let l=this.state.items[e];"skip"===l||("freeform"===l?r[n.key]={name:this.state.searchQuery}:((0,i.KF)(!this.state.loadingMessage,"Selected item while loading"),r[n.key]=l))}let l=this.firstOptionalIndex;if("middle"===a){if(K(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(r);return}n=this.firstOptionalIndex}else if(a===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(r);return}n="final"}else n=null!==l&&a===l-1?"tab"===t?l:"middle":a+1;this.setParameterIndex(n,r),this.searchInputRef.current.focus()},this.onKeyDown=g.C0(this,"keydown",e=>{let t=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},n=f.Ay.mac?(0,p.vN)(e,p.xH.META):(0,p.vN)(e,p.xH.CONTROL);switch(e.keyCode){case p.Uz.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case p.Uz.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case p.Uz.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case p.Uz.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(-1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case p.Uz.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case p.Uz.ESCAPE:e.preventDefault(),this.props.dispatch(b.oB());break;case p.Uz.P:case p.Uz.FORWARD_SLASH:n&&(e.preventDefault(),this.props.dispatch(b.oB()));break;case p.Uz.EQUALS:case p.Uz.DASH:n&&(e.preventDefault(),"-"===e.key?w.Y5.triggerAction("zoom-out"):w.Y5.triggerAction("zoom-in"));break;case p.Uz.R:case p.Uz.S:case p.Uz.D:case p.Uz.E:case p.Uz.F:case p.Uz.O:if(n){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=g.Z7(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,n)=>{let r,l="",i="";return"skip"===t?(l=`Skip "${e.name}"`,i="skip"):"freeform"===t?(l=this.state.searchQuery,i="skip"):(l=t.name,i=t.name,r=Y(t,F.ZR)),a.createElement(j,{recordingKey:g.Pt(this.props,"suggestion",i),active:n===this.state.activeItemIndex,key:n,suggestion:l,onClick:e=>this.onSelectItem(n,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:n})},icon:r,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:n})}})},(0,E.Lo)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let n=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=n<0?null:n,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let r=this.getParameterForIndex(t);r&&this.triggerInputEvent({parameterValues:{},currentParameter:r,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){let e=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?e=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(e=(0,S.uF)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(e=this.props.localExtensions[this.props.pluginLocalFileId]),!e)throw Error("Plugin not runnable");let{canRun:t}=(0,S.JT)({plugin:e,editorType:this.props.editorType});if(!t)throw Error("Plugin not runnable");this.runArgs={plugin:e,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:this.props.openFile?.key||"",deferRunEvent:!0,isWidget:!1};let n=(0,I.D)();return N.R.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),n}async triggerInputEvent(e){this.eventID++;let t=this.eventID,n=await this.handler;this.eventID===t&&n.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=Math.min(250,Math.max(this.primaryPlaceholderTextRef.current.offsetWidth,120));this.setState({placeholderWidth:e})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,n=t.offsetWidth<t.scrollWidth;e||!n||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,m.trackEvent)(M.yh,(0,M.ov)({...this.props,qaVersion:O.U3})),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){super.componentWillUnmount(),this.ranWithParameters||(0,A.wY)();let e=(0,M.O8)(this.props.parameters,this.state.parameterValues);this.ranWithParameters&&e.requiredEntered!==e.requiredCount&&((0,E.Lo)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,h.$D)(s.e.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let t=(0,M.ov)({...this.props,qaVersion:O.U3});(0,m.trackEvent)(M.rj,{...t,success:this.ranWithParameters,parametersEntered:e.entered,requiredParametersEntered:e.requiredEntered,optionalParametersEntered:e.optionalEntered})}getDropdownItems(e,t,n){if("middle"===n||"final"===n)return[];let a=e.slice(),r=this.props.parameters[n];t.length>0&&r.allowFreeform&&a.unshift("freeform");let l=this.props.parameters[n];return 0===t.length&&l.optional&&a.unshift("skip"),a}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let n=this.getParameterForIndex(e);n&&((0,E.Lo)("PluginParameterEntry","setParameterIndex",{nextParameter:n.name}),this.triggerInputEvent({parameterValues:t,currentParameter:n,currentSearchQuery:""}));let a=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(G),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:a})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:n}=await (0,x.y)(this.runArgs);n||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(C.Rw({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}})),(0,c.k)().qa_frecency_recents_sync&&(0,R.s)({displayText:e,runPluginArgs:t,localFileIdOrPluginId:this.props.pluginLocalFileId??this.props.pluginId})}(0,k.C3)(t)}this.ranWithParameters=!0,this.props.dispatch(b.oB())}renderResults(){if("middle"===this.state.activeParameterIndex)return a.createElement("div",{className:P.wM},a.createElement("div",{className:P.FV},a.createElement("div",{className:P.h8},(0,y.tx)("fullscreen_actions.plugin_parameters.tab")),a.createElement("div",{className:P.w8},(0,y.tx)("fullscreen_actions.plugin_parameters.to_enter_optional_parameters"))),a.createElement("div",{className:P.FV},a.createElement("div",{className:P.h8},(0,y.tx)("fullscreen_actions.plugin_parameters.enter")),a.createElement("div",{className:P.w8},(0,y.tx)("fullscreen_actions.plugin_parameters.to_run_plugin"))));if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=a.createElement("div",{className:F.Tk},this.state.errorMessage):this.state.loadingMessage&&(t=a.createElement("div",{className:F.Tk},this.state.loadingMessage)),0===this.state.items.length)return t;let n=t?this.state.items.length+1:this.state.items.length;return a.createElement(D.h,{ref:this.scrollContainerRef,resultCount:n},this.state.items.map((t,n)=>this.renderResult(e,t,n)),t)}renderCurrentParameters(){let e=this.getCurrentParameter()?.key,t=W(this.props.parameters,this.state.parameterValues,e);return a.createElement(a.Fragment,null,a.createElement(z,{key:"plugin-name",value:this.state.hidePluginName?void 0:this.props.displayName,icon:function(e,t,n){if(!n)return a.createElement(_.B,{className:P.nW,svg:B.A,ariaLabel:"plugin icon"});{let r=e[n];return r||(r=t[n]&&(0,S.uF)(t[n])),a.createElement(L.V,{className:P.nW,plugin:r,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)}),t)}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return a.createElement(a.Fragment,null);if("middle"===e){let e=(0,l.WI)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return a.createElement("span",{ref:this.primaryPlaceholderTextRef},(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:e}))}{let n=this.props.parameters[e],r=this.props.parameters.slice(e);if(n.optional){let e=r.map(e=>e.name);return t&&(e[0]=""),a.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", "))}{let e=(0,l.WI)(r.map(e=>e.optional?null:e.name)),n=(0,l.WI)(r.map(e=>e.optional?e.name:null));return t&&(e[0]=""),a.createElement("span",null,a.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", ")),n.length>0&&a.createElement(a.Fragment,null,a.createElement("span",{className:P.yL,key:"divider"},"|"),a.createElement("span",{key:"optionalParams"},(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:n.join(", ")}))))}}}render(){let e=this.getCurrentParameter(),t=e?.description,n=this.placeholderElement(),r="final"===this.state.activeParameterIndex?P.ed:P.Kf,l={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},i=this.renderResults();return a.createElement(D.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown},a.createElement("div",{className:F.$P},a.createElement(_.B,{svg:U.A,className:F.qc}),a.createElement("div",{className:P.ON,ref:this.searchBarRef},this.renderCurrentParameters(),a.createElement("div",{className:r},a.createElement("input",{ref:this.searchInputRef,className:P.t6,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:l}),a.createElement("div",{className:P.l4},a.createElement("div",{className:P.qf},a.createElement("span",{className:P.CZ},this.state.searchQuery),n))))),!!t&&a.createElement("div",{className:u()({[P.WL]:!0,[P.$8]:!i})},t),i)}}V.displayName="PluginParameterEntry";let H=(0,r.Ng)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanViewPlugins:(0,T.Eh)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,userCanViewWidgets:(0,v.BE)(e),userCanRunExtensions:(0,T.cb)(e)}},function(e){return{dispatch:e}})(V);function z(e){return a.createElement("div",{className:P.Io},e.icon&&a.createElement("span",null,e.icon),e.value&&a.createElement("span",null,e.value))}function W(e,t,n){return e.filter(e=>t[e.key]&&e.key!==n).map(e=>t[e.key]&&t[e.key].name&&a.createElement(z,{icon:Y(t[e.key],P.nW),key:e.key,value:t[e.key].name}))}class j extends g.o6{constructor(){super(...arguments),this.onClick=g.cZ(this,"click",e=>{if(!this.props.onClick)return g.aH;this.props.onClick(e)})}render(){let e=`${this.props.active?F.ix:F.Ke}`;return a.createElement("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},a.createElement("div",{className:F.EA},this.props.icon),a.createElement("div",{className:P.iu},a.createElement("div",{className:F.D6},this.props.suggestion)))}}function Y(e,t){let n="";if(e.iconUrl)n=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)n="data:image/svg+xml;base64,"+o.aj(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;n="data:application/octet-stream;base64,"+o.lF(e.icon)}return a.createElement(J,{className:t,src:n})}j.displayName="ParameterSuggestion";class J extends g.o6{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,h.$D)(s.e.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),a.createElement(a.Fragment,null)):["https:","http:","data:","blob:"].includes(e.protocol)?a.createElement("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,h.$D)(s.e.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),a.createElement(a.Fragment,null))}}J.displayName="UntrustedImage"},192062:(e,t,n)=>{n.d(t,{_:()=>m,h:()=>u});var a=n(848318),r=n(354427),l=n(865114),i=n(720522),o=n(524648),s=n(627977),c=n(575164),d=n(70690);function u({itemPath:e}){let t=a.useRef(null),n=a.useRef(null),o=a.useRef(null),s=a.useRef(null),[u,m]=a.useState("full"),p=(0,l.ZC)(e);a.useLayoutEffect(()=>{(0,r.c2)(e,p)||"full"===u||m("full"),"full"===u&&f()},[p,e,u]);let f=()=>{let e=n.current?.offsetWidth,a=s.current?.offsetWidth,r=o.current?.offsetWidth,l=t.current?.scrollWidth,i=t.current?.clientWidth;void 0!==e&&void 0!==a&&void 0!==r&&l&&i&&i<l&&(e+a>i?m("plugin"):m("path"))};if(1===e.length)return a.createElement("span",{ref:s},e[0]);let g=e.slice(1,e.length-1),h=a.createElement(i.B,{svg:d.A,className:c.VU,dataTestId:"rightChevron"}),E=a.createElement("span",{ref:n},"plugin"===u?"...":e[0],h),_=a.createElement("span",{ref:o},"plugin"!==u&&a.createElement(a.Fragment,null,"path"===u?a.createElement(a.Fragment,null,"...",h):g.map((e,t)=>a.createElement("span",{key:t},e," ",h))));return a.createElement("div",{ref:t,className:c.D6,..."full"!==u?{"data-tooltip-type":"text","data-tooltip":e.join(" > "),"data-tooltip-show-above":!0}:{}},E,_,a.createElement("span",{ref:s},e[e.length-1]))}function m({runPluginArgs:e,itemParameterArgs:t}){let[n,r]=a.useState(!1),l=a.useRef(null);a.useEffect(()=>{let e=l.current;e&&e.offsetWidth<e.scrollWidth&&!n&&r(!0)},[n]);let i=e.parameterValues;if(i){let e=t.parameters,r=(0,o.Hj)(e,i);return a.createElement("div",{className:s.ON,ref:l,"data-testid":"parameter-display"},a.createElement(o.W$,{key:"plugin-name",value:n?void 0:t.displayName}),r)}return a.createElement(a.Fragment,null)}},580851:(e,t,n)=>{n.d(t,{H:()=>d,h:()=>u});var a=n(848318),r=n(781239),l=n(156974),i=n(755534),o=n(142896),s=n(750892),c=n(575164);class d extends r.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return a.createElement(s.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},a.createElement(l.ms,{className:`${c.DU} ${o.Dm}`,style:e,"data-testid":this.props["data-testid"],onClick:this.onContainerClick},a.createElement("div",null,this.props.children)))}}class u extends r.o6{constructor(e){super(e),this.scrollContainerRef=a.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),n=32*e,a=32*e+32;n<t?this.scrollContainerRef.current.scrollTo(n):a>t+304&&this.scrollContainerRef.current.scrollTo(a-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return a.createElement(i.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id},this.props.children,a.createElement("div",{style:{height:8}}))}}},587977:(e,t,n)=>{n.d(t,{X:()=>o});var a=n(166045),r=n(241211),l=n(307843);function i(e){return{key:(0,a.ee)(e),isDisabled:!!e.disabled,resultType:e.pluginId||e.pluginLocalFileId?r.l4.EXTENSION:r.l4.ACTION}}function o(e){let t=new Map;e.forEach(e=>{let n=e.category??"";t.has(n)||t.set(n,[]),t.get(n)?.push(e)});let n=[];for(let[e,a]of t.entries())n.push({name:e,actions:a.map(i)});return(0,l.i6)(n)}},52576:(e,t,n)=>{n.d(t,{l:()=>cD});var a={};n.r(a),n.d(a,{button:()=>sP,buttonContent:()=>sU,buttonText:()=>sB,destructive:()=>sX,destructiveLink:()=>s0,destructiveSecondary:()=>sZ,fauxFocus:()=>sj,icon:()=>sF,largeSize:()=>sV,largeWideSize:()=>sz,link:()=>s$,outlineStyle:()=>sW,primary:()=>sJ,regularSize:()=>sK,secondary:()=>sq,shortcut:()=>sG,signup:()=>sQ,solidStyle:()=>sY,wideSize:()=>sH});var r=n(848318),l=n(301168),i=n(938982),o=n(575055),s=n(186606),c=n(999667),d=n(386040),u=n(952039),m=n(748790),p=n(847727);function f(e={}){return{defaultViewTabsAvailable:e.defaultViewTabsAvailable??!1,defaultViewAssetsTabVisible:e.defaultViewAssetsTabVisible??!1,centeredInPanels:e.centeredInPanels??!1}}let g=(0,r.createContext)(f()),h=g.Provider;function E(){return(0,r.useContext)(g)}var _=n(122586),y=n(315933),b=n(359822),C=n(865114),v=n(843484),w=n(200300),T=n(549899),S=n(652576),k=n(542510),I=n(803107),N=n(873197),x=n(562029),A=n(849911),L=n(241211),O=n(48912),R=n(307843),M=n(416406),D=n(580494),P=n(536384),F=n.n(P),B=n(410441),U=n(926036),G=n(324698),K=n(142896),V=n(474248),H=n(156818),z=n(590641),W=n(476077),j=n(74079),Y=n(257688),J=n(708115),q=n(27776),X=n(846650);let Z=(0,B.jz)(q.j4N);function Q(e){let t=r.useRef(null),n=(0,c.Xr)(I.fq),a=(0,U.wY)(t),{centeredInPanels:l}=E();(0,r.useEffect)(()=>(a?.height&&n(a.height),()=>{n(0)}),[a,n]);let i=function(){let[e]=(0,c.fp)(G.S),t=e?.current?.getBoundingClientRect(),n=!!(t&&t.height>0),a=(0,H.xn)(),l=(0,H.Yk)(),i=(0,z.L)(),o=(0,W.G)(),s=(0,j.ze)();return(0,r.useMemo)(()=>{if((0,D.k)().figjam_quick_actions_v2&&!i&&(!n||s))return{bottom:l+(s&&o?0:12)};if(!n)return null;let e=(0,D.k)().figjam_quick_actions_v2?12:8;return{bottom:Z+a+(t?.height||0)+e}},[a,n,t?.height,l,i,o,s])}(),[o,s]=(0,V.d)(),d=(0,r.useMemo)(()=>l?{left:o-s}:null,[l,o,s]);return r.createElement(r.Fragment,null,r.createElement("div",{ref:t,style:{bottom:72,...i,left:0,...d},className:F()([J.tT,K.Dm]),"data-testid":"quick-actions-v2"},r.createElement(ee,null,e.children)))}function $(e){return r.createElement(Q,null,e.children)}function ee(e){let t=r.useRef(null),n=(0,c.Xr)(I.IH);(0,r.useEffect)(()=>(t.current&&n(t),()=>{n(null)}),[n]);let a=(0,Y.o)();return r.createElement("div",{ref:t,style:{maxWidth:X.X,minWidth:a},className:F()([J.N8,K.Dm]),"data-cancel-insertable-resource-drag-and-drop":"true"},e.children)}var et=n(660376),en=n(857607),ea=n(238462),er=n(781239),el=n(182317),ei=n(297638),eo=n(967688),es=n(867499),ec=n(212885),ed=n(730143),eu=n(280255),em=n(422775),ep=n(168852),ef=n(331084),eg=n(937629),eh=n(880801),eE=n(476254),e_=n(494064),ey=n(219706),eb=n(131258),eC=n(600651),ev=n(988182),ew=n(16309),eT=n(761293),eS=n(815421),ek=n(990140),eI=n(660434),eN=n(759102),ex=n(277930),eA=n(998568),eL=n(540698),eO=n(426459),eR=n(720522),eM=n(744577),eD=n(877146),eP=n(715980),eF=n(500187),eB=n(57762),eU=n(755860),eG=n(959750),eK=n(355755),eV=n(180294),eH=n(554326),ez=n(20687),eW=n(280361),ej=n(274466),eY=n(764474),eJ=n(17753),eq=n(770686),eX=n(197696),eZ=n(81004),eQ=n(192062),e$=n(166045),e0=n(609335),e1=n(813009);function e2(){return(0,e1.R)(e=>{let t={};for(let n in e.mirror.appModel)(0,eX.vg)(n)&&(t[n]=e.mirror.appModel[n]),"isReadOnly"===n&&(t.isReadOnly=e.mirror.appModel.isReadOnly);return t})}var e3=n(430385),e5=n(855965),e4=n(538775),e6=n(706671),e8=n(424172),e9=n(80145),e7=n(260986),te=n.n(e7),tt=n(87463),tn=n(995218),ta=n(768618),tr=n(810503),tl=n(642935);async function ti(e,t,n){let a;return(await tl.Ay.shared.assistantChat({messages:[...t,e]})).pipeThrough((a={},new TransformStream({async transform(e,t){if(e.choices.length&&(a=function(e,t){let n=(e,t)=>{for(let[a,r]of(e={...e},Object.entries(t)))if(void 0===e[a]||null===e[a]){if(e[a]=r,Array.isArray(e[a]))for(let t of e[a])delete t.index}else if("string"==typeof e[a]&&"string"==typeof r)e[a]+=r;else if("number"==typeof e[a]&&"number"==typeof r)e[a]=r;else if(Array.isArray(e[a])&&Array.isArray(r)){let t=e[a];for(let e=0;e<r.length;e++){let{index:a,...l}=r[e];if(a-t.length>1)throw Error(`Error: An array has an empty value when tool_calls are constructed. tool_calls: ${t}; tool: ${r}`);t[a]=n(t[a],l)}}else"object"==typeof e[a]&&"object"==typeof r&&(e[a]=n(e[a],r));return e};return n(e,t.choices[0].delta)}(a,e),t.enqueue({...a,role:"assistant"}),a.tool_calls&&a.tool_calls.length>0&&"tool_calls"===e.choices[0].finish_reason))for(let e of a.tool_calls){let a=await n(e),r={tool_call_id:e.id,role:"tool",name:e.function.name,content:JSON.stringify(a)};t.enqueue(r)}}})))}var to=n(647029),ts=n(106358),tc=n(277454),td=n(294490),tu=n(732550),tm=n(680136),tp=n(452011),tf=n(620964),tg=n(513519),th=n(259964),tE=n(388446),t_=n(765625),ty=n(693602),tb=n(795234),tC=n(304756);let tv=new class{sendFeatureRequest(e){return tC.Ay.post("/api/ask_figma/request_feature",tb.td.toAPIParameters(e))}};var tw=(e=>(e.Idle="idle",e.Loading="loading",e.Error="error",e))(tw||{});let tT=(0,c.eU)({status:"idle",messages:[]}),tS=to.z.object({node_id:to.z.string(),score:to.z.number(),file_name:to.z.string(),editor_name:to.z.string(),editor_img_url:to.z.string(),last_edited_at:to.z.string(),url:to.z.string(),thumbnail_url:to.z.string(),edit_info:to.z.object({created_at:to.z.string(),last_modified:to.z.string(),last_modified_user:to.z.string()}).optional(),containing_page_name:to.z.string(),containing_frame_name:to.z.string().optional(),fragment_name:to.z.string(),width:to.z.number(),height:to.z.number()}),tk=to.z.object({type:to.z.literal("fragments"),status:to.z.literal("success"),fragments:to.z.array(tS)}),tI=to.z.object({type:to.z.literal("fragments"),status:to.z.literal("success"),fragments:to.z.array(tS.pick({score:!0,file_name:!0,editor_name:!0,last_edited_at:!0,containing_page_name:!0,containing_frame_name:!0,fragment_name:!0})),images:to.z.array(to.z.string())}),tN=to.z.object({type:to.z.literal("selection"),status:to.z.literal("success"),selectionLength:to.z.number()}),tx=to.z.object({type:to.z.literal("selection"),status:to.z.literal("success"),selectionLength:to.z.number(),images:to.z.array(to.z.string()),jsx:to.z.array(to.z.string())}),tA=to.z.object({type:to.z.literal("plugin"),status:to.z.literal("success")}),tL=to.z.object({type:to.z.literal("plugin"),status:to.z.literal("success")}),tO=to.z.object({type:to.z.literal("assets"),queries:to.z.array(to.z.string()),status:to.z.literal("success"),assets:to.z.any().array()}),tR=to.z.object({type:to.z.literal("assets"),status:to.z.literal("success"),assets:to.z.array(to.z.object({name:to.z.string(),description:to.z.string().optional()})),images:to.z.array(to.z.string())}),tM=to.z.object({type:to.z.literal("request-feature"),status:to.z.literal("success"),title:to.z.string(),description:to.z.string()}),tD=to.z.object({type:to.z.literal("request-feature"),status:to.z.literal("success"),images:to.z.undefined()}),tP=to.z.object({userFacing:to.z.union([tk,tN,tA,tO,tM]),assistantFacing:to.z.union([tI,tx,tL,tR,tD])});async function tF(e){if("function"!==e.type)throw Error("Unexpected tool_call type:"+e.type);let t=JSON.parse(e.function.arguments),n=c.zl.get(ed.ze);if(!n)throw Error("No file key found");switch(e.function.name){case"autocomplete":case"view_user_selection":{let e=ta.UN().getCurrentPage()?.directlySelectedNodes??[],t=e?.slice(0,10),n=t.map(e=>{let t=(0,es.T1)(e,es.UF.GPT);if(!t)throw Error("Failed to export thumbnail");return t}),a=t.map(e=>"");return{userFacing:{type:"selection",status:"success",selectionLength:e.length},assistantFacing:{type:"selection",status:"success",selectionLength:e.length,images:n,jsx:a}}}case"visual_search_with_selection":case"search_designs_by_text":{let a=[];if("visual_search_with_selection"===e.function.name){let e=ta.UN().getCurrentPage()?.directlySelectedNodes;if(!e||0===e.length)throw Error("No selection found");a=(await (0,es.lc)({type:"input-selection",node:e[0],file_key:n,name:e[0].name})).slice(0,3)}else a=(await (0,es.c)({type:"input-text",value:t.query,file_key:n})).slice(0,3);return{userFacing:{type:"fragments",status:"success",fragments:a},assistantFacing:{type:"fragments",status:"success",fragments:a.map(e=>({score:e.score,file_name:e.file_name,editor_name:e.editor_name,last_edited_at:e.last_edited_at,containing_page_name:e.containing_page_name,containing_frame_name:e.containing_frame_name,fragment_name:e.fragment_name})),images:a.map(e=>e.thumbnail_url)}}}case"search_components_by_text":{let e=t.queries.slice(0,3);if(0===e.length)throw Error("No queries provided");let n=(await Promise.all(e.map(e=>tU(e)))).map(e=>e.slice(0,3)).flat(),a=[],r=[];return n.map(e=>{if(!e.thumbnail_url)return;let t=e.thumbnail_url.startsWith("/")?`${window.location.origin}${e.thumbnail_url}`:e.thumbnail_url;a.push(e),r.push(t)}),{userFacing:{type:"assets",status:"success",queries:t.queries,assets:a},assistantFacing:{type:"assets",status:"success",assets:a.map(e=>({name:e.name,description:e.description})),images:r}}}case"create_figma_plugin":let a=to.z.object({plugin_code:to.z.string(),ui_code:to.z.string().optional()}).safeParse(t);if(!a.success)throw Error("Invalid args: "+a.error.toString());let{plugin_code:r,ui_code:l}=a.data;return tB(r,l);case"edit_file":{let e=to.z.object({code:to.z.string()}).safeParse(t);if(!e.success)throw Error("Invalid args: "+e.error.toString());let{code:n}=e.data;return tB(n)}case"request_feature":let i=to.z.object({title:to.z.string(),description:to.z.string()}).safeParse(t);if(!i.success)throw Error("Invalid args: "+i.error.toString());let{title:o,description:s}=i.data,d={title:o,description:s,chatHistory:c.zl.get(tT).messages};return await tv.sendFeatureRequest(d),{userFacing:{type:"request-feature",status:"success",title:o,description:s},assistantFacing:{type:"request-feature",status:"success"}};default:throw Error(`No function found for ${e.function.name}`)}}async function tB(e,t){let n=c.zl.get(ed.ze),a=(0,tE.o8)();if(!a)throw Error("Cannot run plugin while logged out");if(!n)throw Error("No file key found");await (0,tp.wY)();let r=`
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    ${t}
    </script>
    <div id="root"></div>
    `,l=t?(0,ez.nx)(e,r):e,i=(0,tp.mv)();return tp.iu.currentPluginRunID=i,(0,tm.E9)({allowedDomains:t_.gH,apiVersion:tu.pS,capabilities:[],stats:new ty.P,checkSyntax:!0,code:l,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:ea.lQ,isLocal:!0,isWidget:!1,name:"Assistant plugin",openFileKey:n,permissions:ez.qH.forFirstPartyPlugin(),pluginID:"",pluginRunID:i,pluginVersionID:"0",queryMode:!1,showLaunchErrors:!0,showRuntimeErrors:!0,titleIconURL:"",userID:a,vmType:"cppvm",editorType:[eY.FW.FIGMA],incrementalSafeApi:!1,enableNativeJsx:!1}),{userFacing:{type:"plugin",status:"success"},assistantFacing:{type:"plugin",status:"success"}}}async function tU(e){let t=eE.D.getState(),n=(0,ed.tB)(t),a=(0,tg.vx)(t);if(!n||null==a)throw Error("No open file or file version found");let r=1;for(;!(0,td.Wg)(eE.D.getState())&&r<=50;)await new Promise(e=>setTimeout(e,200*r)),r++;if(!(0,td.Wg)(eE.D.getState()))throw Error("Failed to initialize assets");let l={type:ep.I.ALL},i=(0,th.yY)((0,tn.XE)((0,tf.h)(t))),o=c.zl.get(ts.qp);t=eE.D.getState();let s={type:"input-text",query:e,assetTypeOption:l,isKnownLibrary:e=>!0,openFile:(0,ed.tB)(t),selectedView:(0,tf.h)(t),inDesignEditor:i,fileVersion:a,currentOrgId:(0,tc.eD)(t),fileByKey:(0,tg.t_)(t),libraryByLibraryKey:o,includeVisualAssets:!1,usedAssetKeys:(0,tc.ET)(t,eE.D.dispatch)};td.YG.refreshSourcesIfNeeded(eE.D);let d=await td.YG.computeResultsReduxSearchTypeHelper(e,l,i,o,null),u=d.normalizedSearchResults;return u=d.normalizedSearchResults.filter(e=>s.isKnownLibrary(e)),(0,td.Ow)(u)}async function tG(e,t,n,a){try{let r;let l=ta.UN().getCurrentPage()?.directlySelectedNodes,i="string"==typeof e?{role:"user",content:[{type:"text",text:`<user_message><user_input>${e}</user_input><selected_layer_ids>${l&&JSON.stringify(l.map(e=>e.guid))}</selected_layer_ids></user_message>`}]}:e;n(e=>({...e,status:tw.Loading,messages:[...e.messages,i]}));let o=[];for(let e of t){let t=function(e){if("tool"!==e.role)return e;let t=e.content,n="string"==typeof t?JSON.parse(t):t,a=tP.parse(n).assistantFacing,r=a.type;switch(r){case"selection":case"assets":case"fragments":let{images:l,...i}=a;return{...e,content:JSON.stringify(i)};case"plugin":case"request-feature":return e;default:(0,et.xb)(r)}}(e);o.push(t)}let s=(await ti(i,o,a)).getReader();for(;;){let{done:e,value:t}=await s.read();if(e){n(e=>({...e,status:tw.Idle}));break}let{sendFollowup:a,newMessages:l}=function(e){if("tool"!==e.role)return{sendFollowup:!1,newMessages:[]};let t=e.content,n="string"==typeof t?JSON.parse(t):t,a=tP.parse(n),r=a.assistantFacing.type;switch(r){case"selection":case"assets":case"fragments":return{sendFollowup:!0,newMessages:[{role:"user",content:[{type:"text",text:"\x3c!-- The tool call showed me the following images: --\x3e"},...a.assistantFacing.images.map(e=>({type:"image_url",image_url:{url:e.startsWith("http")?e:`data:image/jpeg;base64,${e}`,detail:"high"}}))]}]};case"plugin":case"request-feature":return{sendFollowup:!1,newMessages:[]};default:(0,et.xb)(r)}}(t);l.length>0&&a&&(r=l[l.length-1]),n(e=>"string"==typeof t.content&&0===t.content.length||t.role!==e.messages[e.messages.length-1]?.role?{status:tw.Loading,messages:[...e.messages,t,...l]}:{status:tw.Loading,messages:[...e.messages.slice(0,-1),t,...l]})}r&&tG(r,c.zl.get(tT).messages,n,a)}catch(e){(0,tr.Lo)("Send chat message failed: ",e.message),n(e=>({...e,status:tw.Error}))}}var tK=n(138528),tV=n(517523),tH=n(807093),tz=n(709076),tW=n(798674),tj=n(208971),tY=n(314921),tJ=n(143823),tq=n(332174),tX=n(749214);let tZ=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",d:"M11.5 5a6.5 6.5 0 0 1 4.935 10.728l3.419 3.419.064.078a.5.5 0 0 1-.693.693l-.079-.064-3.419-3.42A6.5 6.5 0 1 1 11.5 5m0 1a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11m-.485 2.44c.126-.505.844-.505.97 0l.515 2.06 2.06.515c.505.126.505.844 0 .97l-2.06.515-.515 2.06c-.126.505-.844.505-.97 0L10.5 12.5l-2.06-.515c-.505-.126-.505-.844 0-.97l2.06-.515z"})})});var tQ=n(618695),t$=n(735695),t0=n(958662),t1=n(713196),t2=n(586646),t3=n(2446),t5=n(531711),t4=n(740705),t6=n(978877),t8=n(31898),t9=n(125761),t7=n(74583),ne=n(441764),nt=n(738205),nn=n(144500),na=n(273095),nr=n(156859),nl=n(531788),ni=n(454805),no=n(446951),ns=n(175393);function nc({url:e}){return r.createElement("img",{src:e,className:ei.s.maxW100.$,alt:"debug"})}function nd(e){let{obj:t,depth:n=0}=e;if(null===t)return r.createElement("span",{className:ei.s.colorTextTertiary.$},(0,eo.t)("assistant.debug.null"));if("object"!=typeof t){if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);return r.createElement(nd,{obj:e,depth:n})}catch(e){}return t.startsWith("data:image")?r.createElement(nc,{url:t}):t.length>300&&t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/)?r.createElement(nc,{url:`data:image/jpeg;base64,${t}`}):r.createElement("span",{className:ei.s.colorTextSuccess.$},'"',t,'"')}return"number"==typeof t?r.createElement("span",{className:ei.s.colorTextSelected.$},t):"boolean"==typeof t?r.createElement("span",{className:ei.s.colorTextComponent.$},t.toString()):r.createElement("span",null,t)}let a=Array.isArray(t),l=a?["[","]"]:["{","}"],i=Object.entries(t);return r.createElement("div",{style:{marginLeft:`${8*n}px`}},l[0],i.length>0&&r.createElement("div",null,i.map(([e,t],l)=>r.createElement("div",{key:e},!a&&r.createElement("span",{className:ei.s.colorTextDanger.$},`"${e}:" `),r.createElement(nd,{obj:t,depth:n+1}),l<i.length-1&&","))),l[1])}function nu(e){let{data:t}=e;return r.createElement("pre",{contentEditable:!0,className:"font-mono text-sm select-all text-wrap"},r.createElement(nd,{obj:t}))}function nm({messages:e}){return r.createElement("div",null,r.createElement("div",{className:ei.s.px2.py2.$},r.createElement(nu,{data:e})))}let np=(0,no.Ju)(function({messages:e}){let t=(0,l.wA)();return r.createElement(ns.vx,{onClose:()=>{t(t8.AS())},initialPosition:new ni.Mi(0,0),initialWidth:400,allowResizeWidth:!0,autoflowHeight:!0,title:(0,eo.t)("assistant.debug.title"),dragHeaderOnly:!0},r.createElement("div",{className:ei.s.px2.py2.$,style:{height:600,overflowX:"scroll",overflowY:"scroll"}},r.createElement(nl.$n,{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,void 0,2))}},(0,eo.t)("assistant.debug.copy_all")),r.createElement(nm,{messages:e})))},"AssistantDebugModal",no.ZU.YES);function nf(){let[e,t]=r.useState(""),[n,a]=(0,c.fp)(tT),i=(0,l.wA)(),o=(0,l.d4)(e=>e.modalShown);(0,ef.b)();let s=r.useCallback(()=>{if(o&&o.type===np.type){i(t8.AS());return}i(t8.to({type:np,data:{messages:n.messages}}))},[n.messages,i,o]);r.useEffect(()=>{o?.type!==np.type||i(t8.hm({type:np.type,data:{messages:n.messages}}))},[n.messages,i,o]);let d=r.useCallback(()=>{"/debug"===e?s():tG(e,n.messages,a,tF),t("")},[e,n.messages,a,s]);return r.createElement(ev.n,{height:eh.wC,hideActionPanel:!0},r.createElement(ev.n.Body,null,0===n.messages.length?r.createElement(ng,null):r.createElement(nn.q,{stretchContent:!1,useBottomPinning:!0,enableScrollShadow:!0},r.createElement("div",{className:ei.s.py8.flex.flexColumn.gap4.$},n.messages.map((e,t)=>r.createElement(nb,{key:`msg-${t}`,message:e})),r.createElement("div",{style:{marginLeft:"44px",marginRight:"12px"}},r.createElement(n_,{status:n.status}))))),r.createElement(ev.n.Footer,null,r.createElement(ew.vj,{placeholder:(0,eo.t)("fullscreen_actions.assistant-chat"),searchQuery:e,onSearchChange:t,endEnhancer:r.createElement(ne.r,{shortcuts:[{key:en.Uz.ENTER}],onAction:d,disabled:0===e.length||n.status===tw.Loading},(0,eo.t)("assistant.chat.send_message"))})))}function ng(){return r.createElement("div",{className:ei.s.flex.flexColumn.itemsCenter.justifyEnd.hFull.gap8.$},r.createElement(tq.m,null),r.createElement("div",{className:ei.s.flex.flexRow.gap16.$},r.createElement("div",{className:ei.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},r.createElement(nh,{inputToSend:"Find similar designs to my selection"},r.createElement(tZ,null),"Find designs"),r.createElement(nh,{inputToSend:"I want to request a feature."},r.createElement(tQ.V,null),(0,eo.t)("assistant.chat.suggestion.request_feature"))),r.createElement("div",{className:ei.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},r.createElement(nh,{inputToSend:"Make a plugin that creates rectangles in a grid"},r.createElement(t$.x,null),(0,eo.t)("assistant.chat.suggestion.make_tool")),r.createElement(nh,{inputToSend:"",disabled:!0},r.createElement(t0.C,null),(0,eo.t)("assistant.chat.suggestion.coming_soon")))))}function nh({children:e,inputToSend:t,disabled:n}){let[a,l]=(0,c.fp)(tT),i=r.useCallback(()=>{tG(t,a.messages,l,tF)},[t,a.messages,l]);return r.createElement("button",{className:ei.s.flex.flexColumn.justifyEnd.wFull.b1.colorBorder.gap8.textBodyLargeStrong.p12.if(n,ei.s.colorTextSecondary).$,style:{borderRadius:13,minWidth:150,...n&&{"--color-icon":"var(--color-text-secondary)"}},onClick:i,disabled:n},e)}function nE({children:e}){return r.createElement("div",{className:ei.s.flex.flexRow.itemsCenter.wFull.b1.colorBorder.gap8.h40.textBodyLargeStrong.px4.mr12.$,style:{borderRadius:13}},e)}function n_({status:e}){let t;switch(e){case tw.Idle:t=null;break;case tw.Loading:t=r.createElement(nE,null,r.createElement("div",{className:ei.s.pl4.flex.itemsCenter.justifyCenter.$},r.createElement(tJ.k,null)),r.createElement("div",{className:ei.s.colorTextSecondary.$},(0,eo.t)("assistant.chat.status.loading")));break;case tw.Error:t=r.createElement(nE,null,r.createElement(t1.Z,null),(0,eo.t)("assistant.chat.status.error"));break;default:(0,et.xb)(e)}return r.createElement(t4.N,{mode:"popLayout",initial:!1},r.createElement(t6.P.div,{key:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},t))}function ny(e){let t=r.useRef(null),n=(0,l.d4)(ed.tB);try{let a=e.content,l="string"==typeof a?JSON.parse(a):a,{userFacing:i}=tP.parse(l);if("fragments"===i.type){let e=i.fragments.map(e=>({...e,type:"fig-file-fragment"}));return r.createElement(nr.U,{fragments:e,focusHandle:t,numberOfGridColumns:3,maxResults:3,entryPoint:es.G4.ACTIONS_LIST,disableActionShortcuts:!0})}if("assets"===i.type)return r.createElement(nt.x,{primary:!0,columns:3,padding:8,gap:12},i.assets.map((e,t)=>r.createElement(na.a,{key:t,asset:e,assetTypeDropdownSelection:ep.I.ALL,disableActionShortcuts:!0,libraryNameByLibraryKeyFromLG:{},openFileKey:n?.key??"",queryId:"",searchQuery:i.queries[0],searchSessionId:c.zl.get(I.dd)??"",sectionPosition:t})));if("selection"===i.type)return r.createElement(nE,null,r.createElement(t2.W,null),(0,eo.t)("assistant.chat.tool_result.selection.success"));if("request-feature"===i.type)return r.createElement(nE,null,r.createElement(t2.W,null),(0,eo.t)("assistant.chat.tool_result.feature_request"));return r.createElement(nE,null,r.createElement(t3.g,null),(0,eo.t)("assistant.chat.tool_result.success"))}catch(e){return r.createElement(nE,null,r.createElement(t1.Z,null),(0,eo.t)("assistant.chat.tool_result.error"))}}function nb({message:e}){let t=(0,t9.iZ)();return"user"===e.role&&"string"!=typeof e.content&&e.content?.length&&e.content[0]?.type==="text"&&e.content[0].text.startsWith("\x3c!--")||"assistant"===e.role&&!e.content||"tool"===e.role&&!e.content?null:r.createElement("div",{className:ei.s.px12.py4.flex.wFull.$},r.createElement("div",{className:ei.s.gap8.flex.wFull.$},r.createElement("div",{className:ei.s.w24.h24.flexShrink0.flex.itemsCenter.justifyCenter.$},"assistant"===e.role||"tool"===e.role?r.createElement(tq.m,null):t?.img_url?r.createElement(t7.J,{src:t.img_url,className:ei.s.w16.h16.radiusFull.$}):r.createElement(t5._,null)),r.createElement("div",{className:ei.s.flex.flexColumn.wFull.pt2.$},r.createElement("span",{className:ei.s.textBodyLargeStrong.$},"assistant"===e.role||"tool"===e.role?"Figma":"You"),"tool"===e.role?r.createElement("div",{className:ei.s.wFull.pt4.$},r.createElement(ny,{...e})):"string"==typeof e.content?r.createElement(nC,{text:e.content}):r.createElement("div",null,null===e.content?null:e.content.map((e,t)=>"text"===e.type?r.createElement(nC,{key:`sub-t-${t}`,text:e.text}):null)))))}function nC({text:e}){let t=e;try{let n=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("user_input");n.length>0&&(t=n[0].textContent||"")}catch{}return r.createElement("div",null,t.split("\n").map((e,t)=>r.createElement("span",{key:`l-${t}`},e,r.createElement("br",null))))}var nv=n(98197),nw=n(324762),nT=n(363367),nS=n(361964),nk=n(698429),nI=n(112661),nN=n(21614);let nx=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5V14H7v3.5A1.5 1.5 0 0 0 8.5 19h7a1.5 1.5 0 0 0 1.5-1.5V9.414a1 1 0 0 0-.293-.707l-3.414-3.414A1 1 0 0 0 12.586 5H8.5A1.5 1.5 0 0 0 7 6.5V11h1V6.5a.5.5 0 0 1 .5-.5H12v2.5a1.5 1.5 0 0 0 1.5 1.5H16zM13 6.414V8.5a.5.5 0 0 0 .5.5h2.086zm-2.146 3.732a.5.5 0 0 0-.708.708L11.293 12H5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708z",clipRule:"evenodd"})})});var nA=n(223926),nL=n.n(nA),nO=n(104014),nR=n.n(nO);function nM(){let e=(0,l.d4)(e=>e.mirror?.appModel);return(t,n,a=!1)=>{let r=t[n];if(r&&(a||!r.disabled&&(!r.action||(0,eX.Yh)(e,n))))return r}}function nD(e){switch(e){case tH.b.RECENTS:return 0;case tH.b.ORGANIZE:return 1;case tH.b.TEMPLATES_AND_DIAGRAMS:return 2;case tH.b.IMAGE_EDITING:return 3;case tH.b.DESIGN_TOOLS:return 4;case tH.b.RIFFING_AND_WRITING:return 5;case tH.b.COLLABORATION_TOOLS:return 6;case tH.b.HANDOFF_TOOLS:return 7;case tH.b.VIEWER_TOOLS:return 8;case tH.b.SUGGESTIONS:return 9;case tH.b.COMMON_SETTINGS:return 10;case tH.b.SEARCH_FOR:return 11;case tH.b.MATCHING_ACTIONS:return 12;case null:return 100;default:return(0,et.xb)(e)}}var nP=n(912344),nF=n(351626),nB=n(818995),nU=n(775164),nG=n(432741),nK=n(849073),nV=n(712992),nH=n(704764);let nz=new Set([eh.JT.REMOVE_BACKGROUND,eh.JT.UPSCALE_IMAGE,eh.JT.EDIT_IMAGE]);var nW=(e=>(e[e.NONE=0]="NONE",e[e.IMAGE=1]="IMAGE",e[e.PLACEHOLDER=2]="PLACEHOLDER",e))(nW||{});let nj=new Map([[eh.JT.REMOVE_BACKGROUND,tH.b.IMAGE_EDITING],[eh.JT.UPSCALE_IMAGE,tH.b.IMAGE_EDITING],[eh.JT.GENERATE_IMAGE,tH.b.IMAGE_EDITING],[eh.JT.EDIT_IMAGE,tH.b.IMAGE_EDITING],[eh.JT.AUTO_RENAME_LAYERS,tH.b.DESIGN_TOOLS],[eh.JT.CONTENT_FILL,tH.b.DESIGN_TOOLS],[eh.JT.FIND_INSPIRATION,tH.b.DESIGN_TOOLS],[eh.JT.FIRST_DRAFT,tH.b.DESIGN_TOOLS],[eh.JT.FIRST_DRAFT_FINE_TUNE,tH.b.DESIGN_TOOLS],[eh.JT.MAGIC_LINK,tH.b.DESIGN_TOOLS],[eh.JT.MAKE_EDITS,tH.b.DESIGN_TOOLS],[eh.JT.DETECT_VIOLATIONS,tH.b.DESIGN_TOOLS],[eh.JT.REWRITE_TEXT,tH.b.RIFFING_AND_WRITING],[eh.JT.SLIDES_GENERATE_SPEAKER_NOTES,tH.b.RIFFING_AND_WRITING],[eh.JT.SLIDES_REWRITE_TEXT,tH.b.RIFFING_AND_WRITING],[eh.JT.SHORTEN_TEXT,tH.b.RIFFING_AND_WRITING],[eh.JT.TRANSLATE_TEXT,tH.b.RIFFING_AND_WRITING],[eh.JT.WHITEBOARD_GENERATE_CONTENT,tH.b.TEMPLATES_AND_DIAGRAMS],[eh.JT.SUMMARIZE_STICKIES,tH.b.ORGANIZE],[eh.JT.SORT_STICKIES_BY_TOPIC,tH.b.ORGANIZE],[eh.JT.MIND_MAP_GENERATE_IDEAS,tH.b.TEMPLATES_AND_DIAGRAMS],[eh.OZ,tH.b.DESIGN_TOOLS]]),nY=[["set-tool-comments",tH.b.COLLABORATION_TOOLS],["present-as-prototype",tH.b.COLLABORATION_TOOLS],["set-tool-measure",tH.b.HANDOFF_TOOLS],["set-tool-annotate",tH.b.HANDOFF_TOOLS],["zoom-to-fit",tH.b.VIEWER_TOOLS],["export-selected-exportables",tH.b.VIEWER_TOOLS],["copy-as-png",tH.b.VIEWER_TOOLS]],nJ=[["theme-light-mode",tH.b.COMMON_SETTINGS],["theme-dark-mode",tH.b.COMMON_SETTINGS],["theme-system",tH.b.COMMON_SETTINGS]],nq=[["theme-light-mode",tH.b.COMMON_SETTINGS],["theme-dark-mode",tH.b.COMMON_SETTINGS],["theme-system",tH.b.COMMON_SETTINGS]],nX=[["request-to-edit",tH.b.COLLABORATION_TOOLS],["set-tool-comments",tH.b.COLLABORATION_TOOLS],["present-as-prototype",tH.b.COLLABORATION_TOOLS],["zoom-to-fit",tH.b.VIEWER_TOOLS],["page-next",tH.b.VIEWER_TOOLS],["export-selected-exportables",tH.b.VIEWER_TOOLS],["toggle-rulers",tH.b.VIEWER_TOOLS]];var nZ=(e=>(e.DESIGN_EDITOR_AI="DESIGN_EDITOR_AI",e.DESIGN_EDITOR_NO_AI="DESIGN_EDITOR_NO_AI",e.DESIGN_VIEWER="DESIGN_VIEWER",e.DEV_MODE="DEV",e.VARIABLES_TABLE="VARIABLES_TABLE",e.COMPONENT_BROWSER="COMPONENT_BROWSER",e.NONE="NONE",e))(nZ||{});function nQ(){let e=s.Ez5?.singleSlideView().isFocusedNodeViewFocused(),t=(0,nw.VW)(),n=(0,nw.Tv)();return(null===t||!t.isSlide||!e)&&n.length>0}function n$(e,t){let n=(0,l.d4)(e=>e.selectedView);return r.useMemo(()=>new nI.xm(e,n,t,{includeDisabled:!0,acceptsUnicode:!0}),[e,n,t])}var n0=n(219377),n1=n(20649),n2=n(829290),n3=n(91876),n5=n(62060),n4=n(845686),n6=n(818733);let n8=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v6a.5.5 0 0 1-1 0V10h-6v7h2.5a.5.5 0 0 1 0 1h-6A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zM10 17v-7H7v6.5a.5.5 0 0 0 .5.5zM7 9h10V7.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5zm9.7 7.7.315-1.26c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 18.3l-1.26-.315c-.505-.126-.505-.844 0-.97z",clipRule:"evenodd"})})});var n9=n(838647),n7=n(934615),ae=n(97612),at=n(803521),an=n(189819),aa=n(412892),ar=n(58153);let al=(0,r.memo)(function(e){return(0,ar.O)()?(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",d:"M13.5 5a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5m-2 1a.5.5 0 0 1 0 1H8a1 1 0 0 0-.995.897L7 8v8a1 1 0 0 0 1 1h3.5a.5.5 0 0 1 0 1H8l-.204-.01a2 2 0 0 1-1.785-1.786L6 16V8a2 2 0 0 1 1.796-1.99L8 6zm6 9.5a.5.5 0 0 1 .5.5l-.01.204a2 2 0 0 1-1.786 1.785L16 18h-.5a.5.5 0 0 1 0-1h.5a1 1 0 0 0 1-1 .5.5 0 0 1 .5-.5m-6-1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm5.515-4.56c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 12.8l-1.26-.315c-.505-.126-.505-.844 0-.97l1.26-.315zM11.5 12.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm0-2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm0-2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm4.704-2.49A2 2 0 0 1 18 8a.5.5 0 0 1-1 0 1 1 0 0 0-.898-.995L16 7h-.5a.5.5 0 0 1 0-1h.5z"})}):(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",d:"M13.5 5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 .5-.5m-2 1a.5.5 0 0 1 0 1H8a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h3.5a.5.5 0 0 1 0 1H8l-.204-.01a2 2 0 0 1-1.785-1.786L6 15V8a2 2 0 0 1 1.796-1.99L8 6zm6.296 9c.11 0 .2.093.193.204a2 2 0 0 1-1.785 1.785L16 17h-.5a.5.5 0 0 1 0-1h.5a1 1 0 0 0 .884-.532c.126-.238.334-.468.603-.468zM11.5 14a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm5.515-4.56c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97l1.26-.315zM11.5 12a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm0-2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm0-2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm4.704-1.99c.842.086 1.53.694 1.735 1.495.068.267-.163.495-.439.495s-.49-.237-.622-.48a1 1 0 0 0-.776-.515L16 7h-.5a.5.5 0 0 1 0-1h.5z"})})});var ai=n(229685);let ao=(0,r.memo)(function(e){return(0,ar.O)()?(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 7a.5.5 0 0 1 .5.5v1h1a.5.5 0 1 1 0 1h-1v1a.5.5 0 1 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 .5-.5M8.564 7.62l-.589 2.355-2.355.589c-1.495.374-1.495 2.498 0 2.872l2.355.588.59 2.356c.373 1.494 2.497 1.494 2.87 0l.59-2.356 2.355-.588c1.495-.374 1.495-2.498 0-2.872l-2.355-.589-.59-2.355c-.373-1.495-2.497-1.495-2.87 0m.97.242L8.8 10.8l-2.937.734c-.485.121-.485.81 0 .931L8.8 13.2l.734 2.937c.122.485.81.485.932 0L11.2 13.2l2.937-.735c.485-.12.485-.81 0-.93L11.2 10.8l-.734-2.938c-.121-.484-.81-.484-.932 0",clipRule:"evenodd"})}):(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9.064 7.12-.589 2.356-2.355.589c-1.495.373-1.495 2.498 0 2.871l2.355.589.59 2.355c.373 1.495 2.497 1.495 2.87 0l.59-2.355 2.355-.589c1.495-.373 1.495-2.498 0-2.871l-2.355-.59-.59-2.354c-.373-1.495-2.497-1.495-2.87 0m.97.243L9.3 10.3l-2.937.735c-.485.12-.485.81 0 .931L9.3 12.7l.734 2.938c.122.484.81.484.932 0L11.7 12.7l2.937-.734c.485-.121.485-.81 0-.931L11.7 10.3l-.734-2.937c-.121-.485-.81-.485-.932 0M15.5 7a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1m1.5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M15.5 14a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 1 1 0 1H16v.5a.5.5 0 0 1-1 0V16h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 .5-.5",clipRule:"evenodd"})})}),as=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m6.18 4.781-.28 1.12-1.12.28c-.333.083-.333.556 0 .64l1.12.28.28 1.119c.083.333.557.333.64 0L7.1 7.1l1.12-.28c.333-.083.333-.556 0-.64L7.1 5.9l-.28-1.119c-.083-.333-.557-.333-.64 0m4.32 1.22a.5.5 0 1 0 0 1h8a.5.5 0 0 0 0-1zm0 5a.5.5 0 1 0 0 1h8a.5.5 0 0 0 0-1zm0 5a.5.5 0 1 0 0 1h8a.5.5 0 0 0 0-1zM6.18 9.78 5.9 10.9l-1.12.28c-.333.083-.333.556 0 .64l1.12.28.28 1.119c.083.333.557.333.64 0l.28-1.12 1.12-.28c.333-.083.333-.556 0-.64L7.1 10.9l-.28-1.119c-.083-.333-.557-.333-.64 0m-.28 6.12.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.083.333.556 0 .64l-1.12.28-.28 1.119c-.083.333-.557.333-.64 0L5.9 17.1l-1.12-.28c-.333-.083-.333-.556 0-.64z",clipRule:"evenodd"})})}),ac=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 6h4v4H6zM5 6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1zm10.515 7.44L15.1 15.1l-1.66.415c-.505.126-.505.844 0 .97l1.66.415.415 1.66c.126.505.844.505.97 0l.415-1.66 1.66-.415c.505-.126.505-.844 0-.97L16.9 15.1l-.415-1.66c-.126-.505-.844-.505-.97 0M10 14H6v4h4zm-4-1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1zm8-7h4v4h-4zm-1 0a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z",clipRule:"evenodd"})})}),ad=(0,r.memo)(function(e){return(0,tX.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,tX.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 13 6.5V7h-.5A1.5 1.5 0 0 0 11 8.5V11a.5.5 0 0 1-.5.5H10V11a1.5 1.5 0 0 0-1.5-1.5h-2A1.5 1.5 0 0 0 5 11v2a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 10 13v-.5h.5a.5.5 0 0 1 .5.5v2.5a1.5 1.5 0 0 0 1.5 1.5h.5v.5a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-2a1.5 1.5 0 0 0-1.5-1.5h-2a1.5 1.5 0 0 0-1.5 1.5v.5h-.5a.5.5 0 0 1-.5-.5V13c0-.384-.144-.735-.382-1 .238-.265.382-.616.382-1V8.5a.5.5 0 0 1 .5-.5h.5v.5a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 18 8.5v-2A1.5 1.5 0 0 0 16.5 5zm-6 5.5h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2A.5.5 0 0 0 9 13v-2a.5.5 0 0 0-.5-.5m6 4.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5",clipRule:"evenodd"})})});var au=n(204295),am=n(32078),ap=n(762716),af=n(906314),ag=n(313405),ah=n(107584),aE=n(79083),a_=n(303397),ay=n(133595),ab=n(612363),aC=n(815347);let av=async()=>{let e=(0,ah.r)();if(!e)return{error:"Linter not available`",violations:[]};try{if(c.zl.set(ay.Vg,(0,el.g)()),a_.Y5.triggerAction("detect-violations",{source:"toolbar"}),await e.isLayerLimitExceeded())return{error:"Layer limit exceeded"};let t=c.zl.get(ab._M);return(0,aC.y4)(t)||(c.zl.set(ab._M,aE.FR.ALL_VISUAL_GROUPS_VIEW),await e.requestDetection()),{}}catch(e){return{error:e.message}}};var aw=n(385253),aT=n(203667),aS=n(129256),ak=n(791468),aI=n(50839),aN=n(53984),ax=n(448394),aA=n(319195),aL=n(813790),aO=n(619534),aR=n(201587),aM=n(552898),aD=n(363978),aP=n(542462),aF=n(279753),aB=n(580605);function aU({action:e,actionType:t,actionIcon:n,actionLabel:a,instructionLabel:l}){let[i]=(0,c.fp)(aA.hQ),o=(0,aF.s)(e),{close:s}=(0,A.cq)(),d=(0,ey._M)({action:e,clientLifecycleId:void 0});return i?(s(),null):e&&o.state!==aF.w.SELECTION_OK?r.createElement(aB.A,{action:e,actionIcon:n,actionLabel:a,onPerform:()=>{o.confirmInitialSelection(),(0,aA.J7)(t),s()},aiTrackingContext:d,instructionAction:{type:"learn_more",url:eh.UW}},l):null}var aG=n(598171),aK=n(963586),aV=n(92454),aH=n(376852),az=n(879169),aW=n(803565),aj=n(320953),aY=n(127974),aJ=n(142917),aq=n(609759),aX=n(989232),aZ=n(206639),aQ=n(879263),a$=n(129921);function a0(e,t){return(0,a$.YJ)({nodeIds:Object.keys(e),options:{skipNodeIds:!1,detachInstances:!0,includeType:!0,skipNodeIdsWithoutType:t,classPropName:"class",autoLayoutTagName:"div",frameTagName:"div"}})}var a1=n(391277),a2=n(325498);let a3="first_draft_prompt_history_";var a5=n(861868),a4=n(691450);async function a6(e,t,n){let a=(0,ta.UN)();for(let r of n.flatMap(e=>e.nodeWeightInfos)){let n=a.get(r.nodeId);if(!n)continue;let l=function(e,t,n,a){if(!a4.z[t])return;let r=a4.z[e];if(r)return r[n][a]}(t,n.fontName.family,e,r.weight),i={family:t,style:l?.style??n.fontName.style};try{await (0,a5.uW)(i),aj.l7.user("first-draft-theme-modal-adjust-font-family",()=>{n.fontName=i})}catch(a){let e={family:t,style:"Regular"};try{await (0,a5.uW)(e),aj.l7.user("first-draft-theme-modal-adjust-font-family",()=>{n.fontName=e})}catch(t){let e=void 0===t?"undefined":t instanceof Error?t.message:JSON.stringify(t);aX.definedAnalyticsHandler.trackDefinedEvent("ai_generation.first_draft_font_error",{error:e,family:i.family,style:i.style,location:"adjust-font"})}}aj.l7.user("first-draft-theme-modal-adjust-font-family",()=>{l?.letterSpacing!==void 0&&(n.letterSpacing=l.letterSpacing)})}}var a8=n(409893),a9=n(996115),a7=n(486879),re=n(902649),rt=n(763467),rn=n(818543),ra=n(904331),rr=n(876747),rl=n(915315),ri=n(576489);let ro=new rl.q(40);async function rs({changes:e,makeChangesSessionId:t,clientLifecycleId:n,containingNodeId:a,instrumentationRef:r}){let l=(0,ta.UN)().get(e.affectedId);if(!l)return!1;let o=`${t}:${e.affectedId}`;if(ro.has(o))return(0,eA.$D)(i.e.AI_GENERATION,Error("first-draft: Attempted to apply content changes twice"),{extra:{clientLifecycleId:n}}),!1;if(ro.set(o,!0),!l.getSharedPluginData("jsx","isImage"))return aj.l7.ai("first-draft-iterate-text-content",()=>(function({node:e,textContent:t}){return"TEXT"!==e.type?((0,tr.xi)("first-draft","Update text called on a non-text node",{nodeId:e.guid,nodeType:e.type}),!1):(e.characters=t,!0)})({node:l,textContent:e.content})),!0;{let t=l.getSharedPluginData("jsx","background");return await r.current.logImageLoad(()=>(0,ri.Og)({node:l,description:e.content,background:t,clientLifecycleId:n,containingNodeId:a,endpoint:tl.Ay.design.firstDraftCreateImage})),!0}}async function rc(e){try{let{parseJSX:t}=await Promise.resolve().then(n.bind(n,143155));return t(e)}catch{return null}}var rd=n(604383),ru=n(214925);async function rm({action:e,insertJSX:t,options:{dsKitKey:n,currentTheme:a,imageArgs:r,rootNodeId:l}}){try{let{affectedId:i,jsxToInsert:o}=e,s=(0,ta.UN)().get(i);if(!s)throw Error("Could not find affected node in the scene");let c=(0,ta.UN)().get(l);if(!c)throw Error("Could not find root node in the scene");let d=(0,rn.BY)(c),u=s.parentNode;if(!u)throw Error("Could not find affected node in the scene");let m=u.childrenGuids.indexOf(i);if(-1===m)throw Error("Could not find affected node in the scene");let p="below";"insert"===e.type&&(p=e.insertBehavior);let f=await rc(o);if(!f||0===f.length)throw Error("Failed to parse JSX");let g=(0,rd.fv)(f);if(0===g.size)throw Error("Only building blocks can be inserted or replaced");await t({jsxStr:"```jsx\n"+o+"\n```",options:{...(0,ru.Dp)(),insertBehavior:"inline",dsKitKey:n,themeProperties:a,deviceType:d,parentNodeId:u.guid,insertAtIndex:"above"===p?m:m+1,imageArgs:r}}),"replace"===e.type&&aj.l7.ai("first-draft-make-changes-remove",()=>{s.removeSelfAndChildren()})}catch(t){throw(0,eA.$D)(i.e.AI_GENERATION,t,{extra:{action:e,dsKitKey:n}}),t}}var rp=n(737033),rf=n(51624);function rg(){let e=(0,eK.eY)(),t=Object.entries((0,eK.KH)()).filter(([e,t])=>t).map(([e])=>e),n=null;for(let a of t)if(n=function(t){let n="",a=t;for(;!n&&a;){let t=e.get(a);if(!t)break;t.getSharedPluginData(rf.SV,"userPrompt")&&(n=a),a=t.parentGuid||""}return n||null}(a))break;return n}var rh=n(468415),rE=n(113173),r_=n(345174),ry=n(116319);function rb(){return r.createElement("div",{className:"animation_overlay--Sweep--yk3ZW"})}var rC=n(649352),rv=n(399879),rw=n(730783),rT=n(566654),rS=n(69946),rk=n(630883),rI=n(950573),rN=n.n(rI),rx=(e=>(e.mobile="MOBILE",e.web="WEB",e))(rx||{});function rA(e=1){let t=[{label:(0,eo.t)("first_draft.make_changes.prompt_labels.change_font"),prompt:(0,eo.t)("first_draft.make_changes.prompts.futuristic_font")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,eo.t)("first_draft.make_changes.prompts.calming_colors")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.round_corners"),prompt:(0,eo.t)("first_draft.make_changes.prompts.round_corners")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,eo.t)("first_draft.make_changes.prompts.watermelon_theme")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.rewrite"),prompt:(0,eo.t)("first_draft.make_changes.prompts.punchier_text")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.imagery"),prompt:(0,eo.t)("first_draft.make_changes.prompts.vibrant_images")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.add"),prompt:(0,eo.t)("first_draft.make_changes.prompts.add_another_section")},{label:(0,eo.t)("first_draft.make_changes.prompt_labels.replace"),prompt:(0,eo.t)("first_draft.make_changes.prompts.replace_hero_image")}];return te()(rN()(t.filter(e=>""!==rL(e.label))),e=>e.label).slice(0,e)}function rL(e){return e.trim().toLowerCase()}var rO=n(779492),rR=n(250838),rM=n(544405),rD=n(651315),rP=n(954703),rF=n(479074),rB=n(893115),rU=n(1511),rG=n(506428),rK=n(979890),rV=n(924948),rH=n(913595),rz=n(705102),rW=n(959742),rj=n(659373);function rY({children:e}){let t=(0,r.useRef)(null),{tracker:n,index:a}=(0,rz.L0)(t),l=r.useMemo(()=>({trackerRef:n,layoutIndex:a}),[a,n]);return r.createElement(rz.MQ.Provider,{value:l},e)}let rJ=r.createContext({isFocused:!1});function rq({children:e,defaultActiveIndex:t=0,itemsPerRow:n}){let a=(0,r.useRef)(null),[l,i]=r.useState(!1);r.useEffect(()=>{let e=()=>a.current?.blur();return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.useEffect(()=>{let e=a.current;if(!e)return;let t=()=>i(!0),n=()=>i(!1);return e.addEventListener("focus",t),e.addEventListener("blur",n),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",n)}},[]);let o=(0,r.useMemo)(()=>({isFocused:l,itemsPerRow:n}),[l,n]);return r.createElement(rH._,{fillWidth:!0},r.createElement("div",{className:"keyboard_navigation_on_focus--parent--XamDV",tabIndex:0,ref:a},r.createElement(rY,null,r.createElement(rj.A.Provider,{value:t},r.createElement(rJ.Provider,{value:o},e)))))}function rX({children:e,primaryAction:t,className:n,htmlAttributes:a,...l}){let i=(0,r.useRef)(null),{isFocused:o,itemsPerRow:s}=r.useContext(rJ),{active:c,target:d}=(0,rV.H)({ref:i,itemsPerRow:s}),u=r.useCallback(()=>{o&&t()},[o,t]),m=(0,r.useMemo)(()=>({shortcuts:[{key:en.Uz.ENTER}],onAction:u,allowDefault:!0}),[u]);return(0,rW.k)({primaryAction:m,active:c,actionLabel:!1,target:d}),r.createElement(rK.D8,{forwardedRef:i,className:F()(n,{"keyboard_navigation_on_focus--active--vGhwX":c}),...a,...l},e)}var rZ=n(323201),rQ=n(920274),r$=n(728075);let r0=[r$.jR,r$.N0,r$.k0,r$.RO,r$.Sb].map(e=>({string:e,color:rZ.F.parse(e)}));function r1({theme:e,onChangeColor:t,activeColorIdx:n,activeColorOutline:a,idx:l,colorSwatch:i}){let o=r.useCallback(()=>{t(i.color),a_.Y5.triggerAction("commit")},[i.color,t]);return r.createElement(rX,{primaryAction:o},r.createElement(rQ.cd,{key:i.string,size:"medium",value:i.color,background:"dark"===e?"dark":"light",onClick:o,paletteType:"base",swatchStyle:{...n===l&&{outline:a,outlineOffset:"2px"},boxSizing:"border-box",boxShadow:"none"}}))}function r2(e){return r.createElement(rX,{primaryAction:e.onClick},r.createElement("div",{className:ei.s.radiusFull.$},-1===e.activeColorIdx?r.createElement(rQ.cd,{size:"medium",value:e.value,paletteType:"base",selectionState:"selected_custom",background:"dark"===e.theme?"dark":"light",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}}):r.createElement(rQ.ZI,{size:"medium",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})))}function r3({theme:e,onChangeColor:t,setShowCustomColorPicker:n,value:a}){let l=r.useCallback(()=>{n(!0)},[n]),i=(0,aY.zN)(a,aZ.DA),{activeColorIdx:o,activeColorOutline:s}=r.useMemo(()=>({activeColorIdx:r0.findIndex(e=>(0,aZ.DA)(e.color,i)),activeColorOutline:`2px solid ${rZ.F.format(i)}`,value:i}),[i]),c=Math.max(o,0);return r.createElement(rq,{defaultActiveIndex:c},r.createElement("div",{className:ei.s.flex.flexGrow1.justifyBetween.$,style:{boxSizing:"content-box"}},r.createElement(r.Fragment,null,r0.map((n,a)=>r.createElement(r1,{key:n.string,theme:e,onChangeColor:t,activeColorIdx:o,activeColorOutline:s,idx:a,colorSwatch:n})),r.createElement(r2,{activeColorIdx:o,value:i,theme:e,onClick:l}))))}var r5=n(111427),r4=(e=>(e.COLOR="color",e.RADIUS="radius",e.SPACING="spacing",e.FONT="font",e))(r4||{}),r6=(e=>(e.TITLE="title",e.BODY="body",e.LABLE="label",e))(r6||{});let r8="theme_editor--svgText--yyKtR",r9=r.createContext({activeTab:r4.COLOR,onTabChange:()=>{},recordingKey:void 0});function r7({label:e,children:t,tab:n}){let{onTabChange:a,activeTab:l,recordingKey:i}=r.useContext(r9),o=r.useCallback(()=>{a(n)},[a,n]);return r.createElement(rX,{"aria-label":e,primaryAction:o,className:F()("theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",l===n&&"theme_editor--iconActive--8Nsgk"),onClick:o,recordingKey:er.Pt(i,n),htmlAttributes:r.useMemo(()=>({"data-tooltip":e,"data-tooltip-type":eJ.Ib.TEXT,"data-tooltip-show-above":!0,"data-clickable":!0}),[e])},t)}var le=n(511067),lt=n(866281),ln=n(930071),la=n(417336);function lr(e,t){return t===s.NVY.HSL?(0,aW.oB)(e):(0,aW.qN)(e)}function ll({brandColor:e,absoluteContainerId:t,onChangeColor:n,onHide:a}){let i=(0,r.useId)(),o=(0,l.wA)(),c=(0,le.Um)(),d=r.useRef(document.getElementById(t||"fullscreen-root"));(0,M.kz)(en.Uz.ESCAPE,a),(0,M.kz)(en.Uz.BACKSPACE,a,document.activeElement?.tagName.toLowerCase()!=="input");let[u,m]=r.useState(s.NVY.HEX),[p,f]=r.useState(lr(e,u)),[g,h]=r.useState({left:0,top:0}),E=r.useRef(),_=()=>{let e=E.current?.getBoundingClientRect();e&&h({left:e.left,top:e.bottom-120})},y=r.useCallback(e=>{e&&(E.current=e,_())},[]);(0,U.wY)(E,()=>_()),(0,U.wY)(d,()=>_());let b=(0,aq.A)(async(e,t)=>{await n(e),t&&a_.Y5.triggerAction("commit")},100),C=r.useCallback((e,t)=>{f(e),b((0,aW.w_)(e),t)},[b]),v=r.useCallback(e=>{e.a=1,b(e,!0),f((0,lt.QS)(p,lr(e,u),e))},[p,u,b]),w={color:e,value:p,changeCallback:C,hideOpacity:!0,colorFormat:u,dispatch:o,currentTool:s.NLJ.CODE_BLOCK,dropdownShown:c,onColorChange:v,canAcceptStyles:!1,canAcceptVariables:!1};return r.createElement("div",{className:ei.s.flex.pr16.pl16.pt8.pb4.flexRow.justifyCenter.itemsEnd.flexGrow1.gap16.$},r.createElement("div",{className:ei.s.flex.flexRow.justifyCenter.itemsCenter.flexGrow1.gap8.$},r.createElement(rP.K,{"aria-label":(0,eo.t)("first_draft.theme_tool.close_panel"),onClick:()=>a(),recordingKey:"closeSectionEditor"},r.createElement(rU.C,null)),r.createElement("div",{className:ei.s.flex.flexColumn.justifyBetween.wFull.itemsEnd.gap4.$},r.createElement("div",{className:ei.s.flex.justifyBetween.itemsCenter.wFull.$},r.createElement(ln.e,{width:168,color:p,changeCallback:C})),r.createElement("div",{className:ei.s.flex.justifyBetween.itemsCenter.wFull.gap8.$,style:{maxWidth:210}},r.createElement(lt.bO,{id:i,className:F()(ei.s.flexShrink1.flexGrow0.flex.$,"theme_editor--colorSelect--wIbMH","theme_editor--precedence--lvYGC"),property:u,formatter:lt.Fr,onChange:e=>{m(e),"l"in p&&e!==s.NVY.HSL?f((0,aW.qN)((0,aW.w_)(p))):e!==s.NVY.HSL||"l"in p||f((0,aW.oB)((0,aW.w_)(p)))},dispatch:o,dropdownShown:c},r.createElement(lt.ef,{value:s.NVY.HEX}),r.createElement(lt.ef,{value:s.NVY.RGB}),r.createElement(lt.ef,{value:s.NVY.CSS}),r.createElement(lt.ef,{value:s.NVY.HSL}),r.createElement(lt.ef,{value:s.NVY.HSB})),u===s.NVY.HEX&&r.createElement(lt.dt,{...w}),u===s.NVY.RGB&&r.createElement(lt.VA,{...w}),u===s.NVY.CSS&&r.createElement(lt.he,{...w}),(u===s.NVY.HSL||u===s.NVY.HSB)&&r.createElement(lt.fC,{...w})))),r.createElement("div",{className:ei.s.flex.justifyCenter.itemsCenter.relative.mr8.$,ref:y},r.createElement("div",{style:{width:115}},r.createElement("div",{style:{position:"fixed",width:115,height:115,...g}},r.createElement("div",{className:F()("theme_editor--pickerUnderlay--gfCHS",ei.s.colorBg.elevation200.absolute.p2.$),style:{width:115,height:115,borderRadius:14}}),r.createElement("div",{className:F()("theme_editor--pickerOverlay--Ykwy9",ei.s.flex.colorBg.absolute.p2.overflowHidden.justifyCenter.alignCenter.$),style:{width:115,height:115,borderRadius:14}},r.createElement(la.T,{containerClass:"theme_editor--pickerWrapper--fs-6V",size:115,color:p,changeCallback:C,canvasWrapperStyles:{outlineWidth:0,borderRadius:"13px"},ghostStyles:{boxShadow:"none"}}))))))}var li=n(499035);function lo(e){let t=(0,rG.DP)(),n=e.brandColor,a=r5.ER.get(Math.round(2*e.cornerRadiusStop)/2),l=r5.NT.get(Math.round(2*e.spacingStop)/2),i=r.useMemo(()=>({activeTab:e.activeTab,onTabChange:e.onTabChange,recordingKey:e.recordingKey}),[e.activeTab,e.onTabChange,e.recordingKey]);return r.createElement(r9.Provider,{value:i},r.createElement(rq,{defaultActiveIndex:function(e){switch(e){case r4.COLOR:return 0;case r4.RADIUS:return 1;case r4.SPACING:return 2;case r4.FONT:return 3}}(e.activeTab)},r.createElement(eC.B,{fullWidth:!0,justify:"space-between"},r.createElement(r7,{tab:r4.COLOR,label:(0,eo.t)("first_draft.theme_panel.color")},r.createElement(rQ.cd,{size:"medium",value:n,paletteType:"base",background:"dark"===t?"dark":"light",swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})),r.createElement(r7,{tab:r4.RADIUS,label:(0,eo.t)("first_draft.theme_panel.radius")},r.createElement(eR.B,{svg:a,className:"theme_editor--svgIcon--ongu6"})),r.createElement(r7,{tab:r4.SPACING,label:(0,eo.t)("first_draft.theme_panel.spacing")},r.createElement(eR.B,{svg:l,className:r8})),r.createElement(r7,{tab:r4.FONT,label:(0,eo.t)("first_draft.theme_panel.font")},r.createElement(eR.B,{svg:li.A,className:r8})))))}let ls={[r4.COLOR]:function(e){let t=(0,rG.DP)(),[n,a]=r.useState(!1),{focusParent:l}=e,i=r.useCallback(()=>{a(!1),l?.()},[l]);return n?r.createElement(ll,{onHide:i,...e}):r.createElement("div",{className:ei.s.flex.flexRow.flexGrow1.p16.pt12.pb12.gap16.itemsCenter.$},r.createElement(lf,{recordingKey:e.recordingKey}),r.createElement("div",{className:ei.s.flex0.flexShrink0.$},r.createElement(rO.bL,{onChange:e.onChangeColorMode,value:e.colorMode,recordingKey:er.Pt(e,"colorModePicker"),legend:r.createElement(rR.q,null,(0,eo.tx)("first_draft.theme_tool.color.mode_picker"))},r.createElement(rO.c$,{value:"light","aria-label":(0,eo.t)("first_draft.theme_tool.color.light_mode"),icon:r.createElement("div",{className:ei.s.flex.w44.itemsCenter.justifyCenter.$},r.createElement(rF.Z,null))}),r.createElement(rO.c$,{value:"dark","aria-label":(0,eo.t)("first_draft.theme_tool.color.dark_mode"),icon:r.createElement("div",{className:ei.s.flex.w44.itemsCenter.justifyCenter.$},r.createElement(rB.a,null))}))),r.createElement(r3,{value:e.brandColor,onChangeColor:e.onChangeColor,theme:t,setShowCustomColorPicker:a}))},[r4.RADIUS]:function(e){let[t,n]=r.useState(e.cornerRadiusStop);return r.createElement("div",{className:ei.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$},r.createElement(lf,{recordingKey:e.recordingKey}),r.createElement(rM.J,{className:ei.s.opacity0_5.$},(0,eo.tx)("first_draft.theme_panel.radius")),r.createElement(rD.A,{"aria-label":(0,eo.t)("first_draft.theme_panel.radius"),bigStep:.2,defaultValue:t,max:r5.Ne,min:r5.Xy,onChange:e.onChangeCornerRadiusStop,rangeAnchor:r5.Xy,recordingKey:er.Pt(e,"cornerRadiusSlider"),step:.1,value:e.cornerRadiusStop}))},[r4.SPACING]:function(e){let[t,n]=r.useState(e.spacingStop);return r.createElement("div",{className:ei.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$},r.createElement(lf,{recordingKey:e.recordingKey}),r.createElement(rM.J,{className:ei.s.opacity0_5.$},(0,eo.tx)("first_draft.theme_panel.spacing")),r.createElement(rD.A,{"aria-label":(0,eo.t)("first_draft.theme_panel.spacing"),bigStep:.2,defaultValue:t,max:r5.Ne,min:r5.Xy,onChange:e.onChangeSpacingStop,rangeAnchor:r5.Xy,recordingKey:er.Pt(e,"spacingSizeSlider"),step:r5.jF,value:e.spacingStop}))},[r4.FONT]:function(e){let[t,n,a]=az.t.useTabs({[r6.TITLE]:null!==e.titleFont,[r6.BODY]:null!==e.bodyFont,[r6.LABLE]:null!==e.labelFont},{recordingKey:er.Pt(e,"fontEditor")});return r.createElement("div",{className:ei.s.flex.flex1.flexColumn.$},r.createElement("div",{className:ei.s.flex.flex1.flexRow.gap8.p8.$},r.createElement(lf,{recordingKey:e.recordingKey}),r.createElement(az.t.TabStrip,{manager:a},r.createElement(az.t.Tab,{...t.title},(0,eo.tx)("first_draft.theme_panel.label.fontTitle")),r.createElement(az.t.Tab,{...t.body},(0,eo.tx)("first_draft.theme_panel.label.fontBody")),r.createElement(az.t.Tab,{...t.label},(0,eo.tx)("first_draft.theme_panel.label.fontLabel")))),r.createElement("div",{className:ei.s.wFull.colorBgTertiary.h1.$}),r.createElement("div",{className:ei.s.flex.flex1.flexColumn.gap8.p8.$},r.createElement(az.t.TabPanel,{...n.title},r.createElement(lu,{...e})),r.createElement(az.t.TabPanel,{...n.body},r.createElement(lm,{...e})),r.createElement(az.t.TabPanel,{...n.label},r.createElement(lp,{...e}))))}};function lc(e){let t=r.useRef(null),n=r.useCallback(()=>{t.current?.focus()},[]);if(r.useLayoutEffect(n,[n]),!e.section)return null;let a=ls[e.section];return r.createElement("div",{ref:t,tabIndex:-1,className:F()("theme_editor--boxInherit--BjYCO",ei.s.flex.relative.wFull.$)},r.createElement(a,{focusParent:n,...e}))}function ld({selectedKey:e,items:t,recordingKey:n}){let a=t.findIndex(({key:t})=>t===e);return r.createElement(rq,{defaultActiveIndex:a>-1?a:0,itemsPerRow:5},r.createElement("div",{className:ei.s.flex.flex1.flexWrap.itemsCenter.rowGap8.justifyBetween.$},t.map(({key:t,name:a,svg:l,onClick:i})=>r.createElement(rX,{"aria-label":a,recordingKey:er.Pt(n,t),className:F()("theme_editor--fontIconButton--Vc-KE theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",r8,e===t&&"theme_editor--selected--2BGbx"),key:t,primaryAction:i,onClick:i,htmlAttributes:{"data-tooltip":a,"data-tooltip-show-above":!0,"data-tooltip-type":eJ.Ib.TEXT}},r.createElement(eR.B,{svg:l})))))}function lu(e){let t=`FontTitle_${e.titleFont}`,n=Array.from(r5.X4).map(([t,n])=>({key:`FontTitle_${t}`,name:t,svg:n,onClick:()=>e.onChangeTitleFont(t)}));return null===e.titleFont?null:r.createElement(ld,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function lm(e){let t=`FontBody_${e.bodyFont}`,n=Array.from(r5.K4).map(([t,n])=>({key:`FontBody_${t}`,name:t,svg:n,onClick:()=>e.onChangeBodyFont(t)}));return null===e.bodyFont?null:r.createElement(ld,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function lp(e){let t=`FontLabel_${e.labelFont}`,n=Array.from(r5.pz).map(([t,n])=>({key:`FontLabel_${t}`,name:t,svg:n,onClick:()=>e.onChangeLabelFont(t)}));return null===e.labelFont?null:r.createElement(ld,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function lf({recordingKey:e}){let{pop:t}=(0,A.cq)();return(0,M.kz)(en.Uz.ESCAPE,t),(0,M.kz)(en.Uz.BACKSPACE,t),r.createElement("div",{className:ei.s.h24.$},r.createElement(rP.K,{recordingKey:er.Pt(e,"backButton"),onClick:t,"aria-label":(0,eo.t)("qa.go_back")},r.createElement(rU.C,null)))}var lg=n(903183);function lh(e){let{close:t}=(0,A.cq)();(0,eK.f4)(n=>{if(e)for(let e of Object.keys(n.mirror.sceneGraphSelection)){let n=(0,ta.UN)().get(e);if(n&&!n.isOrInFirstDraft){t();return}}})}var lE=(e=>(e[e.READY_FOR_PROMPT=0]="READY_FOR_PROMPT",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e[e.ERROR=3]="ERROR",e[e.ICANTDOTHIS=4]="ICANTDOTHIS",e))(lE||{}),l_=(e=>(e.PROMPT="prompt",e.THEME="theme",e))(l_||{});function ly(e,t){switch(t.type){case"NEW_ROOT_NODE":case"EDIT_INFO_UPDATED":return t.payload;case"SET_BRAND_COLOR":return{...e,brandColor:t.payload};case"SET_RADIUS":return{...e,radius:t.payload};case"SET_SPACING":return{...e,spacing:t.payload};case"SET_COLOR_MODE":return{...e,colorMode:t.payload};case"SET_TITLE_FONTS":return{...e,titleFonts:t.payload};case"SET_BODY_FONTS":return{...e,bodyFonts:t.payload};case"SET_LABEL_FONTS":return{...e,labelFonts:t.payload}}}let lb={brandColor:aZ.UE,colorMode:re.lH.LIGHT,spacing:1,radius:1,titleFonts:[],bodyFonts:[],labelFonts:[]};function lC(e,{pinnedRanges:t}={}){let n=(0,ta.UN)().get(e);if(!n)return lb;let a=(0,rn.BY)(n),r=(0,rn.uP)(n,{pinnedRanges:t}),l=(0,rn.Mz)(n,a),i=(0,rt.X6)(n)??aZ.UE;return{brandColor:(0,aZ.tK)((0,a9.tb)(i,r.colors))??aZ.UE,colorMode:(0,a7.P)(n)??re.lH.LIGHT,spacing:(0,a8.YB)(r.spacingRangesForGuids),radius:(0,a8.nd)(r.radiusValues),titleFonts:l.title,bodyFonts:l.body,labelFonts:l.label}}function lv({initialRootGuid:e}){let t=(0,ey._M)({action:eh.JT.FIRST_DRAFT_MAKE_CHANGES,clientLifecycleId:void 0}),n=t.clientLifecycleId,a=(0,ed.tS)(),l=r.useCallback(()=>{(0,aX.trackEvent)("First Draft: Error",{file_key:a,clientLifecycleId:n,view:"firstDraftMakeChanges"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[a,n]);return r.createElement(d.tH,{boundaryKey:"FirstDraftMakeChanges",fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:n,area:i.e.AI_GENERATION},onError:l},r.createElement(lw,{recordingKey:"firstDraftMakeChangesView",initialRootGuid:e,aiTrackingContext:t}))}function lw(e){let t=e.aiTrackingContext,a=t.clientLifecycleId,[o,c]=r.useState(""),d=(0,ed.tS)(),u=(0,eK.eY)(),{allUsableKitEntries:m}=(0,rk.sI)(),p=rg()||e.initialRootGuid,f=(0,eK.KH)(),g=(0,r.useMemo)(()=>p?u.get(p):null,[u,p]),{applyMakeChanges:h,resetMakeChanges:E,instrumentationRef:_}=function({clientLifecycleId:e}){let[t]=(0,r.useState)({current:(0,el.g)()}),{insertJSX:n,resetAsync:a,instrumentationRef:l}=(0,rp.Vh)({clientLifecycleId:e,insertType:"makeChanges"});return{applyMakeChanges:(0,r.useCallback)(async(r,o)=>{let s=[];for(let e of("affectedId"in r&&s.push(r.affectedId),"destinationId"in r&&s.push(r.destinationId),s)){if(!function e(t,n,a){let r=t.get(n);return!!r&&(r.guid===a||!!r.parentGuid&&e(t,r.parentGuid,a))}((0,ta.UN)(),e,o.rootNodeId)){(0,eA.$D)(i.e.AI_GENERATION,Error("first-draft: Node does not have root node as ancestor"),{extra:{nodeId:e,action:r,...o}});return}if(e===o.rootNodeId){(0,eA.$D)(i.e.AI_GENERATION,Error("first-draft: Tried to mutate root node"),{extra:{nodeId:e,action:r,...o}});return}}switch(await a(),r.type){case"theme":{let{content:e}=r;e&&function(e,t,n){let a=(0,ta.UN)().get(e);if(!a)return;let r=(0,rn.BY)(a);if(["borderRadii","spacing","colors","fontFamilies"].some(e=>e in n)){let e=(0,rn.k5)(t,n);(0,rn.jR)(a,e,r)}let l=t.darkMode?re.lH.DARK:re.lH.LIGHT,i=t.brandColor??function(e){let t=(0,rn.uP)(e,{ignoreOpacity:!0}),n=(0,rt.X6)(e)??aZ.UE;return(0,a9.tb)(n,t.colors)}(a),o="darkMode"in n?n.darkMode?re.lH.DARK:re.lH.LIGHT:void 0;if(o&&l!==o&&aj.l7.ai("first-draft-make-changes-theme-switch-mode",()=>{(0,a7.t)(a,o,i)}),"brandColor"in n&&n.brandColor){let e=(0,aZ.tK)(n.brandColor);if(e){let t=(0,rt.qO)(e,o??l);aj.l7.ai("first-draft-make-changes-theme-brand-color",()=>{(0,a9.l9)(a,t,o??l??re.lH.LIGHT,{},i)})}}}(o.rootNodeId,o.currentTheme,e);break}case"text_or_image":await rs({changes:r,makeChangesSessionId:t.current,clientLifecycleId:e,containingNodeId:o.rootNodeId,instrumentationRef:l});break;case"insert":case"replace":await rm({action:r,options:o,insertJSX:n}),await a();break;case"remove":aj.l7.ai("first-draft-make-changes-remove",()=>{let e=(0,ta.UN)().get(r.affectedId);e&&e.removeSelfAndChildren()});break;case"move":{let{affectedId:e,destinationId:t,insertBehavior:n}=r;aj.l7.ai("first-draft-make-changes-move",()=>{let a=(0,ta.UN)(),r=a.get(e),l=a.get(t),i=l?.parentNode,o=i?.childrenGuids.indexOf(t)??-1;r&&i&&("above"===n?i.insertChild(r,o):"below"===n&&(o<i.childCount-1?i.insertChild(r,o+1):i.appendChild(r)))});break}case"replaceClasses":{let{affectedId:e,classes:t}=r,n=(0,ta.UN)().get(e),a=n?.isIconLike&&(0,re.Dk)(n)===re.lg.CONTENT?"Icon":void 0;aj.l7.ai("first-draft-make-changes-replace-classes",()=>{for(let n of t)(0,rr.w)(e,n,a)})}}},[e,t,n,l,a]),resetMakeChanges:(0,r.useCallback)(()=>{t.current=(0,el.g)()},[t]),instrumentationRef:l}}({clientLifecycleId:a}),[y,b]=r.useState(0),[C,v]=r.useState(Error((0,eo.t)("first_draft.something_went_wrong"))),[w,T]=r.useState(null),[S,k,I]=az.t.useTabs({prompt:!0,theme:!0},{defaultActive:"theme",recordingKey:er.Pt(e,"tabs")}),[N,x]=r.useState(!1);lh(2===y||3===y||4===y);let A=r.useRef(1),L=r.useRef(null);(0,r.useEffect)(()=>{L.current=o},[o]);let[O,R]=r.useState(Date.now()),M=(0,l.wA)(),P=r.useRef(N);(0,r.useEffect)(()=>{N!==P.current&&g&&(N?(0,rS.Vm)(g.guid,r.createElement(rb,null)):(0,rS.ks)(g.guid),P.current=N)},[N,g]);let F=r.useCallback(()=>{A.current+=1,_.current.trackFinished("stopped"),lk(t,"stopped"),b(0),x(!1)},[b,t,A,_]),B=r.useCallback(async()=>{E();let e=A.current,r={file_key:d,clientLifecycleId:a,generation_id:g?.firstDraftData?.generationId};try{if(_.current.start(),b(1),T(null),R(Date.now()),!g)throw Error("Root node not found");let l=g&&g.getSharedPluginData(rf.SV,"userPrompt")||"",i=lS(g),o="LOCAL"===i.type,c=o?s.XJn.getKitKey(i.pageId):i.key,d=m.find(e=>"key"in e.dsKitKey&&e.dsKitKey.key===c);Object.assign(r,{dsKitType:i.type,isLocal:o,kitKey:c,kitIdentifier:d?.metadata?.identifier??null}),(0,aX.trackEvent)("First Draft: Make Changes Started",{...r,hasNonRootNodeSelected:!(g.guid in f)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),(0,ey.Dl)(t);let{jsxStr:u}=a0({[g.guid]:!0},!1),{jsxStr:p}=a0({[g.guid]:!0},!0);if(!u||!p){(0,aX.trackEvent)("First Draft: Make Changes Ended",{...r,timeElapsedMs:Date.now()-O,status:"failed",reason:"infer-jsx-failed",hasNonRootNodeSelected:!(g.guid in f)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),lk(t,"error"),b(2);return}let E=L.current||"",y=function(e){if(!(0,D.k)().first_draft_prompt_history||!(0,D.k)().first_draft_make_changes_history)return[];let t=(0,a2.Q_)();if(!t)return[];let n=`${a3}${e}`,a=t.getItem(n);if(!a)return[];try{return to.z.array(a1.Db).parse(JSON.parse(a))}catch{}return[]}(g.guid),C=function(e){let t=(0,rn.uP)(e,{ignoreOpacity:!0}),n=(0,rt.X6)(e)??aZ.UE,a=(0,a9.tb)(n,t.colors),r=(0,a7.P)(e)??re.lH.LIGHT;return{...(0,rn.rO)(e,t),version:2,brandColor:a,darkMode:"dark"===r}}(g),v=await tl.Ay.design.firstDraftMakeChanges({userPrompt:E,promptHistory:y,storedInitialPrompt:l,kitKey:c??"",isLocal:o,currentTheme:C,jsx:u,jsxInsertReplace:p},(0,rh.Lp)({clientLifecycleId:a}));y.push({prompt:E}),function(e,t){let n=(0,a2.Q_)();if(!n)return;let a=`${a3}${e}`;n.setItem(a,JSON.stringify(t))}(g.guid,y);let w=v.getReader(),S=[];for(;;){let{done:o,value:s}=await w.read();if(e!==A.current){w.cancel();break}if(_.current.trackFirstByteReceived(),o&&_.current.trackLastStreamByteReceived(),(0,tr.Lo)("makeChanges","Response message",{message:s}),s?.trace&&T(s.trace),s?.action){if("replaceClasses"===s.action.type&&!(0,D.k)().first_draft_surgical_edits){(0,tr.xi)("makeChanges","Unsupported action",{action:s.action.type}),(0,aQ.Rh)("first_draft.client.make_changes.unsupported_action",{action:s.action.type}),S.push(Promise.reject(new aV.G1("make_changes_unsupported",{})));continue}if((0,aX.trackEvent)("First Draft: Make Changes Prompt Action",{...r,action:s.action.type},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),"iCantDoThis"===s.action.type){let e=s.action.rationaleCategory;if((0,D.k)().make_edits&&(0,D.k)().first_draft_make_edits_icdt){let{applyMakeEdits:t}=await Promise.all([n.e(8658),n.e(5655),n.e(8854),n.e(1499)]).then(n.bind(n,21499));x(!0),S.push(t(g,E,a,e))}else S.push(Promise.reject(new aV.G1("make_changes_unsupported",{rationaleCategory:e})))}else S.push(h(s.action,{dsKitKey:i,rootNodeId:g.guid,currentTheme:C,imageArgs:{initialUserPrompt:l}}))}if(o){let e=await Promise.allSettled(S);if(!S.length)throw(0,tr.xi)("makeChanges","No actions were applied from the prompt response"),(0,aQ.Rh)("first_draft.client.make_changes.no_actions_applied"),new aV.G1("make_changes_unsupported",{});if(e.every(e=>"rejected"===e.status)){for(let t of e)if("rejected"===t.status)throw t.reason}(0,aX.trackEvent)("First Draft: Make Changes Ended",{...r,status:"completed",timeElapsedMs:Date.now()-O,hasNonRootNodeSelected:!(g.guid in f)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),lk(t,"success"),_.current.trackFinished("success"),b(2),a_.Y5.triggerAction("commit");break}}}catch(l){(0,tr.xi)("makeChanges","Error",{error:l});let e=l instanceof aV.G1,n={...r,timeElapsedMs:Date.now()-O,error:l.toString(),status:"failed",reason:"error"},a=e?"handled_internally":(0,eA.$D)(i.e.AI_GENERATION,l,{extra:n});(0,aX.trackEvent)("First Draft: Make Changes Ended",{...n,sentryEventId:a},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),lk(t,"error"),_.current.trackFinished("failure"),e&&("make_changes_unsupported"===l.type||"make_changes_moderated"===l.type)?((0,aX.trackEvent)("First Draft: Make Changes Prompt Action",{...r,action:"make_changes_unsupported"===l.type?"iCantDoThis":"blocked"},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),b(4)):b(3),v(l instanceof Error?l:Error("Unknown error"))}finally{e===A.current&&(A.current+=1)}},[d,a,A,_,g,f,t,O,h,E,m]),U=()=>{b(0),(0,rv.k)()},G=w&&(0,D.k)().cortex_execution_tracing;switch(y){case 1:return r.createElement(rT.F,{onStop:F,aiTrackingContext:t,recordingKey:er.Pt(e,"running")},(0,eo.tx)("first_draft.making_changes"));case 3:return G&&(0,lg.A)(M,w),r.createElement(rC.E,{error:C,customMessage:(0,eo.t)("first_draft.something_went_wrong"),recordingKey:er.Pt(e,"error"),buttons:[{type:rC.f.GO_BACK,callback:U}],aiTrackingContext:t});case 4:return G&&(0,lg.A)(M,w),r.createElement(rC.E,{error:C,customMessage:(e=>{let t=(0,eo.t)("first_draft.make_changes.i_cant_do_this");if(e instanceof aV.G1){if("make_changes_moderated"===e.type)return(0,eo.t)("ai.error.unsafe_or_harmful");if(!(0,D.k)().first_draft_make_changes_errors)return t;if("make_changes_unsupported"===e.type&&e.data?.rationaleCategory){let t=e.data.rationaleCategory;switch(t){case"component":return(0,eo.t)("first_draft.make_changes.i_cant_do_this_component");case"font":return(0,eo.t)("first_draft.make_changes.i_cant_do_this_font");case"layout":return(0,eo.t)("first_draft.make_changes.i_cant_do_this_layout");case"other":break;default:return(0,et.xb)(t)}}}return t})(C),recordingKey:er.Pt(e,"unsupported"),buttons:[{type:rC.f.GO_BACK,callback:U}],aiTrackingContext:t});case 2:let K=[];return(0,rE.KK)()&&!(0,D.k)().first_draft_use_gemini&&(K.push({type:rw.is.UNDO_MAKE_CHANGES,callback:()=>{b(0),a_.Y5.triggerAction("undo"),(0,aX.trackEvent)("First Draft: Make Changes Undo",{file_key:d,clientLifecycleId:a},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0}),(0,rv.k)()}}),K.push({type:rw.is.MAKE_CHANGES,callback:U})),G&&(0,lg.A)(M,w),r.createElement(rw.Oq,{recordingKey:er.Pt(e,"iterate"),iterateOptions:K,aiTrackingContext:{...t,iteration_view_type:r_.$J.SUCCESS_WITH_ITERATION},stayOpen:!0});case 0:return r.createElement(lT,{promptValue:o,setPromptValue:c,rootNode:g,tabManager:I,tabPropsMap:S,tabPanelPropsMap:k,handleSubmit:B,recordingKey:e.recordingKey,aiTrackingContext:t});default:(0,et.xb)(y)}}function lT({promptValue:e,setPromptValue:t,rootNode:n,tabManager:a,tabPropsMap:l,tabPanelPropsMap:i,handleSubmit:o,recordingKey:s,aiTrackingContext:c}){let d=c.clientLifecycleId,[u,m]=r.useState(rA(1)[0].prompt),[p,f]=r.useState(rA(3)),[g,h]=r.useReducer(ly,lb),E=r.useCallback(e=>{y.current=Date.now(),h(e)},[h]),_=(0,aY.zN)(n,(e,t)=>e?.guid===t?.guid);(0,r.useEffect)(()=>{E({type:"NEW_ROOT_NODE",payload:lC(_?.guid??"")})},[_?.guid,E]);let y=r.useRef(-1/0),b=r.useRef((0,a8.$L)(_)),C=r.useRef((0,rn.nF)((0,a8.uq)(_))),v=r.useRef(g.radius),w=r.useRef(g.spacing);(0,r.useEffect)(()=>{b.current=(0,a8.$L)(_),C.current=(0,rn.nF)((0,a8.uq)(_));let e=lC(_?.guid??"");v.current=e.radius,w.current=e.spacing},[_]);let{close:T}=(0,A.cq)(),S=(0,ed.tS)(),k=r.useMemo(()=>{let e,t;let n={file_key:S,clientLifecycleId:d,generation_id:_?.firstDraftData?.generationId};return _&&(t="LOCAL"===(e=lS(_)).type?e.pageId:e.key),Object.assign(n,{dsKitType:null!=e?e.type:null,kitKey:t}),n},[_,S,d]),I=g.colorMode,N=g.brandColor,x=g.radius,L=g.spacing,O=g.titleFonts,R=g.bodyFonts,M=g.labelFonts,P=(0,aJ.ei)(_?.guid),B=(0,aY.k9)(()=>P,[P]);r.useEffect(()=>{let e=lC(_?.guid??"",{pinnedRanges:C.current});(0,aH.xN)((0,aW.oB)(N).h,(0,aW.oB)(e.brandColor).h,.01)&&(e.brandColor=N);let t=B?.lastEditedAt??-1/0;(t>y.current||y.current-t>1e3)&&E({type:"EDIT_INFO_UPDATED",payload:e})},[N,E,B,_?.guid,g.radius,g.spacing]);let U=(0,aq.A)(e=>{(0,aX.trackEvent)("First Draft: Make Changes Color Change",{...k,color:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},5e3),G=r.useCallback(e=>{e!==I&&(aj.l7.user("first-draft-switch-color-mode",()=>{(0,a7.t)(_,e,(0,aZ.F_)(g.brandColor))}),U(I),a_.Y5.triggerAction("commit"),E({type:"SET_COLOR_MODE",payload:e}))},[I,U,E,_,g.brandColor]),K=r.useMemo(()=>(0,a9.N_)(_),[_]),V=r.useRef(null),H=r.useRef(null),z=r.useCallback((e,t)=>{if(H.current)V.current=[e,H.current];else{H.current=e;let n=(0,aZ.F_)(t);aj.l7.user("first-draft-apply-brand-color",()=>{(0,a9.l9)(_,e,I,K,n)}),setTimeout(()=>{if(H.current=null,V.current){let[e,t]=V.current;V.current=null,z(e,t)}},30)}},[I,K,_]),W=r.useCallback(e=>{U((0,aZ.F_)(e));let t={...(0,rt.qO)(e,I),a:1};z(t,N),E({type:"SET_BRAND_COLOR",payload:t})},[E,U,I,z,N]),j=(0,aq.A)(e=>{(0,aX.trackEvent)("First Draft: Make Changes Radius Change",{...k,radius:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),Y=(0,aq.A)(e=>{j(e),(0,a8.oP)(b.current,e,v.current)},100),J=r.useCallback((e,t)=>{t.commit&&a_.Y5.triggerAction("commit"),e!==x&&(Y(e),E({type:"SET_RADIUS",payload:e}))},[x,E,Y]),q=(0,aq.A)(e=>{(0,aX.trackEvent)("First Draft: Make Changes Spacing Change",{...k,spacing:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),X=(0,aq.A)(e=>{q(e),(0,a8.HS)(C.current,e,w.current)},100),Z=r.useCallback((e,t)=>{t.commit&&a_.Y5.triggerAction("commit"),e!==L&&(X(e),E({type:"SET_SPACING",payload:e}))},[E,X,L]),Q=(0,aq.A)((e,t)=>{(0,aX.trackEvent)("First Draft: Make Changes Font Change",{...k,font_location:e,font_type:t},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),$=r.useCallback(e=>0===e.length?null:e[0].family,[]),ee=r.useCallback(async e=>{await a6(ra.lu.TITLE,e,O),Q("title",e),a_.Y5.triggerAction("commit"),_&&E({type:"SET_TITLE_FONTS",payload:(0,rn.Mz)(_,(0,rn.BY)(_)).title})},[O,Q,_,E]),et=r.useCallback(async e=>{await a6(ra.lu.BODY,e,g.bodyFonts),Q("body",e),a_.Y5.triggerAction("commit"),_&&E({type:"SET_BODY_FONTS",payload:(0,rn.Mz)(_,(0,rn.BY)(_)).body})},[g.bodyFonts,Q,_,E]),ea=r.useCallback(async e=>{await a6(ra.lu.LABEL,e,g.labelFonts),Q("label",e),a_.Y5.triggerAction("commit"),_&&E({type:"SET_LABEL_FONTS",payload:(0,rn.Mz)(_,(0,rn.BY)(_)).label})},[g.labelFonts,Q,_,E]),el=(0,r.useCallback)(e=>{(0,ey.SX)({...c,...(0,ey.Q0)(e),interaction:r_.NI.GENERATE}),o()},[c,o]),[es,ec]=r.useState(r4.COLOR),eu=r.createElement(ne.r,{shortcuts:[{key:en.Uz.ENTER,modifier:[en.xH.META]}],onAction:el,disabled:!_||0===e.length,recordingKey:er.Pt(s,"submit")},(0,eo.tx)("first_draft.make_changes")),em=r.createElement(ne.r,{shortcuts:[{key:en.Uz.ENTER,modifier:[en.xH.META]}],onAction:T,recordingKey:er.Pt(s,"doneTheming")},(0,eo.tx)("first_draft.done_theming"));return r.createElement(r.Fragment,null,r.createElement(eC.B,{fullWidth:!0,align:"center",justify:"space-between",gap:0},"theme"===a.activeTab&&r.createElement(lc,{bodyFont:$(R),brandColor:N,colorMode:I,cornerRadiusStop:x,labelFont:$(M),onChangeBodyFont:et,onChangeColor:W,onChangeColorMode:G,onChangeCornerRadiusStop:J,onChangeLabelFont:ea,onChangeSpacingStop:Z,onChangeTitleFont:ee,recordingKey:er.Pt(s,"themeEditorDrawer"),section:es,spacingStop:L,titleFont:$(O)})),r.createElement("div",{className:F()(ei.s.p8.relative.$,"theme"===a.activeTab&&"first_draft_make_changes_view--contentBoxed--L-H0e",es&&ei.s.elevation500.radiusLarge.$),"data-testid":"readyForPromptView"},r.createElement(az.t.TabPanel,{...i.prompt},r.createElement(ry.XG,{action:eh.JT.FIRST_DRAFT_MAKE_CHANGES,value:e,onChange:t,recordingKey:er.Pt(s,"prompt"),suggestion:u,suggestionPills:(0,D.k)().first_draft_new_prompt_pills?p:void 0})),r.createElement(az.t.TabPanel,{...i.theme},r.createElement(lo,{activeTab:es,onTabChange:ec,brandColor:N,cornerRadiusStop:x,spacingStop:L,titleFont:$(O),bodyFont:$(R),labelFont:$(M),recordingKey:er.Pt(s,"themeEditor")})),r.createElement(eC.B,{fullWidth:!0,justify:"space-between"},r.createElement(az.t.TabStrip,{manager:a},r.createElement(az.t.Tab,{...l.theme},(0,eo.tx)("first_draft.style")),r.createElement(az.t.Tab,{...l.prompt},r.createElement("span",{"data-testid":"promptTabLabel"},(0,eo.tx)("first_draft.prompt")))),"prompt"===a.activeTab?eu:em)))}function lS(e){let t=e.firstDraftData;if(t){if(t.kit.type===s.AZ4.LOCAL)return{type:"LOCAL",pageId:s.XJn.getPageIdFromKitKey(t.kit.key)??""};if(t.kit.type===s.AZ4.LIBRARY)return{type:"1P_LIBRARY",key:t.kit.key}}return JSON.parse(e.getSharedPluginData(rf.SV,"dsKitKey"))}function lk(e,t){switch(t){case"success":(0,ey.as)({...e,status:r_.dM.COMPLETED,reason:r_.F9.SUCCESS});break;case"error":(0,ey.as)({...e,status:r_.dM.FAILED,reason:r_.F9.ERROR});break;case"stopped":(0,ey.as)({...e,status:r_.dM.FAILED,reason:r_.F9.STOPPED})}}var lI=n(267721),lN=n.n(lI),lx=n(88217),lA=n(925085),lL=n(439682),lO=n(81705),lR=n(335709),lM=n(388902);function lD({node:e,tree:t,parentComponent:n,descendantComponentGuids:a},r){if(!t[e.guid]){if(t[e.guid]={isBuildingBlock:r.isBuildingBlock,name:r.name,parentGuid:n?.guid??null,isListItem:r.isListItem,inferReason:r.inferReason,children:[]},n){let a=t[n.guid];a&&a.children.push(e.guid)}for(let r of a){let a=t[r];a&&(!a.parentGuid||a.parentGuid===n?.guid)&&(a.parentGuid=e.guid)}}}function lP({node:e,tree:t,parentComponent:n,descendantComponentGuids:a}){t[e.guid]&&delete t[e.guid];let r=n?t[n.guid]:null;for(let l of(r&&(r.children=r.children.filter(t=>t!==e.guid)),a)){let a=t[l];a&&a.parentGuid===e.guid&&(a.parentGuid=n?.guid??null,r&&r.children.push(l))}}function lF(e){let t=function(e,t){let n={};for(let a of e.childrenNodes)!function e(t,n,a,r,l=null){var i;let o=a.components[t.guid],c=(i=a.isMobileDesign,("FRAME"===t.type||"INSTANCE"===t.type)&&(!i||function(e,t,n=.1){return Math.abs(e-t)<n}(t.size.x,n.size.x-n.stackLeftPadding-n.stackLeftPadding))),d=[];if(o&&(r[t.guid]={isBuildingBlock:c,name:o,parentGuid:l?.guid??null,isListItem:!1,children:[]},l&&r[l.guid])){let e=r[l.guid];e&&e.children.push(t.guid)}for(let i of t.childrenNodes)d=d.concat(e(i,n,a,r,o?t:l));let u={node:t,designNode:n,tree:r,nodeCanBeBuildingBlock:c,descendantComponentGuids:d,parentComponent:l};(function(e){let{node:t,tree:n,nodeCanBeBuildingBlock:a,parentComponent:r}=e,l={};for(let e of t.childrenNodes){let t=n[e.guid];t&&(l[t.name]||(l[t.name]=[]),l[t.name].push(e.guid))}let i=Object.entries(l).filter(([e,t])=>t.length>1);if(1!==i.length)return;let o=i[0][1],s=o[0];for(let l of(n[t.guid]||r||!s||lD(e,{name:`${n[s].name}List`,isBuildingBlock:a,isListItem:!1,inferReason:"list-view"}),o)){let e=n[l];e&&(e.isListItem=!0,e.isBuildingBlock=!1)}})(u),function(e){let{node:t,tree:n,nodeCanBeBuildingBlock:a,parentComponent:r,descendantComponentGuids:l}=e;!n[t.guid]&&!r&&a&&l.filter(e=>!n[e]?.isBuildingBlock&&!n[e]?.parentGuid).length>0&&lD(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-orphaned-atoms"})}(u),function(e){let{node:t,tree:n,designNode:a,descendantComponentGuids:r,nodeCanBeBuildingBlock:l}=e;!n[t.guid]&&0===r.length&&t.parentGuid===a.guid&&l&&lD(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-uncomponentized-element"})}(u),function(e){let{node:t,designNode:n,tree:a}=e,r=a[t.guid];if(r&&r.isBuildingBlock&&t.size.y>.66*n.size.y&&r.children.length>1&&r.children.every(e=>a[e]?.isBuildingBlock)){for(let e of r.children){let t=a[e];t&&(t.parentGuid=null)}lP(e)}}(u),function({node:e,tree:t,parentComponent:n,nodeCanBeBuildingBlock:a,descendantComponentGuids:r,designNode:l}){let i=e.childrenNodes[0];if(a&&1===e.childCount&&i&&t[i.guid]?.isBuildingBlock){let a=t[i.guid];a&&!t[e.guid]&&(t[e.guid]={isBuildingBlock:!0,name:a.name,parentGuid:n?.guid??null,isListItem:!1,inferReason:"hoisted-singleton-building-block",children:a.children}),lP({node:i,designNode:l,tree:t,parentComponent:e,descendantComponentGuids:r,nodeCanBeBuildingBlock:!0})}}(u);let m=function({node:e,designNode:t,tree:n,parentComponent:a,descendantComponentGuids:r}){if(e.size.x<100||e.size.y<20||r.length>0||"NONE"===e.stackMode||e.childCount<=1)return[];let l=e.childrenNodes[0],i=e.childrenNodes[e.childCount-1],o=[];for(let c of[l,i]){if(c?.type!=="FRAME"||c.size.x<100||c.size.y<20)continue;let l=s.XJn.findSimilarNodes(c.guid,e.guid,!1,!1,!0),i=[c,...l.map(e=>(0,ta.UN)().get(e)).filter(e=>!!e)],d=Array.from((0,lx._i)(new Set(e.childrenGuids),new Set([c.guid,...l])));if(i.length>=2&&i.length>=e.childCount-1&&d.length<=1){let l=d[0];if(l){let t=e.childrenGuids.indexOf(l);if(t>0&&t<e.childCount-1)return[]}for(let l of i)n[l.guid]||(lD({node:l,designNode:t,tree:n,parentComponent:n[e.guid]?e:a,descendantComponentGuids:r,nodeCanBeBuildingBlock:!1},{isBuildingBlock:!1,name:`Component:${l.guid}`,isListItem:!0,inferReason:"similar-sublayers"}),o.push(l.guid))}}return o}(u);return r[t.guid]?[t.guid,...d,...m]:[...d,...m]}(a,e,t,n);return n}(e.frame,e);if(!t)return[];let{suggestedComponentTree:n,node:a}=function(e,t){let n=s.XJn.detachDesignForComponentize(e.guid,Object.keys(t)),a={};for(let[e,r]of Object.entries(t)){let t=n.get(e),l={...r,parentGuid:r.parentGuid?n.get(r.parentGuid)??r.parentGuid:null,children:r.children.map(e=>n.get(e)??e)};t?a[t]=l:a[e]=l}let r=n.get(e.guid);if(!r)throw Error("Failed to detach design");let l=(0,ta.UN)().get(r);if(!l)throw Error("Failed to detach design");return e.parentNode&&e.parentNode.appendChild(l),l.x=e.x,l.y=e.y,e.removeSelfAndChildren(),{suggestedComponentTree:a,node:l}}(e.frame,t);return Array.from(Object.entries(n)).filter(([e])=>e!==a.guid).map(([e,t])=>({guid:e,name:t.name,isBuildingBlock:t.isBuildingBlock}))}function lB(){let[e,t]=r.useState({loaded:0,total:0}),n=r.useContext(lR.x),a=n?.getSuggestedComponents;return{submit:r.useCallback(async(e,n,r,l)=>{let i=e.filter(e=>("FRAME"===e.type||"INSTANCE"===e.type)&&!e.isStateGroup),o=(0,lO.Y6)(),{nodes:c,nodeMappings:d}=aj.l7.user("clone-nodes",()=>(function(e,t){let n=[],a={x:(0,lO.NY)(t.copiedDesigns).right()+lO.CN,y:lO.CN},r=new Map;for(let l of e){let e=s.XJn.cloneNodeForComponentize(l.guid),i=e.get(l.guid);if(!i)continue;let o=(0,ta.UN)().get(i);o&&(t.copiedDesigns.appendChild(o),n.push(o),o.relativeTransform={...o.relativeTransform,m02:a.x,m12:a.y},a.x+=o.size.x+lO.FL,r=new Map([...r,...e]))}return(0,lO.Vl)(t),{nodes:n,nodeMappings:r}})(i,o));for(let e of(t({loaded:1,total:c.length}),lN()(c,10))){let i=await (0,lL.Z)(a?a(e):lU(e,n),r);if(r.aborted)return{};for(let e of i)if(e){if(l?.remapNodeIdsForTest)for(let[t,n]of d.entries()){let a=e.components[t];a&&(e.components[n]=a,delete e.components[t])}aj.l7.user("componentize",()=>{!function(e,t){let n=(0,ta.UN)();if(!n.getCurrentPage())return;let a=(0,lO.NY)(t.buildingBlocks),r=(0,lO.NY)(t.atoms),l={x:a.right()+lO.CN,y:lO.CN},i={x:r.right()+lO.CN,y:lO.CN},o={};for(let{guid:a,name:r,isBuildingBlock:c}of e){let e=n.get(function(e,t){for(;t[e];)e=t[e];return e}(a,o));if(!e||"FRAME"!==e.type&&"INSTANCE"!==e.type||("FRAME"===e.type&&(0,lO.MR)(e,t.icons),!e.isAlive))continue;let d=s.XJn.findSimilarNodes(e.guid,t.buildingBlocks.guid,!1,!0,!0).concat(s.XJn.findSimilarNodes(e.guid,t.atoms.guid,!1,!0,!0)),u=d[0]?n.get(d[0]):null;if(!u){if("FRAME"===e.type)(u=n.createComponentFromNode(e.clone())).name=r;else{if(!(u=n.get(e.clone())))throw Error("Failed to clone instance");(0,lM.T)(u)}c?(t.buildingBlocks.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:l.x,m12:l.y},l.y+=u.size.y+lO.FL):(t.atoms.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:i.x,m12:i.y},i.y+=u.size.y+lO.FL)}let m=(0,lO.w8)(e,u);if(m)for(let[e,t]of m?.entries()){let a=n.get(t),r=a?.overrideKey;r&&(o[e]=r)}}(0,lO.Vl)(t)}(lF(e),o)})}t(t=>({loaded:Math.min(t.loaded+e.length,t.total),total:t.total}))}return a_.Y5.commit(),{}},[a]),progress:e}}async function lU(e,t){let n=await Promise.all(e.map(async e=>{let t=await (0,rf.gC)(e);return{imageB64:t.base64,jsx:t.jsx}}));return(await tl.Ay.design.firstDraftComponentize({requests:n},(0,rh.Lp)({clientLifecycleId:t}))).responses.map((t,n)=>{let a=e[n];return t&&a?{frame:a,isMobileDesign:t.isMobileDesign,components:t.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}:null})}var lG=n(178109),lK=n(700742),lV=(e=>(e[e.COMPONENTIZE=0]="COMPONENTIZE",e[e.ADD_PROPS=1]="ADD_PROPS",e[e.LINT=2]="LINT",e[e.ALL=3]="ALL",e))(lV||{}),lH=(e=>(e.INITIAL="initial",e.COMPONENTIZE="componentize",e.ADD_PROPS="add_props",e.LINT="lint",e.ALL="all",e))(lH||{});function lz(e){return e.filter(e=>"FRAME"===e.type).length}function lW(e){let[t,n]=r.useState("initial"),a=[{step:3,title:(0,eo.t)("first_draft.make_kit.all_steps.title"),description:(0,eo.t)("first_draft.make_kit.all_steps.description")},{step:0,title:(0,eo.t)("first_draft.make_kit.componentize_step.title"),description:(0,eo.t)("first_draft.make_kit.componentize_step.description")},{step:1,title:(0,eo.t)("first_draft.make_kit.add_props_step.title"),description:(0,eo.t)("first_draft.make_kit.add_props_step.description")},{step:2,title:(0,eo.t)("first_draft.make_kit.lint_step.title"),description:(0,eo.t)("first_draft.make_kit.lint_step.description")}],l=(0,r.useCallback)(e=>{switch(e){case 0:n("componentize");break;case 1:n("add_props");break;case 2:n("lint");break;case 3:n("all")}},[]),i=e=>r.createElement(lK.B.Item,{key:e.step,primaryAction:{onAction:()=>{l(e.step)}}},r.createElement("div",{className:ei.s.flex.flexColumn.p4.wFull.$},r.createElement("div",{className:ei.s.font13.wFitContent.$},e.title),r.createElement("div",{className:ei.s.font11.colorTextSecondary.lh16.wFitContent.$},e.description)));switch(t){case"initial":return r.createElement(ev.n,{hideActionPanel:!0},r.createElement(ev.n.Header,null,r.createElement("div",{className:ei.s.wFull.flex.flexColumn.p8.$},r.createElement("div",{className:ei.s.wFull.flex.gap4.$},r.createElement("div",{className:ei.s.h24.$},r.createElement(rP.K,{recordingKey:er.Pt(e.recordingKey,"backButton"),onClick:e.onBack,"aria-label":(0,eo.t)("qa.go_back")},r.createElement(rU.C,null))),r.createElement("div",{className:ei.s.colorText.textBodyLarge.$},(0,eo.tx)("fullscreen_actions.quick_actions.first-draft-make-kit"))),r.createElement("div",{className:ei.s.wFull.flex.font11.$},(0,eo.tx)("first_draft.make_kit.description")))),r.createElement(ev.n.Body,null,r.createElement(lK.B,{resultCount:a.length,maxVisibleResults:a.length},i(a[0]),r.createElement(lK.B.Section,{header:"Individual steps"},a.slice(1).map(i)))));case"componentize":return r.createElement(lY,null);case"add_props":return r.createElement(lq,null);case"lint":return r.createElement(aK.zY,null);case"all":return r.createElement(lX,null)}}let lj=async({params:{submit:e,selectedNodes:t},abortController:n,clientLifecycleId:a})=>{await e(t,a,n.signal)};function lY(e){let{close:t}=(0,A.cq)(),n=(0,aO.RL)(eh.JT.FIRST_DRAFT_COMPONENTIZE,lj),{start:a,stop:l,state:i,aiTrackingContext:o}=n,{submit:c,progress:d}=lB(),u=(0,r.useCallback)(async()=>{let e=(0,ta.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await a({selectedNodes:t,submit:c})},[a,c]),m=r.useCallback(()=>{l(),t()},[t,l]),p=r.useCallback(()=>{s.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??i,g=e.overrides?.progress??d;switch(f){case aO.qy.INITIAL:return r.createElement(aB.A,{action:eh.JT.FIRST_DRAFT_COMPONENTIZE,actionLabel:(0,eo.tx)("first_draft.make_kit.componentize_step.title"),actionIcon:r.createElement(e4.K,null),onPerform:e.overrides?.perform??u,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:o,getCustomSelectedNodesAmount:lz},(0,eo.tx)("first_draft.make_kit.componentize_step.instructions"));case aO.qy.RUNNING:return r.createElement(rT.F,{recordingKey:er.Pt(e.recordingKey,"componentizeRunning"),aiTrackingContext:o,onStop:m,secondaryMessage:g.total?(0,eo.t)("first_draft.make_kit.x_of_y_frames",{loaded:g.loaded,total:g.total}):void 0},(0,eo.tx)("first_draft.make_kit.componentize_step.running"));case aO.qy.DONE:return r.createElement(rw.Oq,{iterateOptions:[{type:rw.is.UNDO,callback:p}],aiTrackingContext:{...o,iteration_view_type:r_.$J.DEFAULT_SUCCESS}});case aO.qy.CANCELLED:return null;case aO.qy.ERROR:return r.createElement(rC.E,{error:"error"in n?n.error:Error(),recordingKey:er.Pt(e.recordingKey,"error"),buttons:[{type:rC.f.OK,callback:t}],aiTrackingContext:o});default:(0,et.xb)(f)}}let lJ=async({params:{submit:e,selectedNodes:t},abortController:n,clientLifecycleId:a})=>{await e(a,n.signal,t)};function lq(e){let{close:t}=(0,A.cq)(),{submit:n,progress:a}=(0,lG.iK)(),l=(0,aO.RL)(eh.JT.FIRST_DRAFT_SUGGEST_PROPS,lJ),{start:i,stop:o,state:c,aiTrackingContext:d}=l,u=(0,r.useCallback)(async()=>{let e=(0,ta.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await i({selectedNodes:t,submit:n})},[i,n]),m=r.useCallback(()=>{o(),t()},[t,o]),p=r.useCallback(()=>{s.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??c,g=e.overrides?.progress??a;switch(f){case aO.qy.INITIAL:return r.createElement(aB.A,{action:eh.JT.FIRST_DRAFT_SUGGEST_PROPS,actionLabel:(0,eo.tx)("first_draft.make_kit.add_props_step.add_props_button"),actionIcon:r.createElement(e4.K,null),onPerform:u,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:d},(0,eo.tx)("first_draft.make_kit.add_props_step.instructions"));case aO.qy.RUNNING:return r.createElement(rT.F,{recordingKey:er.Pt(e.recordingKey,"suggestPropsRunning"),aiTrackingContext:d,onStop:m,secondaryMessage:g.total?(0,eo.t)("first_draft.make_kit.x_of_y_components",{loaded:g.loaded,total:g.total}):void 0},(0,eo.tx)("first_draft.make_kit.add_props_step.running"));case aO.qy.DONE:return r.createElement(rw.Oq,{iterateOptions:[{type:rw.is.UNDO,callback:p}],aiTrackingContext:{...d,iteration_view_type:r_.$J.DEFAULT_SUCCESS}});case aO.qy.CANCELLED:return null;case aO.qy.ERROR:return r.createElement(rC.E,{error:"error"in l?l.error:Error(),recordingKey:er.Pt(e.recordingKey,"error"),buttons:[{type:rC.f.OK,callback:t}],aiTrackingContext:d});default:(0,et.xb)(f)}}function lX(e){let{submit:t,progress:n}=lB(),{start:a,state:l}=(0,aO.RL)(eh.JT.FIRST_DRAFT_COMPONENTIZE,lj),{submit:i,progress:o}=(0,lG.iK)(),{start:s,state:c}=(0,aO.RL)(eh.JT.FIRST_DRAFT_SUGGEST_PROPS,lJ),d=(0,r.useCallback)(async()=>{let e=(0,ta.UN)().getCurrentPage();if(!e)return;let n=e.directlySelectedNodes;0!==n.length&&(await a({selectedNodes:n,submit:t}),await s({submit:i}))},[a,t,s,i]);switch(l){case aO.qy.INITIAL:case aO.qy.RUNNING:case aO.qy.CANCELLED:case aO.qy.ERROR:return r.createElement(lY,{overrides:{state:l,progress:n,perform:d}});case aO.qy.DONE:switch(c){case aO.qy.INITIAL:case aO.qy.RUNNING:case aO.qy.CANCELLED:case aO.qy.ERROR:return r.createElement(lq,{overrides:{state:c,progress:o}});case aO.qy.DONE:return r.createElement(aK.zY,null);default:(0,et.xb)(c)}default:(0,et.xb)(l)}}async function lZ(e,t){return(await Promise.all(t.map(async t=>{let n=await (0,rf.gC)(t),a=e.replace("{{jsx}}",n.jsx),r=await tl.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:a},{role:"user",content:[{type:"image_url",image_url:{url:n.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),l=r.choices[0]?.message.content;return l?{...function(e){if(!e)throw Error("No content detected in GPT response");let t=JSON.parse(e.replace(/```json\n|```/g,"")),n=a1.AR.parse(t);return{isMobileDesign:n.isMobileDesign,components:n.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}}(l),frame:t}:null}))).filter(e=>null!==e)}async function lQ(e,t){return(await Promise.all(t.map(async t=>{let n=await (0,rf.gC)(t),a=e.replace("{{jsx}}",n.jsx),r=await tl.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:a},{role:"user",content:[{type:"image_url",image_url:{url:n.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),l=r.choices[0]?.message.content;return l?{component:t,...JSON.parse(l)}:null}))).filter(e=>null!==e)}let l$=e=>{let t=new Set;return!function e(n){if(n.name.startsWith("[COMPONENT]")&&t.add(n.guid),"childrenNodes"in n)for(let t of n.childrenNodes)e(t)}(e),t},l0=(e,t)=>{let n=0,a=e;for(;a.guid!==t.guid&&n<8;){if(n+=1,!a.parentNode)throw Error("Node is not a child of root, distance: "+n);a=a.parentNode}return n},l1=async({componentizePromptOverride:e,dispatch:t})=>{let n=(0,ta.UN)().getCurrentPage();if(!n)return;let a=n.directlySelectedNodes;if(0===a.length){t(u.F.enqueue({type:"eval-componentize",message:"No selected nodes"}));return}for(let e of a){if("FRAME"!==e.type){t(u.F.enqueue({type:"eval-componentize",message:"Selected node is not a frame"}));return}if(e.name.startsWith("[TEST]")){t(u.F.enqueue({type:"eval-componentize",message:`Selected node ${e.name} is already a test node`}));return}}for(let n of a){let a;if(n.name=`[TEST] ${n.name}`,!(a=e?(await lZ(e,[n]))[0]:(await lU([n],""))[0])){t(u.F.enqueue({type:"eval-componentize",message:`Failed to get suggested components for ${n.name}`}));return}for(let e of lF(a))(0,ta.UN)().get(e.guid).name=`[COMPONENT] ${e.name}`}},l2=async({componentizePromptOverride:e,dispatch:t,close:n})=>{let a=(0,ta.UN)().getCurrentPage();if(!a)return;let r=a.childrenNodes.filter(e=>"FRAME"===e.type);if(0===r.length){t(u.F.enqueue({type:"eval-componentize",message:"No frames found"}));return}n(),t(u.F.enqueue({type:"eval-componentize",message:"Starting eval"}));let l=[],i=0,o=r.filter(e=>e.name.startsWith("[TEST]"));for(let n of lN()(o,5))await Promise.all(n.map(async n=>{let a;a=e?(await lZ(e,[n]))[0]:(await lU([n],""))[0],l.push({node:n,components:new Set(lF(a).map(e=>e.guid)),expectedComponents:l$(n)}),i+=1,t(u.F.enqueue({type:"eval-componentize",message:`Completed ${i} / ${o.length}`}))})),await new Promise(e=>setTimeout(e,100));let c=[];for(let e of l){let t=(0,lx._i)(e.expectedComponents,e.components).size,n=(0,lx._i)(e.components,e.expectedComponents).size,a=(0,lx.iR)(e.expectedComponents,e.components).size;c.push({falseNegativeCount:t,falsePositiveCount:n,correctCount:a,result:e})}aj.l7.ai("eval-componentize",()=>{let e=(0,ta.UN)().createNode("CANVAS");e.name=`Eval Run ${a.name} ${new Date().toISOString()}`;let t=(0,ta.UN)().createNode("FRAME");t.name="Results Frame",t.x=-1e3,t.y=-1e3,t.size={x:220,y:220},t.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}];let n=(0,ta.UN)().createNode("TEXT");for(let a of(n.name="Results",s.biQ.setTextContentOnTextNode(n.guid,`False Negative Count: ${c.reduce((e,t)=>e+t.falseNegativeCount,0)}
False Positive Count: ${c.reduce((e,t)=>e+t.falsePositiveCount,0)}
Correct Count: ${c.reduce((e,t)=>e+t.correctCount,0)}`),n.x=10,n.y=10,n.size={x:200,y:200},n.fills=n.fills.concat([{type:"SOLID",color:{r:0,g:0,b:0,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}]),t.appendChild(n),e.appendChild(t),c)){let t=a.result;if(!(0,lx.yZ)(t.expectedComponents,t.components)){let n=s.XJn.cloneNodeForComponentize(t.node.guid),r=(0,ta.UN)().get(n.get(t.node.guid));if(!r)throw Error("Failed to clone node");r.name=t.node.name+` (FNC: ${a.falseNegativeCount} FPC: ${a.falsePositiveCount} CC: ${a.correctCount})`;let l=(e,t)=>{e.strokePaints={data:e.strokePaints.data.concat([{type:"SOLID",color:t,visible:!0,opacity:1,blendMode:"NORMAL"}]),blobs:e.strokePaints.blobs},e.strokeWeight=(8-l0(e,r))*2,e.strokeAlign="OUTSIDE",e.borderStrokeWeightsIndependent=!1,e.borderBottomWeight=2,e.borderTopWeight=2,e.borderLeftWeight=2,e.borderRightWeight=2},i=new Map;for(let[e,t]of n.entries())i.set(t,e);for(let e of(0,lx._i)(t.expectedComponents,t.components)){let t=n.get(e);l((0,ta.UN)().get(t),{r:1,g:0,b:0,a:1})}for(let e of(0,lx._i)(t.components,t.expectedComponents)){let t=n.get(e);l((0,ta.UN)().get(t),{r:0,g:0,b:1,a:1})}for(let e of(0,lx.iR)(t.expectedComponents,t.components)){let t=n.get(e);l((0,ta.UN)().get(t),{r:0,g:1,b:0,a:1})}e.appendChild(r)}}(0,ta.UN)().setCurrentPageAsync(e.guid)}),t(u.F.enqueue({type:"eval-componentize",message:"Finished eval"}))},l3=to.z.object({componentizePrompt:to.z.object({override:to.z.string(),enabled:to.z.boolean()}),suggestProps:to.z.object({override:to.z.string(),enabled:to.z.boolean()}),componentizeResultMapping:to.z.object({override:to.z.string(),enabled:to.z.boolean()})});class l5{constructor(e=1){this.queue=[],this.queue=[],this.concurrencyLimit=e,this.activeCount=0}postTask(e,t){return new Promise((n,a)=>{let r=async()=>{try{n(await e())}catch(e){a(e)}};this.queue.push([r,t]),this.doNextTask()})}async doNextTask(){if(0===this.queue.length||this.activeCount>=this.concurrencyLimit)return;let e=this.queue.shift();if(!e)return;let[t,n]=e;this.activeCount++;try{await scheduler.postTask(t,n)}catch(e){throw e}finally{this.activeCount--,this.doNextTask()}}}var l4=n(113752),l6=n(864277),l8=n(708692),l9=n(614092),l7=n(991510),ie=n(929414),it=n(622518),ia=n(347487),ir=n(323209),il=n(361765),ii=n(829856),io=n(706488),is=n(213584),ic=n(469508),id=n(461979),iu=n(561258),im=n(821503),ip=n(331208),ig=n(697587);let ih={ORG:"org",ALL:"all"},iE=(0,c.E3)("firstDraftKitPickerTab",ih.ORG);function i_({aiTrackingContext:e,ParentComponent:t}){let{allUsableKitEntries:n,hasLastSelectedKit:a,setSelectedKit:l,kitsAreLoaded:i}=(0,rk.sI)(),[o,s]=r.useState(""),d=r.useRef(null);(0,ip.y)(o,d),(0,im.z)();let{pop:u,push:m}=(0,A.cq)(),p=(0,r.useCallback)(n=>{l(n),(0,ey.SX)({...e,interaction:r_.NI.SELECT_KIT,interaction_type:r_.bp.BUTTON_CLICK}),a?u():m({name:eb.Sn.FIRST_DRAFT,module:r.createElement(t,null)})},[t,e,l,a,u,m]),[f,g]=r.useState(null);r.useEffect(()=>{d.current?.focus()},[d]);let[h,E]=(0,c.fp)(iE),_=(0,tK.tJ)("FirstDraftKitSelection").unwrapOr(null),y=_?.name||(0,eo.t)("first_draft.kits.org_libraries.fallback"),b=y&&y.length>20,C=(0,D.k)().first_draft_direct_gen&&n.some(e=>e.metadata.direct_generation),v=f||n;if((0,D.k)().first_draft_direct_gen){if(C){let e=h===ih.ORG;v=v.filter(t=>e===t.metadata.direct_generation)}}else v=v.filter(e=>!e.metadata.direct_generation);return r.createElement(M.s3,{name:"firstDraftKitPicker",recordingKey:"firstDraftKitPicker"},r.createElement(iu.dP,null,r.createElement("div",{className:ei.s.flex.flexColumn.gap8.pt8.$,"data-testid":"kitSelectionListContainer"},r.createElement("div",{className:F()("kit_picker_view--navContainer--JHIEY",K.Dm)},r.createElement("div",{className:ei.s.h24.$},r.createElement(rP.K,{recordingKey:er.Pt("firstDraftKitSelection","backButton"),onClick:u,"aria-label":(0,eo.t)("qa.go_back")},r.createElement(rU.C,null))),r.createElement("input",{ref:d,"aria-autocomplete":"list",className:F()("kit_picker_view--searchInput--Yj6zW",K.Dm),dir:"auto",maxLength:100,onChange:e=>{!function(e){if(s(e),0===e.length)g(null);else{let t=e.toLowerCase();g(n.filter(e=>ib(e).toLowerCase().includes(t)))}}(e.target.value)},placeholder:(0,eo.t)("first_draft.kits.search_placeholder"),spellCheck:!1,type:"search",value:o}),r.createElement(ig.y,{helpUrlVariant:eh.JT.FIRST_DRAFT_MAKE_KIT})),i&&(0,D.k)().first_draft_direct_gen?r.createElement("div",{className:ei.s.wFull.pl8.pr8.$},C?r.createElement(eT.fu,{value:h,onChange:ea.lQ,numItems:2},r.createElement(eT.oz,{tabId:ih.ORG,onAction:()=>E(ih.ORG),recordingKey:er.Pt("firstDraftKitSelection","orgTab"),htmlAttributes:{...b&&{"data-tooltip":y,"data-tooltip-type":eJ.Ib.TEXT}}},(0,eo.tx)("first_draft.kits.org_libraries",{orgName:(0,id.EJ)(y,20)})),r.createElement(eT.oz,{tabId:ih.ALL,onAction:()=>E(ih.ALL),recordingKey:er.Pt("firstDraftKitSelection","allTab")},(0,eo.tx)("first_draft.kits.all_libraries"))):r.createElement(iC,null)):null,r.createElement("div",{style:{height:312},className:ei.s.relative.$,"data-testid":"kitSelectionListView"},i?r.createElement(iy,{kitsToShow:v,searchQuery:o,onKitOptionSelected:p}):null))))}function iy({kitsToShow:e,searchQuery:t,onKitOptionSelected:n}){if(t&&0===e.length){let e=t.length>20?`${t.slice(0,20)}\u2026`:t;return r.createElement("div",{className:ei.s.p8.selfCenter.justifyCenter.flex.flexGrow0.$},(0,eo.tx)("first_draft.kits.no_results",{searchQuery:e}))}return r.createElement(aG.T.Provider,{value:{recordingKey:"firstDraftView"}},r.createElement(lK.B,{primary:!0,resultCount:e.length},e.map((e,t)=>r.createElement(lK.B.Item,{key:t,primaryAction:{text:"Perform",shortcuts:[{key:en.Uz.ENTER}],onAction:()=>n(e)},actionLabel:!1,recordingKey:er.Pt("firstDraftKitSelection",t,"list-item")},r.createElement("div",{className:ei.s.p4.gap8.flexRow.flex.itemsCenter.$,"data-testid":"fd-kit-item"},r.createElement("div",{className:"kit_picker_view--fileThumbnail--aGgkC",style:{backgroundImage:`url(${e.thumbnailUrl})`}}),r.createElement("div",{className:"kit_picker_view--kitDisplayInformation--Ypl2p utilities--bodyMedium--7-YGK"},r.createElement("div",null,ib(e)),e.numComponents>0&&r.createElement("div",{className:"kit_picker_view--componentCountText--bBnSq"},(0,eo.tx)("first_draft.kits.components_count",{count:e.numComponents}))))))))}function ib(e){switch(e.dsKitKey.type){case"LOCAL":case"USER_LIBRARY":return e.name;case"1P_LIBRARY":if(e.metadata.identifier)return(0,eo.t)(`first_draft.kits.${e.metadata.identifier}`)||e.name;return e.name;default:return(0,et.xb)(e.dsKitKey)}}function iC(){return r.createElement("div",{className:"kit_picker_view--tempGettingStartedNotice--ADe-Q utilities--bodyMedium--7-YGK"},r.createElement("div",{className:ei.s.fontBold.$},(0,eo.tx)("first_draft.direct_gen.getting_started.heading")),r.createElement("div",{className:ei.s.inline.colorTextSecondary.flexWrap.$},(0,eo.tx)("first_draft.direct_gen.getting_started.notice")," ",r.createElement(ic.N,{newTab:!0,trusted:!0,href:"https://www.figma.com/blog/figma-ai-first-draft-byods/",onClick:e=>e.stopPropagation(),htmlAttributes:{"data-tooltip":(0,eo.t)("qa.learn_more"),"data-tooltip-type":eJ.Ib.TEXT,"data-tooltip-show-above":!0}},(0,eo.tx)("qa.learn_more"))))}function iv({onClose:e,defaultPosition:t,description:n,setDescription:a}){return r.createElement(it.bL,{width:"sm",onClose:e,defaultPosition:{bottom:window.innerHeight-t.y-16,right:window.innerWidth-t.x+16}},r.createElement(ia.vo,null,r.createElement(ia.Y9,null,r.createElement(ia.hE,null,(0,eo.tx)("first_draft.reference_settings"))),r.createElement(ia.nB,{padding:8},r.createElement(io.v,{placeholder:(0,eo.t)("first_draft.reference_settings.placeholder"),value:n,onChange:e=>{a(e.currentTarget.value)},rows:3,minHeight:64,maxHeight:64,focusOnMount:!0}))))}function iw({selectedNodeThumbnailsCache:e,onDelete:t,promptValue:n,setPromptValue:a}){let l=Array.from((0,ie.eb)().values()),[i,o]=r.useState(null),c=(0,r.useRef)({x:0,y:0});return r.createElement("div",{className:ei.s.p4.flex.flexRow.flexWrap.minW0.flexShrink0.$},l?.map(n=>r.createElement("div",{key:n.guid,className:ei.s.relative.$,style:{display:"flex"}},r.createElement(is.v,{thumbnailUrl:e?.get(n.guid)?.imageURL??ie.zs,altText:n.name,onClick:()=>{s.glU?.panToNode(n.guid,!1)},isUploading:e?.get(n.guid)?.promise!==null,onDelete:()=>{t(n.guid)}}),r.createElement("div",{className:ei.s.absolute.colorBgSecondary.p4.$,style:{bottom:"-4px",left:"-4px",borderRadius:"0 9px 0 0"}},r.createElement(ir.f,{onIcon:r.createElement(il.A,null),offIcon:r.createElement(il.A,null),onChange:(e,{event:t})=>{c.current={x:t.target.getBoundingClientRect().x,y:t.target.getBoundingClientRect().bottom},o(e?n.guid:null)},checked:i===n.guid,variant:"highlighted","aria-label":eo.t("first_draft.reference_settings.adjust_settings")||""})))),i&&r.createElement(iv,{onClose:()=>o(null),defaultPosition:c.current,description:n.attachmentMetadata?.[i]?.description??"",setDescription:e=>a({...n,attachmentMetadata:{...n.attachmentMetadata,[i]:{description:e}}})}))}function iT({promptValue:e,setPromptValue:t,onShowKitPicker:n,selectedKit:a,handleSubmit:l,promptHistory:o,recordingKey:c,aiTrackingContext:d,selectedNodeThumbnailsCache:u,allowNodeAttachments:m}){let p;let[f]=r.useState(function(e=3,t){let n=(0,D.k)().first_draft_new_prompt_pills,a=[{label:(0,eo.t)("first_draft.prompts.pricing_page.label"),prompt:(0,eo.t)("first_draft.prompts.pricing_page.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,eo.t)("first_draft.prompts.sign_in_screen.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.blog_post.label"),prompt:(0,eo.t)("first_draft.prompts.blog_post.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.portfolio.label"),prompt:(0,eo.t)("first_draft.prompts.portfolio.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.news_site.label"),prompt:(0,eo.t)("first_draft.prompts.news_site.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.onboarding.label"),prompt:(0,eo.t)("first_draft.prompts.onboarding.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,eo.t)("first_draft.prompts.sign_in_screen.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.blog_post.label"),prompt:(0,eo.t)("first_draft.prompts.blog_post.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.map_app_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.map_app_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.messaging_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.messaging_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.profile.label"),prompt:(0,eo.t)("first_draft.prompts.profile_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.travel_app_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.travel_app_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.social_feed_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.social_feed_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.ticketing_app.label"),prompt:(0,eo.t)("first_draft.prompts.ticketing_app.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.ride_sharing_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.ride_sharing_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.to_dos_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.to_dos_mobile.prompt"),type:"MOBILE"}];n&&a.push({label:(0,eo.t)("first_draft.prompts.homepage.label"),prompt:(0,eo.t)("first_draft.prompts.homepage.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.homepage.label"),prompt:(0,eo.t)("first_draft.prompts.homepage_2.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.video_player_streaming.label"),prompt:(0,eo.t)("first_draft.prompts.video_player_streaming.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.video_page_with_comments.label"),prompt:(0,eo.t)("first_draft.prompts.video_page_with_comments.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.search_results_travel.label"),prompt:(0,eo.t)("first_draft.prompts.search_results_travel.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.social_feed_text_heavy.label"),prompt:(0,eo.t)("first_draft.prompts.social_feed_text_heavy.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.profile.label"),prompt:(0,eo.t)("first_draft.prompts.profile_social_media.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.news_article.label"),prompt:(0,eo.t)("first_draft.prompts.news_article.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.landing_page.label"),prompt:(0,eo.t)("first_draft.prompts.landing_page_beauty.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.landing_page.label"),prompt:(0,eo.t)("first_draft.prompts.landing_page_tech.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.marketing_page_football.label"),prompt:(0,eo.t)("first_draft.prompts.marketing_page_football.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.shopping.label"),prompt:(0,eo.t)("first_draft.prompts.shopping_hifi.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.shopping.label"),prompt:(0,eo.t)("first_draft.prompts.product_details_shoes.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.admin_dashboard_saas.label"),prompt:(0,eo.t)("first_draft.prompts.admin_dashboard_saas.prompt"),type:"WEB"},{label:(0,eo.t)("first_draft.prompts.settings_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.settings_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.video_player_comments_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.video_player_comments_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.checkout_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.checkout_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.reviews_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.reviews_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.audio_player_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.audio_player_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.investing_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.investing_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.app_browsing_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.app_browsing_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.reservations_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.reservations_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.fitness_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.fitness_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.subscriptions_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.subscriptions_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.recipes_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.recipes_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.sports_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.sports_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.delivery_app_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.delivery_app_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.calendar_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.calendar_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.email_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.email_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.file_browser_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.file_browser_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.education_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.education_mobile.prompt"),type:"MOBILE"},{label:(0,eo.t)("first_draft.prompts.shopping_mobile.label"),prompt:(0,eo.t)("first_draft.prompts.shopping_mobile.prompt"),type:"MOBILE"});let r=a;if(t){let e=t.toLowerCase();e.includes("mobile")?r=r.filter(e=>"MOBILE"===e.type):e.includes("web")&&(r=r.filter(e=>"WEB"===e.type))}let l=rN()(r),o={};for(let t of l){if(Object.keys(o).length>=e)break;let n=rL(t.label);o[n]||(o[n]=t)}let s=Object.values(o).slice(0,e);return s.length<e?((0,eA.$D)(i.e.AI_GENERATION,Error(`Unable to generate ${e} unique presets`),{extra:{count:e,generatedCount:s.length,selectedPresetsObj:o,shuffledPresets:l}}),[]):s}(4,a?.name)),g=(0,r.useCallback)(e=>{(0,ey.SX)({...d,...(0,ey.Q0)(e),interaction:r_.NI.GENERATE}),l()},[d,l]),h=Array.from((0,ie.eb)().values()),E=(0,r.useCallback)(e=>{s.Egt?.removeFromSelection([e])},[]),_=(0,r.useCallback)(()=>0!==e.prompt.length,[e]),y=(0,D.k)().first_draft_direct_gen,b=(0,r.useRef)(null),C=()=>a&&r.createElement(nl.$n,{"aria-label":ib(a),iconPrefix:r.createElement(ii.i,{style:{marginLeft:2,marginRight:4}}),onClick:n,recordingKey:er.Pt(c,"changeKit"),variant:"secondary"},ib(a)),v=(0,Y.o)();return p=y?{growVertically:!0,width:v-16}:{growVertically:!1},r.createElement("div",{className:ei.s.borderBox.$,style:{padding:8},"data-testid":"readyForPromptView"},r.createElement(ry.XG,{action:eh.JT.FIRST_DRAFT,bottomContent:m&&y&&h&&u&&h.length>0&&r.createElement(iw,{promptValue:e,setPromptValue:t,selectedNodeThumbnailsCache:u,onDelete:E}),featureNameForInstrumentation:"first_draft",onChange:n=>t({...e,prompt:n}),promptHistory:y?[]:o,recordingKey:er.Pt(c,"generate"),refocusToInput:!1,suggestion:f[0].prompt,suggestionPills:f.slice(1),textAreaRef:b,topNavContent:y?r.createElement("div",null):r.createElement("div",{className:"first_draft_prompt_view_v2--libraryButtonContainer--P-Bye"},C()),value:e.prompt,...p}),r.createElement(eC.B,{fullWidth:!0,justify:"space-between"},y&&C()||r.createElement("div",null),r.createElement(eC.B,{gap:8},y&&r.createElement(ry.nj,{promptHistory:o,onChange:n=>t({...e,prompt:n}),textAreaRef:b}),r.createElement(ne.r,{shortcuts:[{key:en.Uz.ENTER,modifier:[en.xH.META]}],onAction:g,recordingKey:er.Pt(c,"generate"),disabled:!_()},(0,eo.tx)("first_draft.generate")))))}var iS=n(237116);function ik({options:e,onSelect:t}){let[n,a]=r.useState(),l=r.useCallback((e,r)=>{t(e,{ev:r,prevOption:n}),a(e)},[t,n]);return r.createElement(rH._,null,r.createElement(iS.t,null),r.createElement(nt.x,{columns:6,gap:13.9,padding:0},e.map((e,t)=>r.createElement(iI,{key:t,column:t,presetOption:e,onSelect:l}))))}function iI({column:e,presetOption:t,onSelect:n}){let a={onAction:e=>n(t,e)};return r.createElement(nt.x.Item,{recordingKey:`previewTileItem-${e}`,focusAction:a,primaryAction:a,enableFauxFocus:!1},r.createElement(nt.x.GridItemHighlight,null,r.createElement("div",{className:ei.s.colorBgSecondary.b1.colorBorder.wFull.flex.alignCenter.justifyCenter.$,style:{aspectRatio:"1/1",height:"56px",overflow:"hidden",borderRadius:"8px",alignItems:"flex-start"}},r.createElement("img",{alt:"Preview of generation",src:t.dataURI,className:ei.s.maxWFull.$,draggable:!1}))))}let iN=(0,c.E3)("draft_prompt_history",[]),ix="first-draft-done-feedback",iA=(0,c.Iz)(()=>(0,c.eU)({prompt:""})),iL=async({params:{selectedKit:e,promptValue:t,submitPrompt:n,shouldContinueStreamRef:a,selectedNodeIds:r,selectedNodeThumbnailsCache:l},abortController:i})=>{if(i.signal.addEventListener("abort",()=>{a.current=!1}),!e)throw Error((0,eo.t)("first_draft.no_design_generated"));let o=await n(t,{designSystem:e,selectedNodeIds:r??void 0,selectedNodeThumbnailsCache:l},{shouldGenerateImages:!0,addWireframeBorder:e?.metadata.needs_border,skipSelection:(0,ru.WX)(e)});if(o.error)throw s.XJn.clearFDScene(),o.error;if(o?.success&&!o?.nodeId)throw Error((0,eo.t)("first_draft.no_design_generated"));return{result:o}};function iO(){let e=(0,ed.tS)(),{aiTrackingContext:t}=(0,aO.wj)(eh.JT.FIRST_DRAFT),n=t.clientLifecycleId,a=r.useCallback(()=>{(0,aX.trackEvent)("First Draft: Error",{file_key:e,clientLifecycleId:n,view:"firstDraftGenerate"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[n,e]);return r.createElement(d.tH,{boundaryKey:"FirstDraft",fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:n,area:i.e.AI_GENERATION},onError:a},r.createElement(aG.T.Provider,{value:{recordingKey:"firstDraftView"}},r.createElement(iR,{recordingKey:"firstDraftView"})))}function iR({recordingKey:e}){let t=(0,aO.RL)(eh.JT.FIRST_DRAFT,iL),{start:n,stop:a,state:i,aiTrackingContext:o}=t,d=o.clientLifecycleId,m=(0,eK.eY)(),p=(0,ed.tS)(),f=(0,r.useRef)(null),g=iA(d),[h,E]=(0,c.fp)(g);if(f.current){let e=f.current;f.current=null,E(e)}let[_,y]=r.useState([]),b=r.useRef(!0),C=r.useRef(null),v=r.useRef(null),w=r.useRef(new l5(1)),[T,S]=r.useState(new Set),k=r.useRef({}),{kitsAreLoaded:I,hasLastSelectedKit:N,selectedKit:x}=(0,rk.sI)(),{close:L,push:O,replace:R}=(0,A.cq)(),[M,P]=r.useState(!1===N);(0,r.useEffect)(()=>{if(M||!N)return(N?O:R)({name:eb.Sn.FIRST_DRAFT_KIT_PICKER,module:r.createElement(i_,{aiTrackingContext:o,ParentComponent:iO})})},[o,M,N,e,O,R]);let{promptHistory:F,addPromptToHistory:B}=(0,l7.a)(iN,e=>e),U=(0,ru.WX)(x),[G,K]=(0,r.useState)(!1),V=(0,l.wA)(),H=(0,ru.WX)(x),z=(0,ie.qi)({enabled:H}),W=(0,ie.eb)();lh(!U&&(i===aO.qy.DONE||i===aO.qy.ERROR)),r.useEffect(()=>()=>{s.XJn.clearFDScene()},[]);let j=r.useCallback(()=>b.current,[b]),Y=r.useCallback(async(e,t,n,a)=>{if(!e||!n)return;(0,l6.xF)(e);let r=!0;x&&!1===x.metadata.has_theme&&(r=!1),0===a.length&&0===Object.keys(t).length&&(r=!1),r&&y(await (0,l8.xk)(n,e,a,t))},[x]),{submitPrompt:J,executionTrace:q,imageProgress:X}=(0,ru.TM)({shouldContinueStream:j,onInsertJSXDone:Y,clientLifecycleId:d}),Z=r.useCallback(async()=>{if(i===aO.qy.RUNNING){(0,tr.xi)("first-draft","handleSubmit called while already running");return}if(!x){(0,tr.xi)("first-draft","handleSubmit called without a selected kit");return}eE.D.dispatch(u.F.dequeue({matchType:ix})),B(h.prompt);let e=await n({selectedKit:x,promptValue:h,submitPrompt:J,shouldContinueStreamRef:b,selectedNodeIds:H?Array.from(W.keys()):void 0,selectedNodeThumbnailsCache:z});e?.result?.nodeId&&(C.current=e.result.nodeId)},[i,x,B,h,n,J,H,W,z]),Q=r.useCallback(()=>{a(),L()},[L,a]),$=(0,r.useCallback)(async(e,t)=>{void 0!==t.prevOption&&e!==t.prevOption&&(0,ey.hm)({...o,...(0,ey.zQ)(t.ev),iteration_view_type:r_.$J.SUCCESS_WITH_ITERATION,interaction:r_.sd.GALLERY_SELECT,status:r_.o2.COMPLETED,value:e.modeId||"null"}),t.ev.target?.item&&(k.current[t.ev.target.index]=t.ev.target.item),await w.current.postTask(()=>{if(C.current&&(v.current?.modeId??null)!==e.modeId){let t=(0,l8.DP)(e,C.current,T),n=m.get(t),a=n?.firstDraftData,r=a?.kit?.type??null;(0,aX.trackEvent)("First Draft: Multiple Options Selected",{preset_name:e.modeId,clientLifecycleId:d,isLocal:r===s.AZ4.LOCAL||null,dsKitType:null!==r?r===s.AZ4.LOCAL?"LOCAL":"1P_LIBRARY":null,kitKey:a?.kit?.key??null,file_key:p},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),S(new Set([C.current,...T])),C.current=t,v.current=e}},{})},[o,T,d,m,p]),ee=(0,l9.Fk)((e,t)=>{for(let n of t)if(n){let t=e.get(n);if(t)return Object.values(t.explicitVariableModes())[0]??null}},[C.current,...T]);r.useEffect(()=>{if(v.current&&void 0!==ee&&v.current.modeId!==ee){let e=_.findIndex(e=>e.modeId===ee);k.current[e]&&(v.current=_[e],k.current[e].fauxFocus())}},[ee,_]);let en=()=>0===_.length?null:r.createElement(ik,{options:_,onSelect:$}),ea=q&&(0,D.k)().cortex_execution_tracing;switch((0,r.useLayoutEffect)(()=>{i===aO.qy.DONE&&U&&(f.current={...h,attachmentMetadata:{...h.attachmentMetadata,...C.current?{[C.current]:{description:"",wasOutputOfPreviousGeneration:!0}}:{}}},eE.D.dispatch(u.F.enqueue({type:ix,messageComponentKey:l4.Rw.FIRST_DRAFT_FEEDBACK,icon:l4.zX.GREEN_CHECK,onDismiss:()=>{eE.D.dispatch(u.F.dequeue({matchType:ix}))},timeoutOverride:6e4,aiTrackingContext:o})),s.XJn?.clearFDScene(),(0,aO.B3)(eh.JT.FIRST_DRAFT),C.current&&s.Egt?.addToSelection([C.current]))},[i,U,h,o]),i){case aO.qy.INITIAL:return r.createElement(iT,{aiTrackingContext:o,allowNodeAttachments:H,handleSubmit:Z,kitsAreLoaded:I,onShowKitPicker:()=>{P(!0)},promptHistory:F,promptValue:h,recordingKey:e,selectedKit:x,selectedNodeThumbnailsCache:z,setPromptValue:E});case aO.qy.RUNNING:return r.createElement(rT.F,{recordingKey:er.Pt(e,"running"),onStop:Q,aiTrackingContext:o,secondaryMessage:X.total&&X.loaded?(0,eo.t)("first_draft.x_of_y_images",{loaded:X.loaded,total:X.total}):void 0},(0,eo.tx)("first_draft.running"));case aO.qy.DONE:{let n=t.result;if(G)return r.createElement(lv,{initialRootGuid:n.result?.nodeId});let a=[];if((0,rE.KK)()&&!(0,D.k)().first_draft_use_gemini&&a.push({type:rw.is.MAKE_CHANGES,callback:()=>{s.XJn.clearFDScene(),K(!0)}}),ea&&(0,lg.A)(V,q),U)return null;return r.createElement(rw.Oq,{content:x?.dsKitKey.type==="USER_LIBRARY"?null:(()=>{let e=[],t=en();return(t&&e.push(t),0===e.length)?null:r.createElement(lA.Y,{direction:"vertical",spacing:8},e)})(),iterateOptions:a,recordingKey:er.Pt(e,"iterate"),aiTrackingContext:{...o,iteration_view_type:r_.$J.SUCCESS_WITH_ITERATION},stayOpen:!0})}case aO.qy.ERROR:{let{error:n}=t;return ea&&(0,lg.A)(V,q),r.createElement(rC.E,{error:n,recordingKey:er.Pt(e,"error"),buttons:[{type:rC.f.OK,callback:L}],aiTrackingContext:o})}case aO.qy.CANCELLED:return null;default:(0,et.xb)(i)}}var iM=n(286522),iD=n(130198);let iP="7f12ea1300756f144a0fb5daaf68dbfc01103a46",iF=(e,t)=>{let n=e=>{let t=e=>"number"==typeof e&&!isNaN(e);return t(e.x)&&t(e.y)&&t(e.width)&&t(e.height)};if(!n(e)||!n(t))throw Error("Invalid bounding box - all position and size properties must be valid numbers");let a=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y)),r=e.width*e.height+t.width*t.height-a;return[a,r]},iB={intersectionOverUnion:{distanceFunction:(e,t,n)=>{let a=!0,r=n.iouDefaultCost;try{let[l,i]=iF(e.boundingBox,t.boundingBox);void 0!==n.iouThreshold&&(a=a&&(0===i?0:l/i)>n.iouThreshold),r=i-l}catch(e){return{match:!1,distance:r}}return{match:a,distance:r}},options:{iouDefaultCost:1,iouThreshold:.2,typeMismatchCost:1}}};function iU(e){return e.fills.some(e=>"IMAGE"===e.type)}let iG=new Set(["VECTOR","LINE"]),iK=new Set(["VECTOR","ROUNDED_RECTANGLE","ELLIPSE","STAR","LINE","REGULAR_POLYGON"]);function iV(e){return!!(iG.has(e.type)||iK.has(e.type))||"GROUP"===e.type&&e.childrenNodes.every(e=>iV(e))}var iH=n(439952),iz=n(552807),iW=n(356066);function ij(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function iY(e){if(!e||!e.startsWith("data:")||-1===e.indexOf(";base64,"))throw Error("Invalid data URL format");let t=e.split(";base64,").pop();if(!t)throw Error("Could not extract base64 data from URL");let n=e.substring(5,e.indexOf(";"));if(!n)throw Error("Could not extract mime type from data URL");return{base64:t,mimeType:n}}function iJ(e){let t=e.size,n=(0,iz._G)(new ni.Mi(t.x,t.y),e.guid,!0,void 0,!1,!0);if(!n||!n.pixels||!n.pixelSize||!n.displaySize)return null;let{base64:a,mimeType:r}=iY((0,iz.Pv)(n.pixels,n.pixelSize));return{base64:a,mimeType:r,pixelData:n.pixels,width:n.pixelSize.x,height:n.pixelSize.y}}async function iq(e,t,n,a,r,l,i,o="Image"){let s;let c=ij(l),d=await (0,iH.UD)(c,i,"image");if(aj.l7.user("create image node",()=>{(s=e.createNode("RECTANGLE")).size={x:a,y:r},s.insertImageInFillPaint(d),s.x=n.x,s.y=n.y,t.appendChild(s),s.name=o}),!s)throw Error("Failed to create node");return s}async function iX(e,t,n,a,l,i,o){let s=await iq(e,t,n,a,l,i,o,"Placeholder");return(0,rS.Vm)(s.guid,r.createElement(iW.A,null)),s}async function iZ(e,t,n,a,r,l,i,o){let{node:c,issues:d}=await (0,iD.deserializeJSX)(n,{originalSize:{x:r,y:l},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0,imagePlaceholderRef:iP}),u=()=>{c&&aj.l7.user("remove aborted node",()=>{c?.removeSelfAndChildren()})};if(o.signal.aborted)throw u(),new aO.lc;if(!c)throw Error(`Failed to deserialize node${d.length?`: ${d.map(e=>e.message).join(", ")}`:""}`);let m=await Promise.all(i.objects.filter(e=>"image"===e.cls||"vector"===e.cls).map(async e=>{let t=function(e,t,n,a){let r=new Uint8Array(a.width*a.height*4);for(let n=0;n<a.height;n++)for(let l=0;l<a.width;l++){let i=a.x+l,o=((a.y+n)*t+i)*4,s=(n*a.width+l)*4;r[s]=e[o]??0,r[s+1]=e[o+1]??0,r[s+2]=e[o+2]??0,r[s+3]=e[o+3]??0}return{data:r,width:a.width,height:a.height}}(function(e,t,n,a){let r=new Uint8Array(e.length);for(let l=0;l<a;l++)for(let a=0;a<n;a++){let i=(l*n+a)*4,o=t[l*n+a];r[i]=e[i]??0,r[i+1]=e[i+1]??0,r[i+2]=e[i+2]??0,r[i+3]=(e[i+3]??0)*(o??0)/255}return r}(a,function(e,t,n,a,r){let l=new Uint8Array(a*r);for(let i=0;i<r;i++)for(let o=0;o<a;o++){let s=Math.floor(o*t/a),c=Math.floor(i*n/r);l[i*a+o]=e[c*t+s]??0}return l}(e.mask,i.width,i.height,r,l),r,l),r,0,{x:e.x,y:e.y,width:e.width,height:e.height}),n=ij((function(e,t,n){let a=t*n*4;if(e.length!==a)throw Error(`Data length (${e.length}) does not match expected dimensions (${a})`);let{canvas:r,ctx:l}=function(e,t){let n=document.createElement("canvas");n.width=e,n.height=t;let a=n.getContext("2d");return{canvas:n,ctx:a}}(t,n);return function(e,t,n,a){let r=e.createImageData(t,n);r.data.set(a),e.putImageData(r,0,0)}(l,t,n,e),r.toDataURL("image/png")})(t.data,t.width,t.height).split(",")[1]),o=await (0,iH.UD)(n,"image/png","image");return{type:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,imageSetForInsertion:o}}));if(o.signal.aborted)throw u(),new aO.lc;let p=function({node:e,graphics:t}){var n;let[a,r]=function(e,t){let n=[];!function e(t){if(n.push(t),t.childrenNodes)for(let n of t.childrenNodes)e(n)}(e);let a=e.absoluteRenderBounds;if(!a)return[[],[]];let r=[],l=[];return n.forEach(e=>{if(t(e)){let{relativeBounds:t,isVisible:n}=function(e,t){let n=e.absoluteBoundingBox;if(!n)return{relativeBounds:void 0,isVisible:!1};let a={x:n.x-t.x,y:n.y-t.y,width:n.w,height:n.h},r=a.x<t.width&&a.x+a.width>0&&a.y<t.height&&a.y+a.height>0;return{relativeBounds:a,isVisible:r}}(e,{x:a.x,y:a.y,width:a.w,height:a.h});n&&t&&(r.push({boundingBox:t}),l.push(e))}}),[r,l]}(e,e=>iU(e)||iV(e)),[l,i]=function(e,t){let n=e.filter(t);return[n.map(e=>({boundingBox:{x:e.x,y:e.y,width:e.width,height:e.height}})),n]}(t,e=>"image"===e.type||"vector"===e.type),[o,s]=function(e,t,n=iB.intersectionOverUnion){let{columnsForRow:a,rowForColumn:r}=function(e,t=!1){if(0===e.length||0===e[0].length)return{columnsForRow:[],rowForColumn:[],gain:0};let n=e.length,a=e[0].length,r=!1;if(a>n){e=e[0].map((t,n)=>e.map(e=>e[n]));let t=n;n=a,a=t,r=!0}let l=t?Math.max(...e.flat()):Math.min(...e.flat());t&&l<0&&(l=0),!t&&l>0&&(l=0),e=e.map(e=>e.map(e=>t?-e+l:e-l));let i=Array(n).fill(-1),o=Array(a).fill(-1),s=Array(a).fill(0),c=Array(n).fill(0);for(let t=0;t<a;t++){let{sink:n,predecessors:a,updatedU:r,updatedV:l}=function(e,t,n,a,r,l){let i=a.length,o=a[0].length,s=Array(i).fill(0),c=Array(o).fill(!1),d=Array(i).fill(!1),u=Array.from({length:i},(e,t)=>t),m=i,p=null,f=0,g=e,h=Array(i).fill(1/0);for(;null===p;){c[g]=!0;let e=1/0,l=-1;for(let r=0;r<m;r++){let i=u[r],o=f+a[i][g]-t[g]-n[i];o<h[i]&&(s[i]=g,h[i]=o),h[i]<e&&(e=h[i],l=r)}if(!isFinite(e))return{sink:null,predecessors:s,updatedU:t,updatedV:n};let i=u[l];d[i]=!0,m--,u.splice(l,1),f=h[i],-1===r[i]?p=i:g=r[i]}t[e]+=f;for(let n=0;n<c.length;n++)c[n]&&n!==e&&(t[n]+=f-h[l[n]]);for(let e=0;e<d.length;e++)d[e]&&(n[e]-=f-h[e]);return{sink:p,predecessors:s,updatedU:t,updatedV:n}}(t,s,c,e,i,o);if(null===n)return{columnsForRow:[],rowForColumn:[],gain:-1};s=r,c=l;let d=n;for(;;){let e=a[d];i[d]=e;let n=o[e];if(o[e]=d,d=n,e===t)break}}let d=0;for(let t=0;t<a;t++)d+=e[o[t]][t];if(t?(d=-d+l*a,s=s.map(e=>-e),c=c.map(e=>-e)):d+=l*a,r){let e=i;i=o,o=e,e=s,s=c,c=e}return{columnsForRow:i,rowForColumn:o,gain:d}}(function(e,t,n){let{distanceFunction:a,options:r}=n;if(!a)throw Error("`distanceFunction` must be set in config.");if(!r)throw Error("`options` must be set in config.");let l=Array.from({length:e.length},()=>Array(t.length).fill(0));for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++)l[n][i]=a(e[n],t[i],r).distance;return l}(e,t,n)),{distanceFunction:l,options:i}=n;for(let n=0;n<a.length;n++){let o=a[n];-1===o||l(e[n],t[o],i).match||(r[o]=-1,a[n]=-1)}return[a,r]}(a,l),c=(0,ta.UN)();return aj.l7.ai("reconcile all graphics",()=>{for(let e=0;e<a.length;e++){let t=o[e];if(void 0!==t&&-1!==t){let n=i[t],a=r[e];if(a&&n?.imageSetForInsertion){if(iU(a))a.insertImageInFillPaint(n.imageSetForInsertion);else if(iV(a)){let e=c.createNode("RECTANGLE");e.name=a.name||a.type,e.size={x:n.width,y:n.height},e.x=a.x,e.y=a.y,e.setImageInFillPaint(n.imageSetForInsertion),a.parentNode?.appendChild(e),a.removeSelfAndChildren()}}}}}),n=r.filter(iU),aj.l7.ai("Removing placeholder image fills",()=>{n.forEach(e=>{let t=e.fills;e.fills=t.filter(e=>!("IMAGE"===e.type&&e.image&&e.image.hash&&(0,nB.nj)(e.image.hash)===iP))})}),e}({node:c,graphics:m});return aj.l7.user("place node",()=>{t.parentNode?.appendChild(p),p.x=t.x,p.y=t.y,e.setSelectionToSingleNode(p.guid),s.glU.showSelectionOverlayImmediately()}),p}let iQ=to.z.object({cls:to.z.string(),x:to.z.number(),y:to.z.number(),width:to.z.number(),height:to.z.number(),mask:to.z.instanceof(Uint8Array)}).passthrough(),i$=to.z.object({width:to.z.number(),height:to.z.number(),objects:to.z.array(iQ)}).passthrough();async function i0(e,t=1){let n=(await tl.Ay.design.imageToShareJsx({input:{image:e},numDesigns:t})).jsx;if(!n?.length)throw Error("No valid JSX received from server");return n.flat()}async function i1(e,t,n){let a=(await Promise.all(t.map(async e=>{try{let{node:t}=await (0,iD.deserializeJSX)(e,{originalSize:{x:n.size.x,y:n.size.y},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0});if(!t)return null;aj.l7.user("place node",()=>{t.x=n.x,t.y=n.y});let a=iJ(t);if(!a)return null;let r=a.base64;return aj.l7.user("hide and remove node",()=>{t.visible=!1,t.removeSelfAndChildren()}),{jsx:e,base64:r}}catch(e){return null}}))).filter(e=>null!==e);if(0===a.length)return console.warn("No valid JSX candidate thumbnails generated, defaulting to first candidate"),t[0];let r=(await tl.Ay.design.guiclip({image:e,candidates:a.map(e=>e.base64)})).bestCandidateIndex;return null==r?(console.warn("Cannot get best candidate index from server, defaulting to first valid candidate"),a[0].jsx):a[r].jsx}async function i2(e){let t=await tl.Ay.design.uiParser({png_b64:e}),n={width:t.width,height:t.height,objects:t.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:new Uint8Array(atob(e.mask).split("").map(e=>e.charCodeAt(0)))}))},a=i$.safeParse(n);if(!a.success)throw Error("Unable to parse response from UI Parser");return a.data}let i3=async({abortController:e})=>{let t;let n=ta.UN().getCurrentPage()?.directlySelectedNodes;if(!n||1!==n.length||void 0===n[0])throw Error("No image selected");let a=n[0],r=a.size.x,l=a.size.y;try{let{base64:n,mimeType:i,pixelData:o,width:s,height:c}=function(e){let t=iJ(e);if(!t)throw Error("Cannot process image");return t}(a),{node:d,location:u}=function(e,t,n){return{node:e.parentNode,location:new ni.Mi(e.x+t+(t+n)/2*.15,e.y)}}(a,s,c),m=(0,ta.UN)(),p=m.getCurrentPage();if(!p)throw Error("Cannot get current page from scene");t=await iX(m,d??p,u,r,l,n,i);let f=(0,aO.zM)((e,t)=>i0(e,t),e),g=(0,aO.zM)((e,t,n)=>i1(e,t,n),e),h=(0,aO.zM)(e=>i2(e),e),E=await f(n,4),_=await g(n,E,t),y=await h(n),b=(0,aO.zM)(iZ,e,e=>{e&&aj.l7.user("clean up reconciled node",()=>{e.removeSelfAndChildren()})});await b(p,t,_,o,s,c,y,e)}catch(e){if(e instanceof aO.lc)return;throw e}finally{aj.l7.user("remove placeholder node",()=>{t&&t.removeSelfAndChildren()})}},i5=async({abortController:e,params:t})=>{let n;let a=(t.width+t.height)/2,r=new ni.Mi(t.node.x+t.width+.15*a,t.node.y),l=(0,ta.UN)(),i=l.getCurrentPage();if(!i)throw Error("Cannot get current page from scene");let o=iJ(t.node);if(!o)throw Error("Failed to get image data from node");let{base64:c,mimeType:d,pixelData:u,width:m,height:p}=o;try{n=await iX(l,t.node.parentNode??i,r,m,p,c,d);let a=(0,iD.serializeJSX)(t.node,{normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0}),o=await s.bbV?.generateNodeSegmentationFromWeb(t.node.guid);if(!o)throw Error("UiParserHelpers is undefined, failed to create segmentation for node");let f={width:o.width,height:o.height,objects:o.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:e.mask}))};await iZ(i,n,a.jsxStr,u,m,p,f,e)}catch(e){throw e}finally{aj.l7.user("remove placeholder node",()=>{n&&n.removeSelfAndChildren()})}};var i4=n(319647),i6=n(163699);function i8({fileInputRef:e,onFileInputChange:t}){return r.createElement("input",{type:"file",ref:e,accept:i6.xp.join(","),onChange:t,multiple:!1,className:ei.s.hidden.$})}function i9({action:e,instruction:t,onPerform:n,disableImageUpload:a=!1}){let{close:l}=(0,A.cq)(),i=(0,aO.RL)(e,i3),{state:o,stop:c,aiTrackingContext:d}=i,u=r.useRef(null),m=()=>{(0,aO.B3)(e)};switch(o){case aO.qy.INITIAL:return r.createElement(r.Fragment,null,!a&&r.createElement(i8,{fileInputRef:u,onFileInputChange:e=>{let t=e.target?.files;if(t&&t[0]){let e=t[0],n=new FileReader;n.onloadend=()=>{if(n.result){let t=n.result.toString(),a=new Image;a.onload=async()=>{let n=a.width,r=a.height,l=(0,ta.UN)(),i=l.getCurrentPage();if(!i)return;let o=a_.Y5.getViewportInfo(),c=new ni.Mi(o.offsetX-n/2,o.offsetY-r/2),{base64:d,mimeType:u}=iY(t),m=await iq(l,i,c,n,r,d,u,e.name);i.setSelectionToSingleNode(m.guid),s.glU.showSelectionOverlayImmediately()},a.src=t}},n.readAsDataURL(e)}}}),r.createElement(aB.A,{action:e,actionLabel:(0,eo.tx)("image_to_design.action"),actionIcon:r.createElement(al,null),instructionAction:a?void 0:{type:"custom",label:(0,eo.tx)("asset_suggestions.visual_search_image_upload_button"),iconPrefix:r.createElement(i4.A,null),onPerform:()=>u.current?.click()},aiTrackingContext:void 0,onPerform:n},t));case aO.qy.RUNNING:return r.createElement(rT.F,{onStop:()=>{c(),m(),l()},aiTrackingContext:d},(0,eo.tx)("ai.working"));case aO.qy.DONE:return r.createElement(rw.Oq,{iterateOptions:[],aiTrackingContext:{...d,iteration_view_type:r_.$J.SUCCESS_WITH_ITERATION},showFeedbackInline:!0});case aO.qy.ERROR:return r.createElement(rC.E,{error:i.error,buttons:[{type:rC.f.OK,callback:m}],aiTrackingContext:d});case aO.qy.CANCELLED:return null}}var i7=n(835805),oe=n(260533),ot=n(636074),on=n(298622);function oa({action:e,aiActionType:t,actionLabel:n,instructionLabel:a,icon:l,searchSynonyms:i}){return{action:e,featureFlags:["figjam_quick_actions_v2"],tags:[am.$.AI],flags:["edit","whiteboard"],iconType:l,searchSynonyms:i,quickAction:{beforeModuleOpen:()=>{(0,eX.Yh)(eE.D.getState().mirror.appModel,e)&&(0,aA.J7)(t)},alwaysEnabled:!0,module:{name:eb.Sn.FIGJAM_AI_CONTEXTUAL_FEATURES,module:r.createElement(aU,{action:e,actionType:t,actionIcon:l,actionLabel:n,instructionLabel:a})}}}}let or=[{callback:ea.lQ,action:eh.JT.TRANSLATE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],tags:[am.$.AI],quickAction:{beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.TRANSLATE_TEXT)},alwaysEnabled:!0,module:{name:eb.Sn.TRANSLATE,module:r.createElement(aP.K,null)}},iconType:r.createElement(n2.R,null),searchSynonyms:["change language"]},{callback:ea.lQ,action:eh.JT.REWRITE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.REWRITE_TEXT)},module:{name:eb.Sn.REWRITE,module:r.createElement(aM.w,null)},alwaysEnabled:!0},iconType:r.createElement(n3.T,null),tags:[am.$.AI],searchSynonyms:["revise this","modify this","adjust tone"]},{callback:()=>{(0,aO.B3)(eh.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,aO.Ag)(eh.JT.SLIDES_GENERATE_SPEAKER_NOTES,aN.O,{source:ax.f.QUICK_ACTIONS})},action:eh.JT.SLIDES_GENERATE_SPEAKER_NOTES,flags:["slides"],iconType:r.createElement(n5.B,null),tags:[am.$.AI],searchSynonyms:["presenter notes","speaker notes","notes","draft presenter notes","draft speaker notes","draft notes"]},{callback:()=>(0,aI.mD)(eE.D.dispatch,{source:"quick_actions",toggle:!0}),action:eh.JT.SLIDES_REWRITE_TEXT,flags:["slides"],iconType:r.createElement(n4.s,null),tags:[am.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:()=>(0,aI.mD)(eE.D.dispatch,{source:"quick_actions",toggle:!0}),action:eh.JT.SLIDES_REWRITE_TEXT,flags:["edit","design"],featureFlags:["aip_tone_dial_fd"],iconType:r.createElement(n4.s,null),tags:[am.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:ea.lQ,action:eh.JT.SHORTEN_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{module:{name:eb.Sn.SHORTEN,module:r.createElement(aD.J,null)},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.SHORTEN_TEXT),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.SHORTEN_TEXT)&&(0,aO.Ag)(eh.JT.SHORTEN_TEXT,aD.$,{featureType:eh.JT.SHORTEN_TEXT,source:"quick-actions"})}},iconType:r.createElement(n6.g,null),tags:[am.$.AI],searchSynonyms:["make concise","condense","reduce","abbreviate","shorter"]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT,flags:["edit","design"],featureFlags:[],quickAction:{module:{module:r.createElement(iO,null),name:eb.Sn.FIRST_DRAFT},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.FIRST_DRAFT)}},iconType:r.createElement(n8,null),tags:[am.$.AI],searchSynonyms:["first draft","make designs","generate design","create design","let's design"]},{callback:ea.lQ,action:eh.JT.MAKE_EDITS,flags:["edit","design"],featureFlags:["make_edits"],quickAction:{module:{module:r.createElement(ak.b,null),name:eb.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.MAKE_EDITS)}},iconType:r.createElement(n8,null),tags:[am.$.AI],searchSynonyms:["make edit","edit design"]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_FINE_TUNE,flags:["edit","design"],featureFlags:["first_draft_fine_tune"],quickAction:{module:{module:r.createElement(function(){let e=(0,r.lazy)(()=>Promise.all([n.e(8658),n.e(5655),n.e(8854),n.e(1499),n.e(1173)]).then(n.bind(n,181173))),{aiTrackingContext:t}=(0,aO.wj)(eh.JT.FIRST_DRAFT_FINE_TUNE),a=t.clientLifecycleId;return r.createElement(d.tH,{boundaryKey:"FirstDraftFineTune",fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:a,area:i.e.AI_GENERATION}},r.createElement(aG.T.Provider,{value:{recordingKey:"firstDraftFineTuneView"}},r.createElement(r.Suspense,{fallback:r.createElement("div",null,(0,eo.t)("first_draft.make_edits.loading"))},r.createElement(e,null))))},null),name:eb.Sn.FIRST_DRAFT_FINE_TUNE},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.FIRST_DRAFT_FINE_TUNE)},alwaysEnabled:!0},iconType:r.createElement(n8,null),tags:[am.$.AI],searchSynonyms:["fine tune","first draft fine tune"]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_MAKE_CHANGES,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_changes","first_draft_make_changes_reopen"],notFeatureFlags:["first_draft_use_gemini"],quickAction:{module:{module:r.createElement(function(){let e=rg(),[t]=r.useState(e);return r.createElement(lv,{initialRootGuid:t||null})},null),name:eb.Sn.FIRST_DRAFT_MAKE_CHANGES}},iconType:r.createElement(n8,null),tags:[am.$.AI],searchSynonyms:["make changes","adjust design","modify design","edit design"]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_MAKE_KIT,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit"],quickAction:{module:{module:r.createElement(function(){let{pop:e}=(0,A.cq)();return r.createElement(d.tH,{boundaryKey:"FirstDraftMakeKitView",fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:i.e.AI_GENERATION}},r.createElement(lW,{recordingKey:"firstDraftMakeKitView",onBack:e}))},null),name:eb.Sn.FIRST_DRAFT_MAKE_KIT},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.FIRST_DRAFT_MAKE_KIT),(0,aO.B3)(eh.JT.FIRST_DRAFT_COMPONENTIZE),(0,aO.B3)(eh.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:r.createElement(n8,null),tags:[am.$.AI],searchSynonyms:["make kit","create kit","generate kit","design kit"]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_MAKE_KIT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit","first_draft_debug"],quickAction:{module:{module:r.createElement(function(){let e=(0,l.wA)(),{close:t}=(0,A.cq)(),[n,a]=r.useState(()=>{let e=localStorage.getItem("firstDraftMakeKitDebugState");if(e)try{return l3.parse(JSON.parse(e))}catch(e){console.error("Failed to parse saved state:",e)}return{componentizePrompt:{override:"",enabled:!1},suggestProps:{override:"",enabled:!1},componentizeResultMapping:{override:"",enabled:!1}}}),i=r.useMemo(()=>n.componentizeResultMapping.enabled?async()=>await JSON.parse(n.componentizeResultMapping.override):n.componentizePrompt.enabled?async e=>await lZ(n.componentizePrompt.override,e):void 0,[n.componentizePrompt.override,n.componentizeResultMapping.override,n.componentizeResultMapping.enabled,n.componentizePrompt.enabled]),o=r.useMemo(()=>{if(n.suggestProps.enabled)return async e=>{try{return await lQ(n.suggestProps.override,e)}catch(e){return console.error("Failed to get suggested props:",e),[]}}},[n.suggestProps.override,n.suggestProps.enabled]);r.useEffect(()=>{localStorage.setItem("firstDraftMakeKitDebugState",JSON.stringify(n))},[n]);let s=e=>t=>{a(n=>({...n,[e]:{...n[e],override:t.target.value}}))},c=e=>t=>{a(n=>({...n,[e]:{...n[e],enabled:t.target.checked}}))},d=(e,t)=>r.createElement(eC.B,{fullWidth:!0,justify:"space-between"},r.createElement("input",{type:"checkbox",checked:n[e].enabled,onChange:c(e)}),r.createElement("div",{style:{opacity:n[e].enabled?1:.5,width:"100%"}},r.createElement(lA.Y,{direction:"vertical",spacing:8},r.createElement(tt.E,null,t),r.createElement("textarea",{className:ei.s.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:3,value:n[e].override,placeholder:"Enter override, must contain {{jsx}} for substitution",onChange:s(e),disabled:!n[e].enabled})))),[u,m]=r.useState(!1);return u?r.createElement(lR.x.Provider,{value:{getSuggestedComponents:i,getSuggestedProps:o}},r.createElement(lX,null)):r.createElement("div",null,r.createElement(lA.Y,{direction:"vertical",spacing:"auto",padding:8},r.createElement(tt.E,{fontSize:14,fontWeight:"medium"},"Make First Draft Kit (Debug)"),r.createElement(lA.Y,{direction:"vertical",padding:8,width:"fill-parent",spacing:16},d("componentizePrompt","Componentize Prompt Override"),d("suggestProps","Suggest Props Prompt Override"),d("componentizeResultMapping","Componentize Result Mapping Override")),r.createElement(eC.B,{gap:8},r.createElement(nl.$n,{variant:"secondary",onClick:async()=>{await l2({componentizePromptOverride:n.componentizePrompt.enabled?n.componentizePrompt.override:void 0,dispatch:e,close:t})}},"Eval componentize on page"),r.createElement(nl.$n,{variant:"secondary",onClick:()=>m(!0)},"Run on current selection"),r.createElement(nl.$n,{variant:"secondary",onClick:()=>l1({componentizePromptOverride:n.componentizePrompt.enabled?n.componentizePrompt.override:void 0,dispatch:e})},"Generate test case from selected"))))},null),name:eb.Sn.FIRST_DRAFT_MAKE_KIT_DEBUG},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.FIRST_DRAFT_MAKE_KIT),(0,aO.B3)(eh.JT.FIRST_DRAFT_COMPONENTIZE),(0,aO.B3)(eh.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:r.createElement(n8,null),searchSynonyms:["debug kit","debug make kit"],tags:[am.$.AI]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_LINTING,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_publish_ux"],quickAction:{module:{module:r.createElement(aK.S6,null),name:eb.Sn.FIRST_DRAFT_LINT}},tags:[am.$.AI]},{callback:ea.lQ,action:eh.JT.FIRST_DRAFT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_debug"],quickAction:{module:{module:r.createElement(function(){let e=(0,r.lazy)(()=>Promise.all([n.e(8658),n.e(491),n.e(5655),n.e(8854),n.e(1499),n.e(3211)]).then(n.bind(n,873211)));return r.createElement(d.tH,{boundaryKey:"MakeEdits",fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:i.e.AI_GENERATION}},r.createElement(aG.T.Provider,{value:{recordingKey:"firstDraftDebugView"}},r.createElement(r.Suspense,{fallback:r.createElement("div",null,"Loading...")},r.createElement(e,null))))},null),name:eb.Sn.FIRST_DRAFT_DEBUG}},tags:[am.$.AI]},{name:eh.JT.FIND_INSPIRATION,action:eh.JT.FIND_INSPIRATION,displayNode:(0,D.k)().fragment_search_tweaks?(0,eo.tx)("fullscreen_actions.quick_actions.find-inspiration-verbose"):(0,eo.tx)("fullscreen_actions.find-inspiration"),displayForQuickCommand:"find-inspiration-quick-command",args:{},tags:[am.$.AI],flags:["design","slides","cooper"],featureFlags:(0,D.k)().hub_file_fragments?[]:["asset_suggestions"],callback:ea.lQ,quickAction:{module:{module:(0,D.k)().hub_file_fragments?r.createElement(tz.z6,{isVisualSearch:!0}):r.createElement(iM.WS,null),name:eb.Sn.VISUAL_SEARCH},beforeModuleOpen:()=>(0,iM.jp)(es.G4.ACTIONS_LIST)},iconType:r.createElement(e6.T,null),searchSynonyms:["visual search","image search","selection search","visual lookup","find matching","search for similar","find similar designs","find more like"]},{action:eh.JT.REMOVE_BACKGROUND,featureFlags:["eai_image_tools"],tags:[am.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:r.createElement(n9.$,null),quickAction:{module:{module:r.createElement(oe.w,{source:"quick-actions"}),name:eb.Sn.BACKGROUND_REMOVE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.REMOVE_BACKGROUND),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.REMOVE_BACKGROUND)&&(0,aO.Ag)(eh.JT.REMOVE_BACKGROUND,aT.JY,{source:"quick-actions"})}},callback:ea.lQ,searchSynonyms:["clean up image","clean up picture","make transparent","delete background","erase background","eliminate background","isolate subject"]},{action:eh.JT.UPSCALE_IMAGE,featureFlags:["aip_buttercup"],tags:[am.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:r.createElement(n7.X,null),quickAction:{module:{module:r.createElement(oe.q,{source:"quick-actions"}),name:eb.Sn.UPSCALE_IMAGE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.UPSCALE_IMAGE),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.UPSCALE_IMAGE)&&(0,aO.Ag)(eh.JT.UPSCALE_IMAGE,aw.r6,{source:"quick-actions"})}},callback:ea.lQ,searchSynonyms:["boost resolution","sharpen image","sharpen picture","upscale image","scale up","enlarge image","refine image","improve image","unblur","reduce blur","increase size","increase quality","enhance clarity","crisp"]},{callback:ea.lQ,action:eh.JT.AUTO_RENAME_LAYERS,featureFlags:["eai_auto_rename_layers"],tags:[am.$.AI],flags:["edit","design"],iconType:r.createElement(ae._,null),quickAction:{module:{module:r.createElement(on.A,{source:s.uQ6.QUICK_ACTIONS}),name:eb.Sn.RENAME_LAYERS_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.AUTO_RENAME_LAYERS),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.AUTO_RENAME_LAYERS)&&(0,aO.Ag)(eh.JT.AUTO_RENAME_LAYERS,af.Ay,{source:s.uQ6.QUICK_ACTIONS,overwriteNames:!1})}},searchSynonyms:["rename all layers","name layers"]},{callback:ea.lQ,action:eh.JT.GENERATE_IMAGE,featureFlags:["eai_generate_image"],tags:[am.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:r.createElement(at.T,null),quickAction:{module:{module:r.createElement(i7.Ay,null),name:eb.Sn.GENERATE_IMAGE},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.GENERATE_IMAGE)}},searchSynonyms:["generate image","make a picture","generate graphic","generate picture","generate illustration","create image"]},{callback:ea.lQ,action:eh.JT.EDIT_IMAGE,featureFlags:["aip_edit_image"],tags:[am.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:r.createElement(n3.T,null),quickAction:{module:{module:r.createElement(i7.Tu,null),name:eb.Sn.EDIT_IMAGE},beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.EDIT_IMAGE)},alwaysEnabled:!0},searchSynonyms:["edit image","edit picture","edit graphic","edit illustration","modify image","change image","style image"]},{action:eh.JT.MAGIC_LINK,flags:["edit","design"],featureFlags:["prototype_ai_magic_link"],tags:[am.$.AI],quickAction:{module:{module:r.createElement(ot.p,null),name:eb.Sn.MAGIC_LINK},alwaysEnabled:!0,beforeModuleOpen:()=>{eE.D.dispatch((0,ag.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"quick_actions"}})),(0,aO.B3)(eh.JT.MAGIC_LINK),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.MAGIC_LINK)&&(0,aO.Ag)(eh.JT.MAGIC_LINK,aS.e,{})}},iconType:r.createElement(an.B,null),searchSynonyms:["magic link","add prototype links","add prototype connections","connect prototype","add interactions","make prototype"]},{action:eh.JT.CONTENT_FILL,featureFlags:[],tags:[am.$.AI],flags:(0,D.k)().aip_content_fill_entrypoints_sts?["edit","design","sites"]:["edit","design"],iconType:r.createElement(aa.c,null),quickAction:{module:{module:r.createElement(aR.XU,null),name:eb.Sn.REGENERATE_TEXT_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.CONTENT_FILL),!(0,D.k)().aip_content_fill_prompt_repeated&&(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.CONTENT_FILL)&&s.biQ&&s.biQ.repeatedContentFillAvailableBindings()&&(0,aO.Ag)(eh.JT.CONTENT_FILL,ap.c,{guids:[],numExampleRows:1,source:"ACTIONS_MENU"})}},searchSynonyms:["fill content","content fill","lorem ipsum","rewrite placeholder text","replace duplicates","rewrite duplicates"]},{action:eh.JT.ASSISTANT_CHAT,featureFlags:["prt_legacy_v3"],flags:["design","slides","cooper"],tags:[am.$.AI],iconType:r.createElement(e8.V,null),quickAction:{module:{module:r.createElement(nf,null),name:eb.Sn.ASSISTANT_CHAT},beforeModuleOpen:()=>{c.zl.set(tT,{status:tw.Idle,messages:[]})}},searchSynonyms:["chat"]},{action:eh.JT.IMAGE_TO_DESIGN,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[am.$.AI],iconType:r.createElement(al,null),quickAction:{module:{module:r.createElement(function(){let{start:e}=(0,aO.RL)(eh.JT.IMAGE_TO_DESIGN,i3);return r.createElement(i9,{action:eh.JT.IMAGE_TO_DESIGN,instruction:(0,eo.tx)("image_to_design.instruction"),onPerform:()=>{e({})}})},null),name:eb.Sn.IMAGE_TO_DESIGN},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.IMAGE_TO_DESIGN),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.IMAGE_TO_DESIGN)&&(0,aO.Ag)(eh.JT.IMAGE_TO_DESIGN,i3,{})}},searchSynonyms:["convert image to layers","make image editable","convert image to design","generate design from image","screenshot to design","picture to design"]},{action:eh.JT.IMAGE_TO_DESIGN_ORACLE,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[am.$.AI],iconType:r.createElement(e8.V,null),quickAction:{module:{module:r.createElement(function(){let{start:e}=(0,aO.RL)(eh.JT.IMAGE_TO_DESIGN_ORACLE,i5);return r.createElement(i9,{action:eh.JT.IMAGE_TO_DESIGN_ORACLE,instruction:(0,eo.tx)("image_to_design.oracle_instruction"),disableImageUpload:!0,onPerform:()=>{let t=ta.UN().getCurrentPage()?.directlySelectedNodes;if(!t||1!==t.length||void 0===t[0])return;let n=t[0];e({node:n,width:n.size.x,height:n.size.y})}})},null),name:eb.Sn.IMAGE_TO_DESIGN_ORACLE},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.IMAGE_TO_DESIGN_ORACLE)}}},{callback:ea.lQ,action:eh.JT.DETECT_VIOLATIONS,featureFlags:["aip_flower_garden"],tags:[am.$.AI],flags:["edit","design"],iconType:r.createElement(ai.c,null),quickAction:{module:{module:null,name:eb.Sn.DETECT_VIOLATIONS},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aO.B3)(eh.JT.DETECT_VIOLATIONS),(0,eX.Yh)(eE.D.getState().mirror.appModel,eh.JT.DETECT_VIOLATIONS)&&(0,aO.Ag)(eh.JT.DETECT_VIOLATIONS,av,{})}},searchSynonyms:["detect issues","detect violations","detect","suggested actions","suggestions","find suggestions","linter","lint","linting"]},{callback:()=>{c.zl.set(aL.bJ)},action:eh.JT.WHITEBOARD_GENERATE_CONTENT,featureFlags:["figjam_quick_actions_v2"],tags:[am.$.AI],flags:["edit","whiteboard"],iconType:r.createElement(ao,null),searchSynonyms:["create content","add content","generate content","create diagram","add diagram","generate diagram","create templates and diagrams","add templates and diagrams","generate templates and diagrams"]},oa({action:eh.JT.SUMMARIZE_STICKIES,aiActionType:aA.hG.SUMMARIZE_STICKIES,actionLabel:(0,eo.tx)("fullscreen_actions.summarize-stickies"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(as,null)}),oa({action:eh.JT.SORT_STICKIES_BY_TOPIC,aiActionType:aA.hG.SORT_STICKIES_BY_TOPIC,actionLabel:(0,eo.tx)("fullscreen_actions.sort-stickies-by-topic"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(ac,null)}),oa({action:eh.JT.SORT_STICKIES_BY_COLOR,aiActionType:aA.hG.SORT_STICKIES_BY_COLOR,actionLabel:(0,eo.tx)("fullscreen_actions.sort-stickies-by-color"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(ac,null)}),oa({action:eh.JT.SORT_STICKIES_BY_AUTHOR,aiActionType:aA.hG.SORT_STICKIES_BY_AUTHOR,actionLabel:(0,eo.tx)("fullscreen_actions.sort-stickies-by-author"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(ac,null)}),oa({action:eh.JT.SORT_STICKIES_BY_STAMP_COUNT,aiActionType:aA.hG.SORT_STICKIES_BY_STAMP_COUNT,actionLabel:(0,eo.tx)("fullscreen_actions.sort-stickies-by-stamp-count"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(ac,null)}),oa({action:eh.JT.SORT_STICKIES_BY_STAMP_TYPE,aiActionType:aA.hG.SORT_STICKIES_BY_STAMP_TYPE,actionLabel:(0,eo.tx)("fullscreen_actions.sort-stickies-by-stamp-type"),instructionLabel:(0,eo.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:r.createElement(ac,null)}),oa({action:eh.JT.MIND_MAP_GENERATE_IDEAS,aiActionType:aA.hG.MIND_MAP_GENERATE_IDEAS,actionLabel:(0,eo.tx)("fullscreen_actions.mind-map-generate-ideas"),instructionLabel:(0,eo.tx)("figjam_ai.make_mindmap_ideas.make_selection_instruction"),icon:r.createElement(ad,null),searchSynonyms:["generate new mind map ideas","generate mind map ideas","generate ideas"]})];function ol(){let e=(0,m.PE)(),t=!(0,au.q8)(),n=(0,tn.ow)(),a=e||(0,D.k)().figjam_ai_menu_items_all_access&&n&&t,l=(0,m.GM)(),i=(0,nv.V)(),o=(0,nN.Vr)(),s=(0,eg.eH)(),c=(0,eV.sZ)();return(0,r.useMemo)(()=>or.reduce((e,t)=>{for(let n of t.featureFlags||[])if(!(0,D.k)()[n])return e;if(t.action===eh.JT.FIND_INSPIRATION){if(!s&&!i)return e;let n={...t};return(0,D.k)().fragment_search_tweaks&&o?.name&&!o?.isSlide&&(n.displayNode=(0,eo.tx)("fullscreen_actions.quick_actions.find-inspiration-with-selection",{frameName:r.createElement(tt.E,{color:"secondary"},o?.name)})),e.push(n),e}return t.action===eh.JT.EDIT_IMAGE&&(0,au.dZ)(c)||(t.action===eh.JT.GENERATE_IMAGE||t.action===eh.JT.EDIT_IMAGE||t.action===eh.JT.UPSCALE_IMAGE||t.action===eh.JT.REMOVE_BACKGROUND)&&!l||(t.action===eh.JT.GENERATE_IMAGE||t.action===eh.JT.EDIT_IMAGE)&&n&&!(0,D.k)().figjam_ai_image_generation||a&&e.push(t),e},[]),[a,l,i,o,s,c,n])}var oi=n(783464),oo=n(996046),os=n(587977),oc=n(317474),od=n(635600);function ou(e){let{submenuItem:t,path:n}=e,{push:a,close:l}=(0,A.cq)();if(!t||!t.itemPath||t.submenu&&0===t.submenu.length)return null;let i=(0,eF.TW)(t);return r.createElement(lK.B.Item,{key:i,primaryAction:{onAction:()=>{if(t.submenu){a({name:eb.Sn.PLUGIN_SUBMENU_ENTRY,module:r.createElement(om,{item:t,path:n.concat(i)})},{shouldResetSearchQuery:!0});return}let e=!t.itemParameterArgs;t.callback&&(t.callback(),e&&l())},shortcuts:[{key:en.Uz.ENTER},{key:en.Uz.TAB}]},actionLabel:!1},r.createElement("div",{className:ei.s.flex.justifyBetween.wFull.$},r.createElement("div",{className:ei.s.ml28.$},i),t.submenu&&r.createElement(od.a,null)))}function om(e){let[t,n]=r.useState(""),[a,l]=r.useState([]),{item:i,path:o}=e;if(r.useEffect(()=>{i.submenu&&(l(i.submenu),n(""))},[i]),!i.submenu)return null;let s=r.createElement(lK.B,{resultCount:a.length},a.map(e=>r.createElement(ou,{submenuItem:e,key:e.extensionSearchString||"",path:o}))),c=e=>{n(e),i.submenu&&l(i.submenu.filter(t=>(0,eF.TW)(t).toLowerCase().includes(e.toLowerCase())))},d=o.join(" > ");return r.createElement(ev.n,{height:eh.wC},r.createElement(ew.vj,{searchQuery:t,onSearchChange:c,onClear:()=>{c("")},placeholder:d}),r.createElement(ev.n.Body,null,s))}var op=n(215039),of=n(41601),og=n(533737),oh=n(481406),oE=n(752181),o_=n(220576),oy=n(318147),ob=n(253332),oC=n(946324),ov=(e=>(e.PERSONAL_DRAFT="PERSONAL_DRAFT",e.TEAM_OR_ORG_DISABLED="TEAM_OR_ORG_DISABLED",e.ORG_GUEST="ORG_GUEST",e.NON_PAID_SEAT="NON_PAID_SEAT",e.NO_ORG_OR_TEAM_USER="NO_ORG_OR_TEAM_USER",e.ROLLING_OUT="ROLLING_OUT",e))(ov||{});let ow={component:"useAIDisabledReasons"};var oT=n(124810);function oS({title:e,subTitle:t,icon:n,onClose:a,dataTestId:l}){return r.createElement("div",{"data-testid":l,className:ei.s.colorBgBrandTertiary.p8.bRadius8.$},r.createElement("div",{className:ei.s.flex.gap8.$},n,r.createElement("div",{className:ei.s.flex.flexColumn.flexGrow1.$},r.createElement("span",{className:"banner--title--gNQoq"},e),r.createElement("span",{className:"banner--subtitle--8K4pM"},t)),a?r.createElement(rP.K,{onClick:a,"aria-label":(0,eo.t)("qa.dismiss"),htmlAttributes:{"data-testid":"banner-close-icon"}},r.createElement(oT.A,{style:{"--color-icon":"var(--color-icon-secondary)"}})):null))}function ok(){let e;let{reason:t,dismissKey:n}=function(){let e=(function(){let e=(0,r.useMemo)(()=>[],[]),t=(0,o_.R)(),n=(0,tK.Xd)("useAIDisabledReasons").unwrapOr(null),a=(0,tK.rs)("useAIDisabledReasons").unwrapOr(null),l=(0,m.PE)(),i=(0,ed.q5)(),o=n?.key.type===oy.h4.ORG_USER&&n?.permission===oy.Xn.GUEST,s=(0,tK.yN)({...ow,attribute:"areAIFeaturesDisabled",legacy:(e,t)=>!!(t?.ai_features_disabled||e?.ai_features_disabled),migrated:(e,t)=>!t?.aiFeaturesEnabled}),c=(0,tK.yN)({...ow,attribute:"isTeamProOrAbove",legacy:(e,t)=>!!t||(0,ob.w5)(e),migrated:e=>e?.key.type===oy.OL.TEAM&&e?.tier!==oy.Ag.STARTER||e?.key.type===oy.OL.ORG}),d=n?.designPaidStatus===oy.dQ.FULL,u=t?!n?.seatTypeLicenseTypes?.includes(oy.G_.DESIGN):!d,p=!!a,f=p&&!!n,g=(0,tn.E3)();if(l||g!==th.nT.Design)return e;if(!(0,oC.$7)("useDisabledReasons"))return["ROLLING_OUT"];let h=[];return!i||i.parentOrgId||i.teamId||h.push("PERSONAL_DRAFT"),s&&h.push("TEAM_OR_ORG_DISABLED"),o&&h.push("ORG_GUEST"),c&&u&&h.push("NON_PAID_SEAT"),p&&!f&&h.push("NO_ORG_OR_TEAM_USER"),h})().sort((e,t)=>oI(e)-oI(t)),t={seen_no_ai_org_disabled:(0,oE.f)("seen_no_ai_org_disabled"),seen_no_ai_team_or_org_user:(0,oE.f)("seen_no_ai_team_or_org_user"),seen_no_ai_rolling_out:(0,oE.f)("seen_no_ai_rolling_out")};return(0,r.useMemo)(()=>{for(let n of e){let e=function(e){switch(e){case ov.ROLLING_OUT:return"seen_no_ai_rolling_out";case ov.TEAM_OR_ORG_DISABLED:return"seen_no_ai_org_disabled";case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:return"seen_no_ai_team_or_org_user";case ov.PERSONAL_DRAFT:case null:return null;default:(0,et.xb)(e)}}(n);if(!e)return{reason:n};if(!t[e])return{reason:n,dismissKey:e}}return{reason:null}},[e,t])}(),a=(0,l.wA)(),i=(0,oh.yy)(),o=(0,c.md)(ed.Hu),s=(0,eo.t)("qa.no_ai.title");switch(t){case ov.ROLLING_OUT:case null:return null;case ov.PERSONAL_DRAFT:s=(0,eo.t)("qa.no_ai.title.personal_draft"),e=(0,eo.t)("qa.no_ai.subtitle.personal_draft");break;case ov.TEAM_OR_ORG_DISABLED:s=(0,eo.t)("qa.no_ai.title.org_disabled"),e=(0,eo.t)("qa.no_ai.subtitle.org_disabled");break;case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:s=(0,eo.t)("qa.no_ai.title.not_available_here"),e=(0,eo.t)("qa.no_ai.subtitle.team_or_org_user_no_access",{orgOrTeamName:i?.name||o?.name||""});break;default:(0,et.xb)(t)}return r.createElement("div",{className:ei.s.mx8.mb8.$},r.createElement(oS,{title:s,subTitle:e,icon:r.createElement(t0.C,null),dataTestId:"no-ai-banner",onClose:n?()=>a(og.b({[n]:!0})):void 0}))}function oI(e){switch(e){case ov.ROLLING_OUT:return 0;case ov.PERSONAL_DRAFT:return 1;case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:return 2;case ov.TEAM_OR_ORG_DISABLED:return 3;case null:return 1e3;default:(0,et.xb)(e)}}var oN=n(311654),ox=n(542097),oA=n(334804),oL=n(823898),oO=n(747822),oR=n(531851);function oM(e){let{extension:t,publishedExtension:n,canRequest:a,canRun:r}=e,l=(0,eV.sZ)(),i=(0,oR.RW)(),o=(0,oO.a)(l?.id,t.plugin_id,i.loaded?i.data?.workspaceId:void 0);if((0,eY.bH)(t)&&l&&l.name)return{text:l.name};if((0,eY.ZQ)(t)&&n&&(0,oL.AC)(n))return{text:(0,eo.t)("qa.extensions.in_review"),variant:op.x.BRAND};if((0,eY.ZQ)(t))return{text:(0,eo.t)("qa.extensions.development")};if(r);else if(o)return{text:(0,eo.t)("qa.extensions.approval_pending")};else if(a)return{text:(0,eo.t)("qa.extensions.needs_approval")};return null}function oD({text:e,variant:t}){return r.createElement(op.E,{variant:t},r.createElement(oA.G,{text:e}))}function oP(e){let{searchQuery:t,fullscreenMenuAction:n}=e,a="";if(n.searchSynonyms&&(a+=`Synonyms: ${n.searchSynonyms.join(", ")}`),!(0,rE.h8)())return null;let{details:l,score:i}=(0,nV.ou)((0,eZ.x0)()).debugData(t,(0,nI._g)(n).searchItem),o=`Score:${i.toFixed(2)}`;return r.createElement("div",{className:ei.s.ml8.colorTextSecondary.noWrap.$,"data-tooltip":[l,a].filter(Boolean).join("\n"),"data-tooltip-type":eJ.Ib.TEXT,"data-tooltip-max-width":300,"data-testid":"search-debug-info"},o)}var oF=n(718668),oB=n(617101),oU=n(586486);let oG=e=>(0,eP.Zj)(e)&&!e.hideCheckForQuickCommand,oK=()=>{};function oV({item:e,searchQuery:t,createCommonMetrics:n}){let{push:a}=(0,A.cq)(),{addFrecencyUsage:o}=(0,eZ.fJ)(),s=(0,eP.Dz)(e),c=(0,l.d4)(e=>e.mirror.appModel),d=(0,l.wA)(),{close:u}=(0,A.cq)(),m=(0,eH.J2)((0,eG.UK)().showQuickCommandRankDebug),p=(0,S.V2)(),f=(0,eK.p8)("keyboardShortcuts"),g=(0,r.useCallback)(()=>{u()},[u]),h=(0,ex.A)(g,300);(0,r.useEffect)(()=>()=>{h.cancel()},[h]);let E=(0,ox.r7)(),y=r.useRef(!1),b=(0,r.useCallback)(a=>{let r=a?(0,oN.OZ)(a):"",l={...n(),shortcutText:r};(0,e0.kp)(l),E(e),o(e,t)},[o,E,n,e,t]),C=(0,r.useCallback)((e,n)=>{if(y.current)return;y.current=!0;let l=n?.key===en.Uz.TAB?"tab":"enter";if(h.isPending()&&h.cancel(),e.disabled)return;if("plugins-menu-item"===e.name&&!p){g(),eW.R.instance.handleUpgrade(eD.Q7.RUN_PLUGIN);return}let o=!!e.itemParameterArgs,s=(0,eB.YT)(e);if(!(o||s||"enter"===l))return;let c=null;if(e.quickAction){let t={};if(e.quickAction.retainSearchQuery&&(t.shouldResetSearchQuery=!1),e.quickAction.beforeModuleOpen){let t=(0,_._V)();e.quickAction.beforeModuleOpen(t)}a(e.quickAction.module,t),b(n);return}if(o)switch(l){case"enter":if(e.runPluginArgs&&!t){let t={...e.runPluginArgs,...e.itemParameterArgs?.command&&{command:e.itemParameterArgs.command}};c=async()=>{await eW.R.instance.enqueue({mode:"run-forever",runPluginArgs:t})}}else if(e.parametersRequired){let t=e.itemParameterArgs;a({name:eb.Sn.PLUGIN_PARAMETER_ENTRY,module:r.createElement(oc.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:ea.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,e$.EG)(e),triggeredFrom:"quick-actions"})}),b(n);return}break;case"tab":if(e.itemParameterArgs){let t=e.itemParameterArgs;a({name:eb.Sn.PLUGIN_PARAMETER_ENTRY,module:r.createElement(oc.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:ea.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,e$.EG)(e),triggeredFrom:"quick-actions"})}),b(n);return}break;default:(0,et.xb)(l)}if(s){a({name:eb.Sn.PLUGIN_SUBMENU_ENTRY,module:r.createElement(om,{item:e,path:[(0,eF.TW)(e)]})}),b(n);return}e.callback&&!c?c=async()=>{e.callback&&await e.callback((0,eP.Dz)(e),e.args,d)}:e.action&&(c=async()=>{if(!e.action)return;let t=oK();if(t)return await t();eU.VU.get(e.action,"quick-actions",e.args)()}),b(n),oG(e)&&!(0,eL.PN)()?h():e.keepMenuOpen||g(),c?c().catch(t=>{(0,eA.$D)(i.e.AI_FOR_PRODUCTION,t,{extra:{item:e}})}):(0,eA.$D)(i.e.AI_FOR_PRODUCTION,Error("No valid action triggered from quick actions"),{extra:{item:e}})},[y,g,h,d,a,t,b,p]),v=e.shortcutText||(0,eX.c1)(f,s),w="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,T=(0,eB.YT)(e),I=(0,S.cW)(),N=(0,S.ZT)(),x=(()=>{if(e.itemParameterArgs&&e.runPluginArgs&&!t)return r.createElement(eQ._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return r.createElement(eQ.h,{itemPath:t})}return e.displayNode?r.createElement(r.Fragment,null,e.displayNode):r.createElement(r.Fragment,null,(0,e$.EG)(e))})(),L=oG(e)?(0,eP.WJ)(c,e):void 0,O=(0,k.h)("plugin"),R=(0,k.h)("widget"),M=(0,eV.sZ)(),P="go-to-page"===e.name?`go-to-page-${e.args?.pageName}`:e.name||e.action;return r.createElement(lK.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:en.Uz.ENTER},{key:en.Uz.TAB}],onAction:({shortcut:t})=>C(e,t)},actionLabel:!1,recordingKey:P,scrollMargin:"32px 0 16px 0"},r.createElement(of._,{checked:L,disabled:e.disabled,displayNode:x,label:(0,e$.EG)(e),icon:function(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,ez.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...I,...N}})),t&&!(0,eY.ZQ)(t))?r.createElement(eq.V,{className:ei.s.colorIcon.w20.h20.m2.bRadius4.$,plugin:t,role:"presentation"}):r.createElement(eR.B,{className:ei.s.colorIcon.w20.h20.bRadius4.$,svg:oU.A,ariaLabel:`${e.name} icon`,autosize:!0})}if(e.iconType&&"string"==typeof e.iconType){var t;return"external_link"===(t=e.iconType)?r.createElement(eR.B,{svg:oB.A,className:ei.s.colorIcon.$}):"import"===t?r.createElement(eS.R,null):"plus"===t?r.createElement(ek.e,null):"widget"===t?r.createElement(eI.v,null):void 0}if(e.iconType&&"string"!=typeof e.iconType)return e.iconType}(e),badge:(()=>{if("run-local-plugin"===e.menuActionType||"insert-local-widget"===e.menuActionType)return r.createElement("div",{style:eM.sx.add({maxWidth:"110px"}).$},r.createElement(oD,{text:(0,eo.t)("fullscreen_actions.development")}));if(M&&(O.some(t=>t.plugin_id===e.pluginId)||R.some(t=>t.plugin_id===e.pluginId)))return r.createElement("div",{style:eM.sx.add({maxWidth:"110px"}).$},r.createElement(oD,{text:M.name}));if(m)return r.createElement(oP,{searchQuery:t,fullscreenMenuAction:e});if(e.isRepairCommand&&(0,D.k)().internal_only_debug_tools)return r.createElement(op.E,null,"REPAIR");if(e.action===eh.JT.FIRST_DRAFT&&e.disabled)return r.createElement("div",{"data-tooltip":(0,eo.t)("qa.unavailable"),"data-tooltip-type":eJ.Ib.TEXT,style:{"--color-icon":"var(--color-icon-disabled)"}},r.createElement(eN.b,null));if((0,D.k)().aip_buttercup_gtm&&e.action===eh.JT.UPSCALE_IMAGE||(0,D.k)().aip_edit_image_gtm&&e.action===eh.JT.EDIT_IMAGE)return r.createElement(op.E,{variant:op.x.UI3},r.createElement("p",null,(0,eo.t)("fullscreen_actions.new")))})(),hoverBadges:(()=>{if((0,e0.BB)(e)){let t=(0,ig.O)(e);return[r.createElement(ig.y,{key:"ai",helpUrlVariant:t})]}})(),keyboardShortcut:v?r.createElement(eO.S,{shortcut:v}):w||T?r.createElement(r.Fragment,null,r.createElement("div",{className:ei.s.colorBgTertiary.bRadius5.font11.h16.fontMedium.flex.itemsCenter.px4.mr8.$,"aria-hidden":!0,id:"tab-hint"},(0,eo.tx)("whiteboard.ai_modal.hint_tab")),r.createElement(eR.B,{svg:oF.A,className:ei.s.colorIcon.$,"aria-describedby":"tab-hint"})):void 0,dataTestId:P}))}function oH({setActiveTab:e}){let t=(0,R.Ev)(),n=(0,c.md)(I.Lk),a=(0,c.md)(I.dd),i=(0,l.d4)(ej.l),o=(0,c.md)(I.Rt),d=(0,r.useRef)(o),u=(0,c.md)(I.Q8),p=(0,r.useDeferredValue)(u);(0,r.useEffect)(()=>{d.current=o},[o]);let f=function(){let e=(0,n0.FX)(),t=ol(),n=function(){let e=(0,l.d4)(e=>e.mirror.appModel.isReadOnly),t=(0,oo.c4)(),n=function(){let e=(0,tV.wo)(),t=(0,S.cW)(),n=(0,S.ZT)(),a=(0,tn.E3)(),r=[],l=[];return e.forEach(e=>{if(!e.extensionInfo)return;let{extensionType:a,extensionId:i}=e.extensionInfo,o=(0,ez.DM)({idToSearch:i,localExtensionsByFileId:{},publishedExtensions:{...t,...n}});o&&("plugin"===a?r.push(o):l.push(o))}),{plugins:(0,ez.AG)(a,r),widgets:(0,ez.AG)(a,l)}}();return(0,r.useMemo)(()=>(0,oi.M)({isReadOnly:e,extensionMenuProps:{...t,recentlyUsedPlugins:[...t.recentlyUsedPlugins??[],...n.plugins??[]],recentlyUsedWidgets:[...t.recentlyUsedWidgets??[],...n.widgets??[]],unboundedRecents:!0},includeDisabled:!0,filters:{showUnpurchased:!1}}),[e,t,n])}(),a=function(){let e=(0,eK.p8)("pagesList"),t=(0,n1.bG)({pagesList:e,isComparingChanges:!1});return(0,r.useMemo)(()=>(0,D.k)().qa_go_to_page?e.map(e=>({name:"go-to-page",args:{pageName:e.name},callback:()=>{t(e.nodeId)},iconType:r.createElement(nx,null),displayNode:r.createElement(r.Fragment,null,(0,eo.tx)("fullscreen_actions.quick_actions.go-to-page",{pageName:r.createElement(tt.E,{color:"secondary"},e.name)}))})):[],[e,t])}();return(0,r.useMemo)(()=>[...e,...n,{name:"wand-menu",callback:ea.lQ,children:t},...a],[e,t,n,a])}(),g=e2(),h=n$(g,f),E=function(e,t,n,a){let i=(0,l.d4)(e=>e.recentlyUsedQuickCommands),o=(0,tV.wo)(),d=(0,D.k)().qa_recently_used_db_read?o:i,u=(0,e3.WI)(d.map(n=>{let a=t.getItem(e,n.displayName);return a&&n.runPluginArgs&&(a.runPluginArgs=n.runPluginArgs),a})).slice(0,3),{items:p}=function(e,t,n){let a=(0,m.PE)(),i=(0,C.ZC)(a),o=function(e,t,n){let a=nM(),i=t.map(e),o=function(){let e=(0,nk.ks)(),t=(0,nT.e)(),n=(0,nS.ZO)(),a=ed.q5()?.canEdit,r=(0,m.PE)();return t?"VARIABLES_TABLE":n?"COMPONENT_BROWSER":e?"DEV":!1===a?"DESIGN_VIEWER":a&&r?"DESIGN_EDITOR_AI":a&&!r?"DESIGN_EDITOR_NO_AI":"NONE"}(),c=function(e,t){let n=function(){let e=(0,l.d4)(e=>e.mirror?.appModel),t=nM(),{frecencyByAction:n,frecencyByQuery:a}=(0,eZ.fJ)(),i=(0,nw.Tv)(),o=(0,nP.C)();return(0,r.useCallback)((r,l)=>{if(l)return[];let s=r.map(e),c=[],d=(0,nV.ou)({actions:n}),u=i.filter(e=>{let t=(0,ta.UN)().get(e);return t?.isSlide}).length>0;if(0===i.length||u)return c=[eh.JT.GENERATE_IMAGE,eh.JT.REMOVE_BACKGROUND,eh.JT.UPSCALE_IMAGE,eh.JT.EDIT_IMAGE,eh.JT.AUTO_RENAME_LAYERS,eh.JT.CONTENT_FILL,eh.JT.FIND_INSPIRATION,eh.JT.FIRST_DRAFT,eh.JT.FIRST_DRAFT_FINE_TUNE,eh.JT.MAGIC_LINK,eh.JT.MAKE_EDITS,eh.JT.DETECT_VIOLATIONS,eh.JT.SLIDES_GENERATE_SPEAKER_NOTES,eh.JT.SLIDES_REWRITE_TEXT,eh.JT.REWRITE_TEXT,eh.JT.SHORTEN_TEXT,eh.JT.TRANSLATE_TEXT,eh.JT.WHITEBOARD_GENERATE_CONTENT,eh.JT.SUMMARIZE_STICKIES,eh.JT.SORT_STICKIES_BY_TOPIC,eh.JT.MIND_MAP_GENERATE_IDEAS],o&&c.push(eh.OZ),[...c].map(e=>t(s,e,!0)).filter(e=>!!e).sort((e,t)=>d.sort("",(0,nI._g)(e).searchItem,(0,nI._g)(t).searchItem));{let r,l;let u=(0,D.k)().aip_sts_refactor_images?(0,nU.i2)():(0,nU.S9)(i),m=0;if(1===u.length&&u[0]){let e=(0,nF.R)(u[0]);e&&(0,nB.B9)(e.image?.hash??[])!==nH.Lj?m=1:(0,nH.Rp)(u[0])&&(m=2)}c.push(eh.JT.CONTENT_FILL,eh.JT.TRANSLATE_TEXT,eh.JT.REWRITE_TEXT,eh.JT.SHORTEN_TEXT,eh.JT.SLIDES_GENERATE_SPEAKER_NOTES,eh.JT.SLIDES_REWRITE_TEXT,eh.JT.GENERATE_IMAGE,eh.JT.REMOVE_BACKGROUND,eh.JT.UPSCALE_IMAGE,eh.JT.EDIT_IMAGE,eh.JT.FIRST_DRAFT_MAKE_CHANGES,eh.JT.AUTO_RENAME_LAYERS,eh.JT.MAGIC_LINK,eh.JT.FIND_INSPIRATION,eh.JT.FIRST_DRAFT,eh.JT.MAKE_EDITS,eh.JT.FIRST_DRAFT_FINE_TUNE,eh.JT.DETECT_VIOLATIONS,eh.JT.SUMMARIZE_STICKIES,eh.JT.SORT_STICKIES_BY_TOPIC,eh.JT.MIND_MAP_GENERATE_IDEAS),o&&c.push(eh.OZ);let p=[...c].map(e=>t(s,e)).filter(e=>!!e),f=p.sort((e,t)=>(function(e,t,n){if(2===e){if(t.action===eh.JT.GENERATE_IMAGE)return -1;if(n.action===eh.JT.GENERATE_IMAGE)return 1}else if(1===e){if(nz.has(t.action??"")&&!nz.has(n.action??""))return -1;if(!nz.has(t.action??"")&&nz.has(n.action??""))return 1;if(t.action===eh.JT.GENERATE_IMAGE)return -1;if(n.action===eh.JT.GENERATE_IMAGE)return 1}})(m,e,t)??d.sort("",(0,nI._g)(e).searchItem,(0,nI._g)(t).searchItem)),g=Object.values(s).filter(t=>(0,eX.Yh)(e,t.name||t.action||"")&&!p.includes(t)&&!t.searchOnly&&!(t.featureFlags&&t.featureFlags.includes("internal_only_debug_tools"))&&(0,nK.y)("",(0,nG.n)(t),{actions:n,queries:a})>0).sort((e,t)=>d.sort("",(0,nI._g)(e).searchItem,(0,nI._g)(t).searchItem));return g.length<4?(r=8-g.length,l=g.length):f.length<4?(r=f.length,l=8-f.length):(r=4,l=4),[...f.slice(0,r),...g.slice(0,l)]}},[e,t,n,a,i,o])}(),[a]=(0,r.useState)(()=>n(e,""));return a}(t,0),d=function(e,t){let n=!nQ();return(0,r.useCallback)(()=>{if(n){let e=[];for(let n of t){if(!n.action||n.disabled)continue;let t=nj.get(n.action);t&&e.push([n.action,t])}return e}let a=[];for(let n of((0,eX.Yh)(e,eh.JT.FIRST_DRAFT_MAKE_CHANGES)&&a.push([eh.JT.FIRST_DRAFT_MAKE_CHANGES,tH.b.SUGGESTIONS]),t))n.action&&!n.disabled&&a.push([n.action,tH.b.SUGGESTIONS]);return a},[e,t,n])}(e,c),u=function(){let e=(0,nN.I9)(),t=(0,eK.p8)("activeCanvasEditModeType"),n=(0,nP.C)();return(0,r.useCallback)(()=>{if(!e?.length){let e=[["canvas-search-replace",tH.b.SUGGESTIONS],["select-all",tH.b.SUGGESTIONS],["undo",tH.b.SUGGESTIONS],["toggle-rulers",tH.b.COMMON_SETTINGS],["toggle-snapping-to-pixels",tH.b.COMMON_SETTINGS],["toggle-sidebar",tH.b.COMMON_SETTINGS],["toggle-ui",tH.b.COMMON_SETTINGS],["toggle-multiplayer-cursors",tH.b.COMMON_SETTINGS],["show-nudge-amount-picker",tH.b.COMMON_SETTINGS],["open-shortcuts",tH.b.COMMON_SETTINGS],["open-account-settings",tH.b.COMMON_SETTINGS]];return n&&e.push(["copy-to-figma-slides",tH.b.SUGGESTIONS]),e}if(1===e.length){let a=e[0],r=[["add-selection-ready-status",tH.b.SUGGESTIONS],["republish-selected-components",tH.b.SUGGESTIONS],["publish-changes-to-library",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]],l=[["select-matching",tH.b.SUGGESTIONS],["outline-stroke",tH.b.SUGGESTIONS],["mask-selection",tH.b.SUGGESTIONS],["flatten-selection",tH.b.SUGGESTIONS],["unlock-all",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]];if(t===s.m1T.VECTOR)return[["flip-horizontal",tH.b.SUGGESTIONS],["flip-vertical",tH.b.SUGGESTIONS],["align-horizontal-center",tH.b.SUGGESTIONS],["align-vertical-center",tH.b.SUGGESTIONS]];switch(a.type){case"SYMBOL":return r;case"FRAME":if(a.isStateGroup)return r;if(a.isGroup)return l;let i=[["add-selection-ready-status",tH.b.SUGGESTIONS],["select-matching",tH.b.SUGGESTIONS],["stack-selection",tH.b.SUGGESTIONS],["run-multi-stack-auto-layout",tH.b.SUGGESTIONS],["copy-properties",tH.b.SUGGESTIONS],["unlock-all",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS],["replace-selected-frame-with-section",tH.b.SUGGESTIONS]];return n&&i.push(["copy-to-figma-slides",tH.b.SUGGESTIONS]),i;case"INSTANCE":return[["select-matching",tH.b.SUGGESTIONS],["detach-instance",tH.b.SUGGESTIONS],["reset-symbol",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]];case"SLICE":return[["export-selected-exportables",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]];case"WIDGET":return[["select-all-widgets",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]];case"SECTION":return[["add-selection-ready-status",tH.b.SUGGESTIONS],["select-matching",tH.b.SUGGESTIONS],["unlock-all",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS],["replace-selected-section-with-frame",tH.b.SUGGESTIONS]];case"GROUP":return l;case"ELLIPSE":case"BOOLEAN_OPERATION":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return[["select-matching",tH.b.SUGGESTIONS],["flip-horizontal",tH.b.SUGGESTIONS],["mask-selection",tH.b.SUGGESTIONS],["flatten-selection",tH.b.SUGGESTIONS],["copy-properties",tH.b.SUGGESTIONS],["convert-to-raster",tH.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",tH.b.SUGGESTIONS]];case"TEXT":return[["text-edit-hyperlink",tH.b.SUGGESTIONS],["text-toggle-strikethrough",tH.b.SUGGESTIONS],["copy-properties",tH.b.SUGGESTIONS],["paste-properties",tH.b.SUGGESTIONS],["text-font-size-increase",tH.b.SUGGESTIONS],["text-font-size-decrease",tH.b.SUGGESTIONS],["text-bold-increase",tH.b.SUGGESTIONS],["text-bold-decrease",tH.b.SUGGESTIONS]]}}let a=[["select-matching",tH.b.SUGGESTIONS],["frame-selection",tH.b.SUGGESTIONS],["create-symbol",tH.b.SUGGESTIONS],["create-multiple-symbols",tH.b.SUGGESTIONS],["toggle-locked-for-selected-nodes",tH.b.SUGGESTIONS],["export-selected-exportables",tH.b.SUGGESTIONS],["align-horizontal-center",tH.b.SUGGESTIONS],["align-vertical-center",tH.b.SUGGESTIONS]];return n&&a.push(["copy-to-figma-slides",tH.b.SUGGESTIONS]),a},[e,n,t])}(),p=(0,r.useCallback)((e,t)=>{let n=a(i,e,!0);if(n)return{...n,category:t}},[a,i]),f=n.map(e=>({...e,category:tH.b.RECENTS})).filter(t=>!(0,nI.oG)(e,t)),g=(0,r.useCallback)(e=>{let t=e.map(([e,t])=>p(e,t));return te()((0,e3.WI)([...f,...t]),e$.EG)},[f,p]),h=nQ(),E=(0,r.useMemo)(()=>{if(h&&!["DESIGN_EDITOR_NO_AI","DESIGN_EDITOR_AI","DEV","VARIABLES_TABLE","COMPONENT_BROWSER"].includes(o)){var e;let t=(e=tH.b.SUGGESTIONS,c.map(t=>({...t,category:e})));return te()((0,e3.WI)([...f,...t]),e$.EG)}switch(o){case"DESIGN_EDITOR_AI":return g(d());case"DEV":return g(nY);case"VARIABLES_TABLE":return g(nq);case"COMPONENT_BROWSER":return g(nJ);case"DESIGN_VIEWER":return g(nX);case"DESIGN_EDITOR_NO_AI":return g(u());case"NONE":return[];default:(0,et.xb)(o)}},[h,o,c,f,g,d,u]);return{suggestionMode:o,items:E}}(e,t,n),[c,d]=(0,r.useState)(o);return(0,r.useEffect)(()=>{(a!==i||0===c.items.length&&o.items.length>0||o.suggestionMode!==c.suggestionMode)&&d(o)},[a,i,c.items.length,c.suggestionMode,o]),c}(e,t,u),f=""!==n,g=(0,r.useMemo)(()=>""===n?[]:t.search(e,n).slice(0,25),[e,t,n]),h=function(e,t){let n=(0,tn.my)()===th.nT.Design,a=(0,ed.q5)(),i=(0,nv.V)(),o=(0,tY.s)(),s=!!(0,D.k)().prt_legacy_v3,[d,u]=(0,c.fp)(tT),m=(0,l.d4)(eu.Eh),p=(0,eg.eH)(),f=(0,tK.tJ)("useSearchFallbacks").unwrapOr(null),g=f?.name||a?.name;return(0,r.useMemo)(()=>{if(""===e)return[];{let l={name:"find-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:p?(0,eo.tx)("fullscreen_actions.quick_actions.find-in-community",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}):(0,eo.tx)("fullscreen_actions.quick_actions.find-community-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}),iconType:r.createElement(e5.U,null),quickAction:{module:{module:p?r.createElement(tz.z6,{initialTab:tW.Qx.COMMUNITY}):r.createElement(tj.B,{initialTab:tW.xA.COMMUNITY}),name:eb.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:()=>{a?.key&&(0,es.Hl)({type:"input-text",value:e,file_key:a.key},es.G4.ACTIONS_LIST,void 0,void 0,void 0,!0)},retainSearchQuery:!0},disabled:!n||!a?.canEdit||!p||(0,D.k)().actions_prioritize_search_v3||(0,D.k)().actions_prioritize_search},f={name:"find-assets-matching",args:{searchQuery:e},callback:()=>{},displayNode:p?i?(0,eo.tx)("fullscreen_actions.quick_actions.find-at-plan-file",{searchQuery:r.createElement(tt.E,{color:"secondary"},e),planFileName:r.createElement(tt.E,{color:"secondary"},g)}):(0,eo.tx)("fullscreen_actions.quick_actions.find-components",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}):i?(0,eo.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}):(0,eo.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}),iconType:r.createElement(e4.K,null),quickAction:{module:{module:p?r.createElement(tz.z6,null):r.createElement(tj.B,null),name:eb.Sn.ASSETS_TAB_DETAIL_VIEW},retainSearchQuery:!0,beforeModuleOpen:t=>{(0,e_.ES)({type:"input-text",query:t.searchQuery,assetTypeOption:{type:ep.I.ALL},isKnownLibrary:o}),a?.key&&p&&i&&(0,es.Hl)({type:"input-text",value:e,file_key:a.key},es.G4.ACTIONS_LIST,void 0,void 0,void 0,!1)}},disabled:!n||!a?.canEdit||(0,D.k)().actions_prioritize_search_v3||(0,D.k)().actions_prioritize_search},h={name:"find-assets-and-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:p?(0,eo.tx)((0,D.k)().actions_prioritize_search?"fullscreen_actions.quick_actions.search-at-plan-file-and-community":"fullscreen_actions.quick_actions.find-at-plan-file-and-community",{searchQuery:r.createElement(tt.E,{color:"secondary"},(0,D.k)().actions_prioritize_search_v3||(0,D.k)().actions_prioritize_search?(0,eo.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e}):e),planFileName:g}):i?(0,eo.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}):(0,eo.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}),iconType:p||i?r.createElement(e6.T,null):r.createElement(e4.K,null),quickAction:{module:{module:p?r.createElement(tz.z6,null):r.createElement(tj.B,null),name:eb.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:t=>{(0,e_.ES)({type:"input-text",query:t.searchQuery,assetTypeOption:{type:ep.I.ALL},isKnownLibrary:o}),a?.key&&p&&i&&(0,es.Hl)({type:"input-text",value:e,file_key:a.key},es.G4.ACTIONS_LIST,void 0,void 0,void 0,!1)},retainSearchQuery:!0},disabled:!n||!a?.canEdit||!(0,D.k)().actions_prioritize_search_v3&&!(0,D.k)().actions_prioritize_search};return[{name:"assistant-chat-query",args:{searchQuery:e},callback:()=>{},displayNode:(0,eo.tx)("fullscreen_actions.assistant-chat-query",{query:r.createElement(tt.E,{color:"secondary"},e)}),iconType:r.createElement(e8.V,null),quickAction:{module:{module:r.createElement(nf,null),name:eb.Sn.ASSISTANT_CHAT},beforeModuleOpen:e=>{c.zl.set(tT,{status:tw.Idle,messages:[]}),tG(e.searchQuery,d.messages,u,tF)}},disabled:!s},f,l,h,{name:"find-extensions-matching",args:{searchQuery:e},displayNode:p?(0,eo.tx)((0,D.k)().actions_prioritize_search?"fullscreen_actions.quick_actions.search-plugins-widgets":"fullscreen_actions.quick_actions.find-plugins-widgets",{searchQuery:r.createElement(tt.E,{color:"secondary"},(0,D.k)().actions_prioritize_search_v3||(0,D.k)().actions_prioritize_search?(0,eo.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e}):e)}):(0,eo.tx)("fullscreen_actions.quick_actions.find-extensions-matching",{searchQuery:r.createElement(tt.E,{color:"secondary"},e)}),iconType:r.createElement(e9.u,null),callback:()=>{t.setActiveTab(eb.Jc.EXTENSIONS)},keepMenuOpen:!0,disabled:!n||!m}].filter(e=>!e.disabled)}},[e,i,n,a?.canEdit,a?.key,o,t,s,d,u,m,p,g])}(n,a);return f?(0,D.k)().actions_prioritize_search?te()([...g.slice(0,4),...h,...g.slice(4)],e$.EG):((0,D.k)().actions_prioritize_search_v3&&(h.reverse().map(e=>{"assistant-chat-query"===e.name?e.category=tH.b.MATCHING_ACTIONS:e.category=tH.b.SEARCH_FOR}),g.map(e=>e.category=tH.b.MATCHING_ACTIONS)),te()([...g,...h],e$.EG)):p}(g,h,p,{setActiveTab:e}),_=(0,os.X)(E),y=E.length,b=function(e){let t=nR()(nL()(e,e=>e.category),(e,t)=>({category:Object.values(tH.b).find(e=>t===e)||null,items:e})).sort((e,t)=>nD(e.category)-nD(t.category)),n=[],a=0;for(let{category:e,items:r}of t)n.push({category:e,items:r,globalIdxOfFirstItem:a}),a+=r.length;return n}(E);(0,r.useEffect)(()=>{n===eb.Jc.ALL&&a&&t({quickActionsSessionId:a,quickActionsQueryId:d.current,searchQuery:p,numSearchResults:y,currentSelection:i,module:n,moduleFilters:null,qaVersion:L.$L,searchQueryResults:_})},[t,n,a,p,y,i,_]);let{createMetrics:v}=(0,e0.Sk)(),w=r.useMemo(()=>{let e=0;return(0,D.k)().actions_prioritize_search_v3&&!(0,D.k)().actions_prioritize_search&&""!==p&&b.length>1&&(e=b[0]?.items.length||0),e},[p,b]);return r.createElement(r.Fragment,null,r.createElement(lK.B,{primary:!0,resultCount:y,defaultActiveIndex:w},r.createElement(ok,null),b.map(({category:e,items:t,globalIdxOfFirstItem:n})=>null!==e&&t.length>0&&b.length>1?r.createElement(lK.B.Section,{key:e,header:function(e){switch(e){case tH.b.RECENTS:return(0,eo.t)("qa.category.recents");case tH.b.DESIGN_TOOLS:return(0,eo.t)("qa.category.design_tools");case tH.b.RIFFING_AND_WRITING:return(0,eo.t)("qa.category.riffing_and_writing");case tH.b.IMAGE_EDITING:return(0,eo.t)("qa.category.image_editing");case tH.b.COLLABORATION_TOOLS:return(0,eo.t)("qa.category.collaboration_tools");case tH.b.HANDOFF_TOOLS:return(0,eo.t)("qa.category.handoff_tools");case tH.b.VIEWER_TOOLS:return(0,eo.t)("qa.category.viewer_tools");case tH.b.SUGGESTIONS:return(0,eo.t)("qa.category.suggestions");case tH.b.COMMON_SETTINGS:return(0,eo.t)("qa.category.common_settings");case tH.b.SEARCH_FOR:return(0,eo.t)("qa.category.search_for");case tH.b.MATCHING_ACTIONS:return(0,eo.t)("qa.category.matching_actions");case tH.b.ORGANIZE:return(0,eo.t)("qa.category.organize");case tH.b.TEMPLATES_AND_DIAGRAMS:return(0,eo.t)("qa.category.templates_and_diagrams");default:return(0,et.xb)(e)}}(e)},t.map((e,t)=>r.createElement(oV,{key:(0,e$.EG)(e),item:e,searchQuery:p,createCommonMetrics:()=>({numSearchResults:y,qaVersion:L.$L,searchQuery:p,searchPosition:n+t,item:e,moduleFilters:null,...v()})}))):t.map((e,t)=>r.createElement(oV,{key:(0,e$.EG)(e),item:e,searchQuery:p,createCommonMetrics:()=>({numSearchResults:y,qaVersion:L.$L,searchQuery:p,searchPosition:n+t,item:e,moduleFilters:null,...v()})})))))}var oz=n(475297),oW=n(511137),oj=n(29188);function oY({extensionFilter:e,setExtensionFilter:t,canViewWidgets:n}){let a=(0,eV.sZ)(),l=(0,oh.Cb)(),i={label:(0,eo.t)("qa.filter.all"),value:eb.BY.ALL},o={label:(0,eo.t)("qa.filter.plugins"),value:eb.BY.PLUGINS},s={label:(0,eo.t)("qa.filter.widgets"),value:eb.BY.WIDGETS},c={label:(0,eo.t)("qa.filter.from_org_name",{org_name:a?.name||""}),value:eb.BY.FROM_ORG},d={label:(0,eo.t)("qa.filter.development"),value:eb.BY.DEVELOPMENT},u=[i,o,s,c,d].find(t=>t.value===e)||i,m=!!a&&!l,p=oj.y3(),f=[];return n&&f.push({type:"checkableOption",value:i,text:i.label}),f.push({type:"checkableOption",value:o,text:o.label}),n&&f.push({type:"checkableOption",value:s,text:s.label}),(m||p)&&f.push({type:"separator"}),m&&f.push({type:"checkableOption",value:c,text:c.label}),p&&f.push({type:"checkableOption",value:d,text:d.label}),r.createElement(eT.c0,{selected:u,placeholder:"Filter",onSelectedChange:e=>{t(e.value)},labelForSelectedItem:e=>e.label,displayAboveTarget:!1,items:f,id:oJ,recordingKey:oJ})}let oJ="extensions-filter-dropdown";var oq=n(724257),oX=n(329228),oZ=n(49821),oQ=n(506752),o$=n(700660),o0=n(221511),o1=n(238445),o2=n(805608),o3=n(566726),o5=n(660948),o4=n(897163),o6=n(871043),o8=n(485452),o9=n(718284),o7=n(453370),se=n(557993),st=n(324747),sn=n(401451),sa=n(38011),sr=n(345121),sl=n(916469),si=n(966681);let so=e=>{(0,sr.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:"",triggeredFrom:"quick-actions"})};var ss=n(63890);function sc({augmentedExtension:e}){let{extension:t,publishedExtension:n}=e;if(!(0,eY.ZQ)(t))return r.createElement(eq.V,{plugin:t,className:ei.s.colorIcon.w20.h20.m2.bRadius4.$});let a=n&&(0,ez.Ar)(n);return a&&a.redirect_icon_url?r.createElement(eq.V,{plugin:a,className:ei.s.colorIcon.w20.h20.m2.bRadius4.$}):r.createElement(eR.B,{svg:oU.A,className:ei.s.colorIcon.w20.h20.m2.bRadius4.$,dataTestId:"qa2-dev-plugin-icon",autosize:!0})}var sd=n(265820),su=n(317325),sm=n(408193),sp=n(302941),sf=n(391720),sg=n(162934),sh=n(196921),sE=n(870271),s_=n(400334),sy=n(519680);let sb="EXTENSION_OPTIONS_DROPDOWN";function sC(e){let t=(0,le.Um)();return(0,eY.ZQ)(e)?t?.type===sb&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===e.localFileId:t?.type===sb&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===null}function sv(e){let t=(0,l.wA)(),n=sC(e);return r.useCallback(a=>{if(n)t(o7.oB());else{let n=a.getBoundingClientRect();t(o7.j7({type:sb,data:{extensionId:e.plugin_id,localFileId:(0,eY.ZQ)(e)?e.localFileId:null,targetRect:n}}))}},[t,n,e])}function sw(e){let[t,n]=r.useState(!1);return r.useEffect(()=>{n(!1)},[e]),(0,M.kz)(en.Uz.LEFT_ARROW,e=>{(0,ew.Jj)()&&t&&(e.preventDefault(),n(!1))}),(0,M.kz)(en.Uz.RIGHT_ARROW,()=>{(0,ew.Jj)()&&!t&&n(!0)}),t}function sT(e){let t=sv(e);return{text:"",shortcuts:[N.Hz],onAction:e=>{let n=e.target?.element;n&&t(n)}}}function sS({extension:e,active:t}){let n=sv(e);return r.createElement("div",{className:ei.s.flex.pl8.$},r.createElement(sp.S.div,{role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),n(e.currentTarget)},onPointerUp:e=>{e.stopPropagation()},className:F()(ei.s.bgTransparent.h24.$),"data-testid":"extension-options-button"},r.createElement(sh.c,{active:t,borderWidth:1},r.createElement(sm.J,null))))}function sk(e){let{augmentedExtension:t}=e,{extension:n,publishedExtension:a,localPublishedExtension:l}=t,o=(0,le.Um)(),s=(0,eY.ZQ)(n)?n:l,c=(0,se.NV)(s,a),d=(0,se.OX)(a),u=(0,se.x2)(n,a),m=(0,se.qu)(s),p=(0,sy.rH)(t),f=(0,se.xZ)(t),g=(0,t9.TA)(),h=!!a&&!!g&&((0,sf.Ro)(a,g)||(0,sg.Dd)(a,g)),E=sC(n),_=(0,s_.O)({extension:t,preloadImage:E});if(!E)return null;let y=[],b=[],C=!!a;!(0,eY.ZQ)(n)&&(C?(c&&h&&y.push(c),y.push({displayText:(0,eo.t)("qa.extensions.view_details"),callback:_}),u&&h&&y.push(u),m&&h&&y.push(m),f&&h&&y.push(f),p&&b.push(p),d&&h&&b.push(d)):(0,eA.$D)(i.e.AI_FOR_PRODUCTION,Error("[Quick Actions] Published extension is missing publishedExtension from Redux state"),{extra:{extensionId:n.plugin_id,isWidget:(0,eY.k0)(n),types:Array.from(t.types).toString()}})),(0,eY.ZQ)(n)&&(c&&y.unshift(c),C&&u&&y.push(u),!n.error&&m&&y.push(m),p&&b.push(p),d&&b.push(d));let v=y.some(Boolean)&&b.some(Boolean)?{displayText:"",separator:!0}:null;return r.createElement(sE.ms,{parentRect:o?.data.targetRect,lean:"left",minWidth:64,items:[...y,v,...b].filter(e=>!!e),dataTestId:"extensionOptionsDropdown",recordingKey:"extensionOptionsDropdown"})}function sI({augmentedExtension:e,hasFauxFocus:t,optionsActive:n,submenuRef:a}){let{extension:l}=e,i=(0,eY.k0)(l)?r.createElement(tt.E,{color:"tertiary",fontSize:11},(0,eo.tx)("qa.extensions.widget")):r.createElement(tt.E,{color:"tertiary",fontSize:11},(0,eo.tx)("qa.extensions.plugin")),o=oM(e);return r.createElement("div",{className:ei.s.flex.itemsCenter.justifyBetween.wFull.$},r.createElement("div",{className:ei.s.flex.itemsCenter.$},r.createElement(sc,{augmentedExtension:e}),r.createElement("div",{className:ei.s.px8.$,style:eM.sx.add({maxWidth:o?"205px":"300px"}).$},r.createElement(oA.G,{text:l.name})),r.createElement(sl.lM,{augmentedExtension:e,submenuRef:a}),o&&r.createElement("div",{style:eM.sx.add({maxWidth:"110px"}).$},r.createElement(oD,{text:o.text,variant:o.variant}))),r.createElement("div",null,t?r.createElement(sS,{extension:l,active:n}):i))}function sN({manifestError:e}){return r.createElement("div",{className:ei.s.alignLeft.font11.lh16.pl32.$},r.createElement(tt.E,{color:"danger"},e.displayText))}function sx({extension:e}){return r.createElement(o8.R,{className:ei.s.font11.alignLeft.colorTextSecondary.lh16.pl32.$,text:e.localFilePath.replace("/manifest.json","")})}function sA({augmentedExtension:e,submenuRef:t}){let{extension:n}=e,a=(0,l.wA)(),[i,o]=r.useState(!1),s=sC(n),c=(0,se.Pt)(n.error?.type,n),{onAction:d,actionText:u}=function({manifestError:e,augmentedExtension:t,submenuRef:n}){let{close:a}=(0,A.cq)(),{extension:l}=t,i=(0,sl.q8)(l),o=(0,sl.U4)(l),s=(0,sl.S3)({submenuIsShown:o,extension:l}),c=(0,si.t)(l,i),d=sa.dR(l.plugin_id,"quick-actions"),u=(0,ox.Kp)(t),m=r.useCallback(()=>{(0,eY.k0)(l)?aj.l7.user("insert-widget",()=>so(l)):i&&n?s(n.current):d(),i||u(),c()&&a()},[l,i,n,s,d,u,c,a]);return e?{onAction:()=>e.action(),actionText:e.displayText}:{onAction:m,actionText:(0,eo.t)("qa.extensions.run")}}({manifestError:c,augmentedExtension:e,submenuRef:t}),m=r.useCallback(()=>{if(s){a(o7.oB());return}d()},[s,d,a]),p=N.H5.LOCAL,f=(0,sd.D)({source:p,text:u,onAction:m,augmentedExtension:e}),g=sw(i),h=sT(n);return r.createElement(sd.p,{primaryAction:g?h:f,setActive:o},r.createElement("div",{className:ei.s.flex.flexColumn.wFull.$},r.createElement(sI,{augmentedExtension:e,hasFauxFocus:i,optionsActive:g,submenuRef:t}),!c&&r.createElement(sx,{extension:n}),c&&r.createElement(sN,{manifestError:c})),r.createElement(sl.Xq,{augmentedExtension:e}),r.createElement(sk,{augmentedExtension:e}))}function sL({augmentedExtension:e,submenuRef:t}){let{extension:n,canRun:a,canRequest:i}=e,o=(0,l.wA)(),[s,c]=r.useState(!1),d=sC(n),{onAction:u,actionText:m}=(0,ss.m)({augmentedExtension:e,submenuRef:t}),p=N.H5.PUBLISHED,f=(0,sd.D)({source:p,text:m,onAction:()=>{if(d){o(o7.oB());return}u()},augmentedExtension:e}),g=sw(s),h=sT(n);return a||i?r.createElement(sd.p,{primaryAction:g?h:f,setActive:c},r.createElement(sI,{augmentedExtension:e,hasFauxFocus:s,optionsActive:g,submenuRef:t}),r.createElement(sl.Xq,{augmentedExtension:e}),r.createElement(sk,{augmentedExtension:e})):null}function sO(e){let t=(0,l.wA)(),n=(0,S.QZ)();return oj.y3()&&[eb.BY.DEVELOPMENT,eb.BY.ALL].includes(e)?[{itemKey:"newPlugin",text:(0,eo.t)("whiteboard.inserts.plugin_development_options_new_plugin"),svg:ek.e,onAction:()=>{t(t8.Lo()),a_.Y5.dispatch((0,t8.to)({type:sn.h,data:{resourceType:st.bD.PLUGIN}}))}},n?{itemKey:"newWidget",text:(0,eo.t)("whiteboard.inserts.widget_development_options_new_widget"),svg:ek.e,onAction:()=>{t(t8.Lo()),a_.Y5.dispatch((0,t8.to)({type:sn.h,data:{resourceType:st.bD.WIDGET}}))}}:null,{itemKey:"importFromManifest",text:(0,eo.t)("whiteboard.inserts.development_options_import"),svg:eS.R,onAction:()=>t((0,o9.JZ)({resourceType:"unknown"}))}].filter(o6.Vq):[]}function sR({itemKey:e,text:t,svg:n,onAction:a}){let l=(0,su.OX)(),i=N.H5.ACTION,o=(0,sd.D)({source:i,onAction:t=>{let{target:n}=t;(0,e0.PV)({action:e,isAi:!1,module:eb.Jc.EXTENSIONS,qaVersion:L.$L,rankingAlgorithm:(0,R.eg)(eb.Jc.EXTENSIONS),searchPosition:n?.index??0,isPlugin:!1,numSearchResults:l.numResults,searchQuery:l.searchQuery,moduleFilters:l.moduleFilters}),a()},augmentedExtension:null});return r.createElement(sd.p,{primaryAction:o},r.createElement("div",{className:ei.s.flex.itemsCenter.alignLeft.wFull.justifyBetween.$},r.createElement("div",{className:ei.s.flex.$},r.createElement(n,null),r.createElement("div",{className:ei.s.ml8.$},t))))}var sM=n(912873),sD=n(773511);let sP="button_with_faux_focus--button--4UzJZ utilities--bodyMedium--7-YGK",sF="button_with_faux_focus--icon--3ofHG",sB="button_with_faux_focus--buttonText--eXi6z",sU="button_with_faux_focus--buttonContent--QYGhy",sG="button_with_faux_focus--shortcut--XSTpu",sK="button_with_faux_focus--regularSize--PRZRN",sV="button_with_faux_focus--largeSize--KbVb-",sH="button_with_faux_focus--wideSize--vAeP3",sz="button_with_faux_focus--largeWideSize--7umaZ",sW="button_with_faux_focus--outlineStyle--HbkS5",sj="button_with_faux_focus--fauxFocus--ydUPp",sY="button_with_faux_focus--solidStyle--JXrgr",sJ="button_with_faux_focus--primary--z-mFg button_with_faux_focus--solidStyle--JXrgr",sq="button_with_faux_focus--secondary--nFRZl button_with_faux_focus--outlineStyle--HbkS5",sX="button_with_faux_focus--destructive--mKBEK button_with_faux_focus--solidStyle--JXrgr",sZ="button_with_faux_focus--destructiveSecondary--Wtsn1 button_with_faux_focus--outlineStyle--HbkS5",sQ="button_with_faux_focus--signup--CPfrM button_with_faux_focus--solidStyle--JXrgr",s$="button_with_faux_focus--link--qW4X-",s0="button_with_faux_focus--destructiveLink--xx-J5 button_with_faux_focus--link--qW4X-",s1=r.forwardRef(({active:e,children:t,size:n="regularSize",variant:l,...i},o)=>r.createElement(sD.E,{className:F()({[sP]:!0,[a[l??"primary"]]:!0,[a[n]]:!0,[sj]:e}),...i,ref:o},r.createElement("span",{className:sB},r.createElement("span",{className:sU},t))));var s2=n(127870);function s3({action:e,children:t,dataTestId:n,variant:a}){let l=(0,r.useRef)(null),{active:i,target:o}=(0,rV.H)({ref:l,itemsPerRow:2}),s=(0,r.useMemo)(()=>({shortcuts:[{key:en.Uz.ENTER}],onAction:e}),[e]),{onClickCallback:c}=(0,rW.k)({primaryAction:s,active:i,actionLabel:!1,target:o});return r.createElement(s1,{ref:l,onClick:e=>{e.stopPropagation(),c()},htmlAttributes:{"data-testid":n},variant:a,active:i},t)}function s5({extension:e}){let t=(0,s2.R_)(e),n=(0,s2.JB)(e);return r.createElement("div",{className:ei.s.mx8.mb8.p8.bRadius8.flex.justifyBetween.gap4.colorBgInfo.$,"data-testid":"extension-invite-row"},r.createElement("div",{className:ei.s.flex.gap8.itemsCenter.font11.lh16.$},r.createElement(sM.H8,{user:e.creator,size:sM.Pf.MEDIUM}),r.createElement(s2.e2,{resource:e})),r.createElement("div",{className:ei.s.flex.gap4.$},r.createElement(s3,{action:n,dataTestId:"decline-invite-button",variant:"secondary"},r.createElement(tt.E,{fontSize:11},(0,eo.tx)("community.detail_view.decline"))),r.createElement(s3,{action:t,dataTestId:"accept-invite-button"},r.createElement(tt.E,{fontSize:11},(0,eo.tx)("community.detail_view.accept")))))}function s4({invitedPlugins:e,invitedWidgets:t,selectedFilter:n}){let a=function({invitedPlugins:e,invitedWidgets:t,selectedFilter:n}){switch(n){case eb.BY.PLUGINS:return e;case eb.BY.WIDGETS:return t;case eb.BY.ALL:case eb.BY.DEVELOPMENT:return[...e,...t];case eb.BY.FROM_ORG:return[];default:(0,et.xb)(n)}}({invitedPlugins:e,invitedWidgets:t,selectedFilter:n});return 0===a.length?null:r.createElement("div",{"data-testid":"extension-invite-section",className:ei.s.flex.flexColumn.$},r.createElement(lK.B.Section,{header:(0,eo.t)("community.detail_view.invitations")},a.map(e=>r.createElement(s5,{key:e.id,extension:e}))))}var s6=n(210185),s8=n(453648),s9=n(669778),s7=n(6507),ce=n(693499);function ct({augmentedExtension:e}){let{extension:t,publishedExtension:n}=e,a=(0,eY.k0)(t)?(0,eo.tx)("qa.extensions.widget"):(0,eo.tx)("qa.extensions.plugin"),l=n?.unique_run_count??0,i=n?.like_count??0,o=n?r.createElement(s9.o,{publishedExtension:n,showTooltip:!1}):null,s=(0,s9.g)(n);return r.createElement("div",{className:ei.s.flex.flexColumn.colorTextSecondary.textBodyMedium.$},r.createElement("div",{className:ei.s.flex.flexRow.$},a,r.createElement(cn,null),r.createElement(eR.B,{svg:s7.A,className:ei.s.mx2.colorIconSecondary.$}),r.createElement("div",{className:ei.s.ml2.$},(0,eo.t)("qa.extensions.num_users",{numUsers:l,numUsersStr:(0,id.$M)(l)})),r.createElement(cn,null),r.createElement(eR.B,{svg:ce.A,className:ei.s.colorIconSecondary.$,style:eM.sx.add({margin:"3px"}).$}),r.createElement("div",{className:ei.s.ml2.$},(0,id.$M)(i)),s&&r.createElement(cn,null),o))}function cn(){return r.createElement("div",{className:ei.s.w1.hFull.mx6.$,style:eM.sx.add({backgroundColor:"var(--color-border-fs)"}).$,"data-testid":"divider"})}function ca({augmentedExtension:e}){let{extension:t,canRun:n,canRequest:a}=e,[l,i]=r.useState(!1),o=(0,s_.O)({extension:e,preloadImage:l}),s=N.H5.PUBLISHED_WITH_DETAILS,c=(0,sd.D)({source:s,text:(0,eo.t)("qa.extensions.view_details"),onAction:o,augmentedExtension:e});if(!n&&!a)return null;let d=(0,oL.G8)(t,s6.$J);return r.createElement(sd.p,{primaryAction:c,setActive:i},r.createElement("div",{className:ei.s.flex.flexColumn.alignLeft.wFull.$},r.createElement("div",{className:ei.s.flex.itemsCenter.overflowHidden.$},r.createElement(sc,{augmentedExtension:e}),r.createElement(cr,{augmentedExtension:e})),r.createElement("div",{className:ei.s.flex.flexColumn.overflowHidden.ml32.$},r.createElement(oA.G,{text:d,className:ei.s.mb4.colorTextSecondary.textBodyMedium.$,showTooltip:s8.i.NEVER}),r.createElement(ct,{augmentedExtension:e}))))}function cr({augmentedExtension:e}){let{extension:t}=e,n=oM(e);return r.createElement("div",{className:ei.s.flex.itemsCenter.ml8.$},r.createElement("div",{className:ei.s.pr8.colorText.textBodyLarge.$,style:eM.sx.add({maxWidth:n?"205px":"300px"}).$},r.createElement(oA.G,{text:t.name})),n&&r.createElement("div",{style:eM.sx.add({maxWidth:"110px"}).$},r.createElement(oD,{text:n.text,variant:n.variant})))}function cl({augmentedExtensions:e,header:t,showExtensionDetails:n=!1,dataTestId:a}){let l=e.map(e=>{let t=r.createRef(),{key:a}=e;return(0,x.JT)(e)?r.createElement(sA,{augmentedExtension:e,key:a,submenuRef:t}):n?r.createElement(ca,{augmentedExtension:e,key:a}):r.createElement(sL,{augmentedExtension:e,key:a,submenuRef:t})});return r.createElement("div",{"data-testid":a,className:ei.s.flex.flexColumn.$},t&&r.createElement(lK.B.Section,{header:t},l),!t&&l)}function ci({actions:e}){return 0===e.length?null:r.createElement("div",{"data-testid":"extension-actions-section",className:ei.s.flex.flexColumn.$},e.map(({itemKey:e,...t})=>r.createElement(sR,{key:e,itemKey:e,...t})))}function co({extensions:e}){let t=(0,r.useMemo)(()=>[...e].sort(x.bL),[e]);return 0===t.length?null:r.createElement(cl,{augmentedExtensions:t,dataTestId:"my-extensions-section"})}function cs(){let e=(0,S.QZ)();return r.createElement("div",{className:ei.s.flex.wFull.mt16.justifyCenter.alignCenter.colorTextSecondary.$,"data-testid":"no-extensions-found"},e?(0,eo.tx)("qa.no_plugins_widgets_found"):(0,eo.tx)("qa.no_plugins"))}function cc({availableExtensions:e,selectedFilter:t}){let n=(0,R.Ev)(),a=(0,c.md)(I.Lk),i=(0,c.md)(I.dd),o=(0,c.md)(I.Rt),s=(0,l.d4)(ej.l),d=(0,S.f6)(),u=(0,S.wW)(),{loaded:m,extensions:p}=function(e){let t=(0,x.Oy)(),{loaded:n,extensions:a}=function(){let e=(0,D.k)().cmty_suggested_extensions_on_resources,t=function({enabled:e}){let t=(0,l.wA)(),n=(0,tn.lg)(),a=(0,r.useMemo)(()=>({resourceType:[o1.vt.PLUGIN,o1.vt.WIDGET],editorType:n===oy._Y.SLIDES?o2.q.SLIDES:o2.q.DESIGN,caller:o4.z.SUGGESTED_EXTENSIONS,pageSize:20,sortBy:oQ.e.Browse.POPULAR,includeContent:!0}),[n]),[{data:i,status:o}]=(0,oX.IT)(o4.a.ResourcesPaginatedQuery(a),{enabled:e}),s=(0,r.useMemo)(()=>(0,e3.k4)((i||[]).map(e=>e.resource_type===o1.vt.PLUGIN?e.content?.plugin:e.content?.widget).filter(e=>!!e)),[i]);return(0,r.useEffect)(()=>{s.length&&t(o3.Qi({publishedPlugins:s,src:"Quick Actions V2 suggested extensions"}))},[s,t]),{loaded:"loaded"===o,extensions:(0,r.useMemo)(()=>s.map(e=>(0,ez.Ar)(e)).filter(e=>null!==e),[s])}}({enabled:!!e}),n=function({enabled:e}){let t=(0,l.wA)(),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]),s=(0,tn.lg)();return(0,r.useEffect)(()=>{if(!e)return;let n={sort_by:o5.eg.POPULAR,editor_type:s===oy._Y.SLIDES?o$.k.Editors.SLIDES:o$.k.Editors.FIGMA};Promise.all([(0,oZ.nC)().filter(n).browse(o0.L.BrowseResourceTypes.PLUGINS),(0,oZ.nC)().filter(n).browse(o0.L.BrowseResourceTypes.WIDGETS)]).then(([e,n])=>{let r=e.data.meta.resources,l=n.data.meta.resources,i=(0,e3.k4)([...r.slice(0,10),...l.slice(0,5)]);t(o3.Qi({publishedPlugins:i,src:"Quick Actions V2 suggested extensions"}));let s=i.map(e=>(0,ez.Ar)(e)).filter(e=>null!==e);a(!0),o(s)}).catch(()=>{a(!1),o([])})},[t,s,e]),{loaded:n,extensions:i}}({enabled:!e});return e?t:n}(),i=a.map(e=>t(e,N.Ag.COMMUNITY));return{loaded:n,extensions:(0,x.ZM)([...e,...i])}}(e),{myExtensions:f,suggestedExtensions:g,otherExtensionsFromOrg:h}=function(e,t){let n=(0,x.vA)(t),a=[],r=[],l=[];e.filter(e=>e.canRun||e.canRequest).filter(e=>n(e)).forEach(e=>{(0,x.wj)(e)?a.push(e):t===eb.BY.FROM_ORG&&(0,x.jb)(e)||t!==eb.BY.FROM_ORG&&(0,x.Nf)(e)?r.push(e):t===eb.BY.FROM_ORG&&l.push(e)});let i=0,o=e=>{let t=[];for(let n of e){if(i>=25)break;t.push(n),i+=1}return t};return{myExtensions:o(a),suggestedExtensions:o(r),otherExtensionsFromOrg:o(l)}}(p,t),E=sO(t),_=f.length+g.length+h.length+E.length,y=t===eb.BY.DEVELOPMENT,b=t===eb.BY.FROM_ORG,C=m||b||y,v=function({myExtensions:e,suggestedExtensions:t,otherExtensionsFromOrg:n,extensionActions:a}){let r=(0,R.HD)("My Extensions",e),l=(0,R.HD)("Suggested",t),i=(0,R.HD)("Other Extensions from Org",n),o=(0,R.NH)(a);return(0,R.i6)([r,l,i,o])}({myExtensions:f,suggestedExtensions:g,otherExtensionsFromOrg:h,extensionActions:E});return((0,r.useEffect)(()=>{a===eb.Jc.EXTENSIONS&&i&&C&&n({quickActionsSessionId:i,quickActionsQueryId:o,searchQuery:"",numSearchResults:_,currentSelection:s,module:a,moduleFilters:t,qaVersion:L.$L,searchQueryResults:v})},[n,a,i,C,o,_,s,t,v]),0===_)?r.createElement(cs,null):r.createElement(su.M6,{numResults:_,moduleFilters:t},r.createElement(lK.B,{primary:!0,resultCount:_,dataTestId:"browseExtensions"},r.createElement(s4,{invitedPlugins:d,invitedWidgets:u,selectedFilter:t}),r.createElement(co,{extensions:f}),r.createElement(ci,{actions:E}),r.createElement(cd,{extensions:g,hasLoaded:C}),b&&r.createElement(cu,{extensions:h})))}function cd({extensions:e,hasLoaded:t}){return t?0===e.length?null:r.createElement(cl,{augmentedExtensions:e,header:(0,eo.t)("qa.suggested"),showExtensionDetails:!0}):r.createElement("div",{className:ei.s.p8.$},r.createElement(oq.R,null))}function cu({extensions:e}){let t=(0,eV.sZ)();return t&&0!==e.length?r.createElement(cl,{augmentedExtensions:e,header:(0,eo.t)("qa.other_extensions_from_org",{org_name:t.name}),showExtensionDetails:!0}):null}var cm=n(946678),cp=n.n(cm),cf=n(813321),cg=n(913026),ch=n(660580),cE=n(193743),c_=n(208624);let cy=ch.M4.Query({fetch:async e=>(await c_.$W.getExtensions(e)).data.meta,enabled:e=>e.query.length>0,output:({data:e})=>e.results});function cb({availableExtensions:e,selectedFilter:t}){let n=(0,R.Ev)(),a=(0,c.md)(I.Lk),o=(0,c.md)(I.dd),s=(0,c.md)(I.Q8),[d]=(0,cf.A)(s,300),u=(0,c.md)(I.Rt),m=(0,l.d4)(ej.l),p=(0,l.wA)(),{loading:f,publicExtensions:g,privateExtensions:h,localExtensions:E}=function(e){let{status:t,results:n,errors:a}=function(e){let t=function(e){switch(e){case th.nT.Design:case th.nT.Illustration:return o$.k.Editors.FIGMA;case th.nT.Whiteboard:return o$.k.Editors.FIGJAM;case th.nT.DevHandoff:return o$.k.Editors.DEV_MODE;case th.nT.Slides:return o$.k.Editors.SLIDES;case th.nT.Sites:case th.nT.Figmake:case th.nT.Cooper:case null:return o$.k.Editors.ALL;default:(0,et.xb)(e)}}((0,tn.my)()),n=(0,oh.U5)(),a=(0,eV.dq)()??void 0,[{status:r,data:l,errors:i}]=(0,oX.IT)(cy({query:e,editorType:t,orgSearch:n,currentOrgId:a,maxNumResults:20}));return{status:r,results:l||{public:[],private:[]},errors:i}}(e),l=function(e){let t=(0,S.$1)(),n=(0,r.useMemo)(()=>Object.values(t),[t]),a=(0,r.useMemo)(()=>new cE.Ef(n,cg.Ih),[n]);return(0,r.useMemo)(()=>a.search(e),[a,e])}(e);return(0,r.useMemo)(()=>{switch(t){case"loading":return{loading:!0,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"loaded":let e=n?.public??[],r=n?.private??[];return{loading:!1,publicExtensions:e.map(e=>e.model),privateExtensions:r.map(e=>e.model),localExtensions:l};case"disabled":case"errors":return(0,eA.$D)(i.e.EXTENSIBILITY,Error("[useSearchExtensions] Unable to fetch search results"),{tags:{status:t},extra:{errors:a}}),{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};default:(0,et.xb)(t)}},[n?.private,n?.public,l,t,a])}(d),_=function(e,t){let n=sO(t),a=(0,r.useMemo)(()=>new cE.Ef(n,cg.zd),[n]);return(0,r.useMemo)(()=>a.search(e),[a,e])}(d,t);(0,r.useEffect)(()=>{let e=[...g,...h];0!==e.length&&p(o3.Qi({publishedPlugins:e,src:"Quick actions"}))},[p,h,g]);let{myExtensions:y,fromOrgExtensions:b,communityExtensions:C}=cw(function({publicExtensions:e,privateExtensions:t,localExtensions:n}){let a=(0,x.Oy)();return(0,r.useMemo)(()=>{let r=(e,t)=>e.map(e=>(0,ez.Ar)(e)).filter(e=>!!e).map(e=>a(e,t)),l=r(e,N.Ag.COMMUNITY),i=r(t,N.Ag.ORG_PRIVATE);return[...n.map(e=>a(e,N.Ag.LOCAL)),...i,...l]},[a,n,t,e])}({publicExtensions:g,privateExtensions:h,localExtensions:E}),e,t),v=y.length+b.length+C.length+_.length,w=function({myExtensions:e,actionItems:t,fromOrgExtensions:n,communityExtensions:a}){let r=(0,R.HD)("My Extensions",e),l=(0,R.NH)(t),i=(0,R.HD)("From Org",n),o=(0,R.HD)("From Community",a);return(0,R.i6)([r,l,i,o])}({myExtensions:y,actionItems:_,fromOrgExtensions:b,communityExtensions:C});return((0,r.useEffect)(()=>{a===eb.Jc.EXTENSIONS&&o&&!f&&n({quickActionsSessionId:o,quickActionsQueryId:u,searchQuery:d,numSearchResults:v,currentSelection:m,module:a,moduleFilters:t,qaVersion:L.$L,searchQueryResults:w})},[m,n,a,v,o,u,t,f,w,d]),f)?r.createElement(oq.R,null):0===v?r.createElement(cs,null):r.createElement(su.M6,{numResults:v,moduleFilters:t},r.createElement(lK.B,{primary:!0,resultCount:v},r.createElement(co,{extensions:y}),r.createElement(ci,{actions:_}),r.createElement(cC,{extensions:b}),r.createElement(cv,{extensions:C})))}function cC({extensions:e}){let t=(0,eV.sZ)();if(!t||0===e.length)return null;let[n,a]=cp()(e,e=>e.types.has(N.Ag.ORG_SAVED)),l=[...n,...a];return r.createElement(cl,{augmentedExtensions:l,header:(0,eo.t)("qa.from_org_name",{org_name:t.name}),showExtensionDetails:!0,dataTestId:"from-org-extensions-section"})}function cv({extensions:e}){return 0===e.length?null:r.createElement(cl,{augmentedExtensions:e,header:(0,eo.t)("qa.from_community"),showExtensionDetails:!0,dataTestId:"community-extensions-section"})}let cw=(e,t,n)=>{let a=(0,x.vA)(n),l=(0,r.useMemo)(()=>new Set(e.map(e=>e.key)),[e]),i=(0,r.useMemo)(()=>{let n=[...e,...t];return(0,x.ZM)(n)},[t,e]),o=[],s=[],c=[];return i.filter(e=>e.canRun||e.canRequest).filter(e=>a(e)).filter(e=>l.has(e.key)).forEach(e=>{(0,x.wj)(e)?o.push(e):(0,x.C5)(e)?s.push(e):(0,x.Nf)(e)&&c.push(e)}),{myExtensions:o,fromOrgExtensions:s,communityExtensions:c}};function cT({hasLoadedExtensions:e,extensions:t,selectedFilter:n}){let a=(0,c.md)(I.Q8),l=(0,I.JB)(),i=(0,c.AY)(oW.t);return((0,b.h)(()=>()=>{l(),i()}),e)?a?r.createElement(cb,{availableExtensions:t,selectedFilter:n}):r.createElement(cc,{availableExtensions:t,selectedFilter:n}):r.createElement(oq.R,null)}var cS=n(263455);function ck(){!function(){let e=(0,c.md)(I.IH),t=(0,c.md)(G.S),{autoClose:n}=(0,A.cq)(),a=(0,r.useCallback)(()=>{let e=eE.D.getState();e.modalShown||e.dropdownShown||e.pickerShown||n()},[n]);!function({ref:e,handler:t,eventType:n="mousedown",eventOptions:a,recordingKey:l,enabled:i}){let o=(0,r.useCallback)(n=>{if(!(n.target instanceof Node))return;let a=n.target;a&&a.isConnected&&e&&(Array.isArray(e)?e.filter(e=>!!(e&&e.current)).every(e=>e.current&&!e.current.contains(a)):e.current&&!e.current.contains(a))&&t(n)},[e,t]),s=(0,er.rf)(l,n,o);(0,r.useEffect)(()=>{if(e&&i)return window.addEventListener(n,s,a),()=>{window.removeEventListener(n,s,a)}},[e,n,o,s,a,i])}({ref:(0,r.useMemo)(()=>[e,t],[e,t]),handler:()=>setTimeout(a,0),eventType:"mousedown",eventOptions:!0,recordingKey:"click-to-dismiss",enabled:!0})}();let{defaultViewTabsAvailable:e,defaultViewAssetsTabVisible:t}=E(),[n,a]=(0,c.fp)(I.Q8),i=(0,c.Xr)(I.Rt),[o,s]=(0,c.fp)(oW.t),[d,u]=(0,c.fp)(I.Lk),{loaded:m,extensions:p}=(0,c.md)(I.P_),f=(0,l.wA)();r.useEffect(()=>f(ec.aq()),[f]);let g=(0,ed.q5)(),h=!!(e&&g?.canEdit),_=(0,tY.s)(),y=(0,nv.V)(),b=(0,eg.eH)();(0,ef.b)({disabled:!h});let C=d===eb.Jc.ASSETS,{debouncedAssetSearch:v,clearAssetSearchAndCancelDebounce:w}=(0,e_.TC)({debounceWait:300}),{debouncedFragmentTextSearch:T,clearFragmentSearchAndCancelDebounce:k}=(0,cS.S)({debounceWait:300,entryPoint:es.G4.ACTIONS_ASSETS_TAB}),{debouncedFragmentTextSearch:N,clearFragmentSearchAndCancelDebounce:x}=(0,cS.S)({debounceWait:300,entryPoint:es.G4.ACTIONS_ASSETS_TAB,isCommunity:!0}),L=r.useCallback(e=>{a(e),i((0,el.g)()),(0,R.lw)(),h&&(C||0===e.length)&&(v(e,{type:ep.I.ALL}),y&&T(e),b&&N(e))},[a,i,v,T,h,C,y,b,N]),O=r.useCallback(()=>{a(""),h&&(w(),y&&k(),b&&x())},[a,h,w,k,y,b,x]),M=r.useCallback(e=>{u(e),(0,R.lw)()},[u]),D=r.useCallback(()=>{(0,tz.mX)(n,()=>M(eb.Jc.ASSETS),y,b,_,es.G4.ACTIONS_ASSETS_TAB)},[n,M,y,b,_]),P=r.useRef(null),F=(0,oz.U)(y),B=(0,l.d4)(eu.Eh),U=(0,S.QZ)();r.useEffect(()=>{U||o!==eb.BY.ALL&&o!==eb.BY.WIDGETS||s(eb.BY.PLUGINS)},[U,o,s]);let K=r.createElement(eT.fu,{value:d,onChange:ea.lQ,numItems:B?3:2},r.createElement(eT.oz,{tabId:eb.Jc.ALL,onAction:()=>M(eb.Jc.ALL),navigatingShortcut:{key:en.Uz.KEY_1,modifier:[en.xH.ALT]}},(0,eo.tx)("qa.all")),t&&r.createElement(eT.oz,{tabId:eb.Jc.ASSETS,onAction:D,navigatingShortcut:{key:en.Uz.KEY_2,modifier:[en.xH.ALT]}},(0,eo.tx)("qa.assets")),B&&r.createElement(eT.oz,{tabId:eb.Jc.EXTENSIONS,onAction:()=>M(eb.Jc.EXTENSIONS),navigatingShortcut:{key:en.Uz.KEY_3,modifier:[en.xH.ALT]}},U?(0,eo.tx)("qa.plugins_widgets"):(0,eo.tx)("qa.plugins"))),V=r.useCallback(e=>{(b||y)&&(0,tz.jk)(e)},[y,b]),H=(0,ey._M)({action:eh.JT.FIND_INSPIRATION,clientLifecycleId:void 0}),z=b||y?r.createElement("div",{className:ei.s.flex.$},r.createElement(tz.hc,{entryPoint:es.G4.ACTIONS_ASSETS_TAB,aiTrackingContext:H,recordingKey:(0,er.Pt)("defaultView","visualSearchIconButton")})):void 0,W=d===eb.Jc.EXTENSIONS,j=(0,c.Xr)(em.FX);return r.createElement(ev.n,{height:eh.wC,recordingKey:"defaultView"},r.createElement(ew.vj,{searchQuery:n,onSearchChange:L,onClear:O,onPaste:V,endEnhancer:z,ref:P,placeholder:C?F:void 0}),(h||W)&&r.createElement("div",{className:ei.s.px8.pb8.$},r.createElement(eC.b,{primary:!1,gap:8,fullWidth:!0,justify:"space-between"},h&&K,W&&r.createElement(oY,{extensionFilter:o,setExtensionFilter:s,canViewWidgets:U}))),r.createElement(ev.n.Body,null,function(){switch(d){case eb.Jc.ALL:return j(!0),r.createElement(oH,{setActiveTab:M});case eb.Jc.ASSETS:return r.createElement(tj.t,{searchHandle:P});case eb.Jc.EXTENSIONS:return r.createElement(cT,{extensions:p,hasLoadedExtensions:m,selectedFilter:o});default:return(0,et.xb)(d)}}()))}function cI(){let{current:e}=(0,A.cq)(),t=(0,I.jh)();return((0,b.h)(()=>()=>{t()}),e)?r.createElement(r.Fragment,null,e.module):r.createElement(ck,null)}let cN=(e,t)=>{let n=(0,O.x)();(0,R.F$)(n)&&(0,R.Mq)({...t,qaVersion:L.$L,quickActionsSessionId:e,timeToShowModal:y.sn.tryStop(L.mP)||0,module:n})};function cx(){!function(){let e=(0,c.Xr)(I.P_),t=(0,S.FG)(),n=(0,S.AR)(),{loaded:a,userPlugins:l,userWidgets:i,orgPlugins:o,orgWidgets:s}=(0,S.q3)(),d=(0,S.ll)(),u=(0,S.U6)(),m=(0,k.h)("plugin"),p=(0,k.h)("widget"),f=(0,S.$1)(),g=(0,x.Oy)(),h=(0,r.useMemo)(()=>[{extensions:t,extensionType:N.Ag.RECENT},{extensions:n,extensionType:N.Ag.RECENT},{extensions:Object.values(l),extensionType:N.Ag.USER_SAVED},{extensions:Object.values(i),extensionType:N.Ag.USER_SAVED},{extensions:Object.values(o),extensionType:N.Ag.ORG_SAVED},{extensions:Object.values(s),extensionType:N.Ag.ORG_SAVED},{extensions:Object.values(d),extensionType:N.Ag.ALLOWLIST},{extensions:Object.values(u),extensionType:N.Ag.ALLOWLIST},{extensions:m,extensionType:N.Ag.ORG_PRIVATE},{extensions:p,extensionType:N.Ag.ORG_PRIVATE},{extensions:Object.values(f),extensionType:N.Ag.LOCAL}],[t,n,l,i,o,s,d,u,m,p,f]),E=(0,r.useMemo)(()=>{let e=a?h.map(({extensions:e,extensionType:t})=>e.map(e=>g(e,t))).flat():[];return(0,x.ZM)(e)},[h,g,a]);(0,r.useEffect)(()=>{a&&E&&e({loaded:a,extensions:E})},[a,E,e])}();let e=(0,c.Xr)(I.Bu),t=(0,c.md)(I.rE),n=(0,c.md)(I.dd);(0,b.h)(()=>(e(!0),n&&cN(n,t||void 0),()=>{e(!1)}));let a=(0,c.md)(v.Kh),[l,i]=r.useState(!1),o=(0,w.o3)(w.nt.ui3),s=(0,C.ZC)(o),{close:d}=(0,A.cq)();return(0,r.useEffect)(()=>{cA(a)&&i(!0),s&&!o?d():l&&!cA(a)&&d()},[o,s,d,a,l]),r.createElement(T.s,null,r.createElement(M.s3,{name:"quickActions",recordingKey:"quickActions"},r.createElement($,null,r.createElement(cI,null))))}function cA(e){return e===s.NLJ.SELECT}var cL=n(353231),cO=n(325128);function cR(e){let t=(0,ex.A)(_.KY,e.timeoutMs),n=(0,_.el)(),[a,l]=r.useState(!1),i=r.useRef(null);return r.useEffect(()=>(a?t.cancel():t(),()=>{t.cancel()}),[t,a]),(0,r.useEffect)(()=>{n&&(t.cancel(),t())},[n,t]),r.createElement("div",{ref:i,onPointerEnter:()=>{l(!0)},onPointerLeave:()=>{l(!1)}},e.children)}function cM(){let e=eE.D.getState(),t=(0,ej.l)(e),n=e.openFile?.key??"",a=(0,cL.v5)(e.selectedView,null),l=(0,n0.FX)(),i=[...ol(),...l],o=e2(),d=n$(o,i),u=(0,_.el)(),p=u?d.list(o).find(e=>e.action===u.action):null,f=p?.action,g=p?(0,e$.ah)(p):null,h=(0,e$.J8)(p?.action),E=(0,e$.Hr)(p?.action),y=(0,r.useCallback)(()=>{f&&(a_.Y5.triggerAction(f,u?.payload),(0,_.KY)())},[f,u?.payload]),b=(0,c.md)(I.dd),C=(0,R.vI)(),v=(0,m.PE)(),w=(0,r.useMemo)(()=>({action:f,source:"toast",toastType:u?.payload?.source,quickActionsSessionId:b,currentSelection:t,qaVersion:L.$L,fileKey:n,productType:a,role:C,hasAiFeatureAccess:v}),[f,b,t,n,a,C,v,u?.payload?.source]),T=(0,r.useRef)(w),S=(0,_.dL)(u);(0,r.useEffect)(()=>{T.current=w},[w]),(0,r.useEffect)(()=>{f&&S&&(0,aX.trackEvent)(L.Sq,T.current,{forwardToDatadog:!0})},[f,S]),(0,eK.f4)(e=>{u?.guid&&!e.mirror.sceneGraphSelection[u.guid]&&(0,_.KY)()});let k=(0,r.useCallback)(()=>{if(!p)return;let e=p?.action,t=[eh.JT.MAGIC_LINK,eh.JT.FIND_INSPIRATION].includes(e);f===eh.JT.CONTENT_FILL&&(0,D.k)().aip_content_fill_duplicate_trigger&&s.CT8?.dismissContentFillNudge(),(0,_.KY)({dismissedAction:t?e:void 0})},[p,f]);if(!S)return null;if(!p)return console.warn("No menu item found for suggested action."),null;let N=(0,ig.O)(p);return r.createElement(M.s3,{name:"quickActions",recordingKey:"quickActions"},r.createElement($,null,r.createElement(ev.n,null,r.createElement(cR,{timeoutMs:1e4},r.createElement(cO.y,{onDismiss:k,recordingKey:"SuggestionToast"},r.createElement(eC.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement(eC.B,{gap:4,align:"center"},r.createElement("span",{style:{"--color-icon":"var(--color-icon-brand)"}},E),r.createElement(eC.B,{align:"center"},r.createElement("span",{className:ei.s.textBodyMediumStrong.$},r.createElement(tt.E,{color:"brand"},h)),(0,e0.BB)(p)&&r.createElement(ig.y,{helpUrlVariant:N}))),r.createElement(ne.r,{variant:"secondary",shortcuts:[{key:en.Uz.ENTER,modifier:[en.xH.META]}],onAction:()=>{y(),f&&(0,R.mi)({...T.current,isAi:!0})},recordingKey:"SuggestionToast"},g)))))))}function cD(e){let t=(0,l.wA)(),n=(0,p.I)(),a=(0,m.PE)();return((0,r.useEffect)(()=>{s.glU?.handleHasDesignAIPermissionChange()},[a]),n)?r.createElement(d.tH,{boundaryKey:"QuickActionsV2",onError:()=>{t(u.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},team:i.e.AI_FOR_PRODUCTION,fallback:d.H4.NONE_I_KNOW_WHAT_IM_DOING},r.createElement(o.i,null,r.createElement(h,{value:f(e)},r.createElement(cP,null)))):null}function cP(){let e=(0,c.md)(I.Bu),t=(0,_.el)();return e?r.createElement(cx,null):t?r.createElement(cM,null):null}},363978:(e,t,n)=>{n.d(t,{$:()=>k,J:()=>I});var a=n(848318),r=n(660376),l=n(818733),i=n(768618),o=n(580494),s=n(999667),c=n(967688),d=n(376732),u=n(642935),m=n(8578),p=n(101872),f=n(775164),g=n(880801),h=n(619534),E=n(849911),_=n(345174),y=n(803107),b=n(649352),C=n(580605),v=n(730783),w=n(566654),T=n(430808);let S=({texts:e,authInfo:t,surroundingContext:n})=>u.Ay.shared.adjustText({texts:e,action:{type:"SHORTEN"},jsonMode:e.length>1,surroundingContext:n},t),k=async({params:e,abortController:t,onTasksUpdate:n,clientLifecycleId:a})=>{let{featureType:r}=e,l=(0,o.k)().aip_text_tools_refactor?(0,f.i2)():i.UN().getCurrentPage()?.directlySelectedNodes??[],c={targets:(0,d.on)(l,{allowEmpty:!1,excludeDigitsAndSpecialChar:!1,excludeLockedNodes:!0}),parameters:null,selection:i.UN().getCurrentPage()?.directlySelectedNodes??[],activeNodes:l};s.zl.set(y.DZ,null),s.zl.set(y.F3,c),s.zl.set(y.Q8,""),await (0,T.GD)({params:{clientLifecycleId:a,state:c,makeCortexRequest:S,featureType:r,excludeDigitsAndSpecialChar:!1,editScopeLabel:"adjust-text"},abortController:t,onTasksUpdate:n})};function I(){let{close:e}=(0,E.cq)(),{longRunningAction:t,lastParameters:n,onRun:i,cancel:o,resetText:s,lastRun:d}=(0,T.Hd)({makeCortexRequest:S,featureType:g.JT.SHORTEN_TEXT}),{state:u,aiTrackingContext:f,tasks:y}=t,k=(0,a.useCallback)(()=>{s(),(0,h.B3)(g.JT.SHORTEN_TEXT),e()},[s,e]),I=y.length,N=y.filter(e=>e.state===h.z8.FAILED).length;switch(u){case h.qy.INITIAL:return a.createElement(C.A,{action:g.JT.SHORTEN_TEXT,actionIcon:a.createElement(l.g,null),actionLabel:(0,c.tx)("fullscreen_actions.quick_actions.shorten-text"),onPerform:()=>{i(null)},aiTrackingContext:f,getCustomDisabledTextFromSelectedNodes:e=>(0,T.bu)(e,g.JT.SHORTEN_TEXT,{onlyAllowSingular:!0,instruction:(0,c.tx)("ai_text_tools.select_text_singular")}),instructionAction:{type:"learn_more",url:g.pY}},(0,c.tx)("ai_text_tools.select_text_singular"));case h.qy.RUNNING:return a.createElement(w.F,{onCancel:()=>{o(),e()},aiTrackingContext:f},(0,c.tx)("ai_text_tools.shorten.running"));case h.qy.ERROR:let x;let{error:A}=t,L=[{type:b.f.TRY_AGAIN,callback:()=>i(n)}],O=null;return(A instanceof T.Vz||(0,p.sZ)(A)===m.B.CONTENT_LENGTH_LIMIT)&&(x=(0,c.tx)("ai.error.content_length_limit"),L=[]),A instanceof T.Jd&&(x=(0,c.tx)("ai_text_tools.missing_fonts"),L=[]),(0,p.sZ)(A)===m.B.UNSAFE_OR_HARMFUL_CONTENT&&(L=[]),I>0&&N>0&&N<I&&(O=(0,c.tx)("ai_text_tools.shorten.couldnt_count",{failed:N,total:I})),a.createElement(b.E,{buttons:L,error:t.error,aiTrackingContext:f,customMessage:x,secondaryMessage:O});case h.qy.DONE:return a.createElement(v.Oq,{recordingKey:"shortenText",iterateOptions:[{type:v.is.UNDO,callback:k},{type:v.is.TRY_AGAIN,callback:()=>{i(n)}}],aiTrackingContext:{...f,iteration_view_type:_.$J.SUCCESS_WITH_ITERATION},targets:d?d.targets.map(e=>e.node.guid):void 0});case h.qy.CANCELLED:return null;default:(0,r.xb)(u)}}},542462:(e,t,n)=>{n.d(t,{K:()=>A});var a=n(848318),r=n(660376),l=n(829290),i=n(967688),o=n(186112),s=n(995218),c=n(642935),d=n(8578),u=n(101872),m=n(880801),p=n(279753),f=n(619534),g=n(849911),h=n(345174),E=n(649352),_=n(580605),y=n(730783),b=n(566654),C=n(857607),v=n(297638),w=n(416406),T=n(700742),S=n(988182),k=n(16309);function I({items:e,onSelectItem:t,placeholder:n,showIcon:r=!0}){(0,w.If)(!1);let[l,i]=a.useState(""),[o,s]=a.useState([]);a.useEffect(()=>{s(e),i("")},[e]);let c=a.createElement(T.B,{resultCount:o.length},o.map(e=>a.createElement(T.B.Item,{key:e.label,primaryAction:{onAction:()=>t(e),shortcuts:[{key:C.Uz.ENTER}]},actionLabel:!1,recordingKey:e.label},a.createElement("div",{className:v.s.flex.justifyBetween.wFull.$},a.createElement("div",{className:v.s.ml28.$},e.label))))),d=t=>{i(t),s(e.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())))};return a.createElement(S.n,{height:m.wC,recordingKey:"parameterLikeList"},a.createElement(k.DM,{searchQuery:l,onSearchChange:d,onClear:()=>{d("")},placeholder:n,showIcon:r}),a.createElement(S.n.Body,null,c))}var N=n(430808);let x=["Arabic","Urdu"];function A(){let e=(0,s.ow)(),t=[{name:"Arabic",label:(0,i.t)("ai_text_tools.translate.language.arabic")},{name:"Chinese (Simplified)",label:(0,i.t)("ai_text_tools.translate.language.chinese_simplified")},{name:"Chinese (Traditional)",label:(0,i.t)("ai_text_tools.translate.language.chinese_traditional")},{name:"Dutch",label:(0,i.t)("ai_text_tools.translate.language.dutch")},{name:"English (United Kingdom)",label:(0,i.t)("ai_text_tools.translate.language.english_uk")},{name:"English (United States)",label:(0,i.t)("ai_text_tools.translate.language.english_us")},{name:"Tagalog",label:(0,i.t)("ai_text_tools.translate.language.tagalog")},{name:"French",label:(0,i.t)("ai_text_tools.translate.language.french")},{name:"German",label:(0,i.t)("ai_text_tools.translate.language.german")},{name:"Hindi",label:(0,i.t)("ai_text_tools.translate.language.hindi")},{name:"Indonesian",label:(0,i.t)("ai_text_tools.translate.language.indonesian")},{name:"Italian",label:(0,i.t)("ai_text_tools.translate.language.italian")},{name:"Japanese",label:(0,i.t)("ai_text_tools.translate.language.japanese")},{name:"Korean",label:(0,i.t)("ai_text_tools.translate.language.korean")},{name:"Malay",label:(0,i.t)("ai_text_tools.translate.language.malay")},{name:"Polish",label:(0,i.t)("ai_text_tools.translate.language.polish")},{name:"Portuguese (Brazil)",label:(0,i.t)("ai_text_tools.translate.language.portuguese_brazil")},{name:"Portuguese (Portugal)",label:(0,i.t)("ai_text_tools.translate.language.portuguese_portugal")},{name:"Russian",label:(0,i.t)("ai_text_tools.translate.language.russian")},{name:"Spanish (Latin America)",label:(0,i.t)("ai_text_tools.translate.language.spanish_latin_america")},{name:"Spanish (Spain)",label:(0,i.t)("ai_text_tools.translate.language.spanish_spain")},{name:"Swedish",label:(0,i.t)("ai_text_tools.translate.language.swedish")},{name:"Tamil",label:(0,i.t)("ai_text_tools.translate.language.tamil")},{name:"Thai",label:(0,i.t)("ai_text_tools.translate.language.thai")},{name:"Turkish",label:(0,i.t)("ai_text_tools.translate.language.turkish")},{name:"Ukrainian",label:(0,i.t)("ai_text_tools.translate.language.ukrainian")},{name:"Urdu",label:(0,i.t)("ai_text_tools.translate.language.urdu")},{name:"Vietnamese",label:(0,i.t)("ai_text_tools.translate.language.vietnamese")}];e&&(t=t.filter(e=>!x.includes(e.name)));let n=(0,i.t)("ai_text_tools.translate.running"),C=a.useRef(null),{onRun:v,resetText:w,cancel:T,longRunningAction:S,lastRun:k}=(0,N.Hd)({makeCortexRequest:({texts:e,parameters:t,authInfo:n,surroundingContext:a})=>c.Ay.shared.adjustText({texts:e,action:{type:"TRANSLATE",language:t.language},jsonMode:e.length>1,surroundingContext:a},n),featureType:m.JT.TRANSLATE_TEXT}),{state:A,aiTrackingContext:L,tasks:O}=S,{close:R}=(0,g.cq)(),M=(0,p.s)(m.JT.TRANSLATE_TEXT),D=O.length,P=O.filter(e=>e.state===f.z8.FAILED).length,F=(0,o.ge)();switch(A){case f.qy.RUNNING:return a.createElement(b.F,{onCancel:()=>{T(),R()},aiTrackingContext:L},n);case f.qy.INITIAL:switch(M.state){case p.w.NEEDS_INITIAL_SELECTION:case p.w.SELECTION_LOST:return a.createElement(_.A,{action:m.JT.TRANSLATE_TEXT,actionLabel:(0,i.tx)("fullscreen_actions.quick_actions.translate-text"),actionIcon:a.createElement(l.R,null),onPerform:()=>M.confirmInitialSelection(),getCustomDisabledTextFromSelectedNodes:e=>(0,N.bu)(e,m.JT.TRANSLATE_TEXT,{}),aiTrackingContext:L,instructionAction:{type:"learn_more",url:m.pY}},(0,i.tx)("ai_text_tools.selection_instruction"));case p.w.SELECTION_OK:return a.createElement(I,{items:t,onSelectItem:e=>{let t={language:e.name};v(t),C.current=t},placeholder:(0,i.t)("ai_text_tools.translate.language"),showIcon:!F})}case f.qy.ERROR:let B;let{error:U}=S,G=null,K=[{type:E.f.TRY_AGAIN,callback:()=>{if(C.current)v(C.current);else throw new N.ay("Last parameters is null")}}];return(U instanceof N.Vz||(0,u.sZ)(U)===d.B.CONTENT_LENGTH_LIMIT)&&(B=(0,i.tx)("ai.error.content_length_limit"),K=[]),U instanceof N.Jd&&(B=(0,i.tx)("ai_text_tools.missing_fonts"),K=[]),(0,u.sZ)(U)===d.B.UNSAFE_OR_HARMFUL_CONTENT&&(K=[]),D>0&&P>0&&P<D&&(G=(0,i.tx)("ai_text_tools.translate.couldnt_count",{failed:P,total:D})),a.createElement(E.E,{buttons:K,error:S.error,aiTrackingContext:L,customMessage:B,secondaryMessage:G});case f.qy.DONE:return a.createElement(y.Oq,{iterateOptions:[{type:y.is.UNDO,callback:()=>{w(),R()}}],recordingKey:"translateText",aiTrackingContext:{...L,iteration_view_type:h.$J.DEFAULT_SUCCESS},targets:k?k.targets.map(e=>e.node.guid):[]});case f.qy.CANCELLED:return null;default:(0,r.xb)(A)}}},929414:(e,t,n)=>{n.d(t,{ce:()=>_,eb:()=>v,qi:()=>w,yh:()=>y,zs:()=>b});var a=n(848318),r=n(947239),l=n(871043),i=n(818222),o=n(580494),s=n(647029),c=n(656470),d=n.n(c),u=n(88217),m=n(810503),p=n(269873),f=n(614092),g=n(21614);let h=s.z.object({description:s.z.string(),wasOutputOfPreviousGeneration:s.z.boolean().optional()});s.z.object({prompt:s.z.string(),attachmentMetadata:s.z.record(s.z.string(),h).optional()});let E=`User has also attached the following frames (represented as JSX) and their corresponding images, components used here can be referenced in the output:
`;function _(e){let t={};for(let n of(0,i.B)(e,{followInstances:!0})){let e=(0,r.getComponentInfoById)(n.guid,{enableTsArrays:!!(0,o.k)().first_draft_ts_arrays});if(!e){(0,m.xi)("first-draft","Component info not found for user-selected node",{componentGuid:n.guid},{reportAsSentryError:!0});continue}t[e.jsxName.toLowerCase()]=e}return t}async function y(e,t,n){let a=(await Promise.all(e.map(async e=>{var n;let a=await (0,p.nX)(e);if(!a)return(0,m.xi)("first-draft","Unable to get JSX for user-selected node",{nodeGuid:e.guid}),null;let r=t.get(e.guid);if(!r)return(0,m.xi)("first-draft","No image data found for user-selected node",{nodeGuid:e.guid}),null;let l=null;l=r.promise?await r.promise:r.blob;let i=await (n=l,new Promise((e,t)=>{let a=new FileReader;a.onloadend=()=>{let n=a.result;"string"==typeof n?e(n):t(Error("Failed to convert blob to Data URL"))},a.onerror=()=>{t(Error("Failed to read blob"))},a.readAsDataURL(n)}));return{guid:e.guid,jsxStr:a,imageUrl:i}}))).filter(l.Vq);return[{role:"system",content:E},{role:"user",content:d()(a.map(({guid:e,jsxStr:t,imageUrl:a},r)=>{let l=[{type:"text",text:`
ATTACHMENT #${r+1}:
`}];return n&&n[e]&&l.push({type:"text",text:`Description: ${[...n[e].wasOutputOfPreviousGeneration?["This was the output of a previous generation"]:[],n[e].description].join(" ")}
`}),t&&l.push({type:"text",text:`\`\`\`jsx
${t}
\`\`\`
`}),l.push({type:"image",image:a}),l}))}]}let b=URL.createObjectURL(new Blob(["data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="],{type:"image/gif"}));function C(e){return e.visible}function v(){let e=(0,a.useRef)(new Map),t=(0,g.Tv)();return(0,f.Fk)((t,n)=>{if(!n)return e.current=new Map,null;let a=n.map(e=>t.get(e)).filter(l.Vq).filter(C);return e.current=new Map(a.map(e=>[e.guid,e])),a.map(e=>e?.guid)},t),e.current}function w({enabled:e}){let[t,n]=a.useState(new Map),r=a.useRef(t);r.current=t;let l=a.useRef(!1),i=v();return a.useEffect(()=>{if(!e)return;let a=new Set(i.keys()),r=new Set(t.keys()),o=(0,u._i)(r,a);(0,u._i)(a,r).forEach(async e=>{let t=i.get(e);if(!t)return;let a=t.loadImagesAndExport([{imageType:"PNG"}]),r=(async()=>new Blob([await a],{type:"image/png"}))();n(t=>{let n=new Map(t);return n.set(e,{imageURL:null,blob:null,promise:r}),n});let o=await r;if(l.current)return;let s=URL.createObjectURL(o);n(t=>{let n=new Map(t);return n.set(e,{imageURL:s,blob:o,promise:null}),n})}),o.size>0&&n(e=>{let t=new Map(e);return o.forEach(e=>{if(!t.has(e))return;let n=t.get(e);n?.imageURL&&URL.revokeObjectURL(n.imageURL),t.delete(e)}),t})},[i,t,e]),a.useEffect(()=>()=>{l.current=!0,r.current.forEach(e=>{e.imageURL&&URL.revokeObjectURL(e.imageURL)})},[]),t}},630883:(e,t,n)=>{n.d(t,{YG:()=>y,sI:()=>_});var a=n(848318),r=n(829856),l=n(580494),i=n(999667),o=n(536384),s=n.n(o),c=n(781239),d=n(297638),u=n(967688),m=n(299731),p=n(965);let f=(0,i.E3)("first_draft_last_used_kit",""),g=(0,i.E3)("first_draft_reset_kit_for_byod",!0);function h(e){return"LOCAL"===e.dsKitKey.type?e.dsKitKey.pageId??"local":e.dsKitKey.key}function E({text:e}){return a.createElement("div",{className:s()(d.s.flex.flexRow.$)},a.createElement(r.i,{style:{marginLeft:-2}})," ",a.createElement("span",{className:s()(d.s.pl4.$)},e))}function _(e=!1){let{libraryKitsQueryStatus:t,localKits:n,libraryKits:r}=(0,m.Ml)(),[o,s]=(0,i.fp)(f),[c,d]=(0,i.fp)(g);c&&(0,l.k)().first_draft_direct_gen&&(s(""),d(!1));let[u,p]=(0,a.useState)(null),E="loaded"===t;(0,a.useEffect)(()=>{if(E&&null===u){if(e){let e=n[0]??r[0]??null;e&&p({type:"KIT",kit:e})}else{let e=r[0]??n[0]??null;e&&p({type:"KIT",kit:e})}}},[n,r,E,u,p,e]);let y=(0,a.useMemo)(()=>[...r,...n],[r,n]),b=(0,a.useMemo)(()=>{let e=y.find(e=>h(e)===o);return E&&!e&&s(""),e??null},[o,y,s,E]);return{kitsAreLoaded:E,hasLastSelectedKit:E?!!b:!!o,selectedKit:b,setSelectedKit:a.useCallback(e=>{s(h(e))},[s]),selectedKitOption:u,setSelectedKitOption:p,allUsableKitEntries:y}}function y({items:e,kitsAreLoaded:t,selectedKitOption:n,setSelectedKitOption:r,recordingKey:l}){return a.createElement(p.m,{selected:n,onSelectedChange:r,placeholder:a.createElement(E,{text:t?(0,u.t)("first_draft.library_placeholder"):(0,u.t)("first_draft.kits_loading")}),labelForSelectedItem:e=>a.createElement(E,{text:e.kit.name}),displayAboveTarget:!0,lean:"right",items:e,recordingKey:c.Pt(l,"kitPicker"),disabled:!t})}},903183:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(773731),r=n(238462),l=n(967688),i=n(952039);function o(e,t,n=(0,l.t)("first_draft.share_trace_nudge_in_modal",{weirdOutput:(0,l.t)("first_draft.share_trace_nudge_weird_output")})){e(i.F.enqueue({type:"FIRST_DRAFT_SHOW_TRACE",message:n,button:{text:(0,l.t)("first_draft.share_trace"),action:()=>{(0,a.j)(JSON.stringify(t,null,2),"trace.json")}},onDismiss:r.lQ,timeoutOverride:2e4,timeoutType:"exact"}))}},199617:(e,t,n)=>{n.d(t,{J:()=>R});var a=n(848318),r=n(301168),l=n(143823),i=n(186606),o=n(580494),s=n(536384),c=n.n(s),d=n(996202),u=n(386040),m=n(967688),p=n(531288),f=n(601167);function g(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let a=t.get(Object.keys(n)[0]);return a&&"MEDIA"===a.type?a:null}var h=n(431160),E=n(478394),_=n(303397),y=n(439952);let b=(0,E.m)(C);async function C(e){let t=await (0,h.OF)(()=>v(e),10,1e3);return await new Promise((n,a)=>{let r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",n),r.addEventListener("error",t=>{a(t.type+" loading the image with hash "+e)}),r.src=t}),t}async function v(e){let t=(await (0,y.Mj)([e],await _.Y5.openFilePromise())).s3_urls[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var w=n(999667),T=n(656329),S=n(804345),k=n(142896),I=n(245275),N=n(934316);let x="rich_media_overlay--loadingFallback---qUKd",A="rich_media_overlay--croppedClipPath--BeUH-";function L(e,t){e&&(t?(e.play(),T.Ay.safari&&(e.currentTime=.1)):(0,S.s)(e)?e.pause():(T.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let O=(0,a.memo)(({nodeId:e,mediaHash:t,isMaximized:n,setIsMaximized:r})=>{(0,I.RJ)(t);let l=(0,d.am)(),[i,o]=(0,a.useState)(null),[s,u,m,p]=function(){let[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(n){let e=()=>t(!0),a=()=>t(!1);return n.addEventListener("mousemove",e),n.addEventListener("mouseleave",a),()=>{n.removeEventListener("mousemove",e),n.removeEventListener("mouseleave",a)}}},[n]),[n,r,e,t]}(),f=(0,a.useRef)(null),g=(0,a.useRef)(!1),h=(0,w.md)(N.v),[E,_]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!0),C=(0,a.useRef)(!1);(0,a.useEffect)(()=>{h&&l("figjam_video_started_playing",{mediaHash:t})},[l,t,h]),(0,a.useEffect)(()=>{!g.current&&s&&(g.current=!0,(0,I.mc)(f.current,s,t).then(e=>{f.current=e}))},[g,t,s]),(0,a.useEffect)(()=>{if(s)return e(),s.addEventListener("loadeddata",e),s.addEventListener("canplay",e),()=>{s.removeEventListener("loadeddata",e),s.removeEventListener("canplay",e)};function e(){s&&(2>(s.readyState||0)&&!C.current?b(!0):(C.current=!0,b(!1)))}},[s]),(0,a.useEffect)(()=>{l("figjam_video_selected",{mediaHash:t})},[l,t]);let v=(0,I.DD)(e),x=(0,I.ZU)(e),[O,R]=(0,w.fp)(N.H),{isVideoNodeHovered:M,pointerDownOnVideo:D}=O,P=(0,a.useCallback)((e,t)=>{R({isVideoNodeHovered:e,pointerDownOnVideo:t})},[R]);return a.createElement("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:o},a.createElement("div",{className:c()("rich_media_overlay--clippedVideo--JljnC",n?"rich_media_overlay--noClipPath--ZooJK":A)},a.createElement("video",{ref:u,crossOrigin:"anonymous",autoPlay:h&&!T.Ay.safari,className:c()("rich_media_overlay--video--O6uP2",n&&k.s4,n&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:T.Ay.isIpad&&n,onClick:function(){n&&L(s,E)}})),a.createElement(S._,{didAutoplayOnSelection:h,hasEnded:E,isLoading:y,isMaximized:n,isVideoHovered:m,isVideoNodeHovered:M,mediaHash:t,pointerDownOnVideo:D,setHasEnded:_,setIsMaximized:r,setIsVideoHovered:p,setVideoControls:P,shouldHideControlBar:x,shouldHidePlaybackButton:v,toggleVideoPlayback:L,videoContainerElement:i,videoElement:s}))}),R=a.memo(function(){let e=(0,r.d4)(g);return e&&e.richMediaInfo&&(!(0,o.k)().video_in_canvas_figjam||"VIDEO"!==e.richMediaInfo.richMediaType)?a.createElement(M,{key:e.richMediaInfo.mediaHash,nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType}):null}),M=a.memo(function(e){let{nodeGuid:t,mediaHash:n,mediaType:r}=e,l=a.useRef(null),i=a.useRef(null),o=(0,f._X)({subscribeToUpdates_expensive:!0}),[s,d]=a.useState(!1);return a.useEffect(()=>{let e=(0,p.EE)("rich-media",[t],e=>{i.current=e.position,B(l,o,i,s)});return i.current=e.currentNodePosition[t]?.position||null,B(l,o,i,s),()=>{(0,p.lB)("rich-media")}},[t,o,s]),a.createElement(a.Fragment,null,a.createElement("div",{ref:l,className:c()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":s})},a.createElement(u.tH,{fallback:a.createElement(P,{mediaType:r,mediaHash:n}),boundaryKey:"Video"},a.createElement(a.Suspense,{fallback:a.createElement(D,null)},"ANIMATED_IMAGE"===r&&a.createElement(F,{mediaHash:n}),"VIDEO"===r&&a.createElement(O,{nodeId:t,mediaHash:n,setIsMaximized:d,isMaximized:s})))))});function D(){return a.createElement("div",{className:c()(x,A)},a.createElement(l.k,{size:"lg"}))}function P({mediaHash:e,mediaType:t}){let n=(0,m.tx)("whiteboard.gif.failed_to_load");return"VIDEO"===t&&(n=(0,m.tx)("whiteboard.video.failed_to_load"),i.tHB.isVideoBeingUploaded(e)&&(n=(0,m.tx)("whiteboard.video.still_uploading"))),a.createElement("div",{className:c()(x,A)},a.createElement("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L"},n))}function F({mediaHash:e}){let t=b.useValue(e),n=(0,d.am)();return a.useEffect(()=>{n("figjam_gif_started_playing")},[n]),a.createElement("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:A})}function B(e,t,n,a){if(!e.current||!t||!n.current)return;let r=e.current;if(a)r.style.position="fixed",r.style.height="auto",r.style.width="auto",r.style.transform="none",r.style.pointerEvents="all";else{let e=n.current,a=(0,f.Yb)(t,e);r.style.height=`${a.height}px`,r.style.width=`${a.width}px`,r.style.transform=`translate(${a.x+t.x}px, ${a.y+t.y}px) rotate(${e.angle}deg)`,r.style.transformOrigin="top left"}}},245275:(e,t,n)=>{n.d(t,{DD:()=>b,RJ:()=>f,ZU:()=>y,mc:()=>v});var a,r=n(848318),l=n(431160),i=n(621464),o=n(478394),s=n(960565),c=n(303397),d=n(601167),u=n(614092),m=n(7905);let p=(0,o.m)(g,(a=(0,o.y)(6e4),(e,t)=>!t.deferred.result&&a(e,t)));function f(e){return p.useValue(e)}async function g(e){return await (0,l.OF)(()=>h(e),20,1e3)}async function h(e){let t=await E(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function E(e){let t=await c.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let n=await m.S.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==n.status||n.data.error)throw Error("api error while resolving video");return n.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let _=1/15;function y(e){let[t,n]=(0,r.useState)(!0),a=C(e),l=(0,d.qc)((0,d._X)({subscribeToUpdates_expensive:!1}));return(0,r.useEffect)(()=>{let e=0;a&&(e=a.x*a.y),n(e/(l.height*l.width)<_)},[a,l.height,l.width]),t}function b(e){let[t,n]=(0,r.useState)(!0),a=C(e),l=(0,d._X)({subscribeToUpdates_expensive:!1});return(0,r.useEffect)(()=>{a&&n(a.x*l.zoomScale<96||a.y*l.zoomScale<96)},[a,l.zoomScale]),t}function C(e){return(0,u.wA)((e,t)=>{let n=e.get(t);return n?n.size:null},e)}async function v(e,t,n){if(window.VIDEOJS_NO_DYNAMIC_STYLE=!0,e)return e;t.style.height="100%",t.style.width="100%",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center";let a=await (0,s.Fe)();return new Promise(e=>{let r=a.videoJs(t,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{let t=await c.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");let a=`/api/files/${t.fileKey}/videos/${n}/manifest`;await (0,s.uz)(a,!0,r),e(r)}catch{try{let t=await h(n);i.k.warn("Reverting to fallback video source"),r.src({type:"video/mp4",src:t}),e(r)}catch{e(null)}}})})}},886159:(e,t,n)=>{n.d(t,{j:()=>w});var a=n(848318),r=n(301168),l=n(239547),i=n(536384),o=n.n(i),s=n(781239),c=n(967688),d=n(431698),u=n(696786),m=n(755860),p=n(303397),f=n(338104),g=n(730143),h=n(17753),E=n(197696),_=n(750892),y=n(969641),b=n(909307),C=n(503190),v=n(566090);function w(){let e=(0,u.GS)(),t=s.Pt("toolbarView",v.ec.recordingKey);return e?a.createElement(T,{recordingKey:t}):a.createElement(C.jX,{recordingKey:t})}function T({recordingKey:e}){let t=(0,a.useRef)(null),n=(0,g.q5)(),i=(0,r.d4)(e=>(0,E.Yh)(e.mirror.appModel,v.ec.action)&&n),s=(0,r.d4)(e=>e.mirror.appModel.currentTool===v.ec.tool),u=(0,d.n6)(),C=f.z4.getIsExtension();(0,a.useEffect)(()=>{!s&&t.current&&t.current===document.activeElement&&_.F2.focusCustomCanvasFocusElement()},[s,t]),(0,a.useEffect)(()=>{if(i&&s){let e=!0;return(0,y.W)("right",()=>{e&&p.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[i,s]);let w=!C&&u>0;return a.createElement(b.Z,{tooltip:{type:h.Ib.LOOKUP,key:v.ec.action,ariaLabel:(0,c.t)(w?"fullscreen.accessibility.view_comments_with_unreads":"fullscreen.accessibility.view_comments")},isActive:s,onClick:function(e){if(!i)return;let n=e.nativeEvent instanceof KeyboardEvent;s?(p.Y5.triggerAction("set-tool-default"),n&&t.current?.focus()):m.VU.get(v.ec.action,"toolbar")(e)},recordingKey:e,onboardingKey:v.ec.onboardingKey,disabled:!i,dataTestId:v.ec.action,ref:t},a.createElement("div",{className:o()("figjam_comments_toolbar_item--iconContainer--4S5T1",{"figjam_comments_toolbar_item--withUnreadIndicator--JLSN4":w})},a.createElement("div",{className:"figjam_comments_toolbar_item--iconMask--a0fae"},a.createElement(l.f,null))))}},473736:(e,t,n)=>{n.d(t,{P:()=>p});var a=n(848318),r=n(536384),l=n.n(r),i=n(979890),o=n(720522),s=n(863270),c=n(361323),d=n(17753),u=n(854178);let m=(0,a.memo)(function(e){let{tooltipText:t,isActive:n,onClick:r,recordingKey:s,addLeftMargin:m,dataElementTarget:p,onboardingKey:f,disabled:g,dataTestId:h}=e,E="text"in e&&!!e.text,_=l()((0,u.M)(!g,n),{"figjam_toolbar_item_ui2--toolButtonWithText--MYCBd":E,"figjam_toolbar_item_ui2--toolButtonContainer--oJdfs":!0,"figjam_toolbar_item_ui2--toolButtonContainerWithMargin--EaCDo":m});return a.createElement(i.GG,{"aria-label":t,"aria-pressed":n,className:l()(_,"figjam_toolbar_item_ui2--iconButton--v3qiH toolbar_view--iconButton--1MUm6"),"data-element-target":p,"data-fullscreen-intercept":!0,"data-onboarding-key":f,"data-testid":h,"data-tooltip":t,"data-tooltip-type":d.Ib.TEXT,disabled:g,onClick:r,onKeyDown:e=>(0,c.hx)({e,onClickHandler:r}),recordingKey:s,tabIndex:0},"icon"in e&&a.createElement(o.B,{svg:e.icon}),E&&a.createElement("div",null,e.text),"children"in e&&a.createElement(a.Fragment,null,e.children))}),p=(0,s.tf)(m)},628017:(e,t,n)=>{n.d(t,{Cv:()=>eI,Lx:()=>ek,cU:()=>eB,v7:()=>eD});var a=n(848318),r=n(301168),l=n(954703),i=n(748059),o=n(575055),s=n(877770),c=n(124810),d=n(347701),u=n(952647),m=n(186606),p=n(82433),f=n(580494),g=n(999667),h=n(536384),E=n.n(h),_=n(277930),y=n(410441),b=n(29188),C=n(637640),v=n(996202),w=n(865114),T=n(857607),S=n(116848),k=n(753269),I=n(61503),N=n(14564),x=n(214014),A=n(264478),L=n(439382),O=n(755534),R=n(401970),M=n(297638),D=n(967688),P=n(364421),F=n(363367),B=n(361964),U=n(453370),G=n(422444),K=n(244534),V=n(533737),H=n(67188),z=n(456028),W=n(696786),j=n(330362),Y=n(361323),J=n(459403),q=n(590781),X=n(856731),Z=n(730143),Q=n(493228),$=n(424227),ee=n(313405),et=n(259939),en=n(472287),ea=n(810807),er=n(17753),el=n(150340),ei=n(240092),eo=n(175964),es=n(335744),ec=n(756878),ed=n(220184),eu=n(153203),em=n(812051),ep=n(254028),ef=n(596224),eg=n(259810),eh=n(697211),eE=n(209265),e_=n(755042),ey=n(27776),eb=n(574786),eC=n(586892),ev=n(821527);let ew="multiplayer-nickname-dropdown",eT=(0,J.ck)(),eS=(0,y.jz)(ey.rJv);function ek(e,t,n,a,r,l,i){if(!r)return;let o=e.sessionID,s=o===t,c=l&&l.sessionID===t;if(s&&c)i();else if(a){let t=r.observingSessionID===o||r.sessionID===o?-1:e.sessionID,a=-1!==r.observingSessionID,l=r.observingSessionID!==o&&r.sessionID!==o;a&&n((0,ee._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:r.observingSessionID,multiplayerSessionID:r.sessionID}})),l&&(n((0,ee._P)({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:o,multiplayerSessionID:r.sessionID}})),n(V.b({aware_of_observation_mode:!0}))),n(K.J4({...r,observingSessionID:t}))}else m.h3O.observeUser(o),r.observingSessionID!==o&&r.sessionID!==o&&n(V.b({aware_of_observation_mode:!0}))}function eI(e){let t=(0,Z.q5)(),{user:n,multiplayer:l,dropdownShown:i}=e,o=(0,r.wA)(),s=(0,r.d4)(e=>"prototype"===e.selectedView.view),c=(0,Q.dR)(),d=(0,Q.Ww)(),u=(0,S.B4)(),m=a.useCallback(e=>{ek(e,d?.sessionID,o,s,l,c,u)},[d?.sessionID,o,s,l,c,u]),p=s?null:t;return n?a.createElement(a.Fragment,null,!eT&&p&&n&&a.createElement(eu.k,{fileKey:p.key}),a.createElement(eN,{dropdownShown:i,multiplayer:l,user:n,editingFile:p,onUserClick:m})):a.createElement(a.Fragment,null,!eT&&p&&n&&a.createElement(eu.k,{fileKey:p.key}),a.createElement(eP,{dropdownShown:i,multiplayer:l,user:n,editingFile:p,onUserClick:m}))}function eN(e){let{multiplayer:t,user:n,onUserClick:r,dropdownShown:l,editingFile:i}=e,o=(0,a.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,a.useEffect)(()=>{},[t,n]);let s=(0,z.DG)(i?.key||"").enabled;return a.createElement("div",{className:eb.Wh},a.createElement(e_.sK,null),o&&a.createElement(eD,{dropdownShown:l,multiplayer:t,currentUser:o,onUserClick:r}),i&&a.createElement(ec.w,{user:n,editingFile:i,isFileInWorkshop:s}))}function ex(e){let{query:t,usersToSearch:n}=e,[r,l]=a.useState(n),i=a.useRef(!1),o=(0,v.am)(),s=a.useRef(!1),c=s.current,d=a.useCallback(async e=>{if(""===e)l(n);else{i.current=!1;let t=await (0,eE.n)(e,n);i.current||(l(t.map(e=>e.item)),c||(o("Multiplayer Tools User Search",{otherUserSessionsCount:n.length}),s.current=!0))}},[c,o,n]),u=(0,_.A)(d,200);return a.useEffect(()=>(u(t),()=>{u.cancel(),i.current=!0}),[u,t,n]),{searchResults:r}}let eA=(0,a.forwardRef)(function(e,t){let{query:n,setQuery:r}=e,i=(0,w.ZC)(n),o=a.useRef(null),[d,u]=a.useState(!1),m=(0,W.GS)();return(a.useEffect(()=>{o.current&&n!==i&&(o.current.scrollWidth>o.current.clientWidth?u(!0):u(!1))},[i,n]),m)?a.createElement("div",{ref:t,className:eb.MT},a.createElement("div",{className:eb.qc},a.createElement(R.U,{svg:eC.A,"aria-label":(0,D.t)("fullscreen.accessibility.search_icon")},a.createElement(s.h,null))),a.createElement(L.L,{ref:o,placeholder:(0,D.t)("collaboration.spotlight.menu.search.placeholder"),className:E()({[eb.Rt]:!0,[eb.ro]:d}),value:n,onClick:H.dG,onChange:e=>{r(e.target.value),(0,H.dG)(e)},onKeyDown:e=>{"Escape"===e.key&&r(""),(0,H.dG)(e)},spellCheck:!1,autoFocus:!0}),a.createElement("div",{className:eb.WY},!!n&&a.createElement(l.K,{onClick:e=>{e.stopPropagation(),r("")},"aria-label":(0,D.t)("search.sidebar_search_clear")},a.createElement("div",{className:eb.i3},a.createElement(R.U,{svg:ev.default},a.createElement(c.A,null)))))):null});function eL({targetRect:e,arrowOffsetFromRectLeft:t,currentUser:n,peopleList:l,previousViewerList:i,previousViewerListRenderer:o,userListRenderer:s,onUserClick:c,onKeyDown:d,shouldDisableSpotlight:m,spotlightDisabledReason:p,dropdownRef:f}){let h=(0,W.GS)(),_=(0,a.useRef)(null),y=(0,a.useRef)(null),[b,C]=(0,g.fp)(k.ah),[v,w]=(0,g.fp)(k.Dv),[T,N]=a.useState(h?310:220),L=(0,a.useRef)(null),[R,F]=a.useState(0),B=(0,r.wA)(),G=(0,I.Av)(),K=Math.min(window.innerHeight-G-22,h?465:450);a.useLayoutEffect(()=>{_.current&&y.current&&N(K-_.current.offsetHeight-y.current.offsetHeight-16*R)},[h,K,R]);let V=(0,a.useCallback)(()=>{m||C(!0)},[C,m]),{start:H,cancel:z}=(0,$.Z)(V),j=(0,a.useCallback)(()=>{z(),C(!1)},[z,C]),Y=(0,S.Vi)(),J=(0,a.useCallback)(()=>{m||(Y(),j(),w(!0),B(U.oB()))},[j,B,w,Y,m]),q=(0,S.B4)(),X=(0,a.useCallback)(()=>{q(),B(U.oB())},[B,q]),Z=(0,Q.dR)(),ee=Z&&n.sessionID===Z.sessionID?a.createElement(x.pz,{onClick:X,className:eb.BK},(0,D.tx)("collaboration.spotlight.button.stop")):a.createElement(A.$$,{onClick:J,className:eb.BK,onMouseOver:()=>{H(300)},onMouseLeave:j,disabled:m,"data-dropdown-tooltip":m&&p?p:void 0,"data-tooltip-type":er.Ib.TEXT,"data-tooltip-show-below":!0},(0,D.tx)("collaboration.spotlight.tooltip.spotlight_me")),et=h&&l.length+(i?.length??0)>8,[en,ea]=a.useState(""),{searchResults:el}=ex({query:en,usersToSearch:l}),{searchResults:eo}=ex({query:en,usersToSearch:i??[]}),ec=el.length>0&&eo.length>0,ed=el.length>0||eo.length>0,em=0===el.length&&0===eo.length,ep=a.createElement("div",{className:eb.zW},a.createElement("div",{className:eb.me}));(0,a.useEffect)(()=>{F((et?1:0)+(""!==en&&em?1:0)+(ed?1:0))},[et,en,em,ed]);let ef=a.createElement(u.J,{mode:"dark"},a.createElement("div",{ref:_,className:eb.Km},a.createElement(ei.Q,{user:n,isOverflow:!0,isCurrentUserHeaderRow:h}),a.createElement("div",{className:eb.Vr},ee,a.createElement(eu.L,null))),et&&a.createElement(a.Fragment,null,ep,a.createElement("div",{className:eb.zK,ref:h?y:void 0},a.createElement(eA,{ref:h?void 0:y,query:en,setQuery:ea}))),""!==en&&em&&a.createElement(a.Fragment,null,ep,a.createElement("div",{className:`${eb.hg} ${M.s.mb8.$}`},(0,D.tx)("fullscreen.toolbar.multiplayer.no_user_found"))),ed&&a.createElement(a.Fragment,null,ep,a.createElement(O.P,{width:eS-16,maxHeight:T,scrollBarAlways:!0,disableScrollbarBorder:!0,ref:L},ec&&a.createElement("div",{className:eb.hg},(0,D.tx)("fullscreen.toolbar.multiplayer.currently_viewing")),el.length>0&&a.createElement(a.Fragment,null,a.createElement(P.W,{label:(0,D.t)("fullscreen.toolbar.multiplayer.currently_viewing_users"),renderer:s,onSelect:e=>{e.length&&(c(e[0]),B(U.oB()))},initiallyNotSelected:!0,customClassName:eb.aK},el)),eo.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:eb.hg},(0,D.tx)("fullscreen.toolbar.multiplayer.previously_viewed")),a.createElement(P.W,{label:(0,D.t)("fullscreen.toolbar.multiplayer.previously_viewed_users"),renderer:o,initiallyNotSelected:!0,customClassName:eb.aK},eo)),h&&a.createElement("div",{className:M.s.pt12.$}))));return a.createElement(es.Cf,{arrowOffsetFromRectLeft:t,className:E()(eb.qN,eb.QD),contentRef:f,disableDropdownScrollContainer:!0,lean:"center",maxHeight:K,maxWidth:eS,onKeyDown:d,propagateCloseClick:!0,removeUI3BorderPadding:h,showPoint:!h,targetRect:e},ef)}function eO({currentUser:e,peopleList:t,previousViewerList:n,onUserClick:l,shouldDisableSpotlight:s,spotlightDisabledReason:c,containerProps:d,multiplayer:m,orgPathPart:f,isSites:h,nominatePresenter:E,cancelPresenterNomination:_,hidePopover:y}){let v=(0,W.GS)(),w=(0,a.useRef)(null),N=(0,a.useRef)(null),[L,R]=(0,g.fp)(k.ah),[P,F]=(0,g.fp)(k.Dv),[B,G]=a.useState(v?310:220),K=(0,a.useRef)(null),[V,H]=a.useState(0),z=(0,r.wA)(),j=(0,I.Av)(),Y=Math.min(window.innerHeight-j-22,v?465:450);a.useLayoutEffect(()=>{w.current&&N.current&&G(Math.min(Y-w.current.offsetHeight-N.current.offsetHeight-16*V,310))},[v,Y,V]);let J=(0,a.useCallback)(()=>{s||R(!0)},[R,s]),{start:q,cancel:Z}=(0,$.Z)(J),ee=(0,a.useCallback)(()=>{Z(),R(!1)},[Z,R]),et=(0,S.Vi)(),en=(0,a.useCallback)(()=>{s||(et(),ee(),F(!0),z(U.oB()),y())},[ee,z,F,et,s,y]),ea=(0,S.B4)(),el=(0,a.useCallback)(()=>{ea(),z(U.oB()),y()},[z,ea,y]),eo=(0,Q.dR)(),es=eo&&e.sessionID===eo.sessionID?a.createElement(x.pz,{onClick:el,className:eb.BK},(0,D.tx)("collaboration.spotlight.button.stop")):a.createElement(A.$$,{onClick:en,className:eb.BK,onMouseOver:()=>{q(300)},onMouseLeave:ee,disabled:s,"data-dropdown-tooltip":s&&c?c:void 0,"data-tooltip-type":er.Ib.TEXT,"data-tooltip-show-below":!0},(0,D.tx)("collaboration.spotlight.tooltip.spotlight_me")),ec=v&&t.length+(n?.length??0)>8,[ed,ep]=a.useState(""),{searchResults:ef}=ex({query:ed,usersToSearch:t}),{searchResults:eg}=ex({query:ed,usersToSearch:n??[]}),eh=ef.length>0&&eg.length>0,eE=ef.length>0||eg.length>0,e_=0===ef.length&&0===eg.length,ey=a.createElement("div",{className:eb.zW},a.createElement("div",{className:eb.me}));(0,a.useEffect)(()=>{H((ec?1:0)+(""!==ed&&e_?1:0)+(eE?1:0))},[ec,ed,e_,eE]);let eC=(e,t)=>{let n=(0,T.Gc)(()=>{let t=`/files${f}/user/${e.userID}`;C.Ay.redirect(t,b.eD?void 0:"_blank")}),r=[],i=m.sessionNominatedByCurrentUser===e.sessionID,o=m.presenterSessionID===e.sessionID,c=h&&!!e.sitesViewState&&(0,em.a6)(e.sitesViewState);return!t||o||s||(i?r.push({text:(0,D.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&_(e.sessionID,m)},key:"cancel-ask-to-spotlight"}):r.push({text:(0,D.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&E(e.sessionID,m)},disabled:c,key:"ask-to-spotlight"})),r.push({text:(0,D.tx)("avatar.tooltip.view_profile"),onClick:e=>{n(e)},key:"view-profile"}),a.createElement(ei.Q,{key:e.sessionID,user:e,isOverflow:!0,onUserClick:t?l:void 0,secondaryActions:r,hidePopover:y})},ev=a.createElement(u.J,{mode:"dark"},a.createElement("div",{ref:w,className:eb.Km},a.createElement(ei.Q,{user:e,isOverflow:!0,isCurrentUserHeaderRow:v}),a.createElement("div",{className:eb.Vr},es,a.createElement(eu.L,{hidePopover:y}))),ec&&a.createElement(a.Fragment,null,ey,a.createElement("div",{className:eb.zK,ref:v?N:void 0},a.createElement(eA,{ref:v?void 0:N,query:ed,setQuery:ep}))),""!==ed&&e_&&a.createElement(a.Fragment,null,ey,a.createElement("div",{className:`${eb.hg} ${M.s.mb8.$}`},(0,D.tx)("fullscreen.toolbar.multiplayer.no_user_found"))),eE&&a.createElement(a.Fragment,null,ey,a.createElement(O.P,{width:eS-16,maxHeight:B,scrollBarAlways:!0,disableScrollbarBorder:!0,ref:K},eh&&a.createElement("div",{className:eb.hg},(0,D.tx)("fullscreen.toolbar.multiplayer.currently_viewing")),ef.length>0&&ef.map(e=>eC(e,!0)),eg.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:eb.hg},(0,D.tx)("fullscreen.toolbar.multiplayer.previously_viewed")),eg.map(e=>eC(e,!1))),v&&a.createElement("div",{className:M.s.pt12.$}))));return a.createElement(i.mc,{...d(p.Ay.props(eR.popoverContainer(Y,eS)))},a.createElement(o.i,null,ev))}let eR={popoverContainer:(e,t)=>[{backgroundColor:"xon4yw5",borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,boxSizing:"x9f619",maxHeight:"x1kb659o",maxWidth:"x10cxd3o",$$css:!0},{"--maxHeight":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--maxWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`)}]},eM="multiplayer-tools-dropdown",eD=a.memo(function(e){let t;let{multiplayer:n,dropdownShown:l,currentUser:o,onUserClick:s,thresholdUsesContainerWidth:c}=e,u=(0,a.useRef)(null),p=(0,a.useRef)(null),h=(0,a.useRef)(null),_=(0,a.useRef)(null),y=(0,a.useRef)(null),w=(0,W.GS)(),I=(0,X.wF)(),x=(0,B.ZO)(),A=(0,j.k)(),L=(0,N.WN)(),O=(0,r.wA)(),[R,M]=a.useState(!1),P=(0,ep.Oc)(),K=l?.type,V=!P&&K===eM,z=(0,a.useMemo)(()=>n.allUsers.filter(e=>e.sessionID!==o?.sessionID),[n.allUsers,o]),J=(0,r.d4)(e=>"prototype"===e.selectedView.view||"presentation"===e.selectedView.view),Z=(0,F.e)(),$=(0,q.Zr)("spotlight-me"),ee=(0,em.G7)(),en=!J&&(Z||x||!$);en&&ee&&(t=(0,D.t)("left_rail.only_available_on_canvas"));let[ea,eo]=(0,g.fp)(k.ah);ea&&!V&&eo(!1);let es=u.current&&p.current?u.current.clientWidth-p.current.clientWidth:void 0,ec=(0,X.Wq)(es,c),{users:ed,overflowUsers:eu}=(0,X.uC)(z,null,!1,ec),eh=(0,a.useMemo)(()=>[...ed,...eu].filter(e=>e&&e.userID!==o.userID),[eu,ed,o]),eE=(0,a.useMemo)(()=>I?.filter(e=>!eh.some(t=>e.userID===t.userID)&&e.userID!==o.userID),[eh,I,o]),e_=(0,v.am)(),ey=(0,a.useCallback)(e=>{if((0,H.dG)(e),!p.current)return;h.current=p.current.getBoundingClientRect();let t=l?.type===eM;O(G.gR({type:eM})),t||e_("Multiplayer Tools Opened",{currentUserSessionID:o.sessionID,otherUserSessionsCount:eh.length})},[o.sessionID,O,l?.type,eh.length,e_]),eC=(0,Q.dR)(),ev=eC&&eC.sessionID!==o.sessionID?eC:null,ew=(0,et.q)(),eT=(0,S.tu)(),eS=(0,S.oJ)(),ek=(0,ef.cJ)(),eI=a.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:t}){let r=(0,T.Gc)(()=>{let t=`/files${ew}/user/${e.userID}`;C.Ay.redirect(t,b.eD?void 0:"_blank")}),l=[],i=n.sessionNominatedByCurrentUser===e.sessionID,o=n.presenterSessionID===e.sessionID,s=ek&&!!e.sitesViewState&&(0,em.a6)(e.sitesViewState);return o||en||(i?l.push({text:(0,D.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&eS(e.sessionID,n)},key:"cancel-ask-to-spotlight"}):l.push({text:(0,D.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&eT(e.sessionID,n)},disabled:s,key:"ask-to-spotlight"})),l.push({text:(0,D.tx)("avatar.tooltip.view_profile"),onClick:e=>{r(e)},key:"view-profile"}),a.createElement(ei.Q,{key:e.sessionID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:l})}}),[ek,n,ew,eT,eS,en]),eN=eh.length+1,ex=a.createElement(eg.s,{featured:ev,quickAccess:ed,maxVisibleUsers:(w?X.A8:X.Q2)-1,onUserClick:s,totalUserCount:eN}),[eA,eR]=a.useState(!1),{getTriggerProps:eD,getContainerProps:eP}=i.fP({isOpen:eA,onOpenChange:eR,type:"dialog",softDismiss:!0}),eF=(0,f.k)().a11y_multiplayer_dropdown?eD():{},eB=a.createElement(el.x,null,a.createElement("button",{ref:p,"aria-expanded":null!=h.current&&l?.type===eM,"aria-label":(0,D.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),className:E()({[eb.XE]:!0,[eb.yx]:w&&eu.length>0,[eb.Ge]:w&&0===eu.length,[eb.wH]:V,[eb.yo]:!V&&R&&!P}),"data-tooltip":(0,D.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"data-tooltip-offset-x":p.current&&y.current?p.current.offsetWidth/2-y.current.offsetWidth/2-1.5:0,"data-tooltip-offset-y":p.current&&u.current?u.current.clientHeight/2-p.current.clientHeight/2:0,"data-tooltip-type":er.Ib.TEXT,id:"multiplayer-toolbar-container",onClick:H.dG,onKeyDown:e=>{(0,Y.hx)({e,onClickHandler:e=>{A?L(m.rcl.FOLLOW_PRESENTER):ey(e)},onEscapeHandler:()=>{p?.current?.blur()}})},onMouseDownCapture:e=>{A?L(m.rcl.FOLLOW_PRESENTER):ey(e)},onMouseLeave:()=>{M(!1)},onMouseOverCapture:e=>{M(!0),(0,H.dG)(e)},...eF},a.createElement("span",{key:o.sessionID,ref:_,className:eb.r9},a.createElement(ei.Q,{user:o,key:o.sessionID,isOverflow:!1})),a.createElement("span",{"data-onboarding-key":"multiplayer-spotlight-nux-key",className:eb.rR},eu.length>0&&a.createElement("span",{className:E()({[eb.zk]:!0,[eb.r9]:!0,[eb.wH]:V,[eb.yo]:!V&&R&&!P}),style:{minWidth:eN<10?8:eN<100?15:22}},`${eN}`),!P&&a.createElement("span",{ref:y},a.createElement(d.O,{className:E()({[eb.ai]:!0,[eb.wH]:V})}))))),eU=(0,a.useCallback)(()=>{O(U.oB()),u.current?.focus()},[O]),[eG,eK]=a.useState(null);return(0,a.useEffect)(()=>{eG&&eG.focus()},[eG]),a.createElement("span",{className:eb.EI,ref:u,"data-onboarding-key":"multiplayer-users-container"},w?a.createElement(a.Fragment,null,eB,ex):a.createElement(a.Fragment,null,ex,eB),!(0,f.k)().a11y_multiplayer_dropdown&&l?.type===eM&&y.current&&a.createElement(eL,{arrowOffsetFromRectLeft:y.current?y.current.offsetWidth/2+1:0,currentUser:o,dropdownRef:eK,onKeyDown:e=>{"Escape"===e.key&&eU()},onUserClick:s,peopleList:eh,previousViewerList:eE,previousViewerListRenderer:{label:e=>e.name,id:e=>String(e.userID),renderDisplay(e,{hasCursor:t}){let n=(0,T.Gc)(()=>{let t=`/files${ew}/user/${e.userID}`;C.Ay.redirect(t,b.eD?void 0:"_blank")}),r=[{text:(0,D.tx)("avatar.tooltip.view_profile"),onClick:e=>{n(e)},key:"view-profile"}];return a.createElement(ei.Q,{key:e.userID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:r})}},shouldDisableSpotlight:en,spotlightDisabledReason:t,targetRect:y.current.getBoundingClientRect(),userListRenderer:eI}),(0,f.k)().a11y_multiplayer_dropdown&&y.current&&a.createElement(eO,{cancelPresenterNomination:eS,containerProps:eP,currentUser:o,hidePopover:()=>{eR(!1)},isSites:ek,multiplayer:n,nominatePresenter:eT,onUserClick:s,orgPathPart:ew,peopleList:eh,previousViewerList:eE,shouldDisableSpotlight:en,spotlightDisabledReason:t}))});function eP(e){let{multiplayer:t,user:n,onUserClick:r,dropdownShown:l,editingFile:i}=e,o=(0,a.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,a.useEffect)(()=>{},[t,n]);let s=(0,z.DG)(i?.key||"").enabled;return a.createElement("div",{className:eb.Wh},a.createElement(e_.sK,null),a.createElement(eB,{dropdownShown:l,multiplayer:t,currentUser:o,onUserClick:r,editingFile:i}),i&&a.createElement(ec.w,{user:n,editingFile:i,isFileInWorkshop:s}))}let eF="multiplayer-users-dropdown";function eB(e){let{editingFile:t,multiplayer:n,dropdownShown:l,currentUser:i,onUserClick:o}=e,s=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,r.wA)(),m=(0,a.useCallback)(e=>{(0,H.dG)(e),s.current&&(c.current=s.current.getBoundingClientRect(),u(G.gR({type:eF})))},[u]),p=l?.type,f=(0,a.useMemo)(()=>p===ew&&d.current?d.current.getBoundingClientRect():null,[p]),g=(0,ed.C$)(),h=(0,et.q)(),E=(0,ea.Lk)(),_=t?.key??null,{usersNotInCall:y}=(0,en.W5)(_,!0),v=n.allUsers,w=(0,X.D4)(),k=(0,r.d4)(e=>_&&e.voice.activeCall[_])||!1,{users:I,overflowUsers:N}=(0,X.uC)(E?y:v,i,k,w),x=a.useCallback(e=>0===e?"multiplayer-spotlight-nux-key":1===e?"multiplayer-observation-nux-key":"",[]),A=(0,S.tu)(),L=(0,S.oJ)(),O=(0,ef.cJ)(),R=a.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:t}){let r=(0,T.Gc)(()=>{let t=`/files${h}/user/${e.userID}`;C.Ay.redirect(t,b.eD?void 0:"_blank")}),l=[],i=n.sessionNominatedByCurrentUser===e.sessionID,o=n.presenterSessionID===e.sessionID,s=O&&!!e.sitesViewState&&(0,em.a6)(e.sitesViewState);return o||(i?l.push({text:(0,D.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&L(e.sessionID,n)},key:"cancel-ask-to-spotlight"}):l.push({text:(0,D.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,X.AD)(e)&&A(e.sessionID,n)},disabled:s,key:"ask-to-spotlight"})),l.push({text:(0,D.tx)("avatar.tooltip.view_profile"),onClick:e=>{r(e)},key:"view-profile"}),a.createElement(ei.Q,{key:e.sessionID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:l})}}),[O,n,h,A,L]);return a.createElement("span",{className:eb.VV,"data-onboarding-key":"multiplayer-avatars"},I.map((e,t)=>{let n=a.createElement(ei.Q,{user:e,onboardingKey:x(t),key:e.sessionID,isOverflow:!1,onUserClick:o});return e.sessionID===i?.sessionID?a.createElement("span",{key:e.sessionID,ref:d},n):n}),N.length>0&&a.createElement(a.Fragment,null,a.createElement("button",{id:"multiplayer-overflow-container","aria-label":(0,D.t)("fullscreen.toolbar.multiplayer.more_users"),"aria-expanded":null!=c.current&&l?.type===eF,className:eb.O5,ref:s,onMouseDown:m,onKeyDown:e=>{(0,Y.hx)({e,onClickHandler:e=>{m(e)},onEscapeHandler:()=>{s?.current?.blur()}})},onClick:H.dG},a.createElement(eo.f,{className:eb.zb,text:`${N.length}`})),l?.type===eF&&s.current&&a.createElement(ed.WM,{targetRect:s.current.getBoundingClientRect(),onKeyDown:e=>{"Tab"===e.key&&u(U.oB())}},a.createElement(P.W,{autofocus:!0,label:"More multiplayer users",renderer:R,onSelect:e=>{e.length&&(o(e[0]),u(U.oB()))},customClassName:eb.cu},N))),l?.type===ew&&f&&a.createElement(es.Cf,{targetRect:f,maxHeight:g,className:eb.a1,propagateCloseClick:!0},a.createElement(eh.M,null)))}},930776:(e,t,n)=>{n.d(t,{Bo:()=>u,G$:()=>p,NI:()=>m,Qp:()=>l,V6:()=>o,YA:()=>f,bE:()=>c,fM:()=>i,mO:()=>s,mn:()=>r,v8:()=>d});var a=n(848318);function r(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 11.8333C11 11.3731 11.3731 11 11.8333 11H21H30.1667C30.6269 11 31 11.3731 31 11.8333V16C31 16.4602 30.6269 16.8333 30.1667 16.8333C29.7064 16.8333 29.3333 16.4602 29.3333 16V12.6667H21.8333V29.3333H25.1667C25.6269 29.3333 26 29.7064 26 30.1667C26 30.6269 25.6269 31 25.1667 31H21H16.8333C16.3731 31 16 30.6269 16 30.1667C16 29.7064 16.3731 29.3333 16.8333 29.3333H20.1667V12.6667H12.6667V16C12.6667 16.4602 12.2936 16.8333 11.8333 16.8333C11.3731 16.8333 11 16.4602 11 16V11.8333Z",fill:"black",fillOpacity:"0.9"}))}function l(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6666 19.0849L23.3798 18.5874C24.4633 17.8316 25.1667 16.5811 25.1667 15.1666C25.1667 12.8654 23.3012 10.9999 21 10.9999C18.6988 10.9999 16.8333 12.8654 16.8333 15.1666C16.8333 16.5811 17.5366 17.8315 18.6201 18.5873L19.3332 19.0848V19.9543V22.6666H22.6666V19.9544V19.0849ZM24.3332 22.6666V19.9544C25.8445 18.9003 26.8333 17.1489 26.8333 15.1666C26.8333 11.9449 24.2217 9.33325 21 9.33325C17.7783 9.33325 15.1667 11.9449 15.1667 15.1666C15.1667 17.1488 16.1554 18.9002 17.6666 19.9543V22.6666C17.5892 22.6666 17.5122 22.6774 17.4377 22.6986L11.6044 24.3653C11.2466 24.4675 11 24.7945 11 25.1666V28.4999C11 28.9602 11.3731 29.3333 11.8333 29.3333H30.1667C30.6269 29.3333 31 28.9602 31 28.4999V25.1666C31 24.7945 30.7533 24.4675 30.3956 24.3653L24.5623 22.6986C24.4878 22.6774 24.4108 22.6666 24.3333 22.6666H24.3332ZM17.7831 24.3333H19.3332H22.6666H24.2169L29.3333 25.7952V27.6666H12.6667V25.7952L17.7831 24.3333ZM14.3333 31.8333C14.3333 31.373 14.7064 30.9999 15.1667 30.9999H26.8333C27.2936 30.9999 27.6667 31.373 27.6667 31.8333C27.6667 32.2935 27.2936 32.6666 26.8333 32.6666H15.1667C14.7064 32.6666 14.3333 32.2935 14.3333 31.8333Z",fill:"black",fillOpacity:"0.9"}))}function i(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 22.6667V19.2639V17.6667H16V22.6667H11ZM11 24.3333V27.6667C11 28.5871 11.7462 29.3333 12.6667 29.3333H16V24.3333H11ZM17.6667 29.3333H29.3333C30.2538 29.3333 31 28.5871 31 27.6667V12.6667C31 11.7462 30.2538 11 29.3333 11H21.925H17.6667V16H31V17.6667H17.6667V22.6667H31V24.3333H17.6667V29.3333ZM16 11H12.6667C11.7462 11 11 11.7462 11 12.6667V16H16V11ZM9.33334 27.6667V19.2639V12.6667C9.33334 10.8257 10.8257 9.33333 12.6667 9.33333H21.925H29.3333C31.1743 9.33333 32.6667 10.8257 32.6667 12.6667V27.6667C32.6667 29.5076 31.1743 31 29.3333 31H12.6667C10.8257 31 9.33334 29.5076 9.33334 27.6667Z",fill:"black",fillOpacity:"0.9"}))}function o(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.4999 10.9999H25.1666C24.7063 10.9999 24.3333 11.373 24.3333 11.8333V15.1666C24.3333 15.6268 24.7063 15.9999 25.1666 15.9999H28.4999C28.9602 15.9999 29.3333 15.6268 29.3333 15.1666V11.8333C29.3333 11.373 28.9602 10.9999 28.4999 10.9999ZM25.1666 9.33325C23.7859 9.33325 22.6666 10.4525 22.6666 11.8333V12.6666H21.8333C20.4525 12.6666 19.3333 13.7859 19.3333 15.1666V19.3333C19.3333 19.7935 18.9602 20.1666 18.4999 20.1666H17.6666V19.3333C17.6666 17.9525 16.5473 16.8333 15.1666 16.8333H11.8333C10.4525 16.8333 9.33325 17.9525 9.33325 19.3333V22.6666C9.33325 24.0473 10.4525 25.1666 11.8333 25.1666H15.1666C16.5473 25.1666 17.6666 24.0473 17.6666 22.6666V21.8333H18.4999C18.9602 21.8333 19.3333 22.2063 19.3333 22.6666V26.8333C19.3333 28.214 20.4525 29.3333 21.8333 29.3333H22.6666V30.1666C22.6666 31.5473 23.7859 32.6666 25.1666 32.6666H28.4999C29.8806 32.6666 30.9999 31.5473 30.9999 30.1666V26.8333C30.9999 25.4525 29.8806 24.3333 28.4999 24.3333H25.1666C23.7859 24.3333 22.6666 25.4525 22.6666 26.8333V27.6666H21.8333C21.373 27.6666 20.9999 27.2935 20.9999 26.8333V22.6666C20.9999 22.0263 20.7592 21.4422 20.3633 20.9999C20.7592 20.5576 20.9999 19.9735 20.9999 19.3333V15.1666C20.9999 14.7063 21.373 14.3333 21.8333 14.3333H22.6666V15.1666C22.6666 16.5473 23.7859 17.6666 25.1666 17.6666H28.4999C29.8806 17.6666 30.9999 16.5473 30.9999 15.1666V11.8333C30.9999 10.4525 29.8806 9.33325 28.4999 9.33325H25.1666ZM15.1666 18.4999H11.8333C11.373 18.4999 10.9999 18.873 10.9999 19.3333V22.6666C10.9999 23.1268 11.373 23.4999 11.8333 23.4999H15.1666C15.6268 23.4999 15.9999 23.1268 15.9999 22.6666V19.3333C15.9999 18.873 15.6268 18.4999 15.1666 18.4999ZM25.1666 25.9999H28.4999C28.9602 25.9999 29.3333 26.373 29.3333 26.8333V30.1666C29.3333 30.6268 28.9602 30.9999 28.4999 30.9999H25.1666C24.7063 30.9999 24.3333 30.6268 24.3333 30.1666V26.8333C24.3333 26.373 24.7063 25.9999 25.1666 25.9999Z",fill:"black",fillOpacity:"0.9"}))}function s(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.67H27C28.2868 12.67 29.33 13.7132 29.33 15V27C29.33 28.2868 28.2868 29.33 27 29.33H15C13.7132 29.33 12.67 28.2868 12.67 27V18H21.5C22.3284 18 23 17.3284 23 16.5V12.67ZM21.33 12.67H15C13.7132 12.67 12.67 13.7132 12.67 15V16.33H21.33V12.67ZM21.5 11H27C29.2091 11 31 12.7909 31 15V27C31 29.2091 29.2091 31 27 31H15C12.7909 31 11 29.2091 11 27V16.5V15C11 12.7909 12.7909 11 15 11H21.5Z",fill:"black",fillOpacity:"0.9"}))}function c(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 21C31 26.5228 26.5229 31 21 31C15.4772 31 11 26.5228 11 21C11 15.4771 15.4772 11 21 11C26.5229 11 31 15.4771 31 21ZM32.6667 21C32.6667 27.4433 27.4433 32.6667 21 32.6667C14.5567 32.6667 9.33334 27.4433 9.33334 21C9.33334 14.5567 14.5567 9.33333 21 9.33333C27.4433 9.33333 32.6667 14.5567 32.6667 21ZM15.728 22.6667C15.4422 22.6667 15.1763 22.8132 15.0236 23.0548C14.8709 23.2964 14.8527 23.5994 14.9753 23.8576C16.0444 26.108 18.3393 27.6667 21 27.6667C23.6607 27.6667 25.9557 26.108 27.0247 23.8576C27.1473 23.5994 27.1291 23.2964 26.9764 23.0548C26.8237 22.8132 26.5578 22.6667 26.272 22.6667H15.728ZM21 26C19.5199 26 18.1891 25.3569 17.273 24.3333H24.727C23.811 25.3569 22.4801 26 21 26ZM19.3333 17.6667C19.3333 18.5871 18.5871 19.3333 17.6667 19.3333C16.7462 19.3333 16 18.5871 16 17.6667C16 16.7462 16.7462 16 17.6667 16C18.5871 16 19.3333 16.7462 19.3333 17.6667ZM24.3333 19.3333C25.2538 19.3333 26 18.5871 26 17.6667C26 16.7462 25.2538 16 24.3333 16C23.4129 16 22.6667 16.7462 22.6667 17.6667C22.6667 18.5871 23.4129 19.3333 24.3333 19.3333Z",fill:"black",fillOpacity:"0.9"}))}function d(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6667 12.6667H14.3333C13.4129 12.6667 12.6667 13.4129 12.6667 14.3333V23.7798L16.8691 19.5774C17.1945 19.252 17.7222 19.252 18.0476 19.5774L27.7984 29.3282C28.6573 29.2611 29.3333 28.5428 29.3333 27.6667V14.3333C29.3333 13.4129 28.5871 12.6667 27.6667 12.6667ZM11 27.6667V25.7929V25.7904V14.3333C11 12.4924 12.4924 11 14.3333 11H27.6667C29.5076 11 31 12.4924 31 14.3333V27.6667C31 29.5076 29.5076 31 27.6667 31H14.3333C12.4924 31 11 29.5076 11 27.6667ZM17.4583 21.3452L12.6667 26.1368V27.6667C12.6667 28.5871 13.4129 29.3333 14.3333 29.3333H25.4465L17.4583 21.3452ZM26 17.6667C26 18.5871 25.2538 19.3333 24.3333 19.3333C23.4129 19.3333 22.6667 18.5871 22.6667 17.6667C22.6667 16.7462 23.4129 16 24.3333 16C25.2538 16 26 16.7462 26 17.6667ZM27.6667 17.6667C27.6667 19.5076 26.1743 21 24.3333 21C22.4924 21 21 19.5076 21 17.6667C21 15.8257 22.4924 14.3333 24.3333 14.3333C26.1743 14.3333 27.6667 15.8257 27.6667 17.6667Z",fill:"black",fillOpacity:"0.9"}))}function u(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 12.6667H16V14.3333H26V12.6667ZM27.6667 12.6667V14.3333H29.3333L29.3333 12.6667L27.6667 12.6667ZM12.6667 12.6667L14.3333 12.6667V14.3333H12.6667L12.6667 12.6667ZM29.3333 16H12.6667L12.6667 29.3333H29.3333L29.3333 16ZM12.6667 11C11.7462 11 11 11.7462 11 12.6667V29.3333C11 30.2538 11.7462 31 12.6667 31H29.3333C30.2538 31 31 30.2538 31 29.3333V12.6667C31 11.7462 30.2538 11 29.3333 11H12.6667ZM21.8934 23.6306L22.2346 23.4259L22.9045 23.024C23.1742 22.8621 23.1742 22.4712 22.9045 22.3094L22.2346 21.9074L21.8934 21.7027L21.8803 21.6948L21 21.1667L20.9758 21.1522L20.5599 20.9026L19.9644 20.5453C19.6867 20.3787 19.3333 20.5787 19.3333 20.9026V21.597V22.0821V22.1103V23.223V23.2512V23.7363V24.4308C19.3333 24.7546 19.6867 24.9547 19.9644 24.788L20.5599 24.4308L20.9758 24.1812L21 24.1667L21.8803 23.6385L21.8934 23.6306ZM23.762 20.8802L20.8219 19.1161C19.4333 18.283 17.6667 19.2832 17.6667 20.9026V24.4308C17.6667 26.0501 19.4333 27.0504 20.8219 26.2172L23.762 24.4531C25.1106 23.6439 25.1106 21.6894 23.762 20.8802Z",fill:"black",fillOpacity:"0.9"}))}function m(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0786 14.7062C25.2844 14.2945 25.1176 13.794 24.7059 13.5882C24.2943 13.3823 23.7937 13.5492 23.5879 13.9608L16.9212 27.2942C16.7154 27.7058 16.8823 28.2064 17.2939 28.4122C17.7056 28.618 18.2061 28.4512 18.4119 28.0395L25.0786 14.7062ZM14.0487 13.7068C13.7023 13.4037 13.1758 13.4388 12.8728 13.7852L7.03944 20.4518C6.76452 20.766 6.76452 21.2352 7.03944 21.5493L12.8728 28.216C13.1758 28.5624 13.7023 28.5975 14.0487 28.2944C14.395 27.9913 14.4301 27.4649 14.1271 27.1185L8.77389 21.0006L14.1271 14.8827C14.4301 14.5363 14.395 14.0098 14.0487 13.7068ZM27.9512 28.2944C28.2975 28.5975 28.824 28.5624 29.1271 28.216L34.9604 21.5493C35.2353 21.2352 35.2353 20.766 34.9604 20.4518L29.1271 13.7852C28.824 13.4388 28.2975 13.4037 27.9512 13.7068C27.6048 14.0098 27.5697 14.5363 27.8728 14.8827L33.2259 21.0006L27.8728 27.1185C27.5697 27.4649 27.6048 27.9913 27.9512 28.2944Z",fill:"black",fillOpacity:"0.9"}))}function p(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1579 29.3333H21C25.6024 29.3333 29.3333 25.6024 29.3333 21C29.3333 16.3976 25.6024 12.6667 21 12.6667C16.3976 12.6667 12.6667 16.3976 12.6667 21V27.8421C12.6667 28.1597 12.6669 28.3541 12.6722 28.5017C12.6767 28.6248 12.6835 28.6661 12.6844 28.671C12.7523 28.9948 13.0052 29.2477 13.329 29.3156C13.3237 29.3145 13.3575 29.3227 13.4983 29.3278C13.6459 29.3331 13.8403 29.3333 14.1579 29.3333ZM21 11C15.4772 11 11 15.4772 11 21V27.8421C11 28.4536 11 28.7593 11.0532 29.013C11.2569 29.9843 12.0157 30.7431 12.987 30.9468C13.2407 31 13.5464 31 14.1579 31H21C26.5228 31 31 26.5228 31 21C31 15.4772 26.5228 11 21 11Z",fill:"black",fillOpacity:"0.9"}))}function f(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6667 9.33325C17.2064 9.33325 16.8333 9.70635 16.8333 10.1666C16.8333 10.6268 17.2064 10.9999 17.6667 10.9999H20.1667V12.7008C15.0337 13.1243 11 17.4244 11 22.6666C11 28.1894 15.4772 32.6666 21 32.6666C26.5228 32.6666 31 28.1894 31 22.6666C31 21.069 30.6254 19.5589 29.9591 18.2193L30.4107 17.7677C31.3871 16.7914 31.3871 15.2085 30.4107 14.2322L29.4344 13.2558C28.4581 12.2795 26.8752 12.2795 25.8989 13.2558L25.4473 13.7075C24.343 13.1583 23.1229 12.8072 21.8333 12.7008V10.9999H24.3333C24.7936 10.9999 25.1667 10.6268 25.1667 10.1666C25.1667 9.70635 24.7936 9.33325 24.3333 9.33325H21H17.6667ZM26.9116 14.6002C27.7348 15.2045 28.4621 15.9318 29.0664 16.755L29.2322 16.5892C29.5577 16.2637 29.5577 15.7361 29.2322 15.4107L28.2559 14.4344C27.9305 14.1089 27.4028 14.1089 27.0774 14.4344L26.9116 14.6002ZM21.8333 16.8333C21.8333 16.373 21.4602 15.9999 21 15.9999C20.5398 15.9999 20.1667 16.373 20.1667 16.8333V21.2229C19.6685 21.5111 19.3333 22.0497 19.3333 22.6666C19.3333 23.5871 20.0795 24.3333 21 24.3333C21.9205 24.3333 22.6667 23.5871 22.6667 22.6666C22.6667 22.0497 22.3315 21.5111 21.8333 21.2229V16.8333ZM21 30.9999C25.6024 30.9999 29.3333 27.269 29.3333 22.6666C29.3333 18.0642 25.6024 14.3333 21 14.3333C16.3976 14.3333 12.6667 18.0642 12.6667 22.6666C12.6667 27.269 16.3976 30.9999 21 30.9999Z",fill:"black",fillOpacity:"0.9"}))}},961687:(e,t,n)=>{n.d(t,{I:()=>k,Q:()=>I});var a=n(848318),r=n(891627),l=n(301168),i=n(773511),o=n(186606),s=n(536384),c=n.n(s),d=n(454805),u=n(230618),m=n(994924),p=n(967688),f=n(63443),g=n(303397),h=n(769782),E=n(125761),_=n(475166),y=n(17753),b=n(541731),C=n(839866),v=n(215533),w=n(357202),T=n(740623);function S({children:e,mini:t,user:n}){return t?a.createElement("div",{className:c()(T.HG,T.ET)},e):a.createElement("div",{"data-tooltip-type":y.Ib.TEXT,"data-tooltip":n.name||n.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:c()(T.HG)},e)}function k({user:e,hideName:t,mini:n,searchQuery:r,triggeredFrom:i}){let s=e.hi_res_img_url||e.img_url,c=`${s}?c=1`,u=(0,b.$L)(e.id,b.us),p=(0,C.LL)(c,e.name||e.handle||"",u),y=(0,E.TA)(),w=(0,v.b)(),k=(0,l.wA)(),L=a.useCallback(()=>{k(f.F9({currentUserId:y??void 0,storeInRecentsKey:_.$A.FigJam,item:{id:e.id,user:e,type:_.vt.FaceStamp}}))},[y,k,e]),{dragState:O,onInsertableResourcePointerDown:R}=(0,h.Z)({iconSrc:p,insertAction:t=>{let{dropPosition:n}=t,a=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,r=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,l=new d.Mi(50,50),i=n.subtract(new d.Mi(a*l.x,r*l.y)).subtract(new d.Mi(5,5));(0,C.xG)(p,i.x,i.y,e.id,"drag",o.zkO.USER),L(),w()},clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:w,resource:{id:e.id,name:e.name||"",img:p},triggeredFrom:i,searchQuery:r,mini:n});return n&&!p?null:a.createElement(S,{mini:n,user:e},p?a.createElement(m.n.recordableDiv,{className:T.RX,onPointerDown:R},a.createElement(x,{stampImageUrl:p,username:e.handle||"",onClick:()=>{let t=g.Y5.getViewportInfo();(0,C.xG)(p,t.offsetX,t.offsetY,e.id,"click",o.zkO.USER),L(),w()},dragging:null!==O,mini:n}),a.createElement(A,{dragState:O,imageUrl:p}),!t&&a.createElement(N,{username:e.name||e.handle||""})):a.createElement(a.Fragment,null,a.createElement(I,{mini:n}),!t&&a.createElement(N,{username:""})))}function I({mini:e}={}){return a.createElement("div",{className:c()(T.HG,{[T.ET]:e,[T.M4]:!e})},a.createElement("div",{className:c()(T.eP,T.iE)}),!e&&a.createElement("div",{className:c()(T.t$,T.OP)}))}function N({username:e}){return a.createElement("div",{title:e,className:T.OP},e)}function x(e){return a.createElement(i.E,{className:T.RT,recordingKey:"facestamp",onClick:e.onClick,htmlAttributes:{"data-testid":`facestamp-${e.username}${e.mini?"-mini":""}`}},a.createElement(u.oW,{draggable:!1,src:e.stampImageUrl,className:c()(T.iE,{[T.Jy]:e.dragging,[T.dG]:e.mini}),alt:(0,p.t)("whiteboard.face_stamps.aria_label",{userName:e.username})}))}function A(e){if(!e.dragState?.dragPosition||!e.dragState.grabbedPointerPercentageOffset)return null;let t=function(){let{zoomScale:e}=g.Y5.getViewportInfo();return new d.Mi(50,50).scale(e)}(),n=e.dragState.dragPosition.subtract(new d.Mi(e.dragState.grabbedPointerPercentageOffset.x*t.x,e.dragState.grabbedPointerPercentageOffset.y*t.y));return(0,r.createPortal)(a.createElement(u.oW,{alt:"",className:c()(w.$J,{[w.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:n.x,top:n.y,width:t.x,height:t.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},284425:(e,t,n)=>{n.d(t,{U5:()=>d,d0:()=>c,d2:()=>m,qK:()=>p});var a=n(848318),r=n(301168),l=n(924476),i=n(730143),o=n(656320),s=n(475166);function c(){let e=!!i.q5()?.org,t=(0,r.d4)(e=>(0,o.zg)(e.selectedView)&&!e.user);return!!(e&&!t)}function d(e,t=20){let n=m(e),l=(0,r.d4)(e=>e.faceStamps);return a.useMemo(()=>{let e=new Map;return n.forEach(t=>{e.set(t.id,t)}),l.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,n,l])}let u=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function m(e){let t=(0,r.d4)(e=>e.recentlyUsed.faceStamps[s.$A.FigJam]);return a.useMemo(()=>t.map(e=>e.user).filter(t=>!e||u(t,e)),[t,e])}function p(){let e=(0,r.d4)(e=>e.recentlyUsed.faceStamps),t=c(),n=(0,l.o)();return a.useMemo(()=>n&&t?e.figjam.map(e=>e.user):[],[n,e,t])}},66646:(e,t,n)=>{n.d(t,{t:()=>i});var a=n(848318),r=n(773511),l=n(635600);function i({text:e,description:t,onClick:n,iconComponent:i,recordingKey:o,rightCaret:s}){return a.createElement(r.E,{onClick:n,recordingKey:o,className:"native_figjam_action_block--optionContainer--PAZPH",htmlAttributes:{"data-testid":o}},a.createElement("div",{className:"native_figjam_action_block--actionBlockLeftSide--lGAtd native_figjam_action_block--actionBlockRightSide--lUQRE"},i),a.createElement("div",{className:"native_figjam_action_block--actionBlockRightSide--lUQRE"},a.createElement("div",{className:"native_figjam_action_block--textRow--yGuij"},a.createElement("div",{className:"native_figjam_action_block--text--S9XDd text--fontPos13--xW8hS text--_fontBase--QdLsd"},e)),a.createElement("div",{className:"native_figjam_action_block--description--FdkF2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),s&&a.createElement(l.a,{className:"native_figjam_action_block--rightCaret--mk9xP","aria-hidden":!0}))}},620803:(e,t,n)=>{n.d(t,{j6:()=>W,v7:()=>V,G0:()=>J,fQ:()=>q,l7:()=>j,Lf:()=>z,Sn:()=>H,Ox:()=>K,vh:()=>U,ue:()=>G,m_:()=>Y,Yx:()=>F});var a=n(848318),r=n(301168),l=n(186606),i=n(320953),o=n(781239),s=n(994924),c=n(967688),d=n(495105),u=n(31898),m=n(63443),p=n(7148),f=n(848751),g=n(89729),h=n(534619),E=n(431063),_=n(475166),y=n(930776),b=n(313434),C=n(66646),v=n(215533),w=n(130953),T=n(760641),S=n(446951),k=n(175393),I=n(620958),N=n(770360);let x="delightful-toolbar-media-button",A="InsertMediaModal",L=(0,S.Ju)(function(){let e=(0,r.wA)(),t=(0,r.d4)(e=>!!e.modalShown?.data?.shouldMountCenter),n=a.useRef(null),i=t?{kind:"mountCenter"}:{kind:"buttonTarget",buttonTarget:x},{initialModalPosition:o,modalPosition:s,setModalPosition:d}=(0,T.ts)(i,157,320),m=a.useCallback(()=>{l.glU.triggerAction("set-tool-default",null),e(u.ES({type:A}))},[e]),p=a.useCallback(e=>{d(e)},[d]),f=!s||!!o?.equals(s);return(a.useEffect(()=>{let e=e=>{let t=n.current?.getEl(),a=(0,w.Tc)(x);if(!t||!a)return;let r=t.contains(e.target),l=a.contains(e.target);!f||r||l||m()};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[m,f]),o)?a.createElement(k.vx,{ref:n,arrowPosition:k.F_.BOTTOM,arrowRelativeX:t?void 0:160,containerClassName:N.jT,dragHeaderOnly:!0,headerClassName:N.N1,initialPosition:o,initialWidth:320,isFigJam:!0,onClose:m,onDragEnd:p,onDragStart:()=>l.glU.triggerActionInUserEditScope("set-tool-default",null),smallArrow:!0,title:(0,c.t)("whiteboard.embeds.insert_embed_modal.title")},a.createElement("div",{className:N.hQ,"data-testid":"insert-media-modal"},a.createElement(I.q,{onSuccess:m}))):null},A);var O=n(334676),R=n(23897),M=n(938627),D=n(98154);let P="figjam_universal_inserts";function F(e){let t=function(e){switch(e){case"Table":return l.NLJ.TABLE;case"CodeBlock":return l.NLJ.CODE_BLOCK;case"MindMap":return l.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return l.NLJ.TYPE;case"Section":return l.NLJ.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e),n=()=>{i.l7.user("click-insert-tool",()=>l.glU.createNodeAtViewportCenterFromTool(t))};return{insertToolWithDragAction:e=>{let{dropPosition:a,isClick:r}=e;r?n():i.l7.user("drag-insert-tool",()=>l.glU.createNodeFromTool(t,a.x,a.y))},insertToolOnClickAction:n}}function B(e){let t;let n=(0,v.b)(),l=(0,r.wA)(),c=(0,r.d4)(e=>e.user?.id),{tabManager:d,searchQuery:u}=(0,b.cX)();(0,g.kg)(e.resourceType)&&(t=e.resourceType);let p=!!(0,h.AE)(e.resourceType),y=t&&(0,_.ds)(t)&&p,w=()=>{y&&t&&l(m.ay({currentUserId:c,storeInRecentsKey:_.$A.FigJam,item:{id:t,type:_.vt.WhiteboardTool}})),n()},T=n=>{if(t){let{insertToolWithDragAction:e,insertToolOnClickAction:a}=F(t);n?e(n):a()}e.onInsert?.(),w()},S=e=>{T(e)},k=()=>{T()};e.editScopeLabel&&(S=i.nc.user(e.editScopeLabel,S),k=i.nc.user(e.editScopeLabel,k));let{dragState:I,onInsertableResourcePointerDown:N}=(0,h.Ik)({resource:e.resourceType,insertAction:S,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:w,triggeredFrom:(0,E.Vq)(d.activeTab),searchQuery:u,icon:p?void 0:e.icon});return a.createElement(s.n.div,{onPointerDown:e.disableDragAndDrop?void 0:N,"data-testid":"draggable-insert-action"},a.createElement(C.t,{text:e.text,description:e.description,onClick:k,iconComponent:e.icon,recordingKey:o.Pt("inserts","more",e.recordingKey)}),a.createElement(f.M,{dragState:I,icon:p?void 0:e.icon}))}function U(){return a.createElement(B,{resourceType:"Table",text:(0,c.t)("whiteboard.inserts.table_title"),description:(0,c.t)("whiteboard.inserts.table_description"),recordingKey:"table",icon:y.fM()})}function G(){return a.createElement(B,{resourceType:"Text",text:(0,c.t)("whiteboard.inserts.text_title"),description:(0,c.t)("whiteboard.inserts.text_description"),recordingKey:"text",icon:y.mn()})}function K(){let e=(0,v.b)();return a.createElement(C.t,{text:(0,c.t)("whiteboard.inserts.stamp_title"),description:(0,c.t)("whiteboard.inserts.stamp_description"),onClick:()=>{(0,D.X)({source:P}),e()},iconComponent:y.Qp(),recordingKey:o.Pt("inserts","more","stamp")})}function V(){let e=(0,v.b)();return a.createElement(C.t,{text:(0,c.t)("whiteboard.inserts.comments_title"),description:(0,c.t)("whiteboard.inserts.comments_description"),onClick:()=>{e(),l.glU.triggerActionInUserEditScope("set-tool-comments",{source:P})},iconComponent:y.G$(),recordingKey:o.Pt("inserts","more","comments")})}function H(){return a.createElement(B,{resourceType:"Section",text:(0,c.t)("whiteboard.inserts.section_title"),description:(0,c.t)("whiteboard.inserts.section_description"),recordingKey:"section",icon:y.mO()})}function z(){let e=(0,M.Vu)();return a.createElement(C.t,{text:(0,c.t)("whiteboard.inserts.quick_actions_v2"),description:(0,c.t)("whiteboard.inserts.quick_actions_v2_description"),onClick:e,iconComponent:a.createElement(O.j,null),recordingKey:o.Pt("inserts","more","quick-actions-v2")})}function W(){return a.createElement(B,{resourceType:"CodeBlock",text:(0,c.t)("whiteboard.inserts.code_block_title"),description:(0,c.t)("whiteboard.inserts.code_block_description"),recordingKey:"codeBlock",icon:y.NI()})}function j(){return a.createElement(B,{resourceType:"MindMap",text:(0,c.t)("whiteboard.inserts.mind_map_title"),description:(0,c.t)("whiteboard.inserts.mind_map_description"),recordingKey:"mindMap",icon:y.V6(),editScopeLabel:"insert-mindmap"})}function Y(){let e=(0,R.MR)();return a.createElement(B,{resourceType:"Timer",text:(0,c.t)("whiteboard.inserts.timer_title"),description:(0,c.t)("whiteboard.inserts.timer_description"),recordingKey:"timer",icon:y.YA(),onInsert:()=>{e({source:R.OO.INSERTS_MENU})}})}function J(){let e=(0,r.wA)(),t=p.BI()?.shouldOptimizeForIpadApp;return a.createElement(B,{resourceType:"Image",text:(0,c.t)("whiteboard.inserts.media_title"),description:(0,c.t)("whiteboard.inserts.media_description"),recordingKey:"images",icon:y.v8(),onInsert:()=>{l.glU.triggerAction("set-tool-default",null),l.glU.triggerAction("place",{source:"MEDIA_MODAL"}),e(d.qC({open:!0}))},disableDragAndDrop:t})}function q(){let e=(0,r.wA)();return a.createElement(B,{resourceType:"Link",text:(0,c.t)("whiteboard.inserts.links_title"),description:(0,c.t)("whiteboard.inserts.links_description"),recordingKey:"links",icon:y.Bo(),onInsert:()=>{l.glU.triggerAction("set-tool-default",null),e(u.$O({type:L.type,data:{shouldMountCenter:!0}}))}})}},18455:(e,t,n)=>{n.d(t,{C:()=>u});var a=n(848318),r=n(301168),l=n(559389),i=n(865114),o=n(986368),s=n(755860),c=n(760641),d=n(645445);function u(e,t,n,u,m,p){let[f,g]=a.useState(e()),[h,E]=a.useState(!1),[_,y]=a.useState(!1);a.useLayoutEffect(()=>{let t=(0,l.s)(()=>{n===d.t.PINNED_AND_DOCKED_LEFT&&y(!0),g(e())},100);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e,n]);let b=(0,r.wA)(),C=a.useCallback(()=>{b(o.jy({initialX:u.x,initialY:u.y,pinned:d.t.PINNED_AND_DOCKED_LEFT})),y(!0),t(u),s.VU.get("set-tool-default","toolbar")()},[b,u,t,y]);a.useEffect(()=>{n===d.t.NOT_PINNED&&m&&p&&(b(o.jy({initialX:m.x,initialY:m.y,pinned:d.t.NOT_PINNED})),y(!0),t(m))},[b,t,n,m,p]);let v=(0,r.d4)(e=>e.mirror?.appModel.showUi),w=(0,i.ZC)(v),T=(0,c.LR)();return a.useEffect(()=>{w&&!v?T():!w&&v&&n===d.t.PINNED_AND_DOCKED_LEFT&&C()},[T,n,w,C,v]),a.useEffect(()=>{_&&y(!1)},[_]),{bounds:f,showLeftPinBound:h,setShowLeftPinBound:E,shouldSnapToPosition:_,setPinned:C}}},365153:(e,t,n)=>{n.d(t,{G:()=>b,y:()=>C});var a=n(848318),r=n(301168),l=n(693874),i=n(186606),o=n(204295),s=n(967688),c=n(31898),d=n(957872),u=n(696786),m=n(48736),p=n(543177),f=n(17753),g=n(473736),h=n(349054),E=n(621543),_=n(909307),y=n(344799);let b="templates_toolbar";function C(){let e=(0,u.GS)(),t=(0,r.wA)(),n=(0,r.d4)(e=>e.modalShown?.type===h.PH.type),C=!(0,o.q8)()&&(0,E.Uy)(),v=(0,s.t)("whiteboard.inserts.templates"),w={isActive:n,onClick:()=>{n?t(c.Ce()):(m.oW.trigger("action",i.KWd.CLEAR),t(c.$O({type:h.PH.type,data:{triggeredFrom:"toolbar",templateInsertionLocation:p.RD.CURRENT_FILE}})))},trackingProperties:{trackingDescriptor:d.c.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:b};return e?a.createElement(_.Z,{tooltip:{type:f.Ib.TEXT,text:v},...w},a.createElement(l.Q,null)):a.createElement(g.P,{icon:y.A,addLeftMargin:!C,tooltipText:v,...w})}},385645:(e,t,n)=>{n.d(t,{_:()=>h,H:()=>g});var a=n(848318),r=n(660376),l=n(186606),i=n(768618),o=n(536384),s=n.n(o);let c=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM","APPLE_WATCH_SERIES_10_42MM","APPLE_WATCH_SERIES_10_46MM","APPLE_IPHONE_16"],d=e=>c.some(t=>e.startsWith(t));var u=n(899386),m=n(93067),p=n(855699),f=n(874933);function g({children:e,initialViewerSize:t,isDeviceFrameShown:n}){let r;return n&&(r=i.UN().getCurrentPage()?.prototypeDevice),a.createElement(h,{initialViewerSize:t,isDeviceFrameShown:n,prototypeDevice:r,isInlinePreview:!0},e)}function h({children:e,initialViewerSize:t,isDeviceFrameShown:n,prototypeDevice:i,isInlinePreview:o,onDeviceFrameLoaded:c}){let g="data:,",h="",E={},_=!1,y=1,b=!1;if(n){(0,r.B1)(i,"prototypeDevice should be set when device frame is shown");let{presetIdentifier:e,rotation:n}=i,a=u.hY[e];if(o){let e=a?.inlinePreviewInfo;(0,r.B1)(e,"inlinePreviewDeviceData should exist since device is supported for inline preview")}g=a.url,_=d(e),b=n===l.xOL.CCW_90;let s=a.getI18nDeviceName(),c=a.getI18nStyleName();h=`${s} (${c})`;let{idealDeviceSize:p,framePresetSize:f,offset:C}=(0,m.is)(e,n),v=(0,m.Ho)(t,f,p);y=v.x/v.y;let w=(0,m.Ho)(t,f,C),T={x:t.x/v.x*100,y:t.y/v.y*100},S={x:w.x/v.x*100,y:w.y/v.y*100};E={position:"absolute",width:`${T.x}%`,height:`${T.y}%`,left:`${S.x}%`,top:`${S.y}%`}}let C=n?f.qW:p.Wc,v=s()({[p.Wc]:!0,[f.Cb]:n,[f.Q$]:_});return a.createElement("div",{className:C},n&&(b?(()=>{let e=1/y;return a.createElement("div",{style:{aspectRatio:y}},a.createElement("img",{src:g,className:s()(f.Q0,f.mT,f.M4),style:{width:`${100*e}%`},alt:h,"data-testid":"inline-preview-device-image",onLoad:c}))})():a.createElement("img",{src:g,className:f.M4,alt:h,"data-testid":"inline-preview-device-image",onLoad:c})),a.createElement("div",{style:E,className:v},e))}},275053:(e,t,n)=>{n.d(t,{u:()=>u});var a=n(848318),r=n(673786),l=n(186606),i=n(320953),o=n(553547),s=n(708959),c=n(989232),d=n(303397);function u({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:n,trackingOptions:u,shouldUseEyedropperStyleCreationFlow:m}){let[p,f]=a.useState(null),g=a.useRef(!1),h=i.nc.user("create-style",()=>{if(g.current=!0,p){let{key:e,version:t}=p,n=l.Pt4.getSoftDeletedStyleNodeId(e,t);return d.Y5.restoreSoftDeletedNode(n),(0,c.trackEvent)("Style Created",{styleType:u.styleType,styleKey:p.key,styleVersion:p.version}),n}});return a.useEffect(()=>{let a=i.l7.system("create-soft-deleted-style",()=>(function({initialStyleCreationPaint:e,isCreatingFromSelection:t,inheritStyleKeyField:n,shouldUseEyedropperStyleCreationFlow:a}){if(a)return l.OmW.createSoftDeletedStyleForEyedropper();if(!e)return l.glU.createSoftDeletedStyle(n,"","",t);{let t=(0,s.GP)(e);return l.Osy.createSoftDeletedStyleFromPaintData(t,"")}})({initialStyleCreationPaint:t,inheritStyleKeyField:e,isCreatingFromSelection:n,shouldUseEyedropperStyleCreationFlow:m}));if(!a){f(null);return}return f(a),()=>{l.glU.selectStyle(r.n3.INVALID,r.IA.INVALID),i.l7.system("style-creation-cleanup",()=>{if(a&&!g.current){let t=l.Pt4.getSoftDeletedStyleNodeId(a.key,a.version);l.glU.applyStyleToSelection(e,o.AD,!0),l.glU.hardDeleteSoftDeletedNode(t)}})}},[t,e,n,m]),{styleRef:p,createStyle:h}}},478394:(e,t,n)=>{n.d(t,{m:()=>l,y:()=>i});var a=n(651011),r=n(429144);function l(e,t){let n={};return n.useValue=function(l){if(t&&n[l]&&t(l,n[l])&&delete n[l],!n[l]){let t=(0,a.v)();e(l).then(e=>t.resolve(e)).catch(e=>t.reject(e)),n[l]={deferred:t,created:Date.now()}}let{deferred:i}=n[l];switch(i.status){case"pending":throw(0,r.WE)(i.promise),Error("unreachable");case"rejected":throw i.error;case"resolved":return i.result}},n}function i(e){return(t,n)=>Date.now()-n.created>e}},623052:(e,t,n)=>{n.d(t,{o:()=>a});let a=(0,n(231159).bt)(e=>e.mirror.appModel.isReadOnly)},167738:(e,t,n)=>{n.d(t,{EW:()=>x,cm:()=>N,gU:()=>S,po:()=>I});var a=n(848318),r=n(301168),l=n(186606),i=n(320953),o=n(553547),s=n(768618),c=n(999667),d=n(128080),u=n.n(d),m=n(996202),p=n(699460),f=n(540698),g=n(186112),h=n(303397),E=n(355755),_=n(319533),y=n(463117),b=n(554326),C=n(614092),v=n(847727),w=n(685060),T=n(387970);function S({shouldIndentChildren:e,focusedItemId:t,exclusivelySelectItemId:n,isInFocusView:s,initialSelectedItemIds:d,focusNodeInView:g,collapsedStatesDisabled:C,explicitlyToggledRef:S=(0,a.createRef)()}){let I=(0,b.J2)(l.Ez5.canvasGrid().canvasGridArray),{carouselItemsById:N,carouselItemGuids:A,toggleCollapsed:L,expandParent:O}=x(I,e,C,S),{selectedItemIds:R,onMouseDownItem:M,onMouseUpItem:D}=function(e,t,n,s,d,u,m,p){let f=(0,E.KH)(),[g,_]=(0,a.useState)(s),C=e.indexOf(g),S=(0,b.J2)(l.Ez5.singleSlideView().isCarouselFocused),I=(0,r.d4)(e=>e.isRenaming);(0,a.useEffect)(()=>{1===Object.keys(f).length&&(u?_(s):_(Object.keys(f)[0]))},[s,S,u,f]);let[N,x]=(0,c.fp)(k);(0,a.useEffect)(()=>()=>{x("")},[x]);let A=(0,a.useCallback)(e=>{if(1===m.length)return;let t=m.filter(t=>t!==e);if(e===s){let n=m.indexOf(e),a=n>t.length-1?t.length-1:n;p(t[a],!0),l.Egt.addToSelection(m)}x(""),l.Egt.removeFromSelection([e])},[m,s,x,p]),L=(0,a.useCallback)(e=>{x(""),e===s||m.includes(e)||l.Egt.addToSelection([e])},[s,m,x]),O=(0,a.useCallback)(e=>{m.includes(e)?A(e):L(e)},[m,A,L]),R=(0,v.I)();return(0,y.U3)("keydown",a=>{if(!(0,T.N8)()||l.glU.isInCursorChat()||!S||R||I||function(e,t,n,a){if(1===t.length&&"string"==typeof t[0]){let r=t[0],l=n[r];if(l){let t="ArrowRight"===e.key&&l.isCollapsed,n="ArrowLeft"===e.key&&!l.isCollapsed;if((t||n)&&l.children.length>0)return e.preventDefault(),a(r),!0}}return!1}(a,m,t,n)||function(e,t,n,a,r){if(e.metaKey&&("["===e.key||"]"===e.key)){let o=t[a];if(!o)return e.stopPropagation(),!1;let s=t.filter((e,t)=>!n.includes(e)||t===a),c="["===e.key?-1:1;return s=function(e,t,n){let a=[...e];if(e.length<2)return a;let r=a.indexOf(t);if(-1===r||0===r&&-1===n||r===e.length-1&&1===n)return a;let l=r+n;if(void 0===a[r]||void 0===a[l])return a;let i=a[r];return a[r]=a[l],a[l]=i,a}(s,o,c),i.l7.user("reorder-slides-ssv",()=>{if(l.Ez5){let e=(0,w._j)(n,s,0,r,t);l.Ez5.canvasGrid().setGridOrder(e),h.Y5.commit()}}),e.stopPropagation(),!0}return!1}(a,e,m,C,t))return;let r=function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":case"N":return"BACK";case"ArrowDown":case"ArrowRight":case"n":return"NEXT";default:return null}}(a);if(!r)return;a.stopPropagation();let o=e.indexOf(N),s=-1!==o?o:C,c=s+("BACK"===r?-1:1);if(c<0?c=0:c>=e.length&&(c=e.length-1),a.shiftKey&&"N"!==a.key){let t=!1;C<s?t="BACK"===r:C>s&&(t="NEXT"===r),t?A(e[s]):L(e[c]),x(e[c])}else d(e[c]),_(e[c])}),{selectedItemIds:m,onMouseDownItem:(t,n)=>{if(t.metaKey||g===o.AD)m.includes(n)||_(n),O(n);else if(t.shiftKey){let t=e.indexOf(g),a=e.indexOf(n);if(N){let n=e.indexOf(N),a=e.slice(Math.min(t,n),Math.max(t,n)+1);l.Egt.removeFromSelection(a)}let r=e.slice(Math.min(t,a),Math.max(t,a)+1);l.Egt.addToSelection(r),x(n)}else m.includes(n)||(d(n),_(n))},onMouseUpItem:(e,t,n,a)=>{t||e.metaKey||e.shiftKey||!n||d(a)}}}(A,N,L,t,n,s,d,g),[P,F]=(0,a.useState)(""),{onMouseDown:B,onMouseMove:U,onCarouselItemReorder:G,isDraggingCarouselItems:K,isClickingCarouselItems:V,detachedCarouselItemGuids:H,indentSelectionBy:z}=function(e,t,n,r,o,s){let[c,d]=(0,a.useState)([]),[g,E,b]=(0,_.J)(!1),[C,v]=(0,a.useState)(null),[T,S]=(0,a.useState)(!1),[k,I]=(0,a.useState)(0),N=(0,m.U)(),x="DRAGGING"===E||"PENDING_CANVAS_GRID_UPDATE"===E,A="CLICKING"===E,L=e=>{(0,p.g1)("slide.onMouseDown",{pageX:e.pageX,pageY:e.pageY}),b("CLICKING"),v([e.pageX,e.pageY])},O=a=>{a.button&&0!==a.button||d(t.filter(t=>!e.includes(t)||t===n))},R=e=>{(0,f.Ns)()&&(0,p.g1)("slides.reorder",{indices:e.map(e=>"number"==typeof r[e].number?r[e].number-1:null)}),d(t=>u()(e,t)?t:e),S(!0),h.Y5.commit()},M=e=>{e!==k&&I(e)},D=()=>{x?i.l7.user("reorder-slides-ssv",()=>{N("reorder_slides",{num_slides:e.length});let n=(0,w._j)(e,c,k,r,t);u()(n,o)?b(!1):(b("PENDING_CANVAS_GRID_UPDATE"),l.Ez5.canvasGrid().setGridOrder(n),h.Y5.commit())}):b(!1)};return((0,a.useEffect)(()=>{"PENDING_CANVAS_GRID_UPDATE"===g.current&&b(!1)},[o,b,g]),(0,f.nl)()&&(w.Wh.reorder=e=>{R(e.map(e=>t[e]))},w.Wh.onMouseDown=L),(0,y.U3)("mouseup",()=>{(0,p.g1)("slide.onMouseUp",{}),v(null),S(!1),D()}),s)?{onMouseDown:()=>{},onMouseMove:()=>{},onCarouselItemReorder:()=>{},isDraggingCarouselItems:!1,isClickingCarouselItems:!1,detachedCarouselItemGuids:[],indentSelectionBy:0}:{onMouseDown:L,onMouseMove:e=>{if(C&&(0,p.g1)("slide.onMouseMove",{pageX:e.pageX,pageY:e.pageY}),A&&C&&(Math.abs(C[0]-e.pageX)>=20||Math.abs(C[1]-e.pageY)>=20)&&(b("DRAGGING"),O(e)),x&&C){let t=c[c.indexOf(n)-1],a=T?50:20,l=void 0===t?void 0:r[t],i=void 0!==l&&!l.isCollapsed,o=C[0]-e.pageX;M(o<-a&&i?1:o>a?-1:0)}},onCarouselItemReorder:R,isDraggingCarouselItems:x,isClickingCarouselItems:A,detachedCarouselItemGuids:c,indentSelectionBy:k}}(R,A,P,N,I,(0,E.p8)("isReadOnly"));return(0,a.useMemo)(()=>({carouselItemsById:N,carouselItemGuids:A,toggleCollapsed:L,expandParent:O,selectedItemIds:R,onMouseUpItem:D,onMouseDownItem:M,onMouseDown:B,onMouseMove:U,onCarouselItemReorder:G,isDraggingCarouselItems:K,isClickingCarouselItems:V,detachedCarouselItemGuids:H,indentSelectionBy:z,hoveredItemId:P,setHoveredItemId:F}),[N,A,L,O,R,D,M,B,U,G,K,V,H,z,P,F])}let k=(0,c.eU)("");function I(){let[e,t]=(0,c.fp)(k);return(0,a.useCallback)(e=>{t(""),l.Ez5.singleSlideView().isFocusedNodeViewEnabled()?l.Ez5.singleSlideView().focusNodeInFocusedNodeView(e,!0):l.Ez5.singleSlideView().panToNode(e,.6),l.Egt.replaceSelection([e],!0)},[t])}function N(){let[e,t]=(0,c.fp)(k),n=(0,b.J2)(l.Ez5.cooperFocusView().focusedNodeId),r=(0,g.cH)();return(0,a.useCallback)(e=>{if(t(""),r){if(n===e){l.Egt.replaceSelection([e],!0);return}l.Ez5.cooperFocusView().focusNodeInFocusedNodeView(e,!0),l.Egt.replaceSelection([e],!0)}else l.Ez5.cooperFocusView().panToNode(e,.6);l.Egt.replaceSelection([e],!0)},[t,n,r])}function x(e,t,n,c){var d,u,m;let p;let f=(0,a.useRef)(e);(0,a.useEffect)(()=>{f.current.flat().forEach(e=>{let t=(0,s.UN)().get(e);t&&(t.isExpanded=!0)})},[]);let g=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),{collapsedCarouselItemIds:E,skippedCarouselItemIds:_}=(0,C.wA)((e,t)=>t.flat().reduce((t,n)=>{let a=e.get(n);return a&&!a.isExpanded&&(t.collapsedCarouselItemIds[n]=!0),a&&a?.isSkippedSlide&&(t.skippedCarouselItemIds[n]=!0),t},{collapsedCarouselItemIds:{},skippedCarouselItemIds:{}}),e),y=l.Ez5?.canvasGrid().gridGUID(),b=(0,C.Fk)((e,t)=>!!y&&(e.get(t)?.areSlidesManuallyIndented||!1),y??""),v=(d=e,u=g||n?{}:E,m=g||n?{}:_,p=1,1===d.length&&!b&&t&&(d=d[0].map(e=>[e])),d.map((e,n)=>{let[a,...r]=e;return{guid:a,parentGuid:"",coord:{row:n,col:0},number:m[a]?null:p++,indent:0,isCollapsed:!!u[a],children:r.map((e,r)=>({guid:e,parentGuid:a,coord:{row:n,col:r+1},number:m[e]?null:p++,indent:t?1:0,isCollapsed:!!u[e],children:[]}))}})),{carouselItemsById:w,carouselItemGuids:T}=(0,a.useMemo)(()=>{let t={};v.forEach(e=>{t[e.guid]=e,e.children.forEach(e=>{t[e.guid]=e})});let n=e.flat().filter(e=>{let n=t[e];if(!n)return!1;let a=n.parentGuid?(0,s.UN)().get(n.parentGuid):void 0;return 0===n.indent||a?.isExpanded});return{carouselItemsById:t,carouselItemGuids:n}},[v,e]);(0,a.useRef)(w).current=w;let S=(0,a.useCallback)(e=>{let t=(0,s.UN)(),n=t.get(e);if(n){if(n.isExpanded){n.isExpanded=!1;let a=w[e];if(a&&a.children&&a.children.length>0){let e=a.children.map(e=>e.guid);if(e.length>0){let n=t.getCurrentPage(),a=n?.directlySelectedNodes?.map(e=>e.guid)||[],r=e.filter(e=>a.includes(e));r.length>0&&l.Egt?.removeFromSelection(r)}}}else n.isExpanded=!0;h.Y5.commit()}},[w]),k=(0,a.useCallback)(e=>{if(n)return;let t=w[e];if(t&&t.parentGuid&&t.parentGuid!==o.AD){let e=w[t.parentGuid];if(e&&e.isCollapsed){if(c&&c.current&&c.current.has(t.parentGuid))return;i.l7.user("expand-row-ssv",()=>{let e=(0,s.UN)().get(t.parentGuid);e&&(e.isExpanded=!0,h.Y5.commit())})}}},[w,n,c]);return{carouselItemsById:w,carouselItemGuids:T,toggleCollapsed:S,expandParent:k}}},804345:(e,t,n)=>{n.d(t,{_:()=>L,s:()=>A});var a=n(848318),r=n(376852),l=n(143823),i=n(773511),o=n(886911),s=n(668272),c=n(80843),d=n(717865),u=n(536384),m=n.n(u),p=n(398612),f=n(996202),g=n(459633),h=n(238462),E=n(656329),_=n(627503),y=n(401970),b=n(967688),C=n(142896),v=n(17753),w=n(47263),T=n(621897),S=n(871455),k=n(570206),I=n(593048);let N={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function x(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:n}=(0,_._d)(e);return`${n}:${String(t).padStart(2,"0")}`}function A(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function L({videoElement:e,videoContainerElement:t,isLoading:n,isMaximized:r,setIsMaximized:i,isVideoHovered:o,setIsVideoHovered:s,didAutoplayOnSelection:c,mediaHash:d,hasEnded:u,setHasEnded:_,toggleVideoPlayback:y,shouldHidePlaybackButton:b,shouldHideControlBar:v,isVideoNodeHovered:T,pointerDownOnVideo:S,setVideoControls:k,shouldHideFullscreenButton:I=!1,onSeekStart:N=h.lQ,onSeekEnd:L=h.lQ,onMute:M=h.lQ,onUnmute:F=h.lQ}){let[B,U]=(0,a.useState)(0),G=(0,a.useRef)(!1),K=(0,a.useRef)(c),[V,H]=(0,a.useState)(null),[z,W]=(0,a.useState)(!1),[j,Y]=(0,a.useState)(!1),J=(0,f.am)(),[q,X]=(0,g.M)(),[Z,Q]=(0,g.M)(),$=v||!e,ee=(0,a.useRef)(!1),et=r&&(o||Q),en=V||e?.currentTime,ea=e?.duration,er=A(e),el=(0,a.useRef)(void 0),ei=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let e=(E.Ay.isIpad?S:T)||X||et||!er||u||ee.current;Y(e),clearTimeout(el?.current),e&&(el.current=setTimeout(()=>{u||!er||X||ee.current||(Y(!1),s(!1),k(!1,!1))},3e3))},[u,et,er,T,X,s,k,S]);let eo=(0,a.useCallback)(()=>{U(e=>e+1)},[]);(0,a.useEffect)(()=>{if(e&&t)return e.addEventListener("playing",o),e.addEventListener("canplay",n),e.addEventListener("ended",d),e.addEventListener("timeupdate",n),e.addEventListener("seeking",s),e.addEventListener("seeked",l),e.addEventListener("stalled",a),t.addEventListener(p.R7.fullscreenChangeEventName,c),()=>{e?.removeEventListener("playing",o),e?.removeEventListener("canplay",n),e?.removeEventListener("ended",d),e?.removeEventListener("timeupdate",n),e?.removeEventListener("seeking",s),e?.removeEventListener("seeked",l),e?.removeEventListener("stalled",a),t?.removeEventListener(p.R7.fullscreenChangeEventName,c)};function n(){eo()}function a(){ee.current=!1}function l(){ee.current=!1,_(!1)}function o(){_(!1),eo()}function s(){ee.current=!0}function c(){i(!r)}function d(){z||_(!0),eo()}},[r,z,eo,_,i,t,e]);let es=(0,a.useCallback)(()=>{!1===K.current&&(K.current=!0,J("figjam_video_started_playing",{mediaHash:d})),y(e,u),eo()},[u,d,eo,J,e,y]),ec=(0,a.useCallback)(()=>{e&&(G.current=A(e)||u,e.pause(),N())},[u,N,e]),ed=(0,a.useCallback)(()=>{e&&(G.current&&e.play(),ei.current&&(e.currentTime=ei.current),L(e.currentTime),H(null),ei.current=void 0)},[e,L]),eu=(0,a.useCallback)(t=>{if(e){if(ee.current){ei.current=t;return}e.currentTime=t}},[e]),em=a.createElement(P,{togglePlay:es,hasEnded:u,isPlaying:er,shouldShowVideoControls:j,isMaximized:r});return n?a.createElement("div",{className:m()(w.vx,w.jJ,w.bb)},a.createElement(l.k,{size:"lg"})):E.Ay.isIpad&&r?null:$?j&&!b?em:null:a.createElement(a.Fragment,null,V?null:em,a.createElement("div",{className:m()(C.Uu,w._v,!j&&w.YC),ref:Z},a.createElement("div",{className:w.TN},x(en)," / ",x(ea)),a.createElement(D,{currentTime:en||0,totalTime:ea||0,onScrubStart:ec,onScrub:H,onScrubEnd:ed,onVideoPositionUpdated:eu,hasEnded:u,isScrubbing:z,setIsScrubbing:W}),a.createElement("div",{className:w.yG},!I&&a.createElement(O,{isMaximized:r,toggleFullscreen:function(){r||document.fullscreenElement?p.R7.exitFullscreenFunc():E.Ay.isIpad?e&&e.webkitEnterFullscreen&&e.webkitEnterFullscreen():t&&p.R7.requestFullscreenFunc.call(t)}}),a.createElement(R,{rerender:eo,videoElement:e,volumeHoverRef:q,onMute:M,onUnmute:F}))))}function O({isMaximized:e,toggleFullscreen:t}){let n=w.zR,r=e?a.createElement(o.p,{className:n}):a.createElement(s.O,{className:n});return a.createElement("div",null,a.createElement(i.E,{onClick:t,className:w.TJ,htmlAttributes:{"data-tooltip":e?(0,b.t)("whiteboard.video.minimize_tooltip"):(0,b.t)("whiteboard.video.fullscreen_tooltip"),"data-tooltip-type":v.Ib.TEXT}},a.createElement("span",{"aria-hidden":!0},a.createElement(y.U,{svg:e?I.A:k.A},r))))}function R({rerender:e,videoElement:t,volumeHoverRef:n,onMute:r,onUnmute:l}){let[o,s]=(0,a.useState)(!1),u=(0,a.useRef)(1),[p,f]=(0,a.useState)(t?.volume||1),g=t?.muted??!1,h=o&&!E.Ay.isIpad,_=(0,a.useCallback)(()=>{t&&(t.muted?(t.muted=!1,t.volume=u.current,f(u.current),l()):(t.volume>0&&(u.current=t.volume),t.muted=!0,f(0),r()),e())},[e,t,r,l]),C=w.zR,k=g?a.createElement(c.P,{className:C}):a.createElement(d.L,{className:C});return a.createElement("div",{ref:n},a.createElement(i.E,{onClick:_,className:m()(w.TJ,w.z9,h&&w.BT),htmlAttributes:{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),"data-tooltip":g?(0,b.t)("whiteboard.video.unmute_tooltip"):(0,b.t)("whiteboard.video.mute_tooltip"),"data-tooltip-type":v.Ib.TEXT}},a.createElement("span",{"aria-hidden":!0},a.createElement(y.U,{svg:g?S.A:T.A},k))),h?a.createElement(M,{volume:g?0:p,handleChange:e=>{let n=e.target.valueAsNumber;t&&(t.volume=n,t.muted=0===n),f(n)},setIsHovered:s}):null)}function M({handleChange:e,setIsHovered:t,volume:n}){let r=100*n,l=(0,a.useRef)(null);return a.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:w.qD},a.createElement("div",{className:w.sf},a.createElement("input",{ref:l,className:m()(w.Ct,C.Dm,C.Uu),max:1,min:0,onChange:e,onKeyDown:function(e){e?.key==="Escape"&&t(!1)},onMouseUp:function(){l.current instanceof HTMLInputElement&&l.current.blur()},step:.02,style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${r}%,var(--inactive-slider-color) ${r}%,var(--inactive-slider-color) 100%)`},type:"range",value:n})))}function D({currentTime:e,totalTime:t,hasEnded:n,onVideoPositionUpdated:l,onScrubStart:i,onScrub:o,onScrubEnd:s,isScrubbing:c,setIsScrubbing:d}){let[u,m]=(0,a.useState)(!1),p=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(c&&f.current)return document.addEventListener("pointermove",e),document.addEventListener("pointerup",n),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",n)};function e(e){if(!f.current)return;let n=e.clientX,{minX:a,maxX:i}=f.current,s=(0,r.qE)(0,(n-a)/(i-a)*t,t);f.current.newTime=s,o(s),l(f.current.newTime)}function n(){f.current&&(l(f.current.newTime),d(!1),s(),f.current=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur())}},[c,o,s,l,d,t]);let g=Math.min(e/t*100,100),h=g>0?8:0;return E.Ay.safari&&n&&(g=100),a.createElement("div",{className:w.It,onPointerEnter:()=>m(!0),onPointerLeave:()=>m(!1)},a.createElement("div",{role:"progressbar",tabIndex:0,className:w.tS,onPointerDown:e=>{if(!p.current)return;e.stopPropagation(),d(!0),i();let n=p.current.getBoundingClientRect(),a=n.x,o=n.x+n.width,s=e.clientX,c=(0,r.qE)(0,(s-a)/(o-a)*t,t);l(c),f.current={minX:a,maxX:o,originX:e.clientX,newTime:c}}},a.createElement("div",{className:w.xE,ref:p}),a.createElement("div",{className:w.CN,style:{width:`${g}%`}}),(u||c)&&a.createElement("div",{className:w.Yq,style:{left:`calc(${g}% - ${h}px)`},onPointerDown:t=>{if(!p.current)return;t.stopPropagation(),d(!0),i();let n=p.current.getBoundingClientRect();f.current={minX:n.x,maxX:n.x+n.width,originX:t.clientX,newTime:e}},role:"button",tabIndex:0})))}function P({shouldShowVideoControls:e,togglePlay:t,hasEnded:n,isPlaying:r,isMaximized:l}){let[i,o]=(0,g.M)(),s=o?N.BUTTON_BG_FILL_HOVER_OPACITY:N.BUTTON_BG_FILL_OPACITY;return a.createElement("button",{ref:i,className:m()(C.Uu,w.CY,!e&&w.ct),onPointerDown:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t()}},a.createElement(n?F:r?U:B,{fillOpacityForBackground:s,isMaximized:l}))}function F({fillOpacityForBackground:e,isMaximized:t}){return a.createElement("svg",{className:m()(t&&w.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:N.BUTTON_BG_FILL,fillOpacity:e}),a.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:N.BUTTON_SHAPE_FILL}),a.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:N.BUTTON_BG_FILL,strokeOpacity:N.BUTTON_STROKE_OPACITY}))}function B({fillOpacityForBackground:e,isMaximized:t}){return a.createElement("svg",{className:m()(t&&w.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_403_4259)"},a.createElement("rect",{width:"48",height:"48",rx:"24",fill:N.BUTTON_BG_FILL,fillOpacity:e}),a.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:N.BUTTON_SHAPE_FILL})),a.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:N.BUTTON_BG_FILL,strokeOpacity:N.BUTTON_STROKE_OPACITY}),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_403_4259"},a.createElement("rect",{width:"48",height:"48",rx:"24",fill:N.BUTTON_BG_FILL}))))}function U({fillOpacityForBackground:e,isMaximized:t}){return a.createElement("svg",{className:m()(t&&w.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1_16)"},a.createElement("rect",{width:"48",height:"48",rx:"24",fill:N.BUTTON_BG_FILL,fillOpacity:e}),a.createElement("path",{d:"M15 15H21V33H15V15Z",fill:N.BUTTON_SHAPE_FILL}),a.createElement("path",{d:"M27 15H33V33H27V15Z",fill:N.BUTTON_SHAPE_FILL})),a.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:N.BUTTON_BG_FILL,strokeOpacity:N.BUTTON_STROKE_OPACITY}),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1_16"},a.createElement("rect",{width:"48",height:"48",rx:"24",fill:N.BUTTON_BG_FILL}))))}},929253:(e,t,n)=>{n.d(t,{Gd:()=>b,g2:()=>S,M0:()=>C,Hn:()=>v,Wb:()=>T,v0:()=>w});var a=n(848318),r=n(186606),l=n(553547),i=n(999667),o=n(106040),s=n(730143),c=n(880801),d=n(619534),u=n(69946),m=n(658700),p=n(494942),f=n(536384),g=n.n(f),h=n(506428);function E(){let e="dark"===(0,h.DP)();return a.createElement("div",{className:g()("slides_ai_shimmer_overlay--shimmer--R2Ru3",e?"slides_ai_shimmer_overlay--shimmerDark--hd6lU":"slides_ai_shimmer_overlay--shimmerLight--PGzix")})}var _=n(361140),y=n(689386);function b(e){if(e)return e.pageGuids;let t=i.zl.get(m.V6);return(()=>{switch(t.type){case m.i6.ALL:return t.allPages;case m.i6.SINGLE:return[t.page];default:return[]}})().map(e=>e.guid)}function C(e){let t=(0,i.md)(m.bY).figjamEntryPointData,n=t?.figjamFileKey||e,r=t?.selectedGuids;return(0,a.useCallback)(()=>{if(n)return(0,y.R)({fileKey:n,selectedGuids:r})},[n,r])}function v(e){let t=(0,p.yt)(),n=(0,a.useRef)(!1);return(0,a.useCallback)(()=>{if(!i.zl.get(s.ze))return;let a=i.zl.get(o.BT);!n.current&&a?.flat()?.length===0&&e.length>0&&(n.current=!0,t(e[0],{row:0,col:0},r.zkO.USER,"figjam-board-to-deck-default-slide",p.Ji.BOARD_TO_DECK))},[t,e])}function w(){let e=function(){let e=(0,i.md)(m.ux),t=(0,p.WS)(),n=t.data||[],a="loaded"===t.status&&n.length>0,r=(0,p.S7)();return e||(a?n[0].library_key:r)}(),t=(0,p.NG)(e),n="loaded"===t.status;return{areSlidePresetsLoaded:n,slidePresetModules:n?t.data:[]}}function T(){let e=(0,a.useRef)(null),t=(0,a.useRef)(new Set);return{showPlaceholderOverlay:(0,a.useCallback)(n=>{if(n&&n!==l.AD&&e.current!==n){for(let e of t.current)(0,u.ks)(e);e.current=n,t.current.add(n),(0,u.Vm)(n,a.createElement(E,null))}},[]),removeAllPlaceholderOverlays:(0,a.useCallback)(()=>{for(let e of t.current)(0,u.ks)(e);t.current.clear(),e.current=null},[])}}function S(){(0,a.useEffect)(()=>()=>{let{state:e}=(0,d.pP)(c.JT.BOARD_TO_DECK);e===d.qy.RUNNING&&(0,d.cT)(c.JT.BOARD_TO_DECK),(0,_.$K)()},[])}},361140:(e,t,n)=>{n.d(t,{$K:()=>g,D0:()=>y,D1:()=>C,Sk:()=>b,Y:()=>_,tO:()=>h});var a=n(982618),r=n(92454),l=n(621464),i=n(476254),o=n(967688),s=n(952039),c=n(113752),d=n(880801),u=n(619534);let m="slides-ai-generation-started",p="slides-ai-generation-error",f="slides-ai-generation-completed";function g(){i.D.dispatch(s.F.dequeue({matchType:m})),i.D.dispatch(s.F.dequeue({matchType:p})),i.D.dispatch(s.F.dequeue({matchType:f}))}function h(){i.D.dispatch(s.F.enqueue({message:(0,o.t)("slides.present_summary.visual_bells.loading"),type:m,icon:c.zX.SPINNER,button:{text:(0,o.t)("slides.present_summary.visual_bells.stop"),action:()=>{i.D.dispatch(s.F.dequeue({matchType:m})),(0,u.cT)(d.JT.BOARD_TO_DECK)}},timeoutOverride:3e5}))}function E(e,t,n){i.D.dispatch(s.F.dequeue({matchType:m})),i.D.dispatch(s.F.enqueue({message:e,type:n,icon:t,timeoutOverride:3e3}))}function _(){E((0,o.t)("slides.present_summary.visual_bells.canceled_indirectly"),c.zX.EXCLAMATION,"slides-ai-generation-canceled")}function y(e){E(e,c.zX.EXCLAMATION,p)}function b(){i.D.dispatch(s.F.dequeue({matchType:m})),i.D.dispatch(s.F.enqueue({type:f,messageComponentKey:c.Rw.BOARD_TO_DECK_FEEDBACK,icon:c.zX.GREEN_CHECK,onDismiss:()=>{i.D.dispatch(s.F.dequeue({matchType:f}))},timeoutOverride:6e4}))}function C(e){l.k.error(e);let t={content_length_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_content_limit_exceeded"),rate_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_rate_limited"),service_issue:(0,o.t)("slides.present_summary.visual_bells.error_vendor"),offline:(0,o.t)("slides.present_summary.visual_bells.error_offline"),unsafe_or_harmful_content:(0,o.t)("slides.present_summary.visual_bells.content_moderation"),unauthorized:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),generic:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),ai_opt_out_error:(0,o.t)("slides.present_summary.visual_bells.error_opt_out"),meter_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_meter_exceeded"),create_slides_out_of_date:(0,o.t)("slides.present_summary.visual_bells.error_out_of_date"),not_implemented:(0,o.t)("ai.error.not_implemented")},n="generic";if(e instanceof a.CortexErrorV2)a.ClientContentLengthLimitExceededError.isInstance(e)||a.ProviderContentLengthLimitExceededError.isInstance(e)?n="content_length_limit_exceeded":a.ProviderRateLimitExceededError.isInstance(e)||a.CortexRateLimitExceededError.isInstance(e)?n="rate_limit_exceeded":a.ProviderServiceIssueError.isInstance(e)||a.ProviderServiceBusyError.isInstance(e)?n="service_issue":a.OutOfDateFeatureVersionError.isInstance(e)?"create_slides"===e.featureName&&(n="create_slides_out_of_date"):a.MeterExceededError.isInstance(e)?n="meter_exceeded":a.OfflineError.isInstance(e)?n="offline":a.UnsafeOrHarmfulPromptError.isInstance(e)||a.ProviderUnsafeOrHarmfulContentError.isInstance(e)?n="unsafe_or_harmful_content":a.UnauthorizedError.isInstance(e)?n="unauthorized":a.NotImplementedError.isInstance(e)?n="not_implemented":e?.statusCode===404?n="service_issue":e?.statusCode===429?n="rate_limit_exceeded":e?.statusCode===403&&(n="ai_opt_out_error");else if(e instanceof r.G1)switch(e.type){case"content_length_limit_exceeded":case"rate_limit_exceeded":case"service_issue":case"create_slides_out_of_date":case"meter_exceeded":case"offline":case"unsafe_or_harmful_content":case"unauthorized":n=e.type;break;default:switch(e.data?.status){case 404:n="service_issue";break;case 429:n="rate_limit_exceeded";break;case 403:n="ai_opt_out_error"}}y(t[n])}},924829:(e,t,n)=>{n.d(t,{G:()=>y,V:()=>b});var a=n(848318),r=n(773511),l=n(347701),i=n(990140),o=n(320953),s=n(768618),c=n(82433),d=n(999667),u=n(781239),m=n(297638),p=n(967688),f=n(17753),g=n(685060),h=n(929083),E=n(658700),_=n(494942);let y="carousel-add-slide-button",b=a.forwardRef(function({recordingKey:e},t){let{toggleTemplatePicker:n,closeTemplatePicker:b}=(0,_.uu)(),v=(0,d.md)(E.Ei),w=o.nc.user("ssv-carousel",()=>{b();let e=(0,s.UN)();(0,g.oY)(e,"carousel_add_slide_button")});return a.createElement("div",{"data-element-target":y,className:"xh8yej3 xxk0z11 x78zum5 xl56j7k"},a.createElement(r.E,{ref:t,...c.Ay.props(C.addSlideButton,C.newSlideButton,v&&C.buttonOpen),onClick:n,htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,p.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":f.Ib.TEXT,"data-onboarding-key":h.MB},"aria-label":(0,p.t)("slides.carousel.add-slide-from-template")},a.createElement("p",{className:m.s.noWrap.$},(0,p.t)("slides.carousel.new_slide")),a.createElement(l.O,null)),a.createElement(r.E,{className:"x15cczae x1icplyp x1bamp8i x78zum5 x6s0dn4 xww3pen",onClick:w,recordingKey:(0,u.Pt)(e,"addSlideButton"),htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,p.t)("slides.carousel.add-blank-slide"),"data-tooltip-type":f.Ib.TEXT,"data-tooltip-shortcut-key":"create-slide","data-testid":"addSlideButton"},"aria-label":(0,p.t)("slides.carousel.add-blank-slide")},a.createElement(i.e,null)))}),C={addSlideButton:{":active_backgroundColor":"x15cczae",":focus-visible_boxShadow":"x1icplyp",$$css:!0},newSlideButton:{backgroundColor:"x1yjdb4r",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",flexGrow:"x1iyjqo2",boxSizing:"x9f619",height:"x5yr21d",pointerEvents:"x71s49j",border:"x1bamp8i",borderWidth:null,borderInlineWidth:null,borderLeftWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderLeftStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderLeftColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRight:"x7956lj",borderRightWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderRightStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderRightColor:null,borderInlineStartColor:null,borderInlineEndColor:null,paddingLeft:"xd3ty66",paddingInlineStart:null,paddingInlineEnd:null,borderRadius:"xy5cce4",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},buttonOpen:{backgroundColor:"x30nh5c",$$css:!0}}},571277:(e,t,n)=>{n.d(t,{_:()=>K,i:()=>V});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(476254),s=n(359822),c=n(615233),d=n(204295),u=n(264478),m=n(967688),p=n(453370),f=n(533737),g=n(957872),h=n(34542),E=n(385711),_=n(709292),y=n(358491),b=n(303397),C=n(554326),v=n(361053),w=n(263336),T=n(991675),S=n(518383),k=n(45937),I=n(566901),N=n(391301),x=n(556049),A=n(485654),L=n(136169),O=n(756672),R=n(287518),M=n(658700),D=n(261616);n(740495);var P=n(318147);n(138528);var F=n(532511),B=n(230618);function U(){return a.createElement(B.oW,{src:(0,c.ck)("b5ff672e289f44685a5e04d3de9f17f154fb2455"),alt:"Figma Slides carousel",width:332})}var G=n(929083);function K(){let e=(0,i.Xr)(M.VZ),t=(0,O.jY)(),n=(0,A.Bk)(),{show:r,isShowing:l,complete:o}=(0,h.e)({overlay:L.Yqi,priority:w.N.HIGH_PRIORITY_MODAL}),c=(0,a.useMemo)(()=>n?[V,H,z,W,j,Y]:[V,H,z,W,Y],[n]),{currentStep:d,next:u}=(0,E.A)({numSteps:c.length,onComplete:o}),m=a.useMemo(()=>{let r=()=>{u(),e(!0)},i=c.map((e,i)=>a.createElement(e,{onClickPrimaryCta:t||0!==i?u:r,onClickSecondaryCta:o,isShowing:l,totalSteps:n?5:4,isOnboarding:!0}));return t||i.splice(1,0,a.createElement(R.g,null)),i},[c,t,u,e,o,l,n]);return((0,s.h)(()=>{r()}),l&&m)?a.createElement(S.U,{currentStep:d,isShowing:l,children:m}):null}function V({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,isOnboarding:l}){let s;let h=(0,i.Xr)(M.VZ),E=(0,i.md)(_.d2),b=function(){let{getPlanAndPlanUser:e}=(0,F.wH)(),{plan:t,planUser:n}=e(P.G_.SLIDES);return t?.tier!==P.Ag.STARTER&&t?.tier!==P.Ag.STUDENT&&(n?.seatTypeLicenseTypes?.includes(P.G_.SLIDES)??!1)}(),C=(0,r.wA)(),w=E.data===T.qo.ORG,S=i.zl.get(y.Z),k=i.zl.get(v.Me),N=o.D.getState().openFile,x=!N||!N.canEdit,A=(0,c.sL)(),L=(0,d.lt)({currentOrg:S,currentTeam:k,isViewer:x}),O="/sub-processors/",R="/ssa/",D="ja"===(0,c.mm)()[0]?(0,m.tx)("slides.onboarding.welcome.title.jp"):(0,m.tx)("slides.onboarding.welcome.title");s=b?(0,m.tx)("slides.onboarding.ga.billable_seat.welcome.description"):(0,m.tx)("slides.onboarding.ga.welcome.description");let B=w?L?(0,m.tx)("slides.onboarding.welcome.org.footer.no_ai",{services_agreement:a.createElement(u.CY,{href:R,target:"_blank",trusted:!0},(0,m.tx)("slides.onboarding.services_agreement"))}):(0,m.tx)("slides.onboarding.welcome.org.footer.ai",{subprocessors:a.createElement(u.CY,{href:O,target:"_blank",trusted:!0},(0,m.tx)("slides.onboarding.subprocessors")),services_agreement:a.createElement(u.CY,{href:R,target:"_blank",trusted:!0},(0,m.tx)("slides.onboarding.services_agreement"))}):L?void 0:(0,m.tx)("slides.onboarding.welcome.starter.footer",{subprocessors:a.createElement(u.CY,{href:O,target:"_blank",trusted:!0},(0,m.tx)("slides.onboarding.subprocessors"))});(0,a.useEffect)(()=>{l&&!A&&C?.(f.b({seen_slides_onboarding:!1}))});let G=()=>{e(),C?.(f.b({seen_slides_onboarding:!0,...!A&&{agreed_to_slides_ai_terms:!0}})),l&&h(!0)},K=()=>{if(A){G();return}C?.(p.$T({view:"recentsAndSharing"})),t()};return x?null:a.createElement(I._l,{description:a.createElement("span",{style:{whiteSpace:"pre-line"}},s),disclaimerFooter:A?void 0:B,isShowing:n,media:a.createElement(U,null),onClose:K,preventUserClose:!A,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.primary_cta"),onClick:G,ctaTrackingDescriptor:g.c.NEXT},secondaryCta:A?void 0:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.secondary_cta"),onClick:K,ctaTrackingDescriptor:g.c.CLOSE},title:D,trackingContextName:"Slides Onboarding > Welcome"})}function H({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:r}){let i=(0,C.J2)(l.Ez5.singleSlideView().isInFocusedNodeView);return a.createElement(N.rq,{arrowPosition:x.F_.BOTTOM,description:(0,m.tx)("slides.onboarding.new_slide.description"),isShowing:n,media:a.createElement(k.y,{src:(0,c.ck)("2811dcf7f07f10fbc8543106336765058bc83266"),alt:"slides template picker",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&l.Ez5?.singleSlideView().exitFocusedNodeViewAndLeavePanelsOpen()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:1,totalNumSteps:r},targetKey:G.MB,title:(0,m.tx)("slides.onboarding.new_slide.title"),trackingContextName:"Slides Onboarding > New Slide"})}function z({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:r}){return a.createElement(N.rq,{description:(0,m.tx)("slides.onboarding.views.description"),isShowing:n,media:a.createElement(k.y,{src:(0,c.ck)("8ad8b13cac28f9fb6eaaed9cad7c621684fadd6b"),alt:"Grid view in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{b.Y5.triggerAction("enter-focus-view"),e()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:2,totalNumSteps:r},targetKey:G.b_,title:(0,m.tx)("slides.onboarding.views.title"),trackingContextName:"Slides Onboarding > Views"})}function W({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:r}){let i=(0,A.Bk)(),o=(0,D.E)();return a.createElement(N.rq,{description:(0,m.tx)("slides.onboarding.nondesigner.tools.description"),isShowing:n,media:a.createElement(k.y,{src:(0,c.ck)("aca6af2d36ffc1a4f65a12247f598a7598a530b7"),alt:"Apps in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&o(l.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:x.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:3,totalNumSteps:r},targetKey:G.hx,title:(0,m.tx)("slides.onboarding.nondesigner.tools.title"),trackingContextName:"Slides Onboarding > Tools"})}function j({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:r}){let i=(0,D.E)();return a.createElement(N.rq,{description:(0,m.tx)("slides.onboarding.designer.tools.description"),isShowing:n,media:a.createElement(k.y,{src:(0,c.ck)("5064800f3f60febf8b2ad2ad8ba4efdd6167eeaa"),alt:"Design tool toggle",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i(l.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:x.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:4,totalNumSteps:r},targetKey:G.uy,title:(0,m.tx)("slides.onboarding.designer.tools.title"),trackingContextName:"Slides Onboarding > Design Mode"})}function Y({onClickSecondaryCta:e,isShowing:t,totalSteps:n}){return a.createElement(N.rq,{description:(0,m.tx)("slides.onboarding.share.description"),isShowing:t,media:a.createElement(k.y,{src:(0,c.ck)("a3ed241305c3e13d9ec5cab6e9a88db7572695c5"),alt:"presenter mode in Slides",aspectRatio:240/135}),onClose:e,onTargetLost:e,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.done"),onClick:e,ctaTrackingDescriptor:g.c.DONE},shouldDisableAnimation:!0,stepCounter:{stepNum:n,totalNumSteps:n},targetKey:G.J5,title:(0,m.tx)("slides.onboarding.share.title"),trackingContextName:"Slides Onboarding > Present"})}},200563:(e,t,n)=>{n.d(t,{y:()=>m,q:()=>a});var a,r=n(848318),l=n(536384),i=n.n(l),o=n(979890),s=n(297638),c=n(17753),d=n(960598);let u="slides_expandable_section--expanded--dDJkR";var m=(e=>(e[e.FULL=0]="FULL",e[e.OUTLINE_ONLY=1]="OUTLINE_ONLY",e))(m||{});(e=>{e.ExpandableSection=function({title:e,tooltip:t,leftIcon:n,rightItems:a,expanded:l,highlight:d,onClick:m,onMouseDown:p,onMouseMove:f,onMouseUp:g,onMouseEnter:h,onMouseLeave:E,onContextMenu:_,onKeyDown:y,forwardedRef:b,children:C,recordingKey:v}){let w=e=>t=>{if(t.target===t.currentTarget)return e?.(t)},T=`${e.replace(/\s+/g,"-")}-label`;return r.createElement("div",{className:"slides_expandable_section--section--5Gnqz","data-tooltip":t,"data-tooltip-type":c.Ib.TEXT},r.createElement(o.D8,{"aria-controls":"expandable-section-content","aria-expanded":l,"aria-labelledby":T,className:i()("slides_expandable_section--sectionHeader--FwCzh utilities--bodySmall--JyKR1",{"slides_expandable_section--outlineHighlight--cldTO":1===d,"slides_expandable_section--fullHighlight--LcLIJ":0===d,[u]:l}),forwardedRef:b,onClick:w(m),onContextMenu:_,onKeyDown:y,onMouseDown:w(p),onMouseEnter:h,onMouseLeave:E,onMouseMove:w(f),onMouseUp:w(g),recordingKey:v,role:"button",tabIndex:0},r.createElement("div",{className:s.s.ml4.$},n),r.createElement("div",{id:T,className:"slides_expandable_section--sectionHeaderTitle--jrsGf"},e),a),l&&r.createElement("div",{id:"expandable-section-content",className:i()("slides_expandable_section--sectionHeaderContents--4Q5ay",{[u]:l})},C))},e.LabelInputRow=function({labelTx:e,input:t}){return r.createElement("div",{className:"slides_expandable_section--labelInputRow--60v5b utilities--bodyMedium--7-YGK"},r.createElement("div",{className:"slides_expandable_section--label--aOsKU"},e),r.createElement("div",{className:"slides_expandable_section--input--ZOwBm"},t))},e.DROPDOWN_WIDTH=150,e.SelectOverride=function({OriginalComponent:t,...n}){return r.createElement(t,{...n,inputClassName:d.be,iconClassName:d.Kk,dropdownWidth:e.DROPDOWN_WIDTH,dropdownAlignment:"right"})}})(a||(a={}))},836800:(e,t,n)=>{n.d(t,{tR:()=>o,bz:()=>s,Uz:()=>c});var a=n(848318),r=n(536384),l=n.n(r),i=n(494604);function o({panelClassName:e,children:t,withTopPadding:n,hideBorderBottom:r,onMouseEnter:i,onMouseLeave:o}){return a.createElement("div",{className:l()("slides_panel--panel--lPYTn",{"slides_panel--withTopPadding--4WBnl":n},{"slides_panel--withBorderBottom--CymRv":!r},e),onMouseEnter:i,onMouseLeave:o,"data-non-interactive":!0},t)}function s({titleTx:e,input:t}){return a.createElement(o,{panelClassName:"slides_panel--panelTitleInput--Paowl"},a.createElement(i.s9,{titleTx:e,input:t}))}function c({titleTx:e,icon:t,faded:n}){return a.createElement(i.r,{titleTx:e,icon:t,faded:n,appendedClassName:"slides_panel--panelTitleIconRow--9L9T1"})}},718518:(e,t,n)=>{n.d(t,{O:()=>m,d:()=>p});var a=n(848318),r=n(779492),l=n(250838),i=n(967688),o=n(489082),s=n(963307),c=n(200563),d=n(122260);let{LabelInputRow:u}=c.q,m=new class{constructor(){this.format=e=>{switch(e){case"IN":return(0,i.t)("slides.properties_panel.object_animations.animation_phase.in");case"OUT":return(0,i.t)("slides.properties_panel.object_animations.animation_phase.out")}}}};function p({recordingKey:e}){let[t,n]=(0,s.lJ)("objectAnimationPhase"),c=(0,d.sQ)();return t?a.createElement(u,{labelTx:(0,i.tx)("slides.properties_panel.object_animations.animation_phase"),input:a.createElement(r.bL,{value:(0,o.hS)(t)?t:void 0,onChange:e=>{c((0,o.hS)(t)?t:void 0,e),n(e)},recordingKey:e,legend:a.createElement(l.q,null,(0,i.tx)("slides.properties_panel.object_animations.animation_phase"))},["IN","OUT"].map(e=>a.createElement(r.RT,{key:e,value:e,label:m.format(e)})))}):null}},122260:(e,t,n)=>{n.d(t,{AC:()=>f,D0:()=>E,Mp:()=>_,Z4:()=>h,sQ:()=>g,tx:()=>m,xl:()=>p});var a=n(848318),r=n(301168),l=n(186606),i=n(989232),o=n(489082),s=n(730143),c=n(700436),d=n(288853);function u(){let e=(0,s.tS)()??"",t=(0,d.Jb)()??"",n=(0,r.d4)(c.AF);return{fileKey:e,slideId:t,nodeId:n?.guid}}function m(){let e=u();return a.useCallback((t,n)=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.modify_object_animation.type",{...e,oldValue:t,newValue:n})},[e])}function p(){let e=u();return a.useCallback((t,n)=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.modify_object_animation.duration",{...e,oldValue:t,newValue:n})},[e])}function f(){let e=u();return a.useCallback((t,n)=>{let a=e=>void 0===e?void 0:(0,o.gl)(e)?"MIXED":e===l.luZ.TRIGGER?"TRIGGER":"AFTER_PREVIOUS";i.definedAnalyticsHandler.trackDefinedEvent("slides.modify_object_animation.start_condition",{...e,oldValue:a(t),newValue:a(n)})},[e])}function g(){let e=u();return a.useCallback((t,n)=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.modify_object_animation.phase",{...e,oldValue:t,newValue:n})},[e])}function h(){let e=u();return a.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.reorder_object_animation",e)},[e])}function E(){let e=u();return a.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.delete_object_animation",e)},[e])}function _(){let e=u();return a.useCallback(t=>{i.definedAnalyticsHandler.trackDefinedEvent("slides.preview_object_animation",{...e,numAnimations:t})},[e])}},352683:(e,t,n)=>{n.d(t,{eB:()=>u,hT:()=>d,kP:()=>a,uc:()=>m});var a,r=n(695640),l=n(871043),i=n(938982),o=n(186606),s=n(553547),c=n(998568),d=(e=>(e.SECTION_HEADER="section header",e.ANIMATION="animation",e))(d||{});function u(e){return"section header"===e.type}function m(e){return"animation"===e.type}(e=>{let t="CUSTOM_CUBIC",n=[.17,0,.2,1];function a(e,t){let n=t??(0,s.sH)(o.glU.generateUniqueID());if(!n)throw Error("Failed to generate unique ID for object animation interaction");return{id:n,event:{interactionType:"ON_CLICK"},actions:e}}e.fromPrototypeInteractions=function(e){let a=[],r=0;for(let i of e){if(!i.id)continue;let e=i.id,s=(i.actions||[]).map(e=>"OBJECT_ANIMATION"===e.connectionType&&e.transitionNodeID&&void 0!==e.animationType&&"NONE"!==e.animationType?{connectionType:e.connectionType,transitionNodeID:e.transitionNodeID,transitionDuration:e.transitionDuration??.3,animationType:e.animationType,animationPhase:e.animationPhase??"IN",easingType:e.easingType??t,easingFunction:e.easingFunction??n}:null).filter(l.Vq);0!==s.length&&(s.forEach((t,n)=>{0===n?(a.push({type:"section header",interactionIndex:r}),a.push({type:"animation",action:t,startCondition:o.luZ.TRIGGER,interactionId:e,interactionIndex:r})):a.push({type:"animation",action:t,startCondition:o.luZ.AFTER_PREVIOUS,interactionId:e,interactionIndex:r})}),r++)}return a.length>0&&a.push({type:"section header",interactionIndex:r}),a},e.toPrototypeInteractions=function(e){let t=[],n=null;for(let d of function(e){let t=new Set,n=new Set;return e.map(e=>{if(u(e))return null;if("OBJECT_ANIMATION"!==e.action.connectionType||!e.action.transitionNodeID)return(0,c.$D)(i.e.SLIDES,Error("Invalid object animation action"),{extra:{action:e.action}}),null;let n=(0,r.Gu)(e.action.transitionNodeID);return n?t.has(n)?((0,c.$D)(i.e.SLIDES,Error("Duplicate object animation transition node ID found:"),{extra:{action:e.action}}),null):(t.add(n),e):null}).filter(l.Vq).map((e,t)=>{if(0===t&&e.startCondition!==o.luZ.TRIGGER){let t=(0,s.sH)(o.glU.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,startCondition:o.luZ.TRIGGER,interactionId:t,interactionIndex:0}}if(e.startCondition!==o.luZ.TRIGGER)return e;{let t=(0,r.Gu)(e.interactionId);if(!(!t||n.has(t)))return n.add(t),e;{let t=(0,s.sH)(o.glU.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,interactionId:t}}}})}(e))if(d.startCondition===o.luZ.TRIGGER)n=a([d.action],d.interactionId),t.push(n);else{if(!n)throw Error("Expected current interaction to be non-null");n.actions?.push(d.action)}return t},e.createBaseInteraction=a,e.createTestAction=function(e){return{connectionType:"OBJECT_ANIMATION",transitionNodeID:(0,s.sH)(e),transitionDuration:.3,animationType:"FADE",animationPhase:"IN",easingType:t,easingFunction:n}}})(a||(a={}))},637560:(e,t,n)=>{n.d(t,{c:()=>d});var a=n(848318),r=n(297638),l=n(967688),i=n(372566),o=n(718518);let s=new i.ag(i.i5.SECONDS,10);function c(){return a.createElement("div",{className:r.s.px4.$},(0,l.tx)("slides.properties_panel.object_animations.badge.invalid"))}function d({isInvalid:e,animationDuration:t,animationPhase:n}){return a.createElement("div",{className:r.s.flex.itemsCenter.colorBgSecondary.radiusMedium.textBodySmall.colorText.$},e?a.createElement(c,null):a.createElement(a.Fragment,null,a.createElement("div",{className:r.s.px4.$},s.format(t)),n&&a.createElement("div",{className:r.s.px4.bl1.bSolid.colorBorder.$},o.O.format(n))))}},621266:(e,t,n)=>{n.d(t,{be:()=>eP,zQ:()=>eH,Eo:()=>ez,rS:()=>eD});var a=n(848318),r=n(301168),l=n(695640),i=n(354427),o=n(871043),s=n(954703),c=n(557102),d=n(749214);let u=(0,a.memo)(function(e){return(0,d.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,d.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6h9A1.5 1.5 0 0 1 18 7.5V12a.5.5 0 0 1-1 0V7.5a.5.5 0 0 0-.5-.5m-3.488 6.005a1 1 0 0 1 1.53-.849l3.993 2.496a1 1 0 0 1 0 1.696l-3.993 2.496a1 1 0 0 1-1.53-.849zm4.993 2.495-3.993-2.495v4.99z",clipRule:"evenodd"})})});var m=n(150934),p=n(186606),f=n(320953),g=n(553547),h=n(999667),E=n(127974),_=n(781239),y=n(979890),b=n(810503),C=n(297638),v=n(967688),w=n(303397),T=n(702038),S=n(489082),k=n(963307),I=n(355755),N=n(554326),x=n(614092),A=n(17753),L=n(197696),O=n(52463),R=n(341090),M=n(494604),D=n(288853),P=n(836800),F=n(798543),B=n(122260),U=n(291549),G=n(544405),K=n(200563),V=n(352683);let{LabelInputRow:H}=K.q,z="MIXED";function W(e,t,n,a){let r=new Set(a.map(e=>e.action.transitionNodeID)),l=t.filter(V.uc).map(e=>r.has(e.action.transitionNodeID)?{...e,startCondition:n}:e),i=V.kP.toPrototypeInteractions(l);e.objectAnimations=i}let j=new class{constructor(){this.format=e=>{switch(e){case p.luZ.TRIGGER:return(0,v.t)("slides.properties_panel.object_animations.start_condition.trigger");case p.luZ.AFTER_PREVIOUS:return(0,v.t)("slides.properties_panel.object_animations.start_condition.after_previous_short")}},this.formatExtended=e=>{switch(e){case p.luZ.TRIGGER:return{text:(0,v.t)("slides.properties_panel.object_animations.start_condition.trigger")};case p.luZ.AFTER_PREVIOUS:return{text:(0,v.t)("slides.properties_panel.object_animations.start_condition.after_previous")}}}}};function Y({startCondition:e,onChange:t,hideAfterPreviousOption:n,recordingKey:r,nodeId:l}){let i=a.useMemo(()=>n?[p.luZ.TRIGGER]:[p.luZ.TRIGGER,p.luZ.AFTER_PREVIOUS],[n]),o=a.useCallback(e=>{if(e){for(let n of i)if(j.format(n)===e){t(n);return}}},[i,t]);if(void 0===e)return null;let s=(0,S.gl)(e)?z:j.format(e);return a.createElement(H,{labelTx:(0,v.tx)("slides.properties_panel.object_animations.animation_trigger"),input:a.createElement(U.bL,{onChange:f.nc.user("change-slides-animation-start-condition",o),value:s,recordingKey:r},a.createElement(U.l9,{width:"fill",label:a.createElement(G.h,null,(0,v.t)("slides.properties_panel.object_animations.animation_trigger"))},(0,S.gl)(e)?(0,v.t)("common.mixed"):void 0),a.createElement(U.mc,{"data-testid":`slides-animation-trigger-control-select-${l}`},(0,S.gl)(e)&&a.createElement(a.Fragment,null,a.createElement(U.c$,{value:z,disabled:!0},(0,v.t)("common.mixed")),a.createElement(U.wv,null)),i.map(e=>a.createElement(U.c$,{key:e,value:j.format(e)},j.format(e)))))})}var J=n(773511),q=n(847016),X=n(713196),Z=n(813321),Q=n(142896),$=n(511067),ee=n(394882),et=n(996306),en=n(372566),ea=n(232958),er=n(213832),el=n(120846),ei=n(169660),eo=n(465548);let{LabelInputRow:es,SelectOverride:ec}=K.q,ed=new en.ag(en.i5.MILLISECONDS,10);class eu extends el.c${}function em({recordingKey:e}){let t=[{value:.2,label:(0,v.t)("slides.properties_panel.object_animations.duration.200ms")},{value:.4,label:(0,v.t)("slides.properties_panel.object_animations.duration.400ms")},{value:.6,label:(0,v.t)("slides.properties_panel.object_animations.duration.600ms")}],n=(0,r.wA)(),l=(0,$.Um)(),i=(0,r.d4)(e=>{let t=e.mirror.selectionProperties.objectAnimationDuration;return(0,S.hS)(t)&&void 0!==t?Math.round(1e3*t)/1e3:t}),o=(0,k.A5)("objectAnimationDuration"),s=(0,B.xl)();return void 0===i?null:a.createElement(es,{labelTx:(0,v.tx)("slides.properties_panel.object_animations.duration"),input:a.createElement(er.ow,{value:{select:ec,inputComponent:ei.gm}},a.createElement(el.tV,{value:{chevron:eo.t}},a.createElement(ea.W0,{"data-tooltip":(0,v.t)("slides.properties_panel.object_animations.duration"),"data-tooltip-type":A.Ib.TEXT,dispatch:n,dropdownShown:l,formatter:ed,id:"animation-duration-select",max:10,min:.001,onValueChange:e=>{s(i,e),o(e)},recordingKey:e,value:i,willShowDropdown:()=>(w.Y5.commit(),Promise.resolve())},t.map(({value:e,label:t})=>a.createElement(eu,{key:e,value:e},t)))))})}var ep=n(718518),ef=n(491383);n(82433);var eg=n(700436),eh=n(419367),eE=n(921666),e_=n(886439),ey=n(959498),eb=n(177019);function eC(e,t){switch(e){case"NONE":break;case"FADE":return a.createElement(eh.N,{style:t});case"SLIDE_FROM_LEFT":return a.createElement(eE.o,{style:t});case"SLIDE_FROM_RIGHT":return a.createElement(e_.v,{style:t});case"SLIDE_FROM_TOP":return a.createElement(ey.W,{style:t});case"SLIDE_FROM_BOTTOM":return a.createElement(eb.N,{style:t})}return null}let{LabelInputRow:ev}=K.q,ew="MIXED",eT=new class{constructor(){this.format=e=>{switch(e){case"NONE":return(0,v.t)("slides.properties_panel.object_animations.animation_type.none");case"SLIDE_FROM_BOTTOM":return(0,v.t)("slides.properties_panel.object_animations.animation_type.slide_up");case"SLIDE_FROM_TOP":return(0,v.t)("slides.properties_panel.object_animations.animation_type.slide_down");case"SLIDE_FROM_RIGHT":return(0,v.t)("slides.properties_panel.object_animations.animation_type.slide_left");case"SLIDE_FROM_LEFT":return(0,v.t)("slides.properties_panel.object_animations.animation_type.slide_right");case"FADE":return(0,v.t)("slides.properties_panel.object_animations.animation_type.fade")}}}};function eS({recordingKey:e}){let t=(0,r.d4)(eg.AF),[n,l]=(0,k.lJ)("objectAnimationType"),i=(0,B.tx)();if(!n)return null;let o=e=>{if(!t)return;let n=p.Ez5?.slidesObjectAnimationPreviewManager();void 0===e?n?.abortSingleObjectAnimationPreview(t.guid):n?.initiateSingleObjectAnimationPreview(t.guid,p.J6N[e])},s=(0,S.hS)(n)&&"NONE"!==n?eC(n,{"--color-icon":ef.Tj.iconSecondary}):void 0;function c({type:e}){return a.createElement("div",{className:"x78zum5 x6s0dn4"},a.createElement("div",{className:"x1rdy4ex x4vbgl9"},eC(e,{"--color-icon":"white"})),eT.format(e))}let d=["SLIDE_FROM_BOTTOM","SLIDE_FROM_TOP","SLIDE_FROM_RIGHT","SLIDE_FROM_LEFT","FADE"].map(e=>({type:e,children:a.createElement(c,{type:e})}))??[];return a.createElement(ev,{labelTx:(0,v.tx)("slides.properties_panel.object_animations.animation_type"),input:a.createElement(U.bL,{onChange:e=>{i((0,S.hS)(n)?n:void 0,e),l(e)},value:(0,S.hS)(n)?n:(0,S.gl)(n)?ew:void 0,recordingKey:e},a.createElement(U.l9,{iconLead:s,width:"fill",size:"md",label:a.createElement(G.h,null,(0,v.t)("slides.properties_panel.object_animations.animation_type"))},(0,S.gl)(n)?(0,v.t)("common.mixed"):void 0),a.createElement(U.mc,null,(0,S.gl)(n)&&a.createElement(a.Fragment,null,a.createElement(U.c$,{key:ew,value:ew,disabled:!0},(0,v.t)("common.mixed")),a.createElement(U.wv,null)),d.map(e=>a.createElement(U.c$,{key:e.type,value:e.type,onFocus:()=>o(e.type)},e.children))))})}var ek=n(637560);let{ExpandableSection:eI}=K.q;function eN({item:e,slideId:t,isDragging:n,isReorderingItems:i,isExpanded:o,isInvalid:s,onClick:c,onMouseDown:d,onMouseMove:u,onMouseUp:m,onChangeStartCondition:f,recordingKey:h}){let E;let[b,w]=a.useState(!1),S=!i&&b||n,k=(0,l.Gu)(e.action.transitionNodeID)||"",I=(0,x.Fk)((e,t)=>e.get(t)?.name,k),A=(0,r.d4)(e=>e.mirror.appModel.hoveredNode===k),L=(0,r.d4)(e=>e.mirror.sceneGraphSelection),O=void 0!==L[k],R=(0,N.ut)(p.Ez5?.slidesObjectAnimationPreviewManager()?.animationPreviewTargetNodeId,g.AD),M=(0,g.fn)((0,g.sH)(R))&&R===k,D=e.action.transitionDuration,P=a.useRef(null),F=(0,$.BK)(Q.OI),B=a.createElement(eA,{isInvalid:s,nodeId:k});n||o||O&&Object.keys(L).length>1?E=K.y.FULL:(A||M)&&!b&&(E=K.y.OUTLINE_ONLY);let[U]=(0,Z.A)(n||i,150),G=!U&&(b||o);return a.useEffect(()=>{k&&T.Uc(b?k:g.AD)},[b,k]),a.createElement("div",{className:C.s.flex.wFull.py4.$},a.createElement(y.D8,{className:C.s.h32.w16.flex.itemsCenter.if(S,C.s.opacity1,C.s.opacity0).$,style:{"--color-icon":"var(--color-icon-secondary)"},onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onMouseMove:u,onMouseDown:d,onMouseUp:m,recordingKey:_.Pt(h,"dragHandle")},a.createElement(q.B,null)),a.createElement(eI,{expanded:o,forwardedRef:P,highlight:E,leftIcon:B,onClick:c,onContextMenu:e=>{P.current&&(e.stopPropagation(),e.preventDefault(),F.show({data:{boundingRect:P.current.getBoundingClientRect(),targetObjectAnimation:{slideId:t,targetNodeId:k}}}))},onMouseDown:d,onMouseEnter:()=>(w(!0),_.aH),onMouseLeave:()=>(w(!1),_.aH),onMouseMove:u,onMouseUp:m,recordingKey:h,rightItems:O&&Object.keys(L).length>1&&!o?null:a.createElement(ex,{item:e,slideId:t,animationDuration:D,showDeleteButton:G,recordingKey:h,isInvalid:s}),title:I??"",tooltip:s?(0,v.t)("slides.properties_panel.object_animations.icon.tooltip_invalid_animation"):void 0},a.createElement("div",{className:C.s.flex.flexColumn.px16.py8.$},a.createElement(eS,{recordingKey:_.Pt(h,"animationType")}),a.createElement(em,{recordingKey:_.Pt(h,"animationDuration")}),a.createElement(Y,{hideAfterPreviousOption:0===e.interactionIndex&&e.startCondition===p.luZ.TRIGGER,startCondition:e.startCondition,onChange:f,recordingKey:_.Pt(h,"animationTrigger"),nodeId:k}),a.createElement(ep.d,{recordingKey:_.Pt(h,"animationPhase")}))))}function ex({item:e,slideId:t,animationDuration:n,showDeleteButton:r,recordingKey:l,isInvalid:i}){return a.createElement(a.Fragment,null,a.createElement(ee.VF,{isVisible:r},()=>a.createElement(eL,{item:e,slideId:t,recordingKey:_.Pt(l,"deleteButton")})),a.createElement(ee.VF,{isVisible:!r},()=>a.createElement("div",{className:C.s.flex.itemsCenter.mr8.$},a.createElement("div",null,eC(e.action.animationType)),a.createElement(ek.c,{animationDuration:n,animationPhase:e.action.animationPhase,isInvalid:i}))))}function eA({isInvalid:e,nodeId:t}){return e?a.createElement(X.Z,{className:"slides_object_animations_panel--invalidAnimationIcon--MGEK9 slides_object_animations_panel--animationIconBase--iJi7Y object_row--layerIcon--dTOdu"}):a.createElement(et.Bf,{guid:t,className:"slides_object_animations_panel--animationLayerIcon--p03pT slides_object_animations_panel--animationIconBase--iJi7Y object_row--layerIcon--dTOdu",useUI3Icon:!0})}function eL({item:e,slideId:t,recordingKey:n}){let r=(0,I.eY)(),i=(0,B.D0)();return a.createElement(J.E,{className:"slides_object_animations_panel--deleteButton--s16jb",onClick:f.nc.user("delete-slide-object-animation",()=>{let n=r.get(t),a=(0,l.Gu)(e.action.transitionNodeID);n&&a&&(i(),n.removeObjectAnimation(a),w.Y5.commit())}),"aria-label":(0,v.t)("slides.properties_panel.object_animations.delete_button.aria_label"),htmlAttributes:{"data-tooltip":(0,v.t)("slides.properties_panel.object_animations.delete_button.tooltip"),"data-tooltip-type":"text"},recordingKey:n},a.createElement(c.z,null))}var eO=n(622518),eR=n(347487);function eM({startCondition:e,onChangeStartCondition:t,recordingKey:n,defaultPosition:r}){return a.createElement(eO.bL,{onClose:e=>{"outside"!==e.source&&T.tJ([])},width:208,defaultPosition:r},a.createElement(eR.vo,null,a.createElement(eR.Y9,null,a.createElement(eR.hE,null,(0,v.t)("slides.properties_panel.object_animations.multiedit_modal.title"))),a.createElement(eR.nB,null,a.createElement("div",{className:C.s.flex.flexColumn.$},a.createElement(eS,{recordingKey:_.Pt(n,"animationType")}),a.createElement(em,{recordingKey:_.Pt(n,"animationDuration")}),a.createElement(Y,{hideAfterPreviousOption:!1,startCondition:e,onChange:t,recordingKey:_.Pt(n,"animationTrigger")}),a.createElement(ep.d,{recordingKey:_.Pt(n,"animationPhase")})))))}function eD(){let e=p.Ez5?.slidesObjectAnimationPreviewManager(),t=(0,N.ut)(e?.animationPreviewSlideId,g.AD),n=(0,g.fn)((0,g.sH)(t)),r=a.useCallback(()=>{f.l7.user("abort-object-animation-preview",()=>{p.Ez5?.slidesObjectAnimationPreviewManager().abortObjectAnimationPreview(t)})},[t]);a.useEffect(()=>(n&&(window.addEventListener("keydown",r),window.addEventListener("mousedown",r)),()=>{window.removeEventListener("keydown",r),window.removeEventListener("mousedown",r)}),[n,r])}function eP({recordingKey:e}){let t=(0,I.eY)(),n=(0,r.d4)(e=>e.mirror.sceneGraphSelection),i=a.useRef(null),s=(0,h.Xr)(F.R),c=(0,D.Jb)()??null,d=(0,x.Fk)((e,t)=>{let n=t?e.get(t):null;return n?.objectAnimations},c),u=(0,E.k9)(()=>d?V.kP.fromPrototypeInteractions(d):[],[d]),m=(0,E.k9)(()=>{let e={};return u.forEach(t=>{if((0,V.uc)(t)){let n=(0,l.Gu)(t.action.transitionNodeID);n&&(e[n]=t)}}),e},[u]),g=a.useMemo(()=>ej(u,n),[u,n]),y=1===g.length?g[0]:null,v=g.map(e=>m[e]).filter(o.Vq),k=function(e){let t=e.filter(V.uc);if(0===t.length)return;let n=t[0]?.startCondition;if(void 0!==n){for(let e of t)if(e.startCondition!==n)return S.oV;return n}}(v),N=(0,r.d4)(e=>e.mirror.appModel.activeUserAction===p.QOV.DEFAULT||e.mirror.appModel.activeUserAction===p.QOV.CLICKING_TO_CHANGE_SELECTION);a.useEffect(()=>{if(N){if(0===g.length){s({type:"CLEAR_SELECTION"});return}s({type:"SET_OBJECT_ANIMATION_SELECTION",selectedNodeIds:g})}},[g,s,N]);let[A,L]=a.useState(!1),[M,U]=a.useState([]),[G,K]=a.useState(-1),[H,z]=a.useState(-1),j=(0,B.AC)(),Y=(0,B.Z4)(),J=a.useCallback((e,t,n)=>{A&&(n?(K(e),z(-1)):(z(e),K(-1)))},[A]),q=a.useCallback(()=>{U([]),L(!1),K(-1),z(-1)},[]),X=t.get(c??""),Z=a.useCallback((e,t)=>{if(!X)return;let n=e?.[0];if(1!==e.length||!n||!(0,V.uc)(n)){(0,b.x1)("Slides reorder object animations","onInsertItemsIn expected to be inserting a single action",{selectedValues:e},{reportAsSentryError:!0});return}if(!(0,V.eB)(t)){(0,b.x1)("Slides reorder object animations","onInsertItemsIn expected to be inserting into a section header item",{itemToInsertIn:t},{reportAsSentryError:!0});return}let a=eH(n,t,u);a&&(Y(),X.objectAnimations=a,w.Y5.commit())},[X,u,Y]),Q=a.useCallback((e,t,n)=>{if(!X)return;let a=e?.[0];if(1!==e.length||!a||!(0,V.uc)(a)){(0,b.x1)("Slides reorder object animations","onInsertItemsBetween expected to be inserting a single action",{selectedValues:e},{reportAsSentryError:!0});return}let r=ez(a,t,n,u);r&&(Y(),X.objectAnimations=r,w.Y5.commit())},[X,u,Y]),$=a.useCallback(()=>{let e=p.AlE?.getMutableActiveDocument();return e&&c&&p.YdF?p.YdF.getInvalidAnimationTargets(e,c):new Set},[c]),ee=a.useMemo(()=>$(),[d,$]);if(!c||!X)return null;let et=i.current?(0,O.cn)(i.current,208):void 0;return a.createElement(P.tR,{panelClassName:"slides_object_animations_panel--panel--0bhrR",hideBorderBottom:!0},a.createElement(eF,{slideId:c,playButtonDisabled:0===u.length,hasExpandedListItem:!!y,objectAnimationItems:u,sceneGraphSelection:n,recordingKey:e}),a.createElement("div",{className:C.s.pr16.$,ref:i},0===u.length?a.createElement(eK,null):a.createElement(R.q,{canInsertItemsIn:V.eB,canInsertSelectionBeforeIndex:e=>e>0,insertDividerStyle:{display:"none"},isDragDisabled:!1,listItems:u,onCrossedDragThreshold:()=>{L(!0),s({type:"CLEAR_SELECTION"})},onDrag:J,onDragEnd:q,onInsertItemsBetweenValues:f.nc.user("reorder-object-animations",Q),onInsertItemsIn:f.nc.user("reorder-object-animations",Z),prioritizeInsertionIn:!0,renderListItem:(t,n,r,i,o,d,m)=>{let p=u?.[n+1],f=(0,V.uc)(t)?(0,l.Gu)(t.action.transitionNodeID):null,g=!!y&&y===f;return a.createElement("div",{className:C.s.relative.wFull.$},(0,V.eB)(t)&&a.createElement(eW,{key:n,item:t,isDraggingInGeneral:A,onMouseMove:d,onMouseUp:m,alwaysHideNumber:n===u.length-1}),(0,V.uc)(t)&&a.createElement(eN,{key:n,isDragging:r,isExpanded:g,isInvalid:ee.has(f),isReorderingItems:i,item:t,onChangeStartCondition:e=>{j(t.startCondition,e),W(X,u,e,[t])},onClick:()=>{g?s({type:"CLEAR_SELECTION"}):f&&(s({type:"SET_OBJECT_ANIMATION_SELECTION",selectedNodeIds:[f]}),T.tJ([f]),w.Y5.commit())},onMouseDown:e=>{2!==e.button&&o(e)},onMouseMove:d,onMouseUp:m,recordingKey:_.Pt(e,"actionsList",n),slideId:c}),G===n&&a.createElement("div",{className:"slides_object_animations_panel--dragIndicatorInto--65j3O"}),H===n+1&&a.createElement("div",{className:"slides_object_animations_panel--dragIndicatorBelow--WzKf8",style:{top:(0,V.eB)(t)?25.5:!p||(0,V.eB)(p)?36.5:41}}))},selectedIndices:M,updateSelection:U})),g.length>1&&et&&N&&a.createElement(eM,{slideId:c,onChangeStartCondition:e=>{j(k,e),W(X,u,e,v)},recordingKey:_.Pt(e,"multiEditModal"),startCondition:k,defaultPosition:et}))}function eF({slideId:e,playButtonDisabled:t,hasExpandedListItem:n,objectAnimationItems:r,sceneGraphSelection:l,recordingKey:i}){let o=a.useMemo(()=>ej(r,l),[r,l]),s=o.length,c=s>1||1===s&&Object.keys(l).length>1&&!n;return a.createElement(M.Wv,{titleTx:(0,v.tx)("slides.properties_panel.object_animations.panel_title")},c&&a.createElement(eB,{slideId:e,selectedGuids:o,objectAnimationItems:r,recordingKey:i}),!t&&a.createElement(eU,{slideId:e,recordingKey:i,numAnimations:s}),a.createElement(eG,{recordingKey:i}))}function eB({slideId:e,selectedGuids:t,objectAnimationItems:n,recordingKey:r}){let i=(0,B.D0)(),o=(0,I.eY)(),d=a.useCallback(()=>{let a=o.get(e);if(!a)return;let r=n.filter(e=>{if(!(0,V.uc)(e))return!0;let n=(0,l.Gu)(e.action.transitionNodeID);return!(n&&t.includes(n))}),s=V.kP.toPrototypeInteractions(r);i(),a.objectAnimations=s,w.Y5.commit()},[o,e,t,n,i]);return a.createElement(s.K,{"aria-label":(0,v.t)("slides.properties_panel.object_animations.bulk_delete_button.aria_label"),htmlAttributes:{"data-tooltip":(0,v.t)("slides.properties_panel.object_animations.bulk_delete_button.tooltip"),"data-tooltip-type":A.Ib.TEXT},onClick:f.nc.user("delete-selected-slide-object-animations",d),recordingKey:_.Pt(r,"bulkDeleteButton")},a.createElement(c.z,null))}function eU({slideId:e,recordingKey:t,numAnimations:n}){let r=(0,B.Mp)(),l=a.useCallback(()=>{f.l7.user("initiate-object-animation-preview",()=>{p.Ez5?.slidesObjectAnimationPreviewManager().initiateObjectAnimationPreview(e)}),r(n)},[e,n,r]);return a.createElement(s.K,{"aria-label":(0,v.t)("slides.properties_panel.object_animations.play_button.aria_label"),htmlAttributes:{"data-tooltip":(0,v.t)("slides.properties_panel.object_animations.play_button.tooltip"),"data-tooltip-type":A.Ib.TEXT},onClick:l,recordingKey:_.Pt(t,"playButton")},a.createElement(u,null))}function eG({recordingKey:e}){let t;let n=(0,k.kl)("objectAnimationType"),l=(0,S.hS)(n)&&void 0!==n&&"NONE"!==n,i=(0,r.d4)(e=>e.mirror.sceneGraphSelection),o=(0,D.l5)(),c=Object.keys(i).filter(e=>!o.includes(e)).length,d=(0,r.d4)(e=>(0,L.Yh)(e.mirror.appModel,"add-slide-object-animation"));return t=d?(0,v.t)("slides.properties_panel.object_animations.plus_button.tooltip_valid_selection"):l?(0,v.t)("slides.properties_panel.object_animations.plus_button.tooltip_already_animated"):c>0?1===c?(0,v.t)("slides.properties_panel.object_animations.plus_button.tooltip_animation_unsupported_singular"):(0,v.t)("slides.properties_panel.object_animations.plus_button.tooltip_animation_unsupported_multiple"):(0,v.t)("slides.properties_panel.object_animations.plus_button.tooltip_invalid_selection"),a.createElement(s.K,{"aria-label":(0,v.t)("slides.properties_panel.object_animations.plus_button.aria_label"),htmlAttributes:{"data-tooltip":t,"data-tooltip-type":A.Ib.TEXT,"data-tooltip-show-immediately":!d,"data-tooltip-max-width":"200"},disabled:!d,onClick:f.nc.user("add-slide-object-animation",()=>{w.Y5.triggerAction("add-slide-object-animation")}),recordingKey:_.Pt(e,"plusButton")},a.createElement(m.x,null))}function eK(){return a.createElement("div",{className:C.s.pl16.relative.$},a.createElement("p",{className:C.s.textBodyMedium.colorTextSecondary.alignLeft.py8.$},(0,v.t)("slides.properties_panel.object_animations.empty_state_text")))}function eV(e,t){if(!e&&!t)return!0;if(e&&t){if((0,V.uc)(e)&&(0,V.uc)(t))return(0,i.c2)(e.action.transitionNodeID,t.action.transitionNodeID);if((0,V.eB)(e)&&(0,V.eB)(t))return e.interactionIndex===t.interactionIndex}return!1}function eH(e,t,n){let a=[];for(let r of n)eV(r,e)||(eV(r,t)?(a.push({...e,startCondition:p.luZ.TRIGGER,interactionId:g.Hr}),a.push(t)):a.push(r));let r=a.map((e,t,n)=>{let a=t-1>=0&&n[t-1]&&(0,V.eB)(n[t-1]);return(0,V.uc)(e)&&a?{...e,startCondition:p.luZ.TRIGGER}:e});return V.kP.toPrototypeInteractions(r)}function ez(e,t,n,a){if(eV(e,t)||eV(e,n))return V.kP.toPrototypeInteractions(a);if(!function(e,t,n){let a=n.findIndex(t=>eV(t,e)),r=n.findIndex(e=>eV(e,t));return void 0===e&&0===r||void 0===t&&a===n.length-1||-1!==a&&-1!==r&&a+1===r}(t,n,a))return(0,b.x1)("Slides reorder object animations","prevItem and nextItem are not in the correct order",{prevItem:t,nextItem:n,oldItems:a},{reportAsSentryError:!0}),null;for(let e=0;e<a.length;e++)if(eV(a[e],t)){if(!eV(a[e+1],n))return null;break}let r=[];for(let l of a)eV(l,e)||(t&&eV(l,t)?(r.push(t),r.push({...e,startCondition:(0,V.uc)(t)?p.luZ.AFTER_PREVIOUS:p.luZ.TRIGGER})):n&&eV(l,n)&&(0,V.uc)(n)?r.push({...n,startCondition:p.luZ.AFTER_PREVIOUS}):r.push(l));return V.kP.toPrototypeInteractions(r)}function eW({item:e,isDraggingInGeneral:t,onMouseMove:n,onMouseUp:r,alwaysHideNumber:l}){return a.createElement(y.D8,{className:"slides_object_animations_panel--sectionHeader--HitXp",onMouseMove:n,onMouseUp:r},!t&&!l&&a.createElement("div",{className:C.s.textBodySmall.colorTextSecondary.$},e.interactionIndex+1))}function ej(e,t){return e.length&&Object.keys(t).length?e.map(e=>{let n=(0,V.uc)(e)?(0,l.Gu)(e.action.transitionNodeID):null;return null===n?null:t[n]?n:null}).filter(o.Vq):[]}},798543:(e,t,n)=>{n.d(t,{A:()=>l,R:()=>r});var a=n(999667);let r=(0,a.um)({type:"NONE"},(e,t)=>{switch(t.type){case"SELECT_SLIDE_TRANSITION":if("SLIDE_TRANSITION"===e.type)return{type:"NONE"};return{type:"SLIDE_TRANSITION"};case"SET_OBJECT_ANIMATION_SELECTION":if(t.selectedNodeIds.length>1)return{type:"MULTIPLE_OBJECT_ANIMATIONS",selectedNodeIds:t.selectedNodeIds};{let e=t.selectedNodeIds[0];if(!e)return{type:"NONE"};return{type:"SINGLE_OBJECT_ANIMATION",selectedNodeId:e}}case"CLEAR_SELECTION":return{type:"NONE"}}});function l(){return"SLIDE_TRANSITION"===(0,a.md)(r).type}},992669:(e,t,n)=>{n.d(t,{$3:()=>k,Ay:()=>I,dk:()=>T,gv:()=>N,k0:()=>S});var a=n(848318),r=n(982618),l=n(92454),i=n(320953),o=n(553547),s=n(768618),c=n(999667),d=n(476254),u=n(865114),m=n(967688),p=n(952039),f=n(113752),g=n(101872),h=n(880801),E=n(619534),_=n(708889),y=n(603910);class b extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedSlideError",this.type="switched_slide"}}class C extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedToGridViewError",this.type="switched_to_grid_view"}}class v extends Error{constructor(){super(),this.reportToSentry=!1,this.name="NotEnoughContentError",this.type="not_enough_content"}}class w extends Error{constructor(){super(),this.reportToSentry=!1,this.name="UneditedSlideError",this.type="unedited_slide"}}let T=[b,v,w,l.G1,r.CortexErrorV2];function S(e,t){let n=function(e){if(e instanceof b)return(0,m.t)("slides.speaker_notes.error.switched-slides");if(e instanceof C)return(0,m.t)("slides.speaker_notes.error.switched-to-grid-view");if(e instanceof v)return(0,m.t)("slides.speaker_notes.error.add-more-content");if(e instanceof w)return(0,m.t)("slides.speaker_notes.error.unmodified_slide");if(!(e instanceof l.G1||e instanceof r.CortexErrorV2))return(0,m.t)("slides.speaker_notes.error.default");if(e instanceof r.PayloadTooLargeError)return(0,m.t)("slides.speaker_notes.error.payload_too_large");let t={offline:(0,m.t)("slides.speaker_notes.error.connection"),meter_exceeded:function(e){let t=(0,m.t)("slides.speaker_notes.error.rate_limit");if((0,g._0)(e)){if(!e.data.resetsAt)return t;let n=new Date(e.data.resetsAt);return isNaN(n.getTime())?t:(0,m.t)("slides.speaker_notes.error.meter_limit",{resetDate:n})}return t}(e),rate_limit_exceeded:(0,m.t)("slides.speaker_notes.error.rate_limit"),text_tool_no_text:(0,m.t)("slides.speaker_notes.error.add-more-content"),content_length_limit_exceeded:(0,m.t)("slides.speaker_notes.error.token_limit"),payload_too_large:(0,m.t)("slides.speaker_notes.error.payload_too_large"),unsafe_or_harmful_content:(0,m.t)("slides.speaker_notes.error.inappropriate_input"),service_issue:(0,m.t)("slides.speaker_notes.error.openai_down"),ai_opt_out_error:(0,m.t)("slides.speaker_notes.error.opt_out"),unauthorized:(0,m.t)("slides.speaker_notes.error.default"),generic:(0,m.t)("slides.speaker_notes.error.default"),not_implemented:(0,m.t)("ai.error.not_implemented")},n="generic";if(e instanceof r.CortexErrorV2)n=r.ClientContentLengthLimitExceededError.isInstance(e)||r.ProviderContentLengthLimitExceededError.isInstance(e)?"content_length_limit_exceeded":r.MeterExceededError.isInstance(e)?"meter_exceeded":r.ProviderRateLimitExceededError.isInstance(e)||r.CortexRateLimitExceededError.isInstance(e)?"rate_limit_exceeded":r.ClientNoTextSelectedError.isInstance(e)?"text_tool_no_text":r.ProviderServiceIssueError.isInstance(e)||r.ProviderServiceBusyError.isInstance(e)?"service_issue":r.OfflineError.isInstance(e)?"offline":r.UnsafeOrHarmfulPromptError.isInstance(e)||r.ProviderUnsafeOrHarmfulContentError.isInstance(e)?"unsafe_or_harmful_content":r.UnauthorizedError.isInstance(e)?"unauthorized":r.NotImplementedError.isInstance(e)?"not_implemented":e?.statusCode===404?"service_issue":e?.statusCode===429?"rate_limit_exceeded":e?.statusCode===403?"ai_opt_out_error":"generic";else if(e instanceof l.G1)switch(e.type){case"content_length_limit_exceeded":case"payload_too_large":case"meter_exceeded":case"rate_limit_exceeded":case"text_tool_no_text":case"service_issue":case"offline":case"unsafe_or_harmful_content":case"ai_opt_out_error":case"unauthorized":n=e.type;break;case"generic":switch(e.data?.status){case 404:n="service_issue";break;case 429:n="rate_limit_exceeded";break;case 403:n="ai_opt_out_error"}}return t[n]}(e),a=function(e){switch(e.type){case"meter_exceeded":case"content_length_limit_exceeded":case"payload_too_large":case"service_issue":case"ai_opt_out_error":case"unsafe_or_harmful_content":case"switched_slide":case"switched_to_grid_view":case"not_enough_content":case"unedited_slide":return!1;default:return!0}}(e);d.D.dispatch(p.F.enqueue({icon:f.zX.CLOSE_FILLED,message:n,type:"speaker-notes-visual-bell",button:a&&t?{text:(0,m.t)("slides.speaker_notes.draft_again"),action:()=>t()}:void 0,onDismiss:()=>{}}))}function k(e){let t=(0,s.UN)().get(e);if(t&&t.editInfo&&t?.editInfo?.createdAt===t?.editInfo?.lastEditedAt)throw new w}function I(e){if(0===e.length)throw new v}function N(e,t){let n=(0,u.ZC)(e),r=n!==e&&(0,o.fn)((0,o.sH)(e))&&(0,o.fn)((0,o.sH)(n)),l=(0,u.ZC)(t)!==t&&!t;(0,a.useEffect)(()=>{(0,E.pP)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===E.qy.RUNNING&&n&&(r?x(new b,n):l&&x(new C,n))},[l,r,n])}function x(e,t){(0,E.cT)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES),S(e);let n=c.zl.get(_.TD);if(t&&n){let e=JSON.stringify(n.toJSON());i.l7.ai("generate-slide-speaker-notes",()=>{(0,y.lq)(t,e)})}}},53984:(e,t,n)=>{n.d(t,{O:()=>w});var a=n(938982),r=n(186606),l=n(768618),i=n(580494),o=n(999667),s=n(476254),c=n(998568),d=n(376732),u=n(642935),m=n(101872),p=n(303397),f=n(880801),g=n(619534),h=n(307843),E=n(708889),_=n(643726),y=n(992669),b=n(448394),C=n(603910);let v=e=>{let t=(0,d.mz)(),n=(0,l.UN)().get(e);if(!n)return t;let a=n.absoluteTransform.m12,r=n.absoluteBoundingBox.h,i=.1*r,o=a+i,s=a+r-i;return t.filter(e=>(0,C.O)(e,24,o,s))},w=async({params:e,abortController:t,clientLifecycleId:n})=>{let{source:l}=e,d=s.D.getState().openFile?.key,T=o.zl.get(E.ed),S=o.zl.get(E.hD);if(!S){(0,c.$D)(a.e.AI_PRODUCTIVITY,Error("Editor is null when trying to generate speaker notes"));return}let k=S.getEditorState();o.zl.set(E.TD,k);let I=0===r.Ez5.editorPreferences().speakerNotesHeight.getCopy();(0,b.x)({eventName:"started",fileKey:d,slideId:T,source:l});let N=!1;try{let e;(0,y.$3)(T),r.Ez5.singleSlideView()&&I&&(0,C.ud)(r.CNR?.initialSpeakerNotesHeightInViewport()??0),S.setEditorState(S.getEditorState());let a={...(0,m.Ay)(),clientLifecycleId:n},l=v(T);(0,y.Ay)(l),(0,C.gH)();let o=l.map(e=>({text:e.characters,x:e.absoluteTransform.m02,y:e.absoluteTransform.m12}));(0,i.k)().figjam_ai_piper_speaker_notes_image_filtering?(0,_.yU)(T)&&(e=await (0,C.Yu)(T),N=!0):(e=await (0,C.Yu)(T),N=!0);let s={texts:o,image:e},c=await u.Ay.slides.speakerNotes(s,a),f=new u.c6(c);if(t.signal.aborted){(0,b.x)({eventName:"stopped",fileKey:d,slideId:T,imageIncluded:N});return}let g="";for await(let e of f){if(t.signal.aborted){(0,b.x)({eventName:"stopped",fileKey:d,slideId:T,imageIncluded:N});return}g+=e.delta,(g=g.replace(/(.) -/g,"$1\n -")).length>0&&(0,C.hp)(g,"history-merge")}p.Y5.commit(),(0,b.x)({eventName:"finished",fileKey:d,slideId:T,imageIncluded:N});return}catch(e){S.setEditorState(k),(0,y.k0)(e,()=>{(function(){let e=b.f.TRY_AGAIN;o.zl.set(h.zF,e),(0,g.B3)(f.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,g.Ag)(f.JT.SLIDES_GENERATE_SPEAKER_NOTES,w,{source:e})})()}),(0,b.x)({eventName:"failed",fileKey:d,slideId:T,imageIncluded:N,errorType:e.type||e.marker}),(0,g.cT)(f.JT.SLIDES_GENERATE_SPEAKER_NOTES),y.dk.some(t=>e instanceof t)||(0,c.$D)(a.e.AI_PRODUCTIVITY,Error(`Unexpected error encountered while generating speaker notes: ${e.message}`));return}}},448394:(e,t,n)=>{n.d(t,{f:()=>r,x:()=>l});var a=n(989232),r=(e=>(e.QUICK_ACTIONS="quick_actions",e.EDITOR_PLACEHOLDER="editor_placeholder",e.TRY_AGAIN="try_again",e))(r||{});function l(e){(0,a.trackEvent)("slides_generate_speaker_notes_event",e)}},603910:(e,t,n)=>{n.d(t,{B_:()=>b,Hk:()=>v,O:()=>T,Yu:()=>S,ap:()=>y,gH:()=>_,hp:()=>h,k8:()=>C,lq:()=>E,ud:()=>w});var a=n(848318),r=n(938982),l=n(186606),i=n(768618),o=n(693164),s=n(946190),c=n(999667),d=n(408361),u=n(810503),m=n(617631),p=n(880801),f=n(619534),g=n(708889);function h(e,t="history-push"){let n=c.zl.get(g.hD);n&&n.update(()=>{(0,o.Wn)(e,[o.mK,o.NB])},{tag:t})}function E(e,t){let n=(0,i.UN)().get(e);if(n)try{n.slideSpeakerNotes=t}catch(e){(0,u.x1)(r.e.SLIDES,"Failed to set slide speaker notes",{error:e})}}function _(){let e=c.zl.get(g.hD);e&&e.dispatchCommand(d.SK,void 0)}function y(){let[e]=(0,s.DF)(),t=(0,c.Xr)(g.hD);return(0,a.useEffect)(()=>{t(e)},[e,t]),null}function b(){let[e]=(0,s.DF)(),t=C();return(0,a.useEffect)(()=>{t?e.setEditable(!1):e.setEditable(!0)},[e,t]),null}function C(){return(0,f.wj)(p.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===f.qy.RUNNING}function v(){l.Ez5.editorPreferences().speakerNotesHeight.set(0)}function w(e){l.Ez5.editorPreferences().speakerNotesHeight.set(e)}function T(e,t,n,a){let r=e.absoluteTransform.m12>n&&e.absoluteTransform.m12+e.absoluteBoundingBox.h<a,l=e.fontSize>t;return e.visible&&(l||r)}async function S(e){let t=(0,i.UN)().get(e);if(t)return await (0,m.t)(t)}},287518:(e,t,n)=>{n.d(t,{g:()=>nx,h:()=>nN});var a,r=n(848318),l=n(301168),i=n(186606),o=n(999667),s=n(536384),c=n.n(s),d=n(410441),u=n(772283),m=n(142896),p=n(863270),f=n(911433),g=n(661205),h=n(517776),E=n(130953),_=n(959750),y=n(355755),b=n(730143),C=n(180294),v=n(554326),w=n(324747),T=n(475166),S=n(791985),k=n(688577),I=n(228845),N=n(880801),x=n(619534),A=n(756672),L=n(924829),O=n(929083),R=n(280042),M=n(956755),D=n(425835),P=n(658700),F=n(615233),B=n(755534),U=n(297638),G=n(967688),K=n(48908),V=n(494942),H=n(773511),z=n(320953),W=n(562027),j=n(82433),Y=n(238462),J=n(454805),q=n(230618),X=n(345964),Z=n(6068),Q=n(67188),$=n(353231),ee=n(968602),et=n(362640),en=n(829640),ea=n(792755),er=n(184617),el=n(708889);let ei="slides_template_ui--searchBar--jlYPZ",eo="slides_template_ui--separator--ptcuN",es="slides_template_ui--footer--4g8kc",ec="slides_template_ui--grid--FCSGf",ed=(0,Z.f)();function eu({module:e,...t}){let n=(0,V.r$)(),a=(0,o.Xr)(P.VZ),s=(0,o.Xr)(P.Ei),d=(0,o.md)(el.v2),u=(0,b.tS)(),m=(0,l.wA)(),p="insert-slide-module",f=z.nc.user(p,(t,a,r)=>{(0,V.CH)({module:e,viewType:n,getGridCoord:i.Ez5.getInsertGridCoord,dispatch:m})(t,a,r)}),{onInsertableResourcePointerDown:g,dragState:h}=(0,en.j)({resource:e,isList:!1,sourceForTracking:"slides-templates-panel",clickToInsert_DEPRECATED:!0,insertAsChildOfCanvas:!0,insertionCallback:f,afterSuccessfulInsert:()=>{s(!1),a(!1)},selectAfterInsert:!1}),E=z.nc.user(p,g),_=r.useMemo(()=>d?new J.Mi(i.CNR?.singleSlideThumbnailWidth()??0,i.CNR?.singleSlideThumbnailHeight()??0):void 0,[d]);return r.createElement("div",{className:c()(U.s.flex.alignCenter.justifyCenter.gap8.$,{"slides_template_tile--moduleCoverCardPicker--IvByg slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardPickerSize--AAEPk":n===V.Ji.PICKER,"slides_template_tile--moduleCoverCardModal--llMPw slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardModalSize--1-jSe":n===V.Ji.OVERLAY_MODAL},{"slides_template_tile--gridViewHover--dEaa-":!d})},r.createElement(et.q,{dragState:n===V.Ji.PICKER?h:null,isList:!1,overrideDragPreviewSize:_}),r.createElement(em,{key:e.node_id,thumbnailUrl:e.thumbnail_url,onPointerDown:t=>{E(t),(0,$.Cu)({moduleId:e.id,moduleFileKey:ed(e),fileKey:u,name:"slide_template_tile",productType:"slides"})},"aria-label":t["aria-label"]}))}function em({name:e,thumbnailUrl:t,thumbnailWidth:n,thumbnailHeight:a,onPointerDown:l,showLoadingSpinner:i=!1,disabled:o=!1,removeBorder:s=!1,...d}){return r.createElement(H.E,{className:c()(U.s.flex.flexColumn.itemsStart.hFull.wFull.$,"slides_template_tile--tileFocusable--MRUA5"),onClick:o?void 0:l,actionOnPointerDown:!0,"aria-label":d["aria-label"],htmlAttributes:{"data-testid":"insertableSlideTile"}},r.createElement("div",{...j.Ay.props(eE.tile,!s&&eE.tileBorder),style:{width:n??"100%",height:a??"100%"}},i&&r.createElement(X.kt,{className:"slides_template_tile--loadingSpinner--i0gem"}),r.createElement(q.oW,{onDragStart:Q.wo,className:"slides_template_tile--tileImage--xQ9Rj",src:t,alt:e,loading:"lazy"})),e&&r.createElement("div",{className:U.s.font11.fontInter.colorTextSecondary.$},e))}function ep({text:e,dataTestId:t,onPointerDown:n,imageContainerContent:a,additionalClassname:l,showSelectedState:i=!1}){let s=(0,V.r$)(),d=(0,o.md)(P.bY);return r.createElement("div",{"data-testid":t,className:c()(U.s.p8.$,l)},r.createElement(ea.sU,{image:r.createElement("div",{onPointerDown:n},r.createElement(ea.WM,{className:c()({"slides_template_tile--templateCoverCardLarge--aUi8S slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardLargeSize--lWeyZ":s===V.Ji.PICKER,"slides_template_tile--templateCoverCardMedium--D1xOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardMediumSize--dZ4FH":s===V.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardExtraLarge--9llOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardExtraLargeSize---WVL9":d.type===P.Vf.TEMPLATE_PICKER,"slides_template_tile--selectedTemplateTile---grt1":i}),removeBorder:!0,backgroundColor:"none"},a)),bottomRow:r.createElement(ea.dY.MetadataContainer,{onClick:n},r.createElement(ea.dY.TextMetadataLayout,{primaryText:r.createElement("div",{className:U.s.font11.colorText.ellipsis.overflowHidden.$},e)})),bottomRowClassName:c()({"slides_template_tile--templateCoverBottomRowLarge--jYVZ6":s===V.Ji.PICKER,"slides_template_tile--templateCoverBottomRowMedium--jnOVs":s===V.Ji.OVERLAY_MODAL})}))}function ef({template:e}){return(0,o.md)(P.bY).type===P.Vf.TEMPLATE_PICKER?r.createElement(eg,{template:e}):r.createElement(eh,{template:e})}function eg({template:e}){let{name:t,imageUrl:n,libraryKey:a}=(0,ee.fG)()(e),[l,i]=(0,o.fp)(P.ux);if(!a)return null;let s=()=>i((0,W.l)(a));return r.createElement(ep,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:s,imageContainerContent:r.createElement(em,{key:t,thumbnailUrl:n,onPointerDown:s,removeBorder:l===(0,W.l)(a)}),additionalClassname:"slides_template_tile--hoverableTemplateTile--meERX",showSelectedState:l===(0,W.l)(a)})}function eh({template:e}){let{name:t,imageUrl:n,libraryKey:a}=(0,ee.fG)()(e),l=(0,o.Xr)(P.bY),i=(0,o.md)(P.bY);if(!a)return null;let s=e=>{e.stopPropagation(),a&&((0,$.Cu)({fileKey:a,name:"template_cover_tile",productType:"slides"}),l({type:P.Vf.TEMPLATE,libraryKey:a,parentView:i}))};return r.createElement(ep,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:s,imageContainerContent:r.createElement(r.Fragment,null,r.createElement(ea.Wh.Cover,null,r.createElement("div",{className:"slides_template_tile--hoverOverlay--m7upM"})),r.createElement(ea.Wh.Center,null,r.createElement(er.i,{insertTemplate:Y.lQ,isInsertingTemplate:!1,shouldUseOpaqueBackground:!0},(0,G.tx)("slides.templates.view_template"))),r.createElement(em,{key:t,thumbnailUrl:n,onPointerDown:s}))})}let eE={tile:{display:"x78zum5",position:"x1n2onr6",overflow:"xb3r6kr",overflowX:null,overflowY:null,justifyContent:"xl56j7k",alignItems:"x6s0dn4",$$css:!0},tileBorder:{boxSizing:"x9f619",border:"xqvp088",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"x1sxf85j",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0}};function e_({modules:e}){let{onShowSeparatorScroll:t}=(0,V.gH)();if(!e.length)return null;let n=e[0].library_key;return r.createElement(B.P,{className:U.s.px16.hFull.$,onScroll:t},r.createElement(eC,{key:n},e.map((t,n)=>r.createElement(eu,{key:t.id,module:t,"aria-label":(0,G.t)("slides.templates.template_picker.slide_button.aria_label",{index:n+1,total:e.length})}))))}function ey({children:e}){return r.createElement("div",{className:U.s.flex.flexWrap.pb8.gap0.$},e)}function eb({title:e,children:t,rightHeaderCta:n}){let a=e||!!n;return r.createElement(r.Fragment,null,r.createElement("div",{className:c()({[U.s.flex.justifyBetween.alignLeft.itemsCenter.pt16.pb8.px8.$]:a})},e&&r.createElement("div",{className:U.s.font13.colorText.fontSemiBold.fontInter.noWrap.overflowHidden.ellipsis.pr4.$},e),n),r.createElement(ey,null,t))}function eC({children:e}){return r.createElement("div",{className:U.s.flex.flexWrap.pb16.gap8.$},e)}let ev="loading_state--container--ouiBF";function ew(){let e=(0,V.r$)(),t=(0,o.md)(P.bY),n=c()({"slides_template_tile--templateCoverCardMediumSize--dZ4FH":e===V.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardLargeSize--lWeyZ":e===V.Ji.PICKER,"slides_template_tile--templateCoverCardExtraLargeSize---WVL9":t.type===P.Vf.TEMPLATE_PICKER},U.s.m8.$);return r.createElement(K.Qp,{className:n,animationType:K.JR.LIGHT_SHIMMER})}function eT(){let e=(0,V.r$)(),t=c()({"slides_template_tile--moduleCoverCardPickerSize--AAEPk":e===V.Ji.PICKER,"slides_template_tile--moduleCoverCardModalSize--1-jSe":e===V.Ji.OVERLAY_MODAL});return r.createElement(K.Qp,{className:t,animationType:K.JR.LIGHT_SHIMMER})}function eS(){return r.createElement(K.Qp,{className:c()("loading_state--title--YIpQO",U.s.m8.$),animationType:K.JR.LIGHT_SHIMMER})}function ek({removePadding:e=!1,numSections:t=3,numTemplates:n}){let a=(0,o.md)(P.bY).type===P.Vf.TEMPLATE_PICKER?3:4;return r.createElement("div",{className:c()("loading_state--loadingStateContainer--dcv3D",{[U.s.px8.$]:!e})},Array.from({length:t}).map(()=>r.createElement(r.Fragment,null,r.createElement(eS,null),r.createElement(ey,null,Array.from({length:n??a}).map((e,t)=>r.createElement("div",{key:t,className:U.s.flex.flexColumn.$},r.createElement(ew,null),r.createElement(K.Wi,{className:U.s.h16.mx8.w100.$,animationType:K.JR.LIGHT_SHIMMER})))))))}function eI(){return r.createElement("div",{className:ev},r.createElement(ey,null,Array.from({length:14}).map((e,t)=>r.createElement(ew,{key:t}))))}function eN(){return r.createElement("div",{className:ev},r.createElement(eC,null,Array.from({length:16}).map((e,t)=>r.createElement(eT,{key:t}))))}function ex(){return r.createElement("div",{className:c()(ec,U.s.px16.pb16.pt8.gap16.overflowHidden.hFull.$)},r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null),r.createElement(eA,null))}function eA(){return r.createElement("div",{className:U.s.flex.flexColumn.gap4.$},r.createElement(K.Qp,{className:"loading_state--file--g4dxg",animationType:K.JR.LIGHT_SHIMMER}),r.createElement(K.Wi,{className:"loading_state--fileTitle--ATrhd",animationType:K.JR.LIGHT_SHIMMER}),r.createElement(K.Wi,{className:"loading_state--fileSubtitle--9Lkb7",animationType:K.JR.LIGHT_SHIMMER}))}function eL({children:e,dataTestId:t}){return r.createElement("div",{className:U.s.flex.flexColumn.hFull.$,"data-testid":t},e)}var eO=n(847240),eR=n(954703),eM=n(523152);function eD({onClick:e}){return r.createElement(eR.K,{"aria-label":(0,G.t)("common.close"),onClick:e},r.createElement(eM.L,null))}function eP({searchQuery:e,setSearchQuery:t,showCloseButton:n,placeholder:a}){let{canDismiss:l,maybeUseLightTemplateOnDismiss:i}=(0,V.vN)();return r.createElement("div",{className:U.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$},r.createElement(eO.IW,{className:c()(ei,U.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,placeholder:a,focusOnMount:!0,withSmallXIcon:!0}),n&&l&&r.createElement(eD,{onClick:i}))}function eF({searchQuery:e,setSearchQuery:t,onBack:n,showCloseButton:a,placeholder:l}){let{canDismiss:i,maybeUseLightTemplateOnDismiss:o}=(0,V.vN)();return r.createElement("div",{className:c()(U.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$)},r.createElement(eO.RE,{className:c()(ei,U.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,onBack:n,placeholder:l,focusOnMount:!0,withSmallXIcon:!0}),a&&i&&r.createElement(eD,{onClick:o}))}function eB({icon:e,title:t,subtitle:n}){return r.createElement(r.Fragment,null,r.createElement("div",{className:U.s.flex.flexRow.gap6.lh24.itemsCenter.$},e,r.createElement("h1",{className:U.s.colorText.fontInter.font14.fontNormal.fontSemiBold.spacingCompact.$},t)),r.createElement("h2",{className:U.s.colorTextSecondary.textBodyMedium.$},n))}function eU({closePicker:e}){let t=t=>{z.l7.user("create-new-slide-with-default-theme",()=>{i.Ez5.slideThemeLibBindings().insertDefaultLocalTheme(t,null)}),e()};return r.createElement(eb,{title:(0,G.t)("slides.templates.dev_environment_only")},r.createElement(em,{key:"light",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,G.t)("slides.templates.light"),thumbnailUrl:(0,F.ck)("4a01804a5d4ad3a2d38ea604c0d8d63520e9b97b"),onPointerDown:()=>t(i.zMY.LIGHT)}),r.createElement(em,{key:"dark",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,G.t)("slides.templates.dark"),thumbnailUrl:(0,F.ck)("01a1fc814ce18d9da3ba738aef79acc82c752ab7"),onPointerDown:()=>t(i.zMY.DARK)}))}var eG=n(990140),eK=n(749214);let eV=(0,r.memo)(function(e){return(0,eK.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,eK.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69H8.063l-1.1 2.69a.5.5 0 1 1-.926-.379L6.982 17H5a2 2 0 0 1-2-2zm4.7 3.2.315-1.26c.126-.505.844-.505.97 0L9.3 10.2l1.26.315c.505.126.505.844 0 .97L9.3 11.8l-.315 1.26c-.126.505-.844.505-.97 0L7.7 11.8l-1.26-.315c-.505-.126-.505-.844 0-.97zM12.5 9a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var eH=n(693874),ez=n(580494),eW=n(263418);function ej({onStartFromOutline:e}){let{isCreateSlidesOutlineEnabled:t}=(0,eW.mp)(),{canDismiss:n,maybeUseLightTemplateOnDismiss:a}=(0,V.vN)(),{setUserDraftTemplateKeyForCurrentFile:l}=(0,V.Iv)(),i=(0,D.J3)(),o=(0,ez.k)().slides_create_template&&(0,D.JU)(i),s=(0,r.useMemo)(()=>{let i=[];return(n&&i.push({id:"start_from_scratch",onClick:a,icon:r.createElement(eG.e,null),title:(0,G.t)("slides.templates.start_from.scratch.title"),subtitle:(0,G.t)("slides.templates.start_from.scratch.subtitle"),buttonStyle:"slides_template_ui--dashedBorder--a60sO",iconStyle:"slides_template_ui--startFromScratchIcon--bKGMJ",dataTestId:"start-from-scratch"}),t&&i.push({id:"start_from_outline",onClick:e,icon:r.createElement(eV,null),title:(0,G.t)("slides.templates.start_from.outline.title"),subtitle:(0,G.t)("slides.templates.start_from.outline.subtitle"),iconStyle:"slides_template_ui--startFromOutlineIcon--6u3ms",dataTestId:"start-from-outline"}),o&&i.push({id:"make_a_template",onClick:()=>{a(),l()},icon:r.createElement(eH.Q,null),title:(0,G.t)("slides.templates.make_a_template.title"),subtitle:(0,G.t)("slides.templates.make_a_template.subtitle"),iconStyle:"slides_template_ui--makeATemplate--Ml5tw",dataTestId:"make-a-template"}),1===i.length&&i[0]?.id==="start_from_scratch")?[]:i},[n,t,a,e,o,l]);return r.createElement(eY,{startFromRowData:s})}function eY({startFromRowData:e}){return r.createElement("div",{className:"slides_template_ui--startFromRowWrapper--4UjYr"},e.map(e=>r.createElement(p.fu,{key:e.id,name:`slides_template_start_from_button.${e.id}`},r.createElement(eJ,{onClick:e.onClick,title:e.title,subtitle:e.subtitle,icon:e.icon,buttonStyle:e.buttonStyle,iconStyle:e.iconStyle,dataTestId:e.dataTestId,id:e.id}))))}function eJ({onClick:e,title:t,subtitle:n,icon:a,buttonStyle:l,iconStyle:i,dataTestId:o,id:s}){return r.createElement("button",{className:c()("slides_template_ui--startFromRowButton--v3qHJ",l),onClick:()=>{(0,$.Cu)({name:`slides.templates.${s}`,triggeredFrom:"slides_template_modal"}),e()},"data-testid":o},r.createElement("span",{className:i},a),r.createElement("div",{className:U.s.flex.flexColumn.itemsStart.$},r.createElement("p",{className:U.s.colorText.textBodyMediumStrong.$},t),r.createElement("p",{className:U.s.colorTextSecondary.textBodyMedium.$},n)))}var eq=n(531788),eX=n(801517),eZ=n(329228),eQ=n(566841),e$=n(318147),e0=n(922484),e1=n(722563),e2=n(152545),e3=n(831047);function e5({onSeeAllClick:e}){return r.createElement("button",{className:c()("see_all_button--seeAllButton--TAlLw",U.s.font11.fontMedium.fontInter.flexShrink0.$),onClick:e},(0,G.tx)("slides.templates.view_type.see_all"))}var e4=n(753024);function e6({currentTeam:e}){let t=(0,V.fK)(),n=(0,eX.Xr)(P.bY),{teamTemplates:a,numTemplatesForTeam:l}=(0,D.wv)(e$._Y.SLIDES,t);if(!a||0===a.length)return null;let i=(l??0)>t;return r.createElement(te,{title:(0,G.tx)("slides.templates.template_picker.header_with_name",{orgOrTeamName:e.name}),previewData:a,onSeeAllClick:i?()=>n({type:P.Vf.TEAM,teamId:e.id,displayName:e.name}):void 0})}function e8({currentOrg:e}){let t=(0,V.fK)(),{teamTemplates:n,isLoading:a}=(0,D.wv)(e$._Y.SLIDES,t),l=(0,eX.Xr)(P.bY),i=n&&n.length>=t;if(a||!n||!n.length||!t)return null;let o=i?()=>l({type:P.Vf.ORG}):void 0;return r.createElement(te,{title:(0,G.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:n,onSeeAllClick:o})}function e9(){let[{data:e,status:t}]=(0,eZ.IT)((0,e4._)()),n=(0,eX.Xr)(P.bY),a=(0,V.fK)();return"loading"===t?r.createElement(ek,{removePadding:!0,numSections:2}):e&&0!==e.length?r.createElement(r.Fragment,null,e.map(e=>{let t=e.shelf_content.map(t=>({type:e2.n.HubFile,template:t,category:e.id})),l=t.slice(0,a);return 0===l.length?null:r.createElement(te,{key:e.id,title:(0,G.Yd)(e.i18n_meta.title,e.title),previewData:l,onSeeAllClick:t.length>a?()=>n({type:P.Vf.HUB_FILE,shelfId:e.id}):void 0})})):null}function e7(){let e=(0,eQ.eE)(T.$A.Slides),t=(0,e1.TI)(T.$A.Slides),n=(0,V.fK)(),a=(0,l.wA)(),o=(0,b.q5)(),s=(0,D.J3)(),c=(0,D.JU)(s),d=s===D.kN.FILE_IN_DRAFTS,u=(0,v.J2)(i.Ez5.canvasGrid()?.canvasGridArray),m=!u||0===u.length,p=(0,e0.oh)(S.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:T.$A.Slides}));return 0===t?null:p||!o?r.createElement(ek,{numSections:1,numTemplates:t,removePadding:!0}):r.createElement(te,{title:(0,G.t)("slides.templates.recents"),previewData:e.slice(0,n),onPublishTemplateClick:c&&!m&&(0,ez.k)().piper_templates_new_publish_entry_points?()=>{(0,e3.ZW)({dispatch:a,file:{key:o.key,name:o.name,folder_id:o.folderId,team_id:o.teamId,editor_type:o.editorType,parent_org_id:o.parentOrgId},source:"template-picker",fileNeedsMovingBeforePublish:d}),(0,$.Cu)({name:"publish-template-template-modal",fileKey:o.key})}:void 0})}function te({title:e,previewData:t,onSeeAllClick:n,onPublishTemplateClick:a}){let l=n?r.createElement(e5,{onSeeAllClick:n}):a?r.createElement(eq.$n,{onClick:a,recordingKey:"template-picker-publish-template",variant:"secondary"},(0,G.tx)("slides.templates.button.publish_template")):void 0;return r.createElement(eb,{title:e,rightHeaderCta:l},t.map(e=>r.createElement(ef,{template:e,key:e.template.id})))}var tt=n(149841),tn=n(720522),ta=n(625002);function tr({isSearchQueryLoading:e,trimmedSearchQuery:t,searchQueryResult:n,requestLoadMore:a}){let{onShowSeparatorScroll:l}=(0,V.gH)();return e&&0===n.length?r.createElement("div",{className:U.s.p8.$},r.createElement(eI,null)):0===n.length?r.createElement("div",{className:U.s.p10.flex.flex1.flexColumn.itemsCenter.alignCenter.textBodyMedium.colorTextDisabled.$},r.createElement(tn.B,{className:U.s.h200.$,svg:ta.A,useOriginalSrcFills_DEPRECATED:!0}),r.createElement("div",null,(0,G.tx)("slides.templates.search.empty",{searchTerm:r.createElement("span",{className:U.s.fontBold.$},t)})),r.createElement("div",null,(0,G.tx)("slides.templates.search.empty.tip"))):r.createElement(B.P,{className:U.s.px8.hFull.$,onScroll:l},r.createElement("div",{className:U.s.pt8.$},r.createElement(ey,null,n.map(e=>r.createElement(ef,{key:(0,ee.NH)(e),template:e}))),r.createElement(tt.a,{onIntersectionChange:({isIntersecting:e})=>{e&&a()}})))}function tl({closePicker:e}){let{loading:t}=(0,eW.mp)(),n=(0,V.r$)(),{scrollPosition:a,scrollRef:l,onScroll:i,resetScrollTop:s}=(0,V.d$)(P.Vf.ALL),{onShowSeparatorScroll:c}=(0,V.gH)(),d=(0,o.md)(P.q7),u=(0,b.tS)(),m=(0,D.Gi)(),p=(0,o.Xr)(P.bY);return((0,r.useEffect)(()=>()=>s([P.Vf.ALL]),[s]),t||d&&!u)?r.createElement(ek,null):r.createElement(B.P,{className:U.s.px8.hFull.$,scrollContainerRef:l,initialScrollTop:a,onScroll:(e,t)=>{i(e,t),c(e,t)}},n===V.Ji.OVERLAY_MODAL&&r.createElement(ej,{onStartFromOutline:function(){p({type:P.Vf.FILE_PICKER,parentType:P.Vf.ALL})}}),r.createElement(e7,null),m?.type==="org"&&r.createElement(e8,{currentOrg:m.entity}),m?.type==="team"&&r.createElement(e6,{currentTeam:m.entity}),r.createElement(e9,null),(0,F.IX)()&&r.createElement(eU,{closePicker:e}))}function ti({closePicker:e,showCloseButton:t}){let{trimmedSearchQuery:n,searchQuery:a,setSearchQuery:l,isSearchQueryLoading:i,searchQueryResult:o,requestLoadMore:s}=(0,V.$N)(),{showSeparator:d}=(0,V.gH)();return r.createElement(eL,null,r.createElement("div",{className:c()({[eo]:d})},r.createElement(eP,{searchQuery:a,setSearchQuery:l,showCloseButton:!!t,placeholder:(0,G.t)("slides.templates.search_templates")})),n?r.createElement(tr,{isSearchQueryLoading:i,trimmedSearchQuery:n,searchQueryResult:o,requestLoadMore:s}):r.createElement(tl,{closePicker:e}))}var to=n(660580),ts=n(1511);function tc({title:e,onClick:t,children:n,isLoading:l,publisherName:i,showSeparator:o=!0}){return r.createElement("div",{className:c()(U.s.borderBox.flex.flexRow.itemsCenter.p8.minH48.$,{[eo]:o})},r.createElement(eR.K,{"aria-label":(0,G.t)("slides.templates.back"),onClick:t},r.createElement(ts.C,{"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})),r.createElement("div",{className:"slides_template_ui--titleTextContainer--cH2zw"},l?r.createElement(eS,null):r.createElement(r.Fragment,null,r.createElement(a.TemplateTitle,{title:e}),i&&r.createElement(a.MetadataPublisher,{publisherName:i})),n))}function td({shelfId:e}){let[{data:t,status:n}]=(0,to.IT)((0,e4.Q)(e)),a=(0,eX.Xr)(P.bY),{scrollPosition:l,scrollRef:i,onScroll:o}=(0,V.d$)(P.Vf.HUB_FILE),s=()=>a({type:P.Vf.ALL});return"loading"===n?r.createElement(eL,null,r.createElement(tc,{isLoading:!0,title:"",onClick:s}),r.createElement(ek,null)):t?r.createElement(eL,null,r.createElement(tc,{title:(0,G.Yd)(t.i18n_meta.title,t.title),onClick:s}),r.createElement(B.P,{className:U.s.px8.pt16.hFull.$,scrollContainerRef:i,initialScrollTop:l,onScroll:o},r.createElement(ey,null,t.shelf_content.map(t=>r.createElement(ef,{key:t.id,template:{type:e2.n.HubFile,category:e,template:t}}))))):null}(e=>{e.TemplateTitle=function({title:e}){return r.createElement("div",{className:"slides_template_ui--templateTitleText--lcuqy text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,G.tx)("slides.templates.templates_modal.templates_title"),r.createElement("span",{className:"slides_template_ui--headerSeparator--Q3-mT"}," / "),e)},e.MetadataPublisher=function({publisherName:e}){return r.createElement("div",{className:"slides_template_ui--publisherTitleText--9DQpU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,G.tx)("slides.templates.templates_modal.published_by",{publisherName:e}))}})(a||(a={}));var tu=n(938982),tm=n(553547),tp=n(810503),tf=n(952039),tg=n(113752),th=n(514019),tE=n(807949),t_=n(813147),ty=n(303397),tb=n(387970),tC=n(724135),tv=n(424172),tw=n(697587),tT=n(621464),tS=n(307843),tk=n(929253),tI=n(399e3),tN=n(768618),tx=n(107712),tA=n(642935),tL=n(638345),tO=n(748628),tR=n(887836),tM=n(17698),tD=n(689386),tP=n(944239),tF=n(361140);async function tB({slidePresetModules:e,abortController:t,batchSize:n=2,dispatch:a}){let r=[],l=[];i.Zdr.createHiddenFrameForPresets();for(let o=0;o<e.length;o+=n){if(t.signal.aborted)return l;for(let t of e.slice(o,o+n))try{let e=new Promise(e=>{(0,V.Zx)({module:t,editScopeType:i.zkO.USER,editScopeLabel:"use-slides-ai-preset-selection",callback:t=>{l.push(t),e()},dispatch:a})});r.push(e)}catch(e){tT.k.error("Failed to insert preset",e)}Promise.allSettled(r).then(()=>{t.signal.aborted&&tW(l)}),await tz(Promise.allSettled(r),t.signal)}return t.signal.aborted||i.Zdr.selectPresetsFromTemplate(),l}async function tU({figjamFileKey:e,selectedGuids:t=[],pageGuids:n=[],abortController:a}){let r=await tz((0,tD.R)({fileKey:e,selectedGuids:t.slice(0,tI.S)}),a.signal);return a.signal.aborted?[]:JSON.parse(i.Zdr.getCanvasDataJsonFromBuffer(r,n))}class tG{constructor(e,t,n){this.currentItem=void 0,this.hasRenamedFile=!1,this.lastSlideGuid="",this.abortController=e,this.showPlaceholderOverlay=t,this.getNextItem=n,this.intervalId=this.start()}start(){return setInterval(()=>this.update(),100)}isActive(){return 0!==this.intervalId}update(){if(this.abortController.signal.aborted||!o.zl.get(b.ze)){this.cancel();return}if(this.currentItem||(this.currentItem=this.getNextItem(),!this.currentItem))return;let e=i.Zdr.generateSlides(this.currentItem.slideItem);if(!this.abortController.signal.aborted){if(this.showPlaceholderOverlay(i.Zdr.getPlaceholderNodeId()),e?.length>0){e.unshift(this.lastSlideGuid);for(let t=0;t<e.length-1;++t)tH(tV(e[t]));this.lastSlideGuid=e[e.length-1]}this.currentItem.resolve(),this.currentItem=void 0}}cancel(){this.isActive()&&(this.cleanUp(),(0,tF.Y)())}completeSuccessfully(){this.cleanUp(),(0,tF.Sk)()}processError(e){this.cleanUp(),(0,tF.D1)(e)}cleanUp(){this.isActive()&&(clearInterval(this.intervalId),this.intervalId=0)}}async function tK({canvasData:e,processTitle:t,showPlaceholderOverlay:n,abortController:a}){let r=[],l=new tG(a,n,()=>r.shift());try{let n=await tA.Ay.slides.createSlides({version:"1.1",data:e},{orgId:o.zl.get(tL._s),teamId:o.zl.get(b.As)||null,fileKey:o.zl.get(b.ze)||null,fileSeq:o.zl.get(tO.J)?.toString()||null,userId:o.zl.get(tR.kS)||null,trackingSessionId:(0,tx.f)()});if(a.signal.aborted||!o.zl.get(b.ze)){n.cancel();return}let i=[],s=!1;for await(let e of new tA.c6(n)){if(!l.isActive())return;let n=e;s||"TITLE"!==n.slideType||(s=!0,t(n.content.find(e=>"h1"===e.type)?.content||"")),i.push(new Promise(e=>{r.push({slideItem:n,resolve:e})}))}if(await tz(Promise.allSettled(i),a.signal),a.signal.aborted)return;l.completeSuccessfully()}catch(e){l.processError(e)}}let tV=(0,tP.n)(e=>{if(!e)return[];let t=(0,tN.UN)().get(e);if(!t)return[];let n=[];return t.childrenNodes.forEach(e=>{(function e(t,n){t&&("TEXT"===t.type?n.push(t):t.childrenNodes.forEach(t=>e(t,n)))})(e,n)}),n}),tH=(0,tP.n)(e=>{z.l7.user("figjam-to-slide-deck-text-opacity",()=>{e.forEach(e=>{e.opacity>0||e.setOpacityWithAnimation(1,tM._E.forLinear(.5),"slides-ai-animate-slide-text")})}),e.length=0});async function tz(e,t){if(!t)return e;if(t.aborted)throw Error("Aborted");let n=new Promise((e,n)=>{let a=()=>{n(Error("Aborted"))};t.addEventListener("abort",a),t.addEventListener("abort",()=>{t.removeEventListener("abort",a)})});return await Promise.race([e,n])}function tW(e){e&&z.l7.user("remove-hidden-preset-nodes",()=>{for(let t of e){let e=(0,tN.UN)().get(t);if(e)try{e.removeSelfAndChildren()}catch(e){console.warn("Failed to remove preset",e)}}})}function tj(){let e=(0,o.md)(P.oQ)??void 0,t=(0,o.md)(P.bY),n=t?.figjamEntryPointData,a=n?.figjamFileKey??e,{areSlidePresetsLoaded:i,slidePresetModules:s}=(0,tk.v0)(),c=(0,tk.Hn)(s),{showPlaceholderOverlay:d,removeAllPlaceholderOverlays:u}=(0,tk.Wb)(),m=(0,l.wA)(),p=(0,o.md)(b.ze),f=t?.source??tI.E.SLIDES_TEMPLATE;(0,o.Xr)(tS.zF)(f);let g=(0,r.useMemo)(()=>({figjamFileKey:a,figjamEntryPointData:n,areSlidePresetsLoaded:i,slidePresetModules:s,addFirstPresetToEmptyDeck:c,showPlaceholderOverlay:d,removeAllPlaceholderOverlays:u,dispatch:m,openFileKey:p}),[a,n,i,s,c,d,u,m,p]),h=(0,x.RL)(N.JT.BOARD_TO_DECK,tY,{figjamFileKey:a});return{startAction:(0,r.useCallback)(()=>{(0,x.B3)(N.JT.BOARD_TO_DECK),h.start(g)},[g,h]),figjamFileKey:a}}let tY=async({abortController:e,params:t})=>{let{figjamFileKey:n,figjamEntryPointData:a,areSlidePresetsLoaded:r,slidePresetModules:l,addFirstPresetToEmptyDeck:s,showPlaceholderOverlay:c,removeAllPlaceholderOverlays:d,dispatch:u,openFileKey:m}=t,p=(0,tk.Gd)(a),f=a?.selectedGuids,g=!n;if(e.signal.aborted||g||!r||!m)return;l?.length||tT.k.warn("No slide preset modules found...");let h=[];try{if(i.Ez5&&i.Ez5.uiState().leftPanelCollapsedUI3.set(!0),(0,tF.tO)(),!i.Zdr)return;i.Zdr.showLoadingState();let t=i.Zdr.getPlaceholderNodeId();c(t);let[a,r]=await tz(Promise.allSettled([tU({figjamFileKey:n,selectedGuids:f,pageGuids:p,abortController:e}),tB({slidePresetModules:l,abortController:e,dispatch:u})]),e.signal);if("rejected"===r.status){tT.k.error("Failed to ingest templates",r.reason),(0,tF.D0)((0,G.t)("slides.present_summary.visual_bells.error_unknown"));return}if(h=r.value,"rejected"===a.status){tT.k.error("Failed to fetch canvas data from file",a.reason),(0,tF.D0)((0,G.t)("slides.present_summary.visual_bells.error_unknown"));return}await tK({canvasData:a.value,processTitle:e=>{e&&u(tE.Nw({file:{key:m},name:`${e} ${(0,G.t)("slides.templates.presentation")}`}))},showPlaceholderOverlay:c,abortController:e})}catch(t){if(e.signal.aborted){(0,tF.Y)();return}(0,tF.D0)((0,G.t)("slides.present_summary.visual_bells.error_unknown")),tT.k.error("Failed to generate slides",t)}finally{d(),m!==o.zl.get(b.ze)||s(),i.Zdr.finishDeckGeneration(),tW(h)}};var tJ=n(540698),tq=n(511067),tX=n(120846);function tZ(){let e=(0,l.wA)(),t=(0,tq.Um)(),n=(0,o.md)(P.oQ),[a,s]=r.useState([]),[c,d]=(0,o.fp)(P.V6),u=(0,tk.M0)(n);return(r.useEffect(()=>{!(0,tJ.nl)()&&n&&(d({type:P.i6.NONE}),(async()=>{let e=await u();if(!e)return;let t=await i.Zdr.getPagesFromBuffer(e);if(!t.length)return;s(t.map(e=>({guid:e.guid,name:e.name})));let n=t[0];d({type:P.i6.SINGLE,page:{guid:n.guid,name:n.name}})})())},[n,d,u]),n)?c.type===P.i6.NONE?r.createElement(tQ,null):r.createElement("div",{"data-testid":"page-selector"},r.createElement(tX.l6,{id:"slides-ai-file-picker-page-select",property:c,formatter:{format:e=>{switch(e.type){case P.i6.SINGLE:return e.page.name;case P.i6.ALL:return(0,G.t)("slides.templates.file_picker.page_selector.all_pages");default:return""}},isEqual:(e,t)=>e.type===t.type&&(e.type!==P.i6.SINGLE||t.type!==P.i6.SINGLE||e.page.guid===t.page.guid&&e.page.name===t.page.name)},onChange:e=>{d(e)},dispatch:e,className:"slides_template_page_selector--pageSelector--PuTJR",inputClassName:U.s.fontMedium.colorText.ellipsis.alignTop.maxW150.$,dropdownShown:t,dropdownWidth:208},r.createElement(tX.c$,{value:{type:P.i6.NONE},disabled:!0,ignoreCheck:!0},(0,G.t)("slides.templates.file_picker.page_selector.label")),a.map(e=>r.createElement(tX.c$,{value:{type:P.i6.SINGLE,page:e},key:e.guid},e.name)),r.createElement(tX.sK,null),r.createElement(tX.c$,{value:{type:P.i6.ALL,allPages:a},key:-1},(0,G.t)("slides.templates.file_picker.page_selector.all_pages")))):null}function tQ(){return r.createElement("div",{className:"slides_template_page_selector--pageSelectorLoadingState--oaDQH"},r.createElement("div",{className:U.s.fontMedium.overflowHidden.colorTextSecondary.$},(0,G.t)("slides.templates.file_picker.page_selector.loading")),r.createElement(X.kt,null))}function t$({templateSelected:e}){let{startAction:t,figjamFileKey:n}=tj();return r.createElement(t5,null,r.createElement(eq.$n,{iconPrefix:r.createElement(tC.x,null),variant:"primary",onClick:t,disabled:!n},(0,G.tx)(e?"slides.templates.template_picker.submit.button.with_template":"slides.templates.template_picker.submit.button.without_template")))}function t0({createOutline:e,addAllSlides:t,disabled:n}){let{isCreateSlidesOutlineEnabled:a}=(0,eW.mp)();return r.createElement("div",{className:c()(U.s.flex.itemsCenter.justifyEnd.py8.pr16.gap8.$,es)},a&&r.createElement(eq.$n,{iconPrefix:r.createElement(tv.V,null),variant:"secondary",onClick:e,disabled:n},(0,G.tx)("slides.templates.outline_with_template.button")),r.createElement(eq.$n,{variant:"secondary",onClick:t,disabled:n},(0,G.tx)("slides.templates.add_all_slides")))}function t1({children:e}){return r.createElement(t5,null,r.createElement("div",{className:U.s.flex.gap8.itemsCenter.$},r.createElement(tZ,null),e))}function t2(){let e=(0,o.md)(P.V6),{startAction:t,figjamFileKey:n}=tj();return r.createElement(t1,null,r.createElement(eq.$n,{iconPrefix:r.createElement(tC.x,null),variant:"primary",onClick:t,disabled:!n||e.type===P.i6.NONE},(0,G.tx)("slides.templates.file_picker.submit_button.generate")))}function t3(){let e=(0,o.md)(P.V6),t=(0,o.Xr)(P.bY),n=(0,o.md)(P.oQ);return r.createElement(t1,null,r.createElement(eq.$n,{variant:"primary",onClick:()=>{t({type:P.Vf.TEMPLATE_PICKER})},disabled:!n||e.type===P.i6.NONE},(0,G.tx)("slides.templates.file_picker.submit_button.pick_template")))}function t5({children:e}){return r.createElement("div",{className:c()(U.s.flex.itemsCenter.justifyBetween.pl12.pr8.py8.$,es)},r.createElement("div",{className:U.s.flex.itemsCenter.justifyStart.gap8.$},r.createElement(tw.y,{helpUrlVariant:N.JT.BOARD_TO_DECK})),e)}var t4=n(643726);function t6({libraryKey:e}){let t=(0,V.NG)(e),[n,a]=(0,o.fp)(P.bY),l=null===(0,b.tS)(),i=(0,V.r$)(),s=(0,V.S7)(),c=(0,o.Xr)(P.ux),d=(0,o.Xr)(P.oQ);return((0,r.useEffect)(()=>{l||["loading","loaded"].includes(t.status)||(0,tp.Lo)(tu.e.SLIDES,`Query result status has unexpected value: ${t.status}`)},[l,t.status]),"loading"===t.status||l)?r.createElement(eL,null,r.createElement(tc,{title:"",isLoading:!0,onClick:()=>{a(n.type===P.Vf.TEMPLATE?n.parentView:{type:P.Vf.ALL}),c(null),d(null)},showSeparator:!1}),r.createElement("div",{className:U.s.px16.overflowHidden.$},r.createElement(eN,null)),i===V.Ji.OVERLAY_MODAL&&!s&&r.createElement(t0,{createOutline:Y.lQ,addAllSlides:Y.lQ,disabled:!0})):r.createElement(t8,{libraryKey:e,modules:t.data||[]})}function t8({libraryKey:e,modules:t}){let n=(0,b.q5)(),a=(0,V.r$)(),[s,c]=(0,o.fp)(P.bY),d=(0,o.Xr)(P.ux),u=(0,o.Xr)(P.oQ),{showSeparator:m}=(0,V.gH)(),p=(0,l.wA)(),f=(0,V.m4)(),g=t&&t.length>0,h=(0,t4.e)(),E=s.type===P.Vf.TEMPLATE&&s.shouldRemoveSourceLibraryKeyOnFail,_=(0,V.BX)(h);if((0,r.useEffect)(()=>{if(!g&&s.type===P.Vf.TEMPLATE){if(E){_(),c({type:P.Vf.ALL});return}e?((0,tp.x1)(tu.e.SLIDES,"Expected to find at least one module in slides template",{libraryKey:e},{reportAsSentryError:!0}),p(tf.F.enqueue({type:"slides-template",message:(0,G.t)("slides.templates.toast.no_longer_available"),error:!0,icon:tg.zX.EXCLAMATION}))):(0,tp.x1)(tu.e.SLIDES,"No library key found for slides template",{},{reportAsSentryError:!0}),c({type:P.Vf.ALL})}},[p,g,e,t,_,c,E,s.type]),!g)return null;let y=t[0],C=()=>{let e=i.Ez5.canvasGrid().canvasGridArray.getCopy().length>0,r=i.Ez5.getInsertGridCoord({x:-1/0,y:-1/0});if(h&&h!==tm.AD){let e=i.Ez5.canvasGrid().coordForChild(h);r={row:e.row,col:e.col+1}}else r=e?{row:i.Ez5.canvasGrid().getLastChildCoord().row+1,col:0}:{row:0,col:0};f(),p((0,t_.yy)({modules:t,canvasPosition:new J.Mi,percentageOffset:new J.Mi,insertAsChildOfCanvas:!0,afterSlideModulesInsertion:(e,t)=>{z.l7.user("add-all-slides",()=>{e.forEach((e,n)=>{(0,V.M)({module:e,insertedItems:t[n],viewType:a,getGridCoord:()=>({row:r.row,col:r.col+n})})}),(0,tb.fL)(t[0][0]),ty.Y5.commit()})}})),z.l7.user("add-all-slides",()=>{i.Ez5.slideThemeLibBindings().setDocumentTemplateLibraryKey(t[0].library_key)}),!(0,ez.k)().piper_auto_rename&&n?.key&&y.file_name&&!e&&n.name===(0,G.t)("fullscreen.fullscreen_view_selector.untitled")&&p(tE.Nw({file:{key:n.key},name:y.file_name})),y.isHubFile&&p((0,th.k8)({hubFileId:(0,Z.f)()(y)})),(0,V.qm)(p,y)},v=y.file_name||"",w=y.publisher_name;return r.createElement(eL,null,r.createElement(tc,{title:v,publisherName:w,onClick:()=>{c(s.type===P.Vf.TEMPLATE?s.parentView:{type:P.Vf.ALL}),d(null),u(null)},showSeparator:m},r.createElement(t9,{addAllSlides:C})),r.createElement(e_,{modules:t}),a===V.Ji.OVERLAY_MODAL&&r.createElement(t0,{createOutline:()=>{d(y.library_key),c({type:P.Vf.FILE_PICKER,parentType:P.Vf.TEMPLATE})},addAllSlides:C}))}function t9({addAllSlides:e}){return(0,V.r$)()===V.Ji.PICKER?r.createElement(t7,null,r.createElement(eq.$n,{variant:"secondary",onClick:e},(0,G.tx)("slides.templates.add_all_slides"))):null}function t7({children:e}){return r.createElement("div",{className:U.s.mr8.mlAuto.$},e)}var ne=n(767281),nt=n(474132);function nn({title:e,templates:t,onRequestMore:n,onSeeAllClick:a}){return r.createElement(eb,{title:e,rightHeaderCta:a?r.createElement(e5,{onSeeAllClick:a}):void 0},t.map(e=>r.createElement(ef,{key:(0,ee.gp)(e),template:e})),r.createElement(tt.a,{onIntersectionChange:n}))}function na({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:n,requestLoadMore:a,requestLoadMoreForTeam:l}=(0,D.GR)(e,e$._Y.SLIDES),i=(0,nt.G7)(e),o=(0,V.fK)(),{teamTemplates:s,isLoading:c,requestLoadMoreForOrg:d}=(0,D.e2)({orgId:e.id,areWorkspacesEnabled:i,numTemplatesPerTeam:o,editorType:e$._Y.SLIDES,filterByIds:null}),u=(0,ez.k)().pro_templates_lg,m=u?s:n,p=(0,eX.Xr)(P.bY),{scrollPosition:f,scrollRef:g,onScroll:h}=(0,V.d$)(P.Vf.ORG),E=m?.[m.length-1]?.teamId??null,_=(0,r.useRef)(null);(0,ne.X)({containerRef:g,targetRef:_,targetKey:E,onIntersectionChange:u?d:a});let y=()=>p({type:P.Vf.ALL});return(u?c:t)?r.createElement(eL,null,r.createElement(tc,{isLoading:!0,title:"",onClick:y}),r.createElement(ek,null)):r.createElement(eL,null,r.createElement(tc,{title:e.name,onClick:y}),r.createElement(B.P,{className:U.s.px8.hFull.$,scrollContainerRef:g,initialScrollTop:f,onScroll:h},m.map(t=>r.createElement("div",{key:t.teamId,ref:E===t.teamId?_:null},r.createElement(nn,{key:t.teamId,title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{u||l(t.teamId)},onSeeAllClick:u&&t.totalTemplatesByTeam>o?()=>p({type:P.Vf.TEAM,teamId:t.teamId,displayName:t.teamName??e.name}):void 0})))))}function nr({templates:e,scrollContainerRef:t,onRequestMore:n}){let a=e?.[e.length-1]?.id,l=(0,r.useRef)(null);return(0,ne.X)({containerRef:t,targetRef:l,targetKey:a,onIntersectionChange:n}),r.createElement(eb,null,e.map(e=>r.createElement("div",{key:e.id,ref:e.id===a?l:void 0},r.createElement(ef,{key:e.id,template:{type:e2.n.TeamTemplateLg,template:e}}))))}function nl({teamId:e,displayName:t}){let{requestLoadMoreForTeam:n,templatesByTeam:a}=(0,D.li)({teamId:e,editorType:e$._Y.SLIDES}),l=(0,eX.Xr)(P.bY),{scrollPosition:i,scrollRef:o,onScroll:s}=(0,V.d$)(P.Vf.TEAM),c=(0,C.dq)();return r.createElement(eL,null,r.createElement(tc,{title:t,onClick:()=>{c?l({type:P.Vf.ORG}):l({type:P.Vf.ALL})}}),a?r.createElement(B.P,{className:U.s.p8.hFull.$,scrollContainerRef:o,initialScrollTop:i,onScroll:s},r.createElement(nr,{scrollContainerRef:o,templates:a.templates,onRequestMore:n})):r.createElement("div",{className:U.s.p8.$},r.createElement(eI,null)))}var ni=n(410725),no=n(425914),ns=n(710044),nc=n(125761),nd=n(55116),nu=n(47054);function nm({showCloseButton:e}){let[t,n]=(0,o.fp)(P.bY),{files:a,searchQuery:l,debouncedSearchQuery:i,setSearchQuery:s,status:d}=(0,V._8)(e$._Y.WHITEBOARD),[u,m]=(0,o.fp)(P.ux),p=(0,o.Xr)(P.oQ),{showSeparator:f}=(0,V.gH)();return t.type!==P.Vf.FILE_PICKER?null:r.createElement(eL,{dataTestId:"file-picker-view"},r.createElement(eF,{searchQuery:l,setSearchQuery:s,onBack:function(){t.type===P.Vf.FILE_PICKER&&(u&&t.parentType===P.Vf.TEMPLATE?n({type:P.Vf.TEMPLATE,libraryKey:u,parentView:{type:P.Vf.ALL}}):(n({type:P.Vf.ALL}),m(null),p(null)))},showCloseButton:!!e,placeholder:(0,G.t)("slides.templates.file_picker.search_files")}),r.createElement("div",{className:c()(U.s.pt16.pb24.px16.flex.flexColumn.gap2.$,{[eo]:f})},r.createElement(eB,{icon:r.createElement(no.w4,{size:16,type:ns.y1.WHITEBOARD}),title:(0,G.t)("slides.templates.file_picker.title"),subtitle:(0,G.t)("slides.templates.file_picker.subtitle")})),r.createElement(np,{status:d,debouncedSearchQuery:i,files:a}),t.parentType===P.Vf.TEMPLATE?r.createElement(t2,null):r.createElement(t3,null))}function np({status:e,debouncedSearchQuery:t,files:n}){let{scrollPosition:a,scrollRef:o,onScroll:s}=(0,V.d$)(P.Vf.FILE_PICKER),{onShowSeparatorScroll:d}=(0,V.gH)(),u=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===i.kul.JOINED),m=null===(0,b.tS)();return e===V.J_.LOADING||!u||m?r.createElement(ex,null):e!==V.J_.SUCCESS?r.createElement("div",{className:U.s.flex.itemsCenter.justifyCenter.hFull.wFull.colorText.textBodyLarge.pre.$},r.createElement(ng,{debouncedSearchQuery:t,status:e})):r.createElement(B.P,{className:c()(U.s.px8.hFull.$),onScroll:(e,t)=>{s(e,t),d(e,t)},scrollContainerRef:o,initialScrollTop:a},r.createElement("div",{className:c()(ec,U.s.pb12.$)},n.map(e=>r.createElement(nf,{file:e,key:e.key}))))}function nf({file:e}){let t=(0,nc.iZ)(),[n,a]=(0,o.fp)(P.oQ),{disabled:l,tooltipText:i}=function(e){let t=(0,ni.Rs)(nd.bgg,{fileKey:e});if("loaded"!==t.status)return{disabled:!0,tooltipText:void 0};if(t.data.file?.viewerExportRestricted&&t.data.file?.canEdit===!1)return{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.viewer_export_restricted_disabled")};let n=t.data.file?.org;if(n?.k12GoogleOrg||n?.aiFeaturesDisabledAt)return{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.ai_disabled.org")};let a=t.data.file?.team;return a?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.ai_disabled.team")}:{disabled:!1,tooltipText:void 0}}(e.key);return r.createElement("div",{className:c()(U.s.pt8.px8.$,"slides_template_ui--fileTile--6wu1g")},r.createElement(nu.GQ,{activeFileUsers:[],currentUser:t,disableIconOverlays:!0,disabled:l,file:e,isSelected:!l&&n===e.key,onClick:t=>{t.stopPropagation(),l||a(e.key)},overrideOnClick:!0,subtitle:r.createElement(nu.lJ,{file:e}),titleFontSize:11,tooltipText:i}))}function ng({debouncedSearchQuery:e,status:t}){return t===V.J_.NO_QUERY_RESULTS?(0,G.tx)("slides.templates.file_picker.no_files_match",{searchQuery:r.createElement("p",{className:U.s.colorText.textBodyLargeStrong.$},e)}):t===V.J_.NO_RECENT_FILES?r.createElement("h1",{className:U.s.colorText.textBodyLarge.$},(0,G.tx)("slides.templates.file_picker.no_recent_files")):null}function nh({showCloseButton:e}){let{searchQuery:t,setSearchQuery:n}=(0,V.$N)(),[a,s]=(0,o.fp)(P.bY),c=a.type===P.Vf.TEMPLATE_PICKER&&a.figjamEntryPointData,d=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===i.kul.JOINED)||(0,tJ.nl)();return r.createElement(eL,{dataTestId:"template-picker-view"},c?r.createElement(eP,{searchQuery:t,setSearchQuery:n,showCloseButton:!0,placeholder:(0,G.t)("slides.templates.search_templates")}):r.createElement(eF,{searchQuery:t,setSearchQuery:n,onBack:function(){s({type:P.Vf.FILE_PICKER,parentType:P.Vf.TEMPLATE_PICKER})},showCloseButton:!!e,placeholder:(0,G.t)("slides.templates.template_picker.search_templates")}),d?r.createElement(nE,null):r.createElement(ek,{removePadding:!0}))}function nE(){let{trimmedSearchQuery:e,isSearchQueryLoading:t,searchQueryResult:n,requestLoadMore:a}=(0,V.$N)(),l=(0,o.md)(P.ux),{showSeparator:i}=(0,V.gH)();return r.createElement(r.Fragment,null,r.createElement("div",{className:c()(U.s.p16.flex.flexColumn.gap2.$,{[eo]:e&&i})},r.createElement(eB,{icon:r.createElement("div",{style:{"--color-icon":"var(--color-icon-menu-onselected)"},className:U.s.colorBgBrand.h14.w14.bRadius2.flex.alignCenter.itemsCenter.$},r.createElement(eH.Q,null)),title:(0,G.t)("slides.templates.template_picker.title"),subtitle:(0,G.t)("slides.templates.template_picker.subtitle")})),e?r.createElement(tr,{isSearchQueryLoading:t,trimmedSearchQuery:e,searchQueryResult:n,requestLoadMore:a}):r.createElement(ny,null),r.createElement(t$,{templateSelected:!!l}))}var n_=(e=>(e[e.RECENTS=1]="RECENTS",e[e.HUB_FILE=2]="HUB_FILE",e[e.ORG=3]="ORG",e))(n_||{});function ny(){let e=(0,C.sZ)(),[t,n]=r.useState([]),[a,l]=r.useState(null),[{data:i}]=(0,eZ.IT)((0,e4._)()),o=(0,eQ.eE)(T.$A.Slides),{scrollPosition:s,scrollRef:d,onScroll:u}=(0,V.d$)(P.Vf.TEMPLATE_PICKER),{showSeparator:m,onShowSeparatorScroll:p}=(0,V.gH)(),f=r.useCallback((e,t)=>{u(e,t),p(e,t)},[u,p]);(0,r.useEffect)(()=>{let t=[];if(o.length>0&&t.push({type:1,id:"recents",label:(0,G.t)("slides.templates.recents")}),i)for(let e of i)t.push({type:2,shelf:e,id:`hub-${e.id}`,label:e.title});e&&t.push({type:3,id:"org",label:(0,G.t)("slides.templates.org_templates")}),n(t),t.length>0&&l(t[0].id)},[o,e,i]);let g=e=>()=>{l(e)},h={scrollContainerRef:d,initialScrollTop:s,onScroll:f},E=t.find(e=>e.id===a);return E?r.createElement(r.Fragment,null,r.createElement("div",{className:c()(U.s.flex.flexRow.gap6.alignCenter.itemsCenter.px16.pb16.$,{[eo]:m})},t.map(e=>r.createElement("button",{key:e.id,className:c()(U.s.textBodyMedium.colorText.spacingWide.alignCenter.px8.h24.$,{"slides_template_ui--tabButton--R1hl1":a===e.id,[U.s.textBodyMediumStrong.$]:a===e.id,[U.s.colorTextSecondary.$]:a!==e.id}),onClick:g(e.id)},2===e.type?(0,G.Yd)(e.shelf.i18n_meta.title,e.shelf.title):e.label))),(t=>{switch(t.type){case 2:return r.createElement(nw,{shelf:t.shelf,...h});case 1:return r.createElement(nb,{...h});case 3:if(!e)throw Error("Something went wrong in tab calculation");return r.createElement(nv,{currentOrg:e,...h})}})(E)):null}function nb({scrollContainerRef:e,initialScrollTop:t,onScroll:n}){let a=(0,eQ.eE)(T.$A.Slides);return 0===a.length?null:r.createElement(B.P,{className:U.s.px8.hFull.$,scrollContainerRef:e,initialScrollTop:t,onScroll:n},r.createElement(ey,null,a.map(e=>r.createElement(ef,{key:(0,ee.NH)(e),template:e}))))}function nC({teamId:e,displayName:t,onBackClick:n}){let{requestLoadMoreForTeam:a,templatesByTeam:l}=(0,D.li)({teamId:e,editorType:e$._Y.SLIDES}),i=(0,r.useRef)(null);return r.createElement(r.Fragment,null,r.createElement(tc,{title:t,onClick:n,showSeparator:!1}),l?r.createElement(B.P,{scrollContainerRef:i,className:U.s.px8.hFull.$},r.createElement(nr,{scrollContainerRef:i,templates:l.templates,onRequestMore:a})):r.createElement(eI,null))}function nv({currentOrg:e,scrollContainerRef:t,initialScrollTop:n,onScroll:a}){let{isLoadingTeamTemplates:l,templatesByTeam:i,requestLoadMore:o,requestLoadMoreForTeam:s}=(0,D.GR)(e,e$._Y.SLIDES),c=(0,nt.G7)(e),{teamTemplates:d,isLoading:u,requestLoadMoreForOrg:m}=(0,D.e2)({orgId:e.id,areWorkspacesEnabled:c,numTemplatesPerTeam:6,editorType:e$._Y.SLIDES,filterByIds:null}),p=(0,ez.k)().pro_templates_lg,f=p?d:i,g=f?.[f.length-1]?.teamId??null,h=(0,r.useRef)(null);(0,ne.X)({containerRef:t,targetRef:h,targetKey:g,onIntersectionChange:p?m:o});let[E,_]=r.useState(null);return E?r.createElement(nC,{teamId:E,displayName:e.name,onBackClick:()=>_(null)}):(p?u:l)?r.createElement(ek,null):r.createElement(r.Fragment,null,r.createElement(B.P,{className:U.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:n,onScroll:a},f.map(t=>r.createElement("div",{key:t.teamId,ref:g===t.teamId?h:null},r.createElement(nn,{key:t.teamId,title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{p||s(t.teamId)},onSeeAllClick:p&&t.totalTemplatesByTeam>6?()=>{_(t.teamId)}:void 0})))))}function nw({shelf:e,scrollContainerRef:t,initialScrollTop:n,onScroll:a}){let[{status:l}]=(0,eZ.IT)((0,e4._)());if("loading"===l)return r.createElement(ek,null);let i=e.id;return r.createElement(B.P,{className:U.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:n,onScroll:a},r.createElement(ey,null,e.shelf_content.map(e=>{let t={type:e2.n.HubFile,category:i,template:e};return r.createElement(ef,{key:e.id,template:t})})))}function nT({showCloseButton:e}){let t=(0,o.md)(P.bY),n=(0,o.Xr)(P.VZ),a=(0,o.Xr)(P.Ei),l=(0,o.Xr)(P.OR),i=(0,o.Xr)(P.xw),s=(0,D.Gi)();switch((0,r.useEffect)(()=>()=>{l(""),i()},[i,l]),t.type){case P.Vf.ALL:return r.createElement(ti,{showCloseButton:e,closePicker:()=>{a(!1),n(!1)}});case P.Vf.ORG:if(s?.type!=="org")throw Error("User is not allowed to browse org templates");return r.createElement(na,{currentOrg:s.entity});case P.Vf.TEAM:if(!s)throw Error("User is not allowed to browse team templates");return r.createElement(nl,{teamId:t.teamId,displayName:t.displayName});case P.Vf.TEMPLATE:return r.createElement(t6,{libraryKey:t.libraryKey});case P.Vf.HUB_FILE:return r.createElement(td,{shelfId:t.shelfId});case P.Vf.FILE_PICKER:return r.createElement(nm,{showCloseButton:e});case P.Vf.TEMPLATE_PICKER:return r.createElement(nh,{showCloseButton:e});default:return null}}var nS=n(414607),nk=n(27776);function nI({children:e}){let{canDismiss:t,maybeUseLightTemplateOnDismiss:n}=(0,V.vN)();return r.createElement(nS.aF,{className:c()("slides_template_modal--templateModal--GmDGm",m.Qx),size:(0,d.hG)(nk.uRR),onHide:n,tintedModalBackground:!0,disableClickOutsideToHide:!t,enableEscapeToClose:t,"data-testid":"slides-template-modal"},r.createElement("div",{className:U.s.overflowHidden.$,style:{height:"600px"}},e))}function nN(){let[e,t]=(0,o.fp)(P.Ei),n=(0,_.dP)(),a=(0,k._)(),i=(0,I.Ye)(),s=(0,l.wA)(),f=(0,C.sZ)(),g=r.useRef(null);if((0,M.Y)(()=>t(!1),{closeOnEsc:!0,ignore:[g,(0,E.Tc)("slides-template-button"),(0,E.Tc)(L.G),(0,E.Tc)(R.l)]}),(0,r.useEffect)(()=>{s(S.cd.fetchTemplatesMetadata({key:T.$A.Slides,orgId:f?.id})),s(u.sz({shelfType:w.cS.PIPER_TEMPLATE_MODAL}))},[f?.id,s]),!e)return null;let h=i?70+a:(0,d.jz)(nk.M$q)+a;return r.createElement(p.fu,{name:"Slides Template Picker"},r.createElement("div",{className:c()("slides_template_ui--pickerContainer--a3RMS",m.Dm),style:{top:h,left:i?12:n+12,width:408,height:window.innerHeight-h-72},ref:g,"data-testid":"slides-template-picker"},r.createElement(V.Jn.Provider,{value:V.Ji.PICKER},r.createElement(nT,null))))}function nx(){let e=(0,y.p8)("isReadOnly"),t=(0,A.jY)(),n=!!(0,V.S7)(),a=(0,v.ut)(i.Ez5?.canvasGrid().canvasGridArray,[]).flat().length>0,l=(0,o.md)(P.q7),s=(0,A.EI)(),c=(0,o.md)(g.D),d=(0,o.md)((0,h.r1)(O.Kt)).data,u=(0,o.md)(P.VZ),m=(0,o.md)(f.u2),{state:E}=(0,x.wj)(N.JT.BOARD_TO_DECK),_=(0,b.tS)();return l||m&&m.fileKey&&!l||e||!d||!s||t||n||a||c&&!u||E===x.qy.RUNNING?null:r.createElement(p.fu,{name:"Slides Template Overlay Modal",properties:{productType:"slides",fileKey:_}},r.createElement(V.Jn.Provider,{value:V.Ji.OVERLAY_MODAL},r.createElement(nI,null,r.createElement(nT,{showCloseButton:!0}))))}},280042:(e,t,n)=>{n.d(t,{R:()=>p,l:()=>m});var a=n(848318),r=n(531788),l=n(990140),i=n(999667),o=n(623052),s=n(967688),c=n(17753),d=n(929083),u=n(494942);let m="toolbar-add-slide-button";function p(){let e=(0,i.md)(o.o),{toggleTemplatePicker:t}=(0,u.uu)();return e?null:a.createElement(r.$n,{onClick:t,iconPrefix:a.createElement(l.e,null),variant:"secondary",recordingKey:"toolbar.addSlideButton",htmlAttributes:{"data-testid":"addSlideButton","data-element-target":m,"data-onboarding-key":d.MB,"data-tooltip":(0,s.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":c.Ib.TEXT,"data-fullscreen-intercept":!0}},(0,s.tx)("slides.carousel.new_slide"))}},958956:(e,t,n)=>{n.d(t,{qM:()=>G,RS:()=>D,cR:()=>B,FT:()=>M});var a=n(848318),r=n(301168),l=n(954703),i=n(773511),o=n(531788),s=n(1511),c=n(124810),d=n(186606),u=n(320953),m=n(580494),p=n(999667),f=n(536384),g=n.n(f),h=n(82009),E=n(996202),_=n(781239),y=n(264478),b=n(324698),C=n(297638),v=n(967688),w=n(952039),T=n(142896),S=n(353231),k=n(130953),I=n(303397),N=n(244979),x=n(17753),A=n(689386),L=n(956755);let O="slides_insert_embed_modal--sectionContainer--r1D85",R="slides_insert_embed_modal--recentPrototypeThumbnail--2N-ss",M=(0,p.eU)(-1),D="slide-insert-embed-modal-button";async function P({fileKey:e,nodeId:t}){let n=await (0,A.R)({fileKey:e});if(!n)return!1;let a=!0;return u.l7.user("convert-prototype-to-state-group",()=>{a=d.DCy?.createEmbeddedPrototype(e,n,t)||!1}),a}async function F({fileKey:e,nodeId:t}){let n=await (0,A.R)({fileKey:e});return n&&d.DCy?.getPrototypeFileStructureData(e,n,t)||{}}function B(){let e=(0,r.wA)(),t=(0,E.U)(),[n,l]=(0,p.fp)(M),i=(0,a.useRef)(null),o=(0,a.useCallback)((e=!1)=>{e&&I.Y5.triggerAction("set-tool-default",null),l(-1)},[l]);(0,L.Y)(()=>o(!0),{closeOnEsc:!0,ignore:[i,(0,k.Tc)(D)]});let[s,c]=(0,a.useState)(0),d=(0,a.useCallback)(async e=>{let n=(0,N.pb)(e),a=(0,N.zU)(e);if(!n)return;let r=await F({fileKey:n,nodeId:a});t("slides.insert_embedded_prototype.file_structure_data",{fileKey:n,nodeId:a,...r})},[t]),u=(0,a.useCallback)(e=>{I.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"EMBED",url:e}),o(),d(e)},[o,d]),f=(0,a.useCallback)(async t=>{if(!(0,m.k)().slides_embedded_prototypes_v2)return;let n=(0,N.pb)(t),a=(0,N.zU)(t);if(n){if(o(),e(w.F.enqueue({type:"insert-embedded-prototype",get message(){return(0,v.t)("slides.flapp.embed.insert_loading_prototype")}})),await P({fileKey:n,nodeId:a})){e(w.F.clearAll());return}u(t)}},[o,e,u]),g=(0,r.d4)(e=>e.currentUserOrgId),_=(0,h.O8)(g||null),y=0===s?(0,v.t)("slides.flapp.embed.widget_modal_title"):(0,v.t)("slides.flapp.embed.prototype_modal_title");return a.createElement(G,{closeWidow:o,ref:i,center:n},a.createElement(K,{title:y,showBackButton:0!==s,onBackClicked:()=>c(0),onCloseClicked:o},0===s?a.createElement(V,{closeModal:o,navigateToPrototypeStep:()=>c(1)}):a.createElement(z,{recentPrototypes:_,onAddPrototypeRequested:(0,m.k)().slides_embedded_prototypes_v2?f:u})))}var U=(e=>(e[e.LANDING=0]="LANDING",e[e.PROTOTYPE=1]="PROTOTYPE",e))(U||{});let G=(0,a.forwardRef)(function(e,t){let[n]=(0,p.fp)(b.S),r=n?.current?.getBoundingClientRect(),l=(r?.height??0)>0,i=(0,a.useMemo)(()=>l?{bottom:window.innerHeight-(r?.y??0)+8}:{bottom:72},[l,r?.y]);return a.createElement("div",{ref:t,style:{position:"fixed",width:"fit-content",margin:"auto",left:e.center,transform:"translateX(-50%)",...i},className:g()(["slides_insert_embed_modal--dockedToolbeltWindow--lJ7x1 text--fontPos13--xW8hS text--_fontBase--QdLsd",T.Dm])},a.createElement("div",{style:{minWidth:e.minWidth??r?.width??396}},e.children))});function K({children:e,title:t,showBackButton:n,onBackClicked:r,onCloseClicked:i}){return a.createElement(a.Fragment,null,a.createElement("div",{className:g()("slides_insert_embed_modal--headerContainer--5xFbR",n?C.s.pl8.$:C.s.pl16.$)},a.createElement("div",{className:C.s.textBodyMediumStrong.flex.itemsCenter.$},n?a.createElement(l.K,{onClick:r,"aria-label":(0,v.t)("general.back")},a.createElement(s.C,null)):null,a.createElement("p",null,t)),a.createElement(l.K,{"aria-label":(0,v.t)("common.close"),onClick:i},a.createElement(c.A,null))),a.createElement(j,null),a.createElement("div",{className:"slides_insert_embed_modal--contentContainer--5pDam"},e))}function V({closeModal:e,navigateToPrototypeStep:t}){let r=t=>{t(),e()},l="liveInteractionModal";return a.createElement("div",{className:"slides_insert_embed_modal--widgetContainer--LvggL"},a.createElement("div",{className:C.s.textBodyMedium.colorTextSecondary.pb16.$},(0,v.tx)("slides.flapp.embed.widget_modal_description")),a.createElement("div",{className:"slides_insert_embed_modal--widgetGrid---WhKd"},a.createElement(H,{thumbnail:n(947615),title:(0,v.t)("slides.flapp.embed.widget_poll"),onSelected:()=>r(()=>I.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"POLL"})),recordingKey:_.Pt(l,"poll")}),a.createElement(H,{thumbnail:n(795595),title:(0,v.t)("slides.flapp.embed.widget_stamps"),onSelected:()=>r(()=>I.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"FACEPILE"})),recordingKey:_.Pt(l,"facepile")}),a.createElement(H,{thumbnail:n(317240),title:(0,v.t)("slides.flapp.embed.widget_alignment"),onSelected:()=>r(()=>I.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"ALIGNMENT"})),recordingKey:_.Pt(l,"alignment")}),a.createElement(H,{thumbnail:n(377832),title:(0,v.t)("slides.flapp.embed.widget_prototype"),onSelected:t,recordingKey:_.Pt(l,"prototype")})))}function H({thumbnail:e,title:t,onSelected:n,recordingKey:r}){return a.createElement(i.E,{className:C.s.flex.flexColumn.gap8.$,onClick:n,recordingKey:r},a.createElement("img",{className:"slides_insert_embed_modal--widgetThumbnail--u966s",src:e,alt:t,draggable:!1}),a.createElement("p",{className:C.s.wFull.textBodyMediumStrong.alignLeft.$},t))}function z({recentPrototypes:e,onAddPrototypeRequested:t}){return a.createElement(a.Fragment,null,a.createElement(Y,null),a.createElement(q,{prototypes:e,maxCount:3,onPrototypeClick:t}),a.createElement(J,{onAddPrototypeUrlClicked:t}))}function W({prototypeUrl:e,onClick:t}){let n=(0,N.Ik)(e),r=n||!e?void 0:(0,v.t)("slides.flapp.embed.add_button_invalid_link_tooltip");return a.createElement("div",{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0},a.createElement(o.$n,{variant:"primary",disabled:!n,onClick:()=>{e&&t(e.trim())}},(0,v.tx)("slides.flapp.embed.add_button_label")))}function j(){return a.createElement("div",{className:C.s.wFull.colorBgTertiary.h1.$})}function Y(){return a.createElement("div",{className:g()(C.s.colorTextSecondary.textBodyMedium.$,O)},(0,v.tx)("slides.flapp.embed.modal_description"))}function J({onAddPrototypeUrlClicked:e}){let[t,n]=(0,a.useState)(),r=(0,v.t)("slides.flapp.embed.add_prototype_link_hint",{prototype_link_prefix:(0,N.qS)()});return a.createElement("div",null,a.createElement("div",{className:C.s.textBodyMediumStrong.$},(0,v.tx)("slides.flapp.embed.add_prototype_link_header")),a.createElement("div",{className:"slides_insert_embed_modal--prototypePasteContainer--PozcZ"},a.createElement(y.ks,{className:"slides_insert_embed_modal--prototypeLinkInput--9Jynj",type:"url",onChange:e=>{n(e.target.value)},value:t,placeholder:r}),a.createElement(W,{prototypeUrl:t,onClick:()=>{t&&((0,S.Cu)({name:"slides.flapps.embed.add_prototype_link_button_clicked",fileKey:(0,N.pb)(t),productType:"slides"}),e(t))}})))}function q({prototypes:e,maxCount:t,onPrototypeClick:n}){let r=(0,a.useMemo)(()=>e.data?.slice(-t)?.reverse(),[e,t]);return!r||r.length<1?null:a.createElement("div",{className:O},a.createElement("div",{className:C.s.textBodyMediumStrong.$},(0,v.tx)("slides.flapp.embed.recent_prototypes_header"),r.map(e=>a.createElement(X,{thumbnailUrl:e.thumbnail_url,title:e.name,subtitle:e.fig_file.name,key:`${e.name}_${e.file_key}`,onClick:()=>{(0,S.Cu)({name:"slides.flapps.embed.recent_prototype_tile_clicked",fileKey:e.file_key,productType:"slides"}),n(e.url)}}))))}function X({thumbnailUrl:e,title:t,subtitle:n,onClick:r}){return a.createElement(i.E,{className:"slides_insert_embed_modal--recentPrototypeTileContainer--ig9io",onClick:r},e?a.createElement("img",{className:R,alt:"Prototype thumbnail",src:e,loading:"lazy",draggable:!1}):a.createElement("div",{className:R}),a.createElement("div",{className:C.s.alignLeft.$},a.createElement("p",{className:C.s.textBodyMediumStrong.$},t),a.createElement("p",{className:C.s.textBodySmall.colorTextSecondary.$},n)))}},268286:(e,t,n)=>{n.d(t,{Ix:()=>p,bs:()=>u,zF:()=>m});var a=n(848318),r=n(999667),l=n(251439),i=n(297638),o=n(130953),s=n(303397),c=n(956755),d=n(958956);let u=(0,r.eU)(-1),m="slide-insert-shape-modal-button";function p({activateTool:e,activeToolId:t,areAnyShapesActive:n,shapes:p}){let[f,g]=(0,r.fp)(u),h=(0,a.useCallback)((e=!1)=>{e&&s.Y5.triggerAction("set-tool-default",null),g(-1)},[g]),E=(0,a.useRef)(null);return(0,c.Y)(()=>h(!n),{closeOnEsc:!0,ignore:[E,(0,o.Tc)(m)]}),a.createElement(d.qM,{closeWidow:h,ref:E,minWidth:152,center:f},a.createElement("div",{className:i.s.flex.flexWrap.p8.itemsCenter.contentCenter.gap8.$,style:{width:152}},p.map(n=>a.createElement(l.p_,{key:n.toolId,tooltipText:n.text,tooltipShortcut:n.shortcutText,isActive:t===n.toolId,onMouseDown:()=>e(n.toolId),recordingKey:`slides-shape-${n.toolId}`},n.icon))))}},261616:(e,t,n)=>{n.d(t,{E:()=>h});var a=n(301168),r=n(186606),l=n(999667),i=n(396872),o=n(843484),s=n(453370),c=n(244534),d=n(353231),u=n(702038),m=n(730143),p=n(485654),f=n(958956),g=n(268286);function h({logToggle:e}={}){let t=function(){let e=(0,a.wA)(),t=(0,l.Xr)(f.FT),n=(0,l.Xr)(g.bs);return()=>{e(s.oB()),e(c.XE()),e(c.Uv()),t(-1),n(-1)}}(),n=(0,p.Bk)(),E=(0,m.tS)(),{Sprig:_}=(0,i.A)();return a=>{(n||a!==r.nQ7.DESIGN)&&(t(),function(e){let t=l.zl.get(o.Kh);e===r.nQ7.DESIGN&&((0,u.NT)(r.FAf.DESIGN),t===r.NLJ.COMMENTS&&r.glU.triggerAction("set-tool-default",null))}(a),a===r.nQ7.DESIGN?r.glU.triggerAction("enter-slides-design-mode",null):r.glU.triggerAction("enter-slides-mode",null),e&&a===r.nQ7.DESIGN?((0,d.Cu)({trackingContext:"slides_toggle_back_to_slides",productType:"slides",fileKey:E}),_("track","slides_toggle_back_to_slides")):e&&a===r.nQ7.SELF&&(0,d.Cu)({trackingContext:"slides_toggle_design",productType:"slides",fileKey:E}))}}},649685:(e,t,n)=>{function a(){return null}n.d(t,{V_:()=>s,Te:()=>i,Ab:()=>r,Ug:()=>o,oI:()=>l}),n(720300),n(482999),new(n(573349)).b({name:"string_management",dependencies:[],exports:{"./components":"./components.ts","./ast":"./ast.ts","./ast/schema":"./ast/schema.ts","./public_helpers":"./public_helpers.ts","./public_hooks":"./public_hooks.ts","./public_types":"./public_types.ts"},sideEffects:!1,friendFiles:[]});let r=a,l=a,i=a,o=a,s=a},319195:(e,t,n)=>{n.d(t,{J7:()=>f,bY:()=>g,hG:()=>u,hQ:()=>m});var a=n(848318),r=n(660376),l=n(186606),i=n(999667),o=n(810503),s=n(541634),c=n(760148),d=n(355032),u=(e=>(e[e.NONE=0]="NONE",e[e.SUMMARIZE_STICKIES=1]="SUMMARIZE_STICKIES",e[e.SORT_STICKIES_BY_TOPIC=2]="SORT_STICKIES_BY_TOPIC",e[e.SORT_STICKIES_BY_COLOR=3]="SORT_STICKIES_BY_COLOR",e[e.SORT_STICKIES_BY_AUTHOR=4]="SORT_STICKIES_BY_AUTHOR",e[e.SORT_STICKIES_BY_STAMP_COUNT=5]="SORT_STICKIES_BY_STAMP_COUNT",e[e.SORT_STICKIES_BY_STAMP_TYPE=6]="SORT_STICKIES_BY_STAMP_TYPE",e[e.MIND_MAP_GENERATE_IDEAS=7]="MIND_MAP_GENERATE_IDEAS",e))(u||{});let m=(0,i.eU)(0),p=(0,i.eU)(null,(e,t,n)=>{t(m,n)});function f(e){i.zl.set(p,e)}function g(){let[e,t]=(0,i.fp)(m),n=(0,a.useRef)(null),u=function(){let{summarizeCanvasSelection:e}=(0,d.ss)(l.cfv.ABOVE,void 0,"QUICK_ACTION"),t=(0,s.PX)(),{expandSelectedMindmapNode:n}=(0,c.S)();return a=>{switch(a){case 0:(0,o.xi)("AI Actions",'Unexpected AI action "none" requested');break;case 1:e();break;case 2:case 3:case 4:case 5:case 6:{let e=function(e){switch(e){case 2:return s.Uj.CLUSTER;case 3:return s.Uj.CLUSTER_BY_COLOR;case 4:return s.Uj.CLUSTER_BY_AUTHOR;case 5:return s.Uj.CLUSTER_BY_STAMP_COUNT;case 6:return s.Uj.CLUSTER_BY_STAMP_TYPE;default:return}}(a);if(!e){(0,o.xi)("AI Actions","Unexpected AI action requested",{action:a});return}t({type:e,disabled:!1,displayText:""});break}case 7:n();break;default:(0,r.xb)(a)}}}();return(0,a.useEffect)(()=>{(async()=>{if(0!==e&&e!==n.current){n.current=e;try{u(e),await new Promise(e=>setTimeout(e,1e3))}finally{t(0),n.current=null}}})()},[e,t,u]),a.createElement(a.Fragment,null)}},781943:(e,t,n)=>{n.d(t,{V:()=>y});var a=n(848318),r=n(301168),l=n(958662),i=n(186606),o=n(580494),s=n(999667),c=n(967688),d=n(957872),u=n(696786),m=n(17753),p=n(186082),f=n(473736),g=n(969641),h=n(909307),E=n(813790),_=n(473912);function y(){let e=(0,u.GS)(),t=(0,s.md)(E.zS),n=(0,s.Xr)(E.bJ),y=(0,s.Xr)(E.tz),b=e?"right":"left",C=(0,o.k)().figjam_generate_handbrake,v=C?(0,c.t)("whiteboard.ai_modal.generate_handbrake"):(0,c.t)("whiteboard.ai_modal.generate"),w=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===i.lyf.LAYOUT);(0,a.useEffect)(()=>{w||y()},[w,y]);let T={isActive:t===E.Wl.TOP_BAR,onClick:e=>{e.preventDefault(),t===E.Wl.TOP_BAR?y():((0,g.W)(b,y),n())},trackingProperties:{trackingDescriptor:d.c.FIGJAM_AI_TOOLBAR_ITEM},onboardingKey:p.bX,innerText:"AI Toolbar Entrypoint",disabled:C,dataTestId:"figjam-ai-toolbar-item",recordingKey:"figjam-ai-toolbar-item"};return e?a.createElement(h.Z,{tooltip:{type:m.Ib.TEXT,text:v},...T},a.createElement(l.C,null)):a.createElement(f.P,{icon:_.A,addLeftMargin:!0,tooltipText:v,...T})}},859524:(e,t,n)=>{n.d(t,{Cw:()=>C,Su:()=>y,v:()=>_});var a=n(848318),r=n(999667),l=n(238462),i=n(967688),o=n(863270),s=n(34542),c=n(601167),d=n(263336),u=n(991675),m=n(506794),p=n(959114),f=n(556049),g=n(593713),h=n(136169),E=n(541634);let _=(0,r.eU)(!1),y="organize";function b({onClose:e}){let t=(0,E.Cb)(),n=(0,c.LE)({subscribeToUpdates_expensive:t});return a.useEffect(()=>{t||e()},[t,e]),a.createElement("div",{style:{opacity:n?0:1,transition:"ease-in-out 0.1s all"}},a.createElement(g.Dv,{targetType:"dom",targetKey:y,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:l.lQ},a.createElement(p.mI,{bodyText:a.createElement("span",{style:{maxWidth:184}},(0,i.tx)("whiteboard.organize_menu.onboarding_text_base",{boldText:a.createElement("b",null,(0,i.tx)("whiteboard.organize_menu.onboarding_text_bold_text"))})),buttonText:(0,i.tx)("whiteboard.organize_menu.onboarding_dismiss_button_text"),onButtonClick:()=>{e()}})))}function C(){let[e,t]=(0,r.fp)(_),{show:n,isShowing:l,complete:i}=(0,s.e)({overlay:h.YiU,priority:d.N.SECONDARY_MODAL});return a.useEffect(()=>{n({canShow:()=>e})},[e,n]),a.createElement(m.M,{isShowing:l,testId:"FigJamAISummarizationEntrpointPointerOverlay"},a.createElement(o.fu,{name:u.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP},a.createElement(b,{onClose:()=>{t(!1),i()}})))}},140417:(e,t,n)=>{n.d(t,{S:()=>h,o:()=>g});var a=n(848318),r=n(186606),l=n(320953),i=n(999667),o=n(967688),s=n(577148),c=n(489082),d=n(963307),u=n(930288),m=n(21614),p=n(782288),f=n(892864);function g(e){let t=(0,m.uQ)()||"",n=(0,d.kl)("embedData"),o=decodeURIComponent(c.E7(n)?.originalText||""),p=(0,s.tq)(n),f=(0,i.Xr)(u.n);return a.useCallback(()=>{o&&(p(s.yc.CONVERT_TO_TEXT),f({type:"MINIMIZE"}),(0,l.l7)(e,"convert-embed-to-text",()=>r.glU.replaceNodeWithText(t,o)))},[o,p,f,t,e])}function h(e){let t=(0,i.md)(u.n),n=(0,m.uQ)()||"",l=(0,d.kl)("embedData"),s=decodeURIComponent(c.E7(l)?.originalText||""),h=g(r.zkO.USER);return l&&n&&s&&(!t||e.inModal)?a.createElement(p.K0,{svg:f.A,active:"NONE",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:h,recordingKey:"embedConvertToTextControl"}):null}},323044:(e,t,n)=>{n.d(t,{e:()=>h,f:()=>g});var a=n(848318),r=n(301168),l=n(999667),i=n(967688),o=n(564837),s=n(577148),c=n(489082),d=n(963307),u=n(930288),m=n(782288),p=n(305639);let f=()=>{let e=(0,d.kl)("embedData");return decodeURIComponent(c.E7(e)?.url||c.E7(e)?.srcUrl||"")};function g(){let e=(0,r.wA)(),t=f(),n=(0,d.kl)("embedData"),l=(0,s.tq)(n);return a.useCallback(()=>{t&&(l(s.yc.OPEN_PREVIEW),e((0,o.RK)({rawInput:t})))},[t,e,l])}function h(e){let t=(0,l.md)(u.n),n=f(),r=g();return n&&(e.inModal||!t)?a.createElement(m.K0,{svg:p.A,active:"NONE",tooltip:(0,i.t)("whiteboard.embeds.inline_menu.open_link"),onClick:r,recordingKey:"embedOpenExternalControl"}):null}},49633:(e,t,n)=>{n.d(t,{nG:()=>O,tT:()=>P});var a=n(848318),r=n(301168),l=n(999667),i=n(536384),o=n.n(i),s=n(637640),c=n(238462),d=n(182317),u=n(251067),m=n(129170),p=n(720522),f=n(297638),g=n(967688),h=n(87463),E=n(533737),_=n(863270),y=n(517776),b=n(17753),C=n(120846),v=n(728570),w=n(385301),T=n(350075),S=n(859524),k=n(541634),I=n(782288),N=n(12080),x=n(735248),A=n(759863),L=n(228231);let O="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",R="used_figjam_ai_quick_actions",M=(0,y.r1)(R);function D(e){switch(e){case k.Uj.SUMMARIZE:return"summarize";case k.Uj.CLUSTER:return"sort stickies";case k.Uj.CREATE_FIGMA_SLIDES_OUTLINE:return"copy to slides";case k.Uj.CLUSTER_BY_AUTHOR:return"sort by author";case k.Uj.CLUSTER_BY_COLOR:return"sort by color";case k.Uj.CLUSTER_BY_STAMP_COUNT:return"sort by stamp count";case k.Uj.CLUSTER_BY_STAMP_TYPE:return"sort by stamp type";case k.Uj.OPEN_CLUSTER_BY_MORE_MENU:return"sort by more dropdown button";case k.Uj.TIDY_UP:return"tidy up";case k.Uj.WRAP_IN_SECTION:return"wrap in section";default:return"other organize action"}}function P(){let e=(0,k.Yh)(),t=e.filter(e=>!e?.disabled&&!e?.isInClusterSubmenu),n=e.filter(e=>e?.disabled&&!e?.isInClusterSubmenu),r=(0,d.g)(),i=(0,k.PX)(),[o,s]=(0,l.fp)(k.Y),c=(0,k.Wb)(),u=(0,k.Pn)();a.useEffect(()=>c,[c]),a.useEffect(()=>{o||u()},[o,u]);let m=(0,k.z1)(),p=function(){let e=(0,k.Yh)(),t=(0,k.QL)(),n=(0,k.E0)(),a=[...e];for(let e of(n&&(a=[...a,...t]),a))if(e&&k.IW[e.type])return!0;return!1}(),h=(0,g.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"),E=[...t,...n];return a.createElement(_.fu,{name:"organize_menu_dropdown"},a.createElement(N.Fn,{OptionWrapper:function({children:e}){return a.createElement("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":h,id:r,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)},additionalContentsBottom:a.createElement("div",{className:f.s.mt4.$}),additionalContentsTop:a.createElement("div",{className:f.s.mt4.$}),onChange:(e,t)=>{t.preventDefault(),t.stopPropagation(),i(e)},options:E,overrideMenuOpenState:{isOpenOverride:o,setIsOpenOverride:s},popoverClassName:"organize_actions_control--popover--l143N",positionX:e=>e.x,renderButton:({onClick:e,onKeyDown:t,ref:n})=>a.createElement(F,{disabled:!1,onClick:e,onKeyDown:e=>m(e,t),buttonRef:n,ariaWrapperId:r,trackingProperties:{text:"organize dropdown button"},dropdownContainsAiOption:p}),renderOption:U,value:void 0}))}let F=(0,_.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:i,disabled:s,dropdownContainsAiOption:d}){let u=(0,r.wA)(),f=(0,l.md)(M).data,h=(0,T.CI)(),[y,C]=a.useState(0),w=(0,g.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label");return a.createElement(I.$n,{ref:n,ariaControls:i,ariaLabel:w,buttonChildrenStyle:{justifyContent:"initial",width:"initial"},buttonStyle:{width:"auto",paddingRight:24},caret:"down",disabled:s,onClick:s?c.lQ:()=>{e(),d&&u(E.b({[R]:!0}))},onKeyDown:t,onboardingKey:S.Su,recordingKey:"inline_menu_organize_dropdown_button",role:"combobox",testId:"inline_menu_organize_dropdown_button",tooltip:s?v.w:void 0,tooltipType:s?b.Ib.SPECIAL:void 0},a.createElement("div",{className:o()("organize_actions_control--withBadge--2qE6m")},a.createElement("div",{className:"organize_actions_control--buttonIconContainer--7BE5y"},a.createElement(p.B,{svg:L.A,className:o()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":s})})),(0,g.tx)("whiteboard.inline_menu.organize_button_text"),!f&&h&&a.createElement(_.fu,{name:"organize_actions_onboarding_badge"},a.createElement("div",{style:{paddingLeft:8},ref:e=>{C(e?.offsetWidth||y)}},a.createElement(m.Ex,{text:(0,g.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:m.zE.FIGJAM,size:m.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-",dataTestId:"figjam_ai_quick_actions_onboarding_badge"})))))});function B({isFocused:e}){let t=(0,T.v1)(),n=(0,k.PX)(),r=(0,k.QL)(),i=(0,l.md)(k.u3),[o,s]=(0,l.fp)(k.UI),[d,u]=(0,l.fp)(k.kw),[m,p]=a.useState(!1);return(a.useEffect(()=>{let e=setTimeout(()=>{p(!0)},200);return()=>{clearTimeout(e)}},[p]),a.useEffect(()=>{e?u(!0):u(!1)},[e,u]),t)?a.createElement("div",{onMouseEnter:()=>{m&&s(!0)},onMouseLeave:()=>{s(!1)},"data-testid":"whiteboard_organize_sort_sub_menu_wrapper"},a.createElement(K,{key:`${k.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,ariaLabel:(0,g.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),disabled:!1,displayText:(0,g.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2"),id:`${k.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,isAiOption:!1,isFocused:e,isSubMenu:!0,onClick:()=>{o||s(!o)},onKeyDown:()=>{s(!o)},svgSrc:x.A,trackingProperties:{text:D(k.Uj.OPEN_CLUSTER_BY_MORE_MENU)},type:k.Uj.OPEN_CLUSTER_BY_MORE_MENU}),o&&a.createElement(_.fu,{name:"figjam_organize_sort_stickies_sub_menu"},a.createElement("div",{className:"organize_actions_control--submenuPopover--3lKOZ"},a.createElement("div",{className:"organize_actions_control--submenuContainer--TmBn7"},a.createElement(I.W1,null,a.createElement("div",{className:f.s.flex.flexColumn.py6.w200.$,"aria-label":(0,g.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},r.map((e,t)=>U({value:e,onClick:()=>n(e),onKeyDown:c.lQ,isSelected:!1,isFocused:i===t})))))))):null}let U=e=>{let{value:t,onClick:n,id:r,isFocused:l,onKeyDown:i}=e;if(!t)return null;let o=(0,k.Ef)(t),{type:s,disabled:c,displayText:d,svgSrc:u,disabledTooltipText:m,tooltipOverrides:p}=t,f=D(s);return s===k.Uj.OPEN_CLUSTER_BY_MORE_MENU?a.createElement(B,{key:k.Uj.OPEN_CLUSTER_BY_MORE_MENU,isFocused:l}):a.createElement(K,{key:`${s}-menu-option`,disabled:c,disabledTooltipText:m,displayText:d,id:r,isAiOption:o,isFocused:l,onClick:n,onKeyDown:i,svgSrc:u,tooltipOverrides:p,trackingProperties:{text:f},type:s})};function G(e){return`inline_menu_organize_option-${e}`}let K=(0,_.tf)(function({id:e,type:t,displayText:n,svgSrc:r,disabledTooltipText:l,disabled:i,onClick:d,onKeyDown:m,isFocused:E,tooltipOverrides:_,isAiOption:y,isSubMenu:v,ariaLabel:T}){let S=_?.tooltip||(i&&l?l:""),k=_?.tooltipType||b.Ib.TEXT;return a.createElement(a.Fragment,null,a.createElement("div",{"aria-label":T??n,"aria-selected":"false",className:o()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":i,"organize_actions_control--optionContainerIsFocused--8x27n":E}),"data-tooltip":S,"data-tooltip-offset-x":6,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-type":k,id:e,role:"option",tabIndex:-1},a.createElement(C.c$,{children:a.createElement("div",{className:f.s.flex.justifyBetween.itemsCenter.gap8.$},a.createElement(h.E,{truncate:!0},n),y&&a.createElement(w.G,{location:"INLINE_TOOLBAR",overrideText:(0,g.t)("whiteboard.inline_menu.organize_quick_actions_button_beta_badge_text"),hoverStyleClassName:o()({"organize_actions_control--aiBetaBadge--F1z9L":!i}),onMouseUp:e=>{e.stopPropagation()},onPointerUp:()=>{(0,u.Lf)(O)||s.Ay.unsafeRedirect(O,"_blank")}}),v&&a.createElement("span",{className:f.s.pl4.mr0.$},a.createElement(p.B,{svg:A.A}))),key:`option-${t}`,additionalStylesClassName:void 0,"data-testid":G(t),dataTestId:G(t),disabled:i,fullWidth:!0,height:32,ignoreCheck:!0,onKeyDown:i?c.lQ:m,onMouseUp:i?c.lQ:d,recordingKey:G(t),selected:!1,style:{width:"95%",marginBottom:0},svg:r,value:t})))})},493671:(e,t,n)=>{n.d(t,{p:()=>u});var a=n(848318),r=n(124810);n(82433);var l=n(536384),i=n.n(l),o=n(948015),s=n(178806),c=n(967688),d=n(863270);let u=(0,a.memo)(function(e){let{leftContent:t,content:n,rightContent:l,trackingContext:u="DLT Banner",onClose:f,isFloatingBanner:g,shouldHide:h}=e;return(0,o.h8)({isFigjamDLTBanner:!0,bannerType:e.bannerType}),a.createElement(d.fu,{name:u},a.createElement("div",{className:i()(g?"dlt_banner--floatingBanner--Gv-Xd":"dlt_banner--banner--nGI-J",{"dlt_banner--hide--MO-Ze":h})},a.createElement(m,{leftContent:t}),a.createElement(p,{content:n}),l,l&&f&&a.createElement("div",{className:"x1xc55vz"}),f?a.createElement(s.Me,{"aria-label":(0,c.t)("common.close"),onClick:f,recordingKey:"dltBannerCloseButton",htmlAttributes:{"data-testid":"dltBannerCloseButton"},trackingEventName:"dlt_banner_closed"},a.createElement(r.A,null)):null))}),m=(0,a.memo)(function(e){let{icon:t,text:n}=e.leftContent??{},r=t&&a.createElement("div",{className:"dlt_banner--icon--gtxyL"},t),l=n&&a.createElement("b",null,n);return a.createElement("div",{className:i()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",n&&t?"dlt_banner--leftContentIconAndText--QjRmB":n?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN")},r,l)}),p=(0,a.memo)(function(e){let{content:t}=e;return a.createElement("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd"},t)})},481030:(e,t,n)=>{n.d(t,{X:()=>q,O:()=>et});var a=n(848318),r=n(301168),l=n(186606),i=n(580494),o=n(999667),s=n(536384),c=n.n(s),d=n(359822),u=n(238462),m=n(656329),p=n(967688),f=n(533737),g=n(34542),h=n(385711),E=n(709292),_=n(517776),y=n(303397),b=n(959750),C=n(355755),v=n(263336),w=n(518383),T=n(560764),S=n(734974),k=n(707520),I=n(813009),N=n(453370);n(34375);var x=n(686464),A=n(511067),L=n(197696),O=n(391301),R=n(175393),M=n(226455);n(704410),n(693503);var D=n(136169);function P({dismissModal:e,targetKey:t=M.oi.ZOOM}){let n=(0,r.wA)(),i=(0,I.R)(({mirror:{appModel:e}})=>e.showUi),o=(0,A.Um)(),s=(0,a.useRef)(!1),c=(0,x.q)(),d=(0,a.useCallback)(()=>{e(),n(N.oB())},[e,n]);return(0,a.useEffect)(()=>{s.current&&!(0,L.TY)(o)&&e()},[e,o]),(0,a.useEffect)(()=>{if(c&&!s.current){if((0,L.TY)(o))n(N.ho({type:L.pi,data:{selectionToUpdate:l.m7W.PREFERENCES}}));else{let e=i?42:0;n(N.j7({type:L.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}s.current=!0}},[n,o,c,i]),a.createElement(O.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:d,targetKey:t,emphasized:!0,title:(0,p.tx)("mouse_controls_modal.new_user.title"),description:(0,p.tx)("mouse_controls_modal.new_user.description"),arrowPosition:R.F_.LEFT_TITLE})}var F=n(493671);function B(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),a.createElement("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),a.createElement("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),a.createElement("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),a.createElement("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),a.createElement("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),a.createElement("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),a.createElement("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),a.createElement("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),a.createElement("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),a.createElement("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),a.createElement("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),a.createElement("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),a.createElement("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),a.createElement("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"}))}function U(){return a.createElement("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),a.createElement("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"}))}function G(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"}))}function K(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),a.createElement("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),a.createElement("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),a.createElement("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),a.createElement("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),a.createElement("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),a.createElement("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),a.createElement("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),a.createElement("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),a.createElement("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),a.createElement("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),a.createElement("path",{d:"M12 16H14V26H12V16Z",fill:"white"}))}let V="figjam_pan_zoom_onboarding--icon--TaGJG",H="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",z={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function W({children:e}){return a.createElement("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN"},e)}function j(e){let{onNext:t,onManualDismiss:n}=e,i=(0,r.wA)(),o=(0,a.useCallback)(()=>{i(f.b({[z.NEW_USER_ZOOM]:!0}))},[i]),s=(0,a.useCallback)(()=>{o(),n()},[o,n]),d=(0,a.useCallback)(()=>{o(),t()},[o,t]);return(0,a.useEffect)(()=>(l.glU.setUsedZoomAction(!1),y.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",d),()=>{y.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",d)}),[i,d]),a.createElement(F.p,{trackingContext:"FigJam New User Zoom Banner",content:a.createElement("div",{className:H},(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",{boldTextPinch:a.createElement(a.Fragment,null,a.createElement("span",{className:c()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",V)},a.createElement(B,null)),a.createElement(W,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch"))),boldTextScroll:a.createElement(a.Fragment,null,a.createElement("span",{className:V},a.createElement(U,null)),a.createElement(W,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll")))})),rightContent:a.createElement(J,{onChangePreferences:e.onChangePreferences}),onClose:s})}function Y(e){let{onManualDismiss:t}=e,[n,i]=(0,a.useState)(!1),o=(0,r.wA)();(0,d.h)(()=>{setTimeout(()=>{i(!0)},1e3)});let s=(0,a.useCallback)(()=>{o(f.b({[z.NEW_USER_PAN]:!0}))},[o]),c=(0,a.useCallback)(()=>{s(),t()},[s,t]);return((0,a.useEffect)(()=>{if(n)return l.glU.setUsedPanAction(!1),y.Y5.fromFullscreen.on("panActionMessageForOnboarding",c),()=>{y.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",c)}},[o,n,c]),n)?a.createElement(F.p,{trackingContext:"FigJam New User Pan Banner",content:a.createElement("div",{className:H},(0,p.tx)("rcs.figjam_pan.move_instructions",{boldTextSwipe:a.createElement(a.Fragment,null,a.createElement("span",{className:V},a.createElement(K,null)),a.createElement(W,null,(0,p.tx)("rcs.figjam_pan.move_instructions_bold_text_swipe"))),boldTextRightClick:a.createElement(a.Fragment,null,a.createElement("span",{className:V},a.createElement(G,null)),a.createElement(W,null,(0,p.tx)("rcs.figjam_pan.hold_right_click")))})),rightContent:a.createElement(J,{onChangePreferences:e.onChangePreferences}),onClose:c}):null}function J({onChangePreferences:e}){return a.createElement("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("rcs.figjam_pan_zoom_change_prefs"))}function q(){let e=(0,C.aV)(),t=(0,k.Td)(),n=(0,r.d4)(e=>e.isMakeSomethingV2Active);return t||e||n?null:a.createElement(ee,null)}let X=(0,_.r1)(z.NEW_USER_PAN),Z=(0,_.r1)(z.NEW_USER_ZOOM),Q=(0,_.Fu)("figjam_editor_onboarded"),$=[function(e){let{isOverlayShowing:t,next:n,complete:r,onChangePreferences:l}=e;return t?a.createElement(j,{onNext:n,onManualDismiss:r,onChangePreferences:l}):null},function(e){let{isOverlayShowing:t,complete:n,onChangePreferences:r}=e;return t?a.createElement(Y,{onNext:n,onManualDismiss:n,onChangePreferences:r}):null}];function ee(){let e=(0,o.md)(X),t=(0,o.md)(Z),n=(0,o.md)(Q),r=(0,o.md)(E.Fy),l=(0,o.md)(E.g5),i=(0,o.md)(E.NT),s=(0,o.md)(S.w),[c,d]=(0,a.useState)(!1),p=(0,h.A)({numSteps:$.length,onComplete:u.lQ}),{show:f,complete:_,isShowing:y}=(0,g.e)({overlay:D.eD$,priority:v.N.DEFAULT_MODAL},[e,t,n,r,l,i]);(0,a.useEffect)(()=>{let e=[S.tX.NOT_STARTED,S.tX.COMPLETED].includes(s),t=p.currentStep===$.length-1;y||!e||t||f({canShow:(e,t,n,a,r,l)=>{let i=!m.Xb&&!m.aR,o=(0,T.d)({emailValidatedAt:r,jobTitle:l});return![S.tX.USE_CASE_STEPS,S.tX.MODAL_SHOWING].includes(s)&&(!!n||o)&&!a&&!e&&!t&&i}})},[y,s,f,p.currentStep]);let b=(0,a.useCallback)(()=>{d(!0)},[d]),C=(0,a.useCallback)(()=>{d(!1)},[d]);return y?a.createElement(a.Fragment,null,a.createElement(w.U,{currentStep:p.currentStep,children:$.map((e,t)=>a.createElement(e,{isOverlayShowing:p.currentStep===t,next:p.next,complete:_,onChangePreferences:b})),isShowing:!0}),c?a.createElement(P,{dismissModal:C,targetKey:1===p.currentStep?M.oi.PAN:M.oi.ZOOM}):null):null}function et(){return(0,i.k)().figjam_nav_new_user_onboarding&&(0,b.UK)().scrollWheelZoom.getCopy()&&(0,b.UK)().rightClickPan.getCopy()}},636256:(e,t,n)=>{n.d(t,{q:()=>z,x:()=>K});var a=n(848318),r=n(301168),l=n(999667),i=n(536384),o=n.n(i),s=n(615233),c=n(386040),d=n(297638),u=n(558038),m=n(968602),p=n(459403),f=n(127340),g=n(180294),h=n(125761),E=n(922484),_=n(475166),y=n(17753),b=n(791985),C=n(102382),v=n(345394),w=n(570775),T=n(993766),S=n(921478),k=n(134700),I=n(218233),N=n(542448),x=n(240808),A=n(817697),L=n(62053),O=n(658466),R=n(27776),M=n(694413),D=n(731560);let P=R.YCy,F=[{src:(0,s.ck)("9cd2eb2ff31cb221dce81ca1e67aa51e12b24166"),zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:(0,s.ck)("276fdbb8f6edbcb958f84235ebfc58b63eab0fc2"),zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:(0,s.ck)("94db9cf93e2a26f927d5f1a7f066f8b045985011"),zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:(0,s.ck)("004b50b1460d47029608e9aaa66c09c1c94c6741"),zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function B({recentItems:e,toolbarIconScale:t,isModalOpen:n}){let r=(0,T.ws)(e);return a.createElement("div",{className:o()(D.z6,D.ac,M.JY),style:{width:112*t}},F.map((e,l)=>{var i,o;let s=r[l];return a.createElement(G,{key:s?.id||e.src,zIndex:P+1+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:n,transform:(i={x:e.translateStart.x*t,y:e.translateStart.y*t},o=e.rotateStart,`translate(calc(-50% + ${i.x}px), calc(-50% + ${i.y}px)) rotate(${o}deg)`)},s?a.createElement(k.E,{item:s,width:e.width*t,height:e.height*t,disableTooltips:!0}):a.createElement("img",{src:e.src,alt:"",className:M.VF}))}))}function U({onClick:e,isSelected:t,isHovered:n}){return a.createElement("div",{className:d.s.flex.itemsCenter.justifyCenter.mx20.h40.w40.$},a.createElement(x.IB,{toolType:"universal-insert-collage",recordingKey:(0,w.hx)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":y.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2},a.createElement(I.gd,{toolType:"universal-insert-collage",inactiveIcon:a.createElement(A.nX,null),hoveredIcon:a.createElement(A.ZH,null),activeIcon:a.createElement(A.cs,null),isSelected:t,isHovered:n})))}function G({zIndex:e,width:t,height:n,transform:r,isModalOpen:l,children:i}){return a.createElement("div",{className:o()(M.s,{[M.r3]:l}),style:{zIndex:e,width:t,height:n,transform:r}},a.createElement("div",{className:M.f_},i))}function K(e,t){let[n,r]=(0,a.useState)(!1),l=(0,a.useRef)(!1),i=(0,a.useRef)([]);return i.current=t,(0,a.useEffect)(()=>{e||l.current||(l.current=!0,async function(){let e=[];for(let t of i.current)t&&e.push(new Promise(e=>{let n=new Image;n.src=t,n.addEventListener("load",()=>e()),n.addEventListener("error",()=>e())}));await Promise.all(e),r(!0)}())},[e]),n}function V({toolbarIconScale:e}){let t=(0,h.TA)(),[n,i]=(0,a.useState)(!1),o=(0,r.wA)(),s=(0,T.NT)(),c=(0,l.md)(v.c5),d=(0,f.XM)(),y=(0,g.sZ)(),S=(0,r.d4)(e=>e.universalInsertModal.showing),I=(0,m.fG)(),A=(0,O.r)(S,c?.stage!=="FULL"?C.p.MORE:void 0);(0,a.useEffect)(()=>{o(b.cd.fetchTemplatesMetadata({key:_.$A.FigJam,orgId:y?.id})),o(b.cd.fetchWidgetsMetadata({key:_.$A.FigJam})),i(!0)},[o,y?.id]);let R=(0,E.oh)(u.fC),P=(0,E.oh)(b.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:_.$A.FigJam})),F=(0,E.oh)(b.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:_.$A.FigJam})),G=K(!n||R||P||F,s.map(e=>(0,k.h)(e,I,t??void 0)))?s.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",V=d&&c?.stage==="MINIMIZED_ZERO"||c?.stage==="MINIMIZED"||c?.stage==="CUT_OFF";return a.createElement(N.XN,{alignment:"CENTER"},a.createElement(x.IB,{toolType:"universal-insert-collage",recordingKey:(0,w.hx)("universal-insert-collage"),isSelected:S,className:p.pb.isGoogleClassroomIntegration()?D.vy:D.qs,onClick:A,ariaLabel:"browse-all-resources-dlt",onboardingKey:L.yl,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:S},t=>a.createElement(N.ti,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0},a.createElement("div",{className:M.Ge,"data-element-target":L.b,"data-cancel-insertable-resource-drag-and-drop":!0},!V&&a.createElement(B,{key:G,recentItems:s,toolbarIconScale:e,isModalOpen:S}),a.createElement(U,{onClick:A,isSelected:S,isHovered:t})))))}function H(){return a.createElement(N.XN,{alignment:"CENTER"},a.createElement("div",{"data-element-target":L.b,className:M.V6},a.createElement(S.Hm,null)))}let z=(0,a.memo)(function({toolbarIconScale:e}){return a.createElement(c.tH,{fallback:a.createElement(H,null),boundaryKey:"UniversalInsertCollage"},a.createElement(V,{toolbarIconScale:e}))})},334676:(e,t,n)=>{n.d(t,{U:()=>g,j:()=>h});var a=n(848318),r=n(204295);let l="M14.9998 22.0001C16.6567 22.0001 17.9998 23.3433 17.9998 25.0001V29.0001C17.9998 30.657 16.6567 32.0001 14.9998 32.0001H10.9998C9.39474 32.0001 8.08406 30.7396 8.00376 29.1544L7.99985 29.0001V25.0001C7.99985 23.3433 9.34299 22.0001 10.9998 22.0001H14.9998ZM27.9998 26.0001H31.9998V28.0001H27.9998V32.0001H25.9998V28.0001H21.9998V26.0001H25.9998V22.0001H27.9998V26.0001ZM10.9998 24.0001L10.8973 24.005C10.3932 24.0563 9.99985 24.4824 9.99985 25.0001V29.0001L10.0047 29.1027C10.0526 29.5731 10.4269 29.9473 10.8973 29.9952L10.9998 30.0001H14.9998L15.1024 29.9952C15.5728 29.9473 15.9471 29.5731 15.995 29.1027L15.9998 29.0001V25.0001C15.9998 24.4824 15.6065 24.0563 15.1024 24.005L14.9998 24.0001H10.9998ZM11.7372 7.44836C12.5227 6.80757 13.6816 6.85379 14.4139 7.58605L18.4139 11.5861L18.5516 11.7374C19.1924 12.523 19.1462 13.6819 18.4139 14.4142L14.4139 18.4142C13.6816 19.1464 12.5227 19.1927 11.7372 18.5519L11.5858 18.4142L7.58579 14.4142C6.80474 13.6331 6.80474 12.3671 7.58579 11.5861L11.5858 7.58605L11.7372 7.44836ZM26.9998 8.00012C29.7613 8.00012 31.9998 10.2387 31.9998 13.0001C31.9998 15.7615 29.7613 18.0001 26.9998 18.0001C24.2384 18.0001 21.9998 15.7615 21.9998 13.0001C21.9998 10.2387 24.2384 8.00012 26.9998 8.00012ZM8.99985 13.0001L12.9998 17.0001L16.9998 13.0001L12.9998 9.00012L8.99985 13.0001ZM26.9998 10.0001C25.343 10.0001 23.9998 11.3433 23.9998 13.0001C23.9998 14.657 25.343 16.0001 26.9998 16.0001C28.6567 16.0001 29.9998 14.657 29.9998 13.0001C29.9998 11.3433 28.6567 10.0001 26.9998 10.0001Z",i="M29.5788 26.1828C29.7208 25.6148 30.5284 25.6149 30.6706 26.1828L31.2497 28.5001L33.5671 29.0792C34.1352 29.2213 34.1352 30.029 33.5671 30.171L31.2497 30.7501L30.6706 33.0675C30.5284 33.6354 29.7208 33.6355 29.5788 33.0675L28.9997 30.7501L26.6823 30.171C26.1147 30.0288 26.1147 29.2215 26.6823 29.0792L28.9997 28.5001L29.5788 26.1828ZM17.4342 10.3097C18.2606 7.89508 21.7387 7.89512 22.5651 10.3097L22.6383 10.5587L23.8981 15.6007L28.9411 16.8615C31.602 17.527 31.6851 21.2117 29.1901 22.0656L28.9411 22.1388L23.8981 23.3986L22.6383 28.4416C21.9513 31.1881 18.048 31.1881 17.361 28.4416L16.1003 23.3986L11.0583 22.1388C8.31197 21.4517 8.31197 17.5486 11.0583 16.8615L16.1003 15.6007L17.361 10.5587L17.4342 10.3097ZM20.6979 11.0441C20.516 10.3171 19.4833 10.3171 19.3014 11.0441L17.7497 17.2501L11.5436 18.8019C10.8169 18.9839 10.8169 20.0164 11.5436 20.1984L17.7497 21.7501L19.3014 27.9562C19.4719 28.6378 20.3909 28.6805 20.6549 28.0841L20.6979 27.9562L22.2497 21.7501L28.0827 20.2912L28.4557 20.1984C29.1373 20.0279 29.1801 19.1088 28.5837 18.8449L28.4557 18.8019L22.2497 17.2501L20.6979 11.0441ZM9.32878 5.93276C9.47084 5.36482 10.2784 5.3649 10.4206 5.93276L10.9997 8.25015L13.3171 8.82925C13.8852 8.97127 13.8852 9.77902 13.3171 9.92105L10.9997 10.5001L10.4206 12.8175C10.2784 13.3854 9.47084 13.3855 9.32878 12.8175L8.74967 10.5001L6.43229 9.92105C5.86469 9.77879 5.86469 8.9715 6.43229 8.82925L8.74967 8.25015L9.32878 5.93276Z";function o(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:l,fill:"black",fillOpacity:"0.9"}))}function s(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:l,fill:"black",fillOpacity:"0.9"}))}function c(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:l,fill:"white"}))}function d(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:l,fill:"black",fillOpacity:"0.9"})))}function u(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:i,fill:"black",fillOpacity:"0.9"}))}function m(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:i,fill:"black",fillOpacity:"0.9"}))}function p(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:i,fill:"white"}))}function f(){return a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),a.createElement("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),a.createElement("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:i,fill:"black",fillOpacity:"0.9"})))}function g(){let e=!(0,r.q8)();return{Inactive:e?u:o,GrayHover:e?m:s,Active:e?p:c}}function h(){return(0,r.q8)()?a.createElement(d,null):a.createElement(f,null)}},541634:(e,t,n)=>{n.d(t,{Cb:()=>B,E0:()=>D,Ef:()=>M,IW:()=>I,PX:()=>U,Pn:()=>R,QL:()=>F,UI:()=>N,Uj:()=>k,Wb:()=>O,Y:()=>L,Yh:()=>P,kw:()=>A,u3:()=>x,z1:()=>G});var a=n(848318),r=n(320953),l=n(580494),i=n(999667),o=n(857607),s=n(238462),c=n(204295),d=n(967688),u=n(675257),m=n(303397),p=n(590781),f=n(17753),g=n(728570),h=n(263418),E=n(30328),_=n(468403),y=n(350075),b=n(355032),C=n(469888),v=n(339098),w=n(796779),T=n(853229),S=n(371621),k=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster_by_topic",e.TIDY_UP="tidy_up",e.WRAP_IN_SECTION="wrap_in_section",e.CLUSTER_BY_AUTHOR="cluster_by_author",e.CLUSTER_BY_COLOR="cluster_by_color",e.CLUSTER_BY_STAMP_COUNT="cluster_by_stamp_count",e.CLUSTER_BY_STAMP_TYPE="cluster_by_stamp_type",e.OPEN_CLUSTER_BY_MORE_MENU="open_cluster_by_more_menu",e.CREATE_FIGMA_SLIDES_OUTLINE="create_figma_slides_outline",e))(k||{});let I={summarize:!0,cluster_by_topic:!0,create_figma_slides_outline:!0,tidy_up:!1,wrap_in_section:!1,cluster_by_author:!1,cluster_by_color:!1,cluster_by_stamp_count:!1,cluster_by_stamp_type:!1,open_cluster_by_more_menu:!1},N=(0,i.eU)(!1),x=(0,i.eU)(null),A=(0,i.eU)(!1),L=(0,i.eU)(!1);function O(){let e=R(),[t,n]=(0,i.fp)(L),r=(0,i.Xr)(A);return a.useCallback(()=>{e(),n(!1),r(!1)},[e,n,r])}function R(){let[e,t]=(0,i.fp)(x),[n,r]=(0,i.fp)(N);return a.useCallback(()=>{t(null),r(!1)},[t,r])}function M(e){return!!e&&(I[e.type]||!1)}function D(){return(0,y.v1)()}function P(){let e=(0,c.q8)(),t=(0,l.k)().figjam_synthesize_handbrake||!1,n=[],a=(0,y.V)()&&!e,r=(0,y.cF)(),i=(0,h.IR)(),o=D(),s=(0,p.Zr)("create-section-from-selection"),m=(0,p.Zr)("tidy-up"),E=(0,p.Zr)("align-top"),_={tooltip:g.w,tooltipType:f.Ib.SPECIAL};return o&&n.push({type:"open_cluster_by_more_menu",disabled:!1,isInClusterSubmenu:!1,displayText:"",disabledTooltipText:""}),a&&n.push({type:"summarize",disabled:!r||t,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:v.A,disabledTooltipText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?_:void 0,isInClusterSubmenu:!1}),m&&E&&n.push({type:"tidy_up",disabled:!1,displayText:(0,u.A)("tidy-up"),svgSrc:S.A,tooltipOverrides:{tooltip:"tidy-up",tooltipType:f.Ib.LOOKUP}}),s&&n.push({type:"wrap_in_section",disabled:!1,displayText:(0,u.A)("create-section-from-selection"),svgSrc:T.A,tooltipOverrides:{tooltip:"create-section-from-selection",tooltipType:f.Ib.LOOKUP}}),i&&n.push({type:"create_figma_slides_outline",disabled:t,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline"),svgSrc:w.A,disabledTooltipText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?_:void 0,isInClusterSubmenu:!1}),n}function F(){return[...function(){let e=(0,c.q8)(),t=(0,y.v1)();if(e)return[];let n=!!(0,l.k)().figjam_synthesize_handbrake,a=[],r=(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),i={tooltip:g.w,tooltipType:f.Ib.SPECIAL};return a.push({type:"cluster_by_topic",disabled:!t||n,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic_2"),disabledTooltipText:r,tooltipOverrides:n?i:void 0,isInClusterSubmenu:!0}),a}(),...function(){let e=(0,y.v1)(),t=(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),n=[];return n.push({type:"cluster_by_color",disabled:!e,isInClusterSubmenu:!0,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color_2"),disabledTooltipText:t}),n.push({type:"cluster_by_author",disabled:!e,isInClusterSubmenu:!0,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author_2"),disabledTooltipText:t}),n.push({type:"cluster_by_stamp_count",disabled:!e,isInClusterSubmenu:!0,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count_2"),disabledTooltipText:t}),n.push({type:"cluster_by_stamp_type",disabled:!e,isInClusterSubmenu:!0,displayText:(0,d.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type_2"),disabledTooltipText:t}),n}()].filter(e=>e?.isInClusterSubmenu&&"open_cluster_by_more_menu"!==e.type)}function B(){return!!P().find(e=>e?.type==="summarize"||e?.type==="cluster_by_topic"||e?.type==="open_cluster_by_more_menu")}function U(){let e=(0,i.md)(C.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,b.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:n}=(0,_.f)(),{cluster:a}=(0,_.J)(E.Gq,!1),{cluster:l}=(0,_.J)(E.MS,!1),{cluster:o}=(0,_.J)(E.bM,!0),{cluster:c}=(0,_.J)(E.ON,!1),d=(0,h.iX)(),u=O();return e=>{let i=s.lQ,p="";if(e){switch(e.type){case"cluster_by_author":i=a,p="inline-menu-organize-cluster-by-author";break;case"cluster_by_color":i=l,p="inline-menu-organize-cluster-by-color";break;case"cluster_by_stamp_count":i=o,p="inline-menu-organize-cluster-by-stamp-count";break;case"cluster_by_stamp_type":i=c,p="inline-menu-organize-cluster-by-stamp-type";break;case"summarize":i=t,p="inline-menu-organize-summarize";break;case"create_figma_slides_outline":i=d,p="inline-menu-organize-create-figma-slides-outline";break;case"cluster_by_topic":i=n,p="inline-menu-organize-cluster";break;case"tidy_up":i=()=>m.Y5.triggerActionInUserEditScope("tidy-up"),p="inline-menu-organize-tidy-up";break;case"wrap_in_section":i=()=>m.Y5.triggerActionInUserEditScope("create-section-from-selection"),p="inline-menu-organize-wrap-in-section"}r.l7.user(p,i),"open_cluster_by_more_menu"!==e.type&&u()}}}function G(){let[e,t]=(0,i.fp)(N),[n,a]=(0,i.fp)(x),[r,l]=(0,i.fp)(A),s=F(),c=U();return(l,i)=>{if(l.shiftKey||l.altKey||l.ctrlKey){i(l);return}if(e)switch(l.keyCode){case o.Uz.ESCAPE:t(!1),a(null);break;case o.Uz.DOWN_ARROW:null===n?a(0):n+1<s.length&&a(n+1);break;case o.Uz.UP_ARROW:null===n?a(s.length-1):n-1>=0&&a(n-1);break;case o.Uz.RIGHT_ARROW:null===n&&a(0);break;case o.Uz.LEFT_ARROW:a(null),t(!1);break;case o.Uz.ENTER:null!==n&&n<s.length&&(l.preventDefault(),l.stopPropagation(),c(s[n]))}else if(r)switch(l.keyCode){case o.Uz.RIGHT_ARROW:t(!0);break;case o.Uz.LEFT_ARROW:t(!1);break;default:i(l)}else i(l)}}},503953:(e,t,n)=>{n.d(t,{XZ:()=>m,fk:()=>f,oc:()=>p,k0:()=>g});var a=n(848318),r=n(301168),l=n(376852),i=n(810503);let o=500,s="audioplayinvoked",c="audioplaysuccess";class d{constructor(e){this.play=({onSuccess:e,onNoInteractionFailure:t})=>{let n=()=>{window.removeEventListener(s,this.audioPlayInvokedHandler),window.removeEventListener(c,this.audioPlaySuccessHandler)};window.dispatchEvent(this.audioPlayInvokedEvent),this.audio.play().then(()=>{if(this.shouldBlockPlay){this.audio.pause(),this.isAttemptingToPlay=!1;return}this.lastPlayedTimestamp=Date.now(),window.dispatchEvent(this.audioPlaySuccessEvent),this.isFadingOut?this.fadeOut({}):(this.internalVolumeMultiplier=0,this.fadeIn({fadeInLength:1e3})),e&&e(),this.isAttemptingToPlay=!1,n()}).catch(e=>{if(this.isAttemptingToPlay=!1,"NotAllowedError"===e.name&&t){t();return}if(e.message.toLowerCase().includes("interrupted by a new load request")){(0,i.ED)("FigJam MusicPlayer","Benign race condition: new track was requested while the promise to play the previous track was resolving (no user impact)");return}throw Error(`Failed to play music in the FigJam timer: ${e}`)})},this.playLoadingAudio=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play loading music in the FigJam timer: ${e}`)})},this.stopLoadingAudio=()=>{this.loadingAudio.currentSrc&&(this.loadingAudio.pause(),this.setTimestamp(0,this.loadingAudio))},this.isPaused=()=>this.audio.paused||this.shouldBlockPlay,this.isPlaying=()=>!this.isPaused(),this.setTimestamp=(e,t)=>{if(t){if(t.seeking||t.readyState<=0){console.warn("Already seeking or audio isn't ready, can't set timestamp.");return}t.fastSeek?t.fastSeek(e):t.currentTime=e}},this.playAtTimestamp=({src:e,timestamp:t,onSuccess:n,onFailure:a})=>{this.isAttemptingToPlay=!1;let r=()=>{this.setTimestamp(t/1e3%this.audio.duration,this.audio),this.play({onSuccess:n,onNoInteractionFailure:a})};window.addEventListener(s,this.audioPlayInvokedHandler),window.addEventListener(c,this.audioPlaySuccessHandler),this.playLoadingAudio(),this.setSource(""),this.shouldBlockPlay=!1,this.audio.oncanplaythrough=()=>{this.audio.oncanplaythrough=null,this.handleVolumeUpdate(),r()},this.setSource(e)},this.playPreview=({src:e,timestampMs:t=0,playLengthMs:n,fadeLengthMs:a=o})=>{let r=this.hasSource();this.playAtTimestamp({src:e,timestamp:t,onSuccess:()=>{this.isPaused()||!r?this.internalVolumeMultiplier=0:this.clearFadeTimeouts(),this.fadeIn({}),this.internalFadeOutTimeoutId=window.setTimeout(()=>{this.internalFadeOutTimeoutId=0,this.fadeOut({fadeOutLength:a,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0})},n+2*a)}})},this.stopPreview=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeOutTimeoutId=0,this.stop()},this.clearFadeTimeouts=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeInTimeoutId&&clearTimeout(this.internalFadeInTimeoutId)},this.resetFades=()=>{this.clearFadeTimeouts(),this.internalVolumeMultiplier=1,this.isFadingOut=!1,this.isFadingIn=!1},this.pause=()=>{this.stopLoadingAudio(),this.audio.paused||this.shouldBlockPlay||this.isAttemptingToPlay||(this.audio.pause(),this.clearFadeTimeouts()),this.shouldBlockPlay=!0},this.stop=()=>{this.stopLoadingAudio(),this.resetFades(),this.shouldBlockPlay=!0,this.audio.pause(),this.audio.removeAttribute("src")},this.hasSource=()=>""!==this.audio.currentSrc,this.setSource=e=>{this.audio.src=e},this.setIsMuted=e=>{this.audio.muted=e,this.loadingAudio.muted=e,this.isMuted=e,this.handleVolumeUpdate()},this.getCurrentVolume=()=>this.isMuted?0:(0,l.qE)(this.externalVolume*this.internalVolumeMultiplier,0,1),this.handleVolumeUpdate=()=>{this.audio.volume=this.getCurrentVolume()},this.setVolume=e=>{this.externalVolume=e,this.handleVolumeUpdate()},this.fadeOut=({fadeOutLength:e=5e3,shouldStopWhenFadedOut:t=!1,targetVolumeMultiplier:n=0,callbackWhenDoneFading:a,resumeFadingIfInterrupted:r=!0})=>{this.clearFadeTimeouts();let l=1/(e/50),i=()=>{!this.audio.paused&&(this.internalVolumeMultiplier>n?(this.internalVolumeMultiplier-=l,this.handleVolumeUpdate(),this.internalFadeOutTimeoutId=window.setTimeout(i,50)):(this.internalFadeOutTimeoutId=0,t&&this.stop(),this.handleVolumeUpdate(),this.isFadingOut=!1,a&&a()))};r&&(this.isFadingOut=!0),i()},this.fadeIn=({fadeInLength:e=1e3,callbackWhenDoneFading:t})=>{this.clearFadeTimeouts();let n=1/(e/50),a=()=>{!this.audio.paused&&(this.internalVolumeMultiplier<1?(this.internalVolumeMultiplier+=n,this.handleVolumeUpdate(),this.internalFadeInTimeoutId=window.setTimeout(a,50)):(this.internalFadeInTimeoutId=0,this.handleVolumeUpdate(),this.isFadingIn=!1,t&&t()))};this.isFadingIn=!0,a()},this.isAttemptingToPlay=!1,this.audio=new Audio,this.audio.src="",this.audio.loop=!0,this.loadingAudio=new Audio,e&&e.loadingPlaybackUrl&&(this.loadingAudio.src=e.loadingPlaybackUrl),this.loadingAudio.loop=!0,this.audioPlayInvokedEvent=new Event(s),this.audioPlayInvokedHandler=()=>{this.isAttemptingToPlay=!0},this.audioPlaySuccessEvent=new Event(c),this.audioPlaySuccessHandler=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.pause(),this.isAttemptingToPlay=!1},this.externalVolume=.7,this.isMuted=!1,this.isFadingOut=!1,this.isFadingIn=!1,this.shouldBlockPlay=!1,this.internalVolumeMultiplier=1,this.internalFadeOutTimeoutId=0,this.internalFadeInTimeoutId=0,this.lastPlayedTimestamp=null}}var u=n(396912);let m="unmute-timer-music";function p(e){let[t]=a.useState(()=>e?.previousPlayerInstance||new d(e)),n=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.volume:t.timer.volume),l=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.isMuted:t.timer.isMuted);return a.useEffect(()=>{t.setVolume(n/100)},[n,t]),a.useEffect(()=>{t.setIsMuted(l)},[l,t]),t}function f(){let e=(0,r.d4)(e=>e.music.music);return!e?.isPaused&&!e?.isStopped}function g(){let e=(0,r.d4)(e=>e.music.music),t=e?.selectedSongID||"",n=(0,u.N)(t),a=f(),l=n&&n.album_art;return!a||!l}},396912:(e,t,n)=>{n.d(t,{N:()=>l});var a=n(301168),r=n(878624);let l=e=>(0,a.d4)(t=>{let n=t.music.activeSongs.filter(t=>e===t.song_id);return n.length?n[0]:void 0},r.eB)},881760:(e,t,n)=>{n.d(t,{F_:()=>C,Eu:()=>v});var a=n(848318),r=n(301168),l=n(143823),i=n(536384),o=n.n(i),s=n(113326),c=n(230618),d=n(642014),u=n(967688),m=n(952039),p=n(62314),f=n(120846),g=n(271238),h=n(521174),E=n(878624);let _="music_dropdown--inDropdownAlbumArt---OmqE";var y=n(395314);let b={song_id:"fake track for no selection",localization_key:"",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function C({selectedSong:e,activeSongs:t,isLoading:n,withBorder:i,withHeavyFont:C}){let w=(0,r.d4)(e=>e.dropdownShown?.type==="song-dropdown"?e.dropdownShown:null),[T,S]=a.useState(void 0),k=(0,r.Pj)(),I=(0,r.wA)(),N=(0,r.d4)(e=>e.music.playerInstance),x=e||b,A=(0,g.$)(),L=[a.createElement(f.c$,{fullWidth:!0,ignoreCheck:!0,key:"loading-music-options"},a.createElement("div",{className:"music_dropdown--loadingSpinner--0IUIG"},a.createElement(l.k,null)))];a.useEffect(()=>{let a=t.length&&!n,r=!e,l=t[0];a&&r&&l&&I(p.Dx({selectedSongID:l.song_id}))},[n,e,I,t]),n||(L=t.map(e=>a.createElement(f.c$,{key:e.song_id,value:e,icon:a.createElement(c.oW,{src:e.album_art,alt:`album art for ${e.title}`,className:_}),height:48})));let O=a.createElement(s.Q,{setMaxWidth:e=>{void 0===e?S(void 0):S(Math.max(e,224))},options:L,formatOption:e=>v.format(e.props.value),getIcon:e=>a.createElement(c.oW,{src:e.props.value.album_art,alt:`album art for ${e.props.value.album_art.title}`,className:_})}),R=async t=>{t.song_id===b.song_id?e&&((0,h.$B)(k.getState(),e.song_id),I(p.L({selectedSongID:"",musicStartTimeMs:0}))):await (0,E._s)({songID:t.song_id,onSuccess:()=>{let e=N?.isPlaying();(0,h.tU)(k.getState(),t.song_id,e||!1);let n=t.song_id;I(p.Dx({selectedSongID:n,dontTransmitWhenPaused:!0}))},onNotFound:()=>{I(p.qV()),I(m.F.enqueue({message:(0,u.t)("whiteboard.timer.song_not_available_error"),error:!0,type:p.lm}))}})},M=x===b?(0,u.t)("whiteboard.music.loading"):void 0;return a.createElement(a.Fragment,null,a.createElement(f.l6,{ariaLabel:(0,u.t)("whiteboard.music_player_select.aria_label"),className:"music_dropdown--songDropdownClosed--PEWeP","data-testid":"music-dropdown-button",dispatch:I,dropdownAlignment:"right",dropdownOverride:M,dropdownShown:w,dropdownWidth:T,formatter:v,hideDropdownWhenContainerMoves:!0,icon:x===b?a.createElement(d.t,{className:"music_dropdown--musicIcon--rYDUF",svg:y.A}):void 0,id:"song-dropdown",inputClassName:o()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownHeavyFont--fIlJd":C,"music_dropdown--border--8RslA":i,"music_dropdown--withHover--5STIo":i&&!A}),neverConstrain:!0,onChange:R,property:x,targetDomNode:document.body,willShowDropdown:()=>new Promise(e=>{(0,h.eT)(k.getState()),e()})},L),O)}let v={format:e=>{var t;return e?.localization_key?(t=e.localization_key,(0,u.t)(`figjam_songs.${t}.title`)):""}}},64017:(e,t,n)=>{n.d(t,{mS:()=>T,XD:()=>w,Us:()=>C});var a=n(848318),r=n(301168),l=n(536384),i=n.n(l),o=n(230618),s=n(720522),c=n(355755),d=n(396912);function u({useLightShadow:e}){return a.createElement("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"100%",width:"100%",filter:e?"drop-shadow(0px 0.325px 0.813px rgba(0, 0, 0, 0.15)) drop-shadow(0px 1.625px 2.6px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.081px rgba(0, 0, 0, 0.12))":"drop-shadow(0px 1.625px 4.062500476837158px rgba(0, 0, 0, 0.15)) drop-shadow(0px 8.125000953674316px 13px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.40625px rgba(0, 0, 0, 0.12))"}},a.createElement("mask",{id:"mask0_134_226",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"96",height:"96"},a.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),a.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint0_radial_134_226)"}),a.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.625"})),a.createElement("g",{mask:"url(#mask0_134_226)"},a.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),a.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint1_radial_134_226)"}),a.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.625"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"48.3438",stroke:"url(#paint2_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"45.0938",stroke:"url(#paint3_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"41.8438",stroke:"url(#paint4_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"38.5938",stroke:"url(#paint5_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"35.3438",stroke:"url(#paint6_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("circle",{cx:"47.9999",cy:"48",r:"32.0938",stroke:"url(#paint7_linear_134_226)",strokeWidth:"0.8125"}),a.createElement("g",{filter:"url(#filter0_f_134_226)"},a.createElement("path",{d:"M47.6379 42.7921L50.2388 118.707L-34.6776 45.6123L47.6379 42.7921Z",fill:"url(#paint8_linear_134_226)"})),a.createElement("g",{filter:"url(#filter1_f_134_226)"},a.createElement("path",{d:"M56.3805 43.3806L56.3805 -32.5788L138.744 43.3806L56.3805 43.3806Z",fill:"url(#paint9_linear_134_226)"}))),a.createElement("defs",null,a.createElement("filter",{id:"filter0_f_134_226",x:"-42.8026",y:"34.6671",width:"101.166",height:"92.1648",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),a.createElement("filter",{id:"filter1_f_134_226",x:"48.2555",y:"-40.7038",width:"98.6138",height:"92.2094",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),a.createElement("radialGradient",{id:"paint0_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),a.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),a.createElement("radialGradient",{id:"paint1_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),a.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),a.createElement("linearGradient",{id:"paint2_linear_134_226",x1:"96.7498",y1:"96.75",x2:"-0.750201",y2:"-0.75003",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint3_linear_134_226",x1:"93.4998",y1:"93.5",x2:"2.49981",y2:"2.49997",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint4_linear_134_226",x1:"90.2498",y1:"90.25",x2:"5.74982",y2:"5.74997",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint5_linear_134_226",x1:"86.9998",y1:"87",x2:"8.99983",y2:"8.99997",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint6_linear_134_226",x1:"83.7498",y1:"83.75",x2:"12.2498",y2:"12.25",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint7_linear_134_226",x1:"80.4998",y1:"80.5",x2:"15.4998",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),a.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),a.createElement("linearGradient",{id:"paint8_linear_134_226",x1:"11.6492",y1:"45.2351",x2:"48.238",y2:"80.972",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0"}),a.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),a.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),a.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),a.createElement("linearGradient",{id:"paint9_linear_134_226",x1:"92.4318",y1:"42.1712",x2:"57.088",y2:"5.20249",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0"}),a.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),a.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),a.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function m(){return a.createElement("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"13.5002",cy:"8",r:"1.5",fill:"url(#paint0_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"8",r:"1.5",fill:"url(#paint1_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"8",r:"1.5",fill:"url(#paint2_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"8",r:"1.5",fill:"url(#paint3_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"14",r:"1.5",fill:"url(#paint4_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"8",r:"1.5",fill:"url(#paint5_linear_1414_55682)"}),a.createElement("circle",{cx:"1.5",cy:"14",r:"1.5",fill:"url(#paint6_linear_1414_55682)"}),a.createElement("circle",{cx:"43.4999",cy:"14",r:"1.5",fill:"url(#paint7_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"14",r:"1.5",fill:"url(#paint8_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"14",r:"1.5",fill:"url(#paint9_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"14.0002",r:"1.5",fill:"url(#paint10_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"14",r:"1.5",fill:"url(#paint11_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"14",r:"1.5",fill:"url(#paint12_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"8",r:"1.5",fill:"url(#paint13_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"20",r:"1.5",fill:"url(#paint14_linear_1414_55682)"}),a.createElement("circle",{cx:"1.5",cy:"20",r:"1.5",fill:"url(#paint15_linear_1414_55682)"}),a.createElement("circle",{cx:"43.4999",cy:"20",r:"1.5",fill:"url(#paint16_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"20",r:"1.5",fill:"url(#paint17_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"20",r:"1.5",fill:"url(#paint18_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"20",r:"1.5",fill:"url(#paint19_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"20",r:"1.5",fill:"url(#paint20_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"20",r:"1.5",fill:"url(#paint21_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"26",r:"1.5",fill:"url(#paint22_linear_1414_55682)"}),a.createElement("circle",{cx:"1.5",cy:"26",r:"1.5",fill:"url(#paint23_linear_1414_55682)"}),a.createElement("circle",{cx:"43.4999",cy:"26",r:"1.5",fill:"url(#paint24_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"26",r:"1.5",fill:"url(#paint25_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"26",r:"1.5",fill:"url(#paint26_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"25.9998",r:"1.5",fill:"url(#paint27_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"26",r:"1.5",fill:"url(#paint28_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"26",r:"1.5",fill:"url(#paint29_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"32",r:"1.5",fill:"url(#paint30_linear_1414_55682)"}),a.createElement("circle",{cx:"7.50049",cy:"38",r:"1.5",fill:"url(#paint31_linear_1414_55682)"}),a.createElement("circle",{cx:"1.5",cy:"32",r:"1.5",fill:"url(#paint32_linear_1414_55682)"}),a.createElement("circle",{cx:"43.4999",cy:"32",r:"1.5",fill:"url(#paint33_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"32",r:"1.5",fill:"url(#paint34_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"32",r:"1.5",fill:"url(#paint35_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"32",r:"1.5",fill:"url(#paint36_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"32",r:"1.5",fill:"url(#paint37_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"32",r:"1.5",fill:"url(#paint38_linear_1414_55682)"}),a.createElement("circle",{cx:"37.5002",cy:"38",r:"1.5",fill:"url(#paint39_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"38",r:"1.5",fill:"url(#paint40_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"38",r:"1.5",fill:"url(#paint41_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"38",r:"1.5",fill:"url(#paint42_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"38",r:"1.5",fill:"url(#paint43_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"44",r:"1.5",fill:"url(#paint44_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"44",r:"1.5",fill:"url(#paint45_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"44",r:"1.5",fill:"url(#paint46_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"44",r:"1.5",fill:"url(#paint47_linear_1414_55682)"}),a.createElement("circle",{cx:"13.5002",cy:"2",r:"1.5",fill:"url(#paint48_linear_1414_55682)"}),a.createElement("circle",{cx:"19.5001",cy:"2",r:"1.5",fill:"url(#paint49_linear_1414_55682)"}),a.createElement("circle",{cx:"25.4994",cy:"2",r:"1.5",fill:"url(#paint50_linear_1414_55682)"}),a.createElement("circle",{cx:"31.5001",cy:"2",r:"1.5",fill:"url(#paint51_linear_1414_55682)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_1414_55682",x1:"13.5002",y1:"6.5",x2:"13.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint1_linear_1414_55682",x1:"19.5001",y1:"6.5",x2:"19.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint2_linear_1414_55682",x1:"25.4994",y1:"6.5",x2:"25.4994",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint3_linear_1414_55682",x1:"31.5001",y1:"6.5",x2:"31.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint4_linear_1414_55682",x1:"7.50049",y1:"12.5",x2:"7.50049",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint5_linear_1414_55682",x1:"7.50049",y1:"6.5",x2:"7.50049",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint6_linear_1414_55682",x1:"1.5",y1:"12.5",x2:"1.5",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint7_linear_1414_55682",x1:"43.4999",y1:"12.5",x2:"43.4999",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint8_linear_1414_55682",x1:"13.5002",y1:"12.5",x2:"13.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint9_linear_1414_55682",x1:"19.5001",y1:"12.5",x2:"19.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint10_linear_1414_55682",x1:"25.4994",y1:"12.5002",x2:"25.4994",y2:"15.5002",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint11_linear_1414_55682",x1:"31.5001",y1:"12.5",x2:"31.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint12_linear_1414_55682",x1:"37.5002",y1:"12.5",x2:"37.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint13_linear_1414_55682",x1:"37.5002",y1:"6.5",x2:"37.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint14_linear_1414_55682",x1:"7.50049",y1:"18.5",x2:"7.50049",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint15_linear_1414_55682",x1:"1.5",y1:"18.5",x2:"1.5",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint16_linear_1414_55682",x1:"43.4999",y1:"18.5",x2:"43.4999",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint17_linear_1414_55682",x1:"13.5002",y1:"18.5",x2:"13.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint18_linear_1414_55682",x1:"19.5001",y1:"18.5",x2:"19.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint19_linear_1414_55682",x1:"25.4994",y1:"18.5",x2:"25.4994",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint20_linear_1414_55682",x1:"31.5001",y1:"18.5",x2:"31.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint21_linear_1414_55682",x1:"37.5002",y1:"18.5",x2:"37.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint22_linear_1414_55682",x1:"7.50049",y1:"24.5",x2:"7.50049",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint23_linear_1414_55682",x1:"1.5",y1:"24.5",x2:"1.5",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint24_linear_1414_55682",x1:"43.4999",y1:"24.5",x2:"43.4999",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint25_linear_1414_55682",x1:"13.5002",y1:"24.5",x2:"13.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint26_linear_1414_55682",x1:"19.5001",y1:"24.5",x2:"19.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint27_linear_1414_55682",x1:"25.4994",y1:"24.4998",x2:"25.4994",y2:"27.4998",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint28_linear_1414_55682",x1:"31.5001",y1:"24.5",x2:"31.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint29_linear_1414_55682",x1:"37.5002",y1:"24.5",x2:"37.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint30_linear_1414_55682",x1:"7.50049",y1:"30.5",x2:"7.50049",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint31_linear_1414_55682",x1:"7.50049",y1:"36.5",x2:"7.50049",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint32_linear_1414_55682",x1:"1.5",y1:"30.5",x2:"1.5",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint33_linear_1414_55682",x1:"43.4999",y1:"30.5",x2:"43.4999",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint34_linear_1414_55682",x1:"13.5002",y1:"30.5",x2:"13.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint35_linear_1414_55682",x1:"19.5001",y1:"30.5",x2:"19.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint36_linear_1414_55682",x1:"25.4994",y1:"30.5",x2:"25.4994",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint37_linear_1414_55682",x1:"31.5001",y1:"30.5",x2:"31.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint38_linear_1414_55682",x1:"37.5002",y1:"30.5",x2:"37.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint39_linear_1414_55682",x1:"37.5002",y1:"36.5",x2:"37.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint40_linear_1414_55682",x1:"13.5002",y1:"36.5",x2:"13.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint41_linear_1414_55682",x1:"19.5001",y1:"36.5",x2:"19.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint42_linear_1414_55682",x1:"25.4994",y1:"36.5",x2:"25.4994",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint43_linear_1414_55682",x1:"31.5001",y1:"36.5",x2:"31.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint44_linear_1414_55682",x1:"13.5002",y1:"42.5",x2:"13.5002",y2:"45.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint45_linear_1414_55682",x1:"19.5001",y1:"42.5",x2:"19.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint46_linear_1414_55682",x1:"25.4994",y1:"42.5",x2:"25.4994",y2:"45.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint47_linear_1414_55682",x1:"31.5001",y1:"42.5",x2:"31.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint48_linear_1414_55682",x1:"13.5002",y1:"0.5",x2:"13.5002",y2:"3.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint49_linear_1414_55682",x1:"19.5001",y1:"0.5",x2:"19.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint50_linear_1414_55682",x1:"25.4994",y1:"0.5",x2:"25.4994",y2:"3.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),a.createElement("linearGradient",{id:"paint51_linear_1414_55682",x1:"31.5001",y1:"0.5",x2:"31.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#252525"}),a.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}var p=n(376852),f=n(656329),g=n(7148);function h(e){let{onTonearmHeadMouseDown:t}=e;return a.createElement("svg",{width:"27",height:"80",viewBox:"0 0 27 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5.33844",strokeLinecap:"round"}),a.createElement("g",{filter:"url(#filter0_dii_242_919)"},a.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"white",strokeWidth:"4.15212",strokeLinecap:"round"})),a.createElement("g",{filter:"url(#filter1_d_242_919)"},a.createElement("rect",{x:"14",y:"2",width:"9.49057",height:"11.8632",fill:"url(#paint0_linear_242_919)"}),a.createElement("rect",{x:"14.2966",y:"2.29658",width:"8.89741",height:"11.27",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.59316"})),a.createElement("g",{filter:"url(#filter2_d_242_919)",onMouseDown:t,className:"tonearm-svg--tonearmBottom--3JC--","aria-hidden":"true"},a.createElement("g",{filter:"url(#filter3_iii_242_919)"},a.createElement("path",{d:"M9.30333 62.425C9.93167 61.6761 11.0481 61.5785 11.7969 62.2068L16.3554 66.0318C17.1042 66.6601 17.2019 67.7766 16.5735 68.5254L10.4596 75.8116C9.8313 76.5604 8.71489 76.6581 7.96606 76.0298L7.14087 75.3374L4.23279 72.8972L3.40761 72.2048C2.65878 71.5764 2.56111 70.46 3.18945 69.7112L9.30333 62.425Z",fill:"#E9E9E9"})),a.createElement("path",{d:"M16.546 65.8046L11.9876 61.9796C11.1132 61.246 9.80976 61.36 9.07614 62.2343L2.96225 69.5206C2.22863 70.3949 2.34267 71.6984 3.21697 72.432L4.04216 73.1244L6.95024 75.5646L7.77542 76.257C8.64972 76.9906 9.95321 76.8766 10.6868 76.0023L16.8007 68.716C17.5343 67.8417 17.4203 66.5382 16.546 65.8046Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.59316"})),a.createElement("defs",null,a.createElement("filter",{id:"filter0_dii_242_919",x:"9.51017",y:"3.74674",width:"13.6427",height:"65.6232",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"1.18632"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"1.18632"}),a.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_242_919"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"-1.18632"}),a.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),a.createElement("filter",{id:"filter1_d_242_919",x:"11.3451",y:"0.672526",width:"14.8005",height:"17.1732",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"1.32747"}),a.createElement("feGaussianBlur",{stdDeviation:"1.32747"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),a.createElement("filter",{id:"filter2_d_242_919",x:"0.412163",y:"60.3145",width:"18.9386",height:"19.3776",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"0.884983"}),a.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),a.createElement("filter",{id:"filter3_iii_242_919",x:"1.29715",y:"60.3145",width:"16.8768",height:"17.3158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"2.37264"}),a.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_242_919"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"1.77948",dy:"1.77948"}),a.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_242_919",result:"effect2_innerShadow_242_919"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"-0.884983",dy:"-0.884983"}),a.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),a.createElement("linearGradient",{id:"paint0_linear_242_919",x1:"14",y1:"7.9316",x2:"23.4906",y2:"7.9316",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#CACACA"}),a.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),a.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),a.createElement("stop",{offset:"0.500704",stopColor:"white"}),a.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),a.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),a.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function E(e){let{onPause:t,onResume:n}=e,[l,o]=a.useState(null),s=a.useRef(0),c=a.useRef(0),d=(0,r.d4)(e=>e.music?.music?.isPaused),u=(0,g.F4)(),m=u?.shouldOptimizeForIpadApp||f.Ay.isIpad,E=a.useCallback(e=>{if(!1===d){let t=e.clientX;o(22-22*((0,p.qE)(t-s.current,0,21)/21))}else{let t=e.clientX;o(22*((0,p.qE)(s.current-t,0,21)/21))}},[d,22,21]),_=a.useCallback(e=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",_);let a=!1===d;if(Date.now()-c.current<100)a?t():n();else if(a){let n=e.clientX;(0,p.qE)(n-s.current,0,21)>10.5&&t()}else{let t=e.clientX;(0,p.qE)(s.current-t,0,21)>10.5&&n()}s.current=0,o(null)},[E,d,t,n]),y=null!==l?l:!1===d?22:0;return a.createElement("div",{className:i()("tonearm--tonearmStandalone--UOmob",{"tonearm--play--cp3C1":null===l,"tonearm--paused--pe2EE":null!==l}),style:{transform:`rotate(${y}deg)`}},a.createElement(h,{onTonearmHeadMouseDown:m?void 0:e=>{s.current=e.clientX,c.current=Date.now(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",_)}}))}var _=n(503953);let y="turntable--gray--OY0Du";var b=n(147826);function C(e){let{handlePause:t,handleTonearmResume:n}=e;return a.createElement("div",{className:i()("turntable--recordPlayerBase--WG5CH"),"aria-hidden":"true"},a.createElement(v,{handlePause:t,handleTonearmResume:n}),a.createElement("div",{className:"turntable--speakerGrill--DXQjl"},a.createElement(m,null)))}function v(e){let{handlePause:t,handleTonearmResume:n}=e;return a.createElement("div",{className:i()("turntable--recordPlayer--0aMTu")},a.createElement(T,{size:"large"}),a.createElement(E,{onPause:t,onResume:n}))}var w=(e=>(e.XSMALL="xsmall",e.LARGE="large",e))(w||{});function T(e){let{size:t,maskAlbumArtWhenPaused:n,maskRef:r,useGrayMask:l,useLightShadow:o}=e,s=(0,_.k0)()&&!!n;return a.createElement("div",{className:i()("turntable--record--96NxV",{"turntable--xsmall--eqtGp":"xsmall"===t,"turntable--large--oXtu6":"large"===t})},a.createElement(u,{useLightShadow:o}),a.createElement(S,{size:t,showMask:s,maskRef:r,useGrayMask:l}))}function S(e){let t=(0,r.d4)(e=>e.music.music),n=t?.selectedSongID||"",l=(0,d.N)(n),u=(0,_.fk)(),m=l&&l.album_art;return(0,c.p8)("showUi")?a.createElement("div",{className:i()("turntable--spinningAlbum--N7jwa",{"turntable--spinningAlbumXSmall--vzhVj":"xsmall"===e.size,"turntable--spinningAlbumLarge--SWUZ2":"large"===e.size})},m&&a.createElement(o.oW,{className:i()("turntable--spinningAlbumImage--H-qwO",{"turntable--spinningAlbumPlaying--UDk-I":t?.isPaused===!1,[y]:!u}),src:l.album_art,alt:"spinning album art"}),a.createElement("div",{ref:e.maskRef,className:i()("turntable--spinningAlbumImageMask--PZ7Cr turntable--spinningAlbumImage--H-qwO",{"turntable--noOpacity--ZKZnl":!e.showMask,[y]:e.useGrayMask})},a.createElement(s.B,{className:"turntable--maskIcon--mZo9b",svg:b.A}))):null}},250155:(e,t,n)=>{n.d(t,{k$:()=>w,p0:()=>T,qT:()=>v,ZP:()=>y,sD:()=>b});var a=n(848318),r=n(999667),l=n(536384),i=n.n(l),o=n(656329),s=n(627503),c=n(967688),d=n(438673),u=n(48226),m=n(396781);let p="time_display--xsmall--RksCd",f="time_display--medium--bxQbL",g="time_display--large--nQrfq",h="time_display--xlarge--HRGrX",E="time_display--clockStyleWrapper--TN05b",_="time_display--timeDiv--Y0hTB";var y=(e=>(e.XSMALL="xsmall",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e))(y||{}),b=(e=>(e.DEFAULT="DEFAULT",e.SECONDARY="SECONDARY",e.TERTIARY="TERTIARY",e))(b||{});let C=({minutesRef:e,disabled:t})=>{a.useLayoutEffect(()=>{t||(e.current?.focus(),e.current?.select())},[t,e])};function v({timerActions:e,timerState:t,isStopped:n,withoutUnderline:r,withoutClockDisplay:l,isInUI3Toolbar:i,size:s="medium"}){let c=(0,m.M2)(e,t);return C({minutesRef:c.minutesRef,disabled:o.Ay.isMeetDevice}),a.createElement(a.Fragment,null,n?a.createElement(S,{timerState:t,timerEventHandlers:c,withoutUnderline:r,withoutClockDisplay:l,size:s}):a.createElement(w,{withoutUnderline:r,withoutClockDisplay:l,size:s,isInUI3Toolbar:i}))}function w(e){let{withoutUnderline:t,withoutClockDisplay:n,withoutTimeShadow:l,withoutFlashOnPause:i,size:o,isSelected:s,prominence:c,timeDivRef:m,isInUI3Toolbar:p}=e,f=(0,r.md)(u.jo),g=(0,r.md)(u.Ld);return a.createElement(T,{flashing:(0,d.CM)(f.time)&&!i,isInUI3Toolbar:p,isSelected:s,prominence:c,size:o,timeDivRef:m,timeInSeconds:g,withoutClockDisplay:n,withoutTimeShadow:l,withoutUnderline:t})}function T(e){let{timeInSeconds:t,withoutUnderline:n,withoutClockDisplay:r,withoutTimeShadow:l,flashing:o,size:c,isSelected:u,prominence:m,timeDivRef:y,isInUI3Toolbar:b}=e,{seconds:C,minutes:v}=(0,s._d)(t);return a.createElement("div",{className:i()({[E]:!r})},a.createElement("div",{ref:y,className:i()(_,{[p]:"xsmall"===c,[f]:"medium"===c,[g]:"large"===c,[h]:"xlarge"===c,"time_display--selected--Idl4y":u,"time_display--secondary--r44Yf":"SECONDARY"===m,"time_display--tertiary--oyx7n":"TERTIARY"===m,"time_display--inUI3Toolbar--SFjvm":b})},!r&&!l&&a.createElement(k,{size:c,withoutUnderline:n}),a.createElement("div",{className:i()("time_display--timeDisplay--MuaRS",{"time_display--flashing--1Hw1m":o,[p]:"xsmall"===c,[f]:"medium"===c,[g]:"large"===c,[h]:"xlarge"===c})},a.createElement(I,{isMinute:!0,size:c,value:(0,d.YI)(v),displayOnly:!0}),":",a.createElement(I,{size:c,value:(0,d.YI)(C),displayOnly:!0}))))}function S({timerState:e,timerEventHandlers:t,withoutUnderline:n,withoutClockDisplay:r,size:l}){let{handleMinutesChange:o,handleMinutesKeyDown:s,handleMinutesBlur:c,handleMinutesFocus:d,handleSecondsChange:u,handleSecondsKeyDown:m,handleSecondsBlur:p,handleSecondsFocus:y,secondsRef:b,minutesRef:C}=t;return a.createElement(a.Fragment,null,a.createElement("div",{className:i()({[E]:!r})},a.createElement("div",{className:i()(_,{[f]:"medium"===l,[g]:"large"===l,[h]:"xlarge"===l})},a.createElement(k,{size:l,withoutUnderline:n}),a.createElement("div",null,a.createElement(I,{ref:C,onFocus:d,onChange:o,onKeyDown:s,onBlur:c,value:e.minutes,size:l,isMinute:!0}),a.createElement("span",{"aria-hidden":"true"},":"),a.createElement(I,{ref:b,onChange:u,onFocus:y,onKeyDown:m,onBlur:p,value:e.seconds,size:l})))))}function k(e){return a.createElement("div",{className:i()("time_display--timeShadow--dyosl",{[p]:"xsmall"===e.size,[f]:"medium"===e.size,[g]:"large"===e.size,[h]:"xlarge"===e.size}),"aria-hidden":"true"},a.createElement(I,{isMinute:!0,size:e.size,value:88,displayOnly:!0}),":",a.createElement(I,{size:e.size,value:88,displayOnly:!0}),!e.withoutUnderline&&a.createElement("div",{className:"time_display--timeInputUnderline--4Gxkr"}))}let I=a.forwardRef((e,t)=>{let{size:n,isMinute:r,onFocus:l,onChange:o,onKeyDown:s,onBlur:d,value:u,displayOnly:m}=e,E=i()("time_display--timeInput--4Evh3",{"time_display--minute--Q8e3H":r,[p]:"xsmall"===n,[f]:"medium"===n,[g]:"large"===n,[h]:"xlarge"===n});return m?a.createElement("span",{className:E,"data-testid":"stopped-time"},u):a.createElement("input",{ref:t,"aria-label":r?(0,c.t)("whiteboard.timer.minutes.aria_label"):(0,c.t)("whiteboard.timer.seconds.aria_label"),className:E,inputMode:"numeric",maxLength:2,onBlur:d,onChange:o,onFocus:l,onKeyDown:s,type:"text",value:u})});I.displayName="TwoDigitTimeInput"},396781:(e,t,n)=>{n.d(t,{Jg:()=>P,M2:()=>R,OI:()=>w,YO:()=>F,ey:()=>B,rJ:()=>v});var a=n(848318),r=n(301168),l=n(999667),i=n(325498),o=n(898700),s=n(615233),c=n(62314),d=n(67308),u=n(587745),m=n(146859),p=n(125761),f=n(847877),g=n(438673),h=n(48226);let E=null,_=null,y=null,b=()=>(0,r.d4)(e=>e.music.playerInstance),C=()=>1e3;function v(){let[e,t]=a.useState({}),n=(0,r.d4)(e=>e.timer);a.useEffect(()=>{if(!n||!n.time||n?.time?.isPaused)return;let e=setTimeout(()=>t({}),C());return()=>{clearTimeout(e)}},[e,n,n.time?.isPaused])}function w(){let e=(0,r.d4)(e=>e.timer),t=(0,r.d4)(e=>(0,d.d1)(e)),n=(0,r.d4)(e=>t?(0,u.L8)(t,e.repos):null),a=Math.ceil((0,g.P$)(e.time)/1e3);a>0?(0,c.rF)(t,n,a):(0,c.rF)(t,n)}let T=()=>{y&&y.pause(),E&&E.pause(),_&&_.pause(),E=new Audio(N),_=new Audio(I),y=new Audio(k)},S=(e,t,n,a,r,l)=>{if(!n.current||!e)return;let o=(0,g.P$)(n.current.time);if("add-minutes"===e.lastAction.type){if(E&&E.pause(),l.current?.resetFades(),l.current?.fadeIn({}),!n.current.time||0===n.current.time.totalTimeMs)return;let a=6e4*e.lastAction.minutes;n.current.time&&o+a<g.y0&&t(c.VV({timer:n.current.time,deltaMs:a}))}"start-timer"===e.lastAction.type&&((0,i.DN)().set("last-timer-set-time",e.lastUsedTime),t(c.Qv({totalTimeMs:1e3*e.lastUsedTime,musicStartTimeMs:n.current.musicStartTimeMs})),y&&a.current&&!r.current&&e.lastUsedTime>5&&(0,g.PF)(y,a.current)),"pause-timer"===e.lastAction.type&&t(c._1(n.current.time)),"resume-timer"===e.lastAction.type&&t(c.ne(n.current.time)),"stop-timer"===e.lastAction.type&&(T(),t(c.Vk()))},k=(0,s.ck)("304a1a341a619feb4af7d377c75dd325534e1734"),I=(0,s.ck)("f45e11344ee4f618173695e2405a9a988affc910"),N=(0,s.ck)("54a944bea3fce3ca45c91429993683685bec5782"),x=()=>{a.useEffect(()=>{null===y&&(y=new Audio(k)),null===_&&(_=new Audio(I)),null===E&&(E=new Audio(N))},[])},A=e=>{let t=(0,o.F)(e),n=(0,r.wA)(),l=(0,r.d4)(e=>e.timer),i=(0,o.F)(l),s=(0,o.F)((0,r.d4)(e=>e.timer.volume)),c=(0,o.F)((0,r.d4)(e=>e.timer.isMuted)),d=(0,o.F)(b());a.useEffect(()=>{S(e,n,i,s,c,d)},[t,n,c,d,i,e,s])},L=()=>{let e=(0,r.wA)(),t=(0,o.F)((0,r.d4)(e=>e.timer.volume)),n=(0,o.F)((0,r.d4)(e=>e.timer.setBy)),l=(0,o.F)((0,p.iZ)()),i=(0,o.F)((0,r.d4)(e=>e.timer.isMuted)),s=(0,o.F)(b()),d=(0,r.d4)(e=>e.music.music);return{callbackToRunAtFiveSecondsLeft:a.useCallback((n,a)=>{n.current&&E?.paused&&!i.current&&(s.current&&s.current.fadeOut({fadeOutLength:5e3,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0}),(0,g.PF)(E,t.current)),a.current||e(c.lu({state:"open",userInitiated:!1}))},[e,i,s,t]),callbackToRunWhenTimerFinishes:a.useCallback((n,a)=>{E&&E.pause(),n.current&&_&&!i.current&&(0,g.PF)(_,t.current),f.d1.timerChange("timerdone"),a.current||e(c.lu({state:"open",userInitiated:!1}))},[e,i,t]),callbackToRunAfterAnimationFinishes:a.useCallback(t=>{if(d&&e(c.c$(d)),"visible"===document.visibilityState)e(c.Vk()),t({type:"reset-state"}),n.current!==l.current?.name&&e(c.lu({state:"closed",userInitiated:!1}));else{let t=()=>{e(c.lu({state:"open",userInitiated:!1})),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}T(),s.current?.resetFades()},[l,e,d,n,s])}},O=e=>{let t=(0,r.wA)(),n=(0,r.d4)(e=>e.timer.time),l=(0,o.F)((0,r.d4)(e=>e.timer.audioEnabled)),i=(0,o.F)((0,r.d4)(e=>e.timer&&"open"===e.timer.modalState)),s=(0,o.F)((0,r.d4)(e=>e.timer.volume)),c=(0,o.F)(b()),d=(0,r.d4)(e=>e.timer.isMuted),u=!n||n.isPaused,m=(0,r.d4)(e=>e.music.music?.isPaused),{callbackToRunAtFiveSecondsLeft:p,callbackToRunWhenTimerFinishes:f,callbackToRunAfterAnimationFinishes:h}=L();a.useEffect(()=>{if(u){E&&E.pause(),!1===m&&c.current?.fadeIn({fadeInLength:1e3});return}let t=(0,g.P$)(n);t<5e3&&l.current&&E?.paused&&!d&&(0,g.PF)(E,s.current),E&&(E.muted=d),t>5e3&&E&&(E.pause(),c.current?.resetFades(),c.current?.fadeIn({}));let a=[];return t>5e3&&a.push(window.setTimeout(()=>p(l,i),t-5e3)),a.push(window.setTimeout(()=>f(l,i),t)),a.push(window.setTimeout(()=>h(e),t+g.cu)),()=>{a.forEach(clearTimeout)}},[n,u,t,e,f,h,p,i,s,l,c,d,m])};function R(e,t){let{setMinutes:n,setSeconds:l,startTimer:i,setTime:o,addMinutes:s}=e,d=a.useRef(null),u=a.useRef(null),p=(0,r.wA)(),f=a.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}n(e.currentTarget.value),e.currentTarget.value.length>1&&u.current?.select()},[u,n]),h=a.useCallback(e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key)isNaN(parseInt(e.currentTarget.value))||(s(("ArrowUp"===e.key?1:-1)*(e.shiftKey?5:1)),setTimeout(()=>d.current?.select(),0),e.preventDefault());else if("ArrowRight"===e.key&&d.current){if(d.current.selectionStart===d.current.value.length&&u.current){u.current.select(),e.preventDefault();return}}else if("Enter"===e.key)i();else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(":"===e.key){u.current?.select(),e.preventDefault();return}else(0,m.jr)(e)},[s,p,i]),E=a.useCallback(()=>{if(!d.current)return;let e=d.current.value;0===e.length?n("00"):e.length<2?n(`0${e}`):n(e)},[d,n]),_=a.useCallback(()=>{d.current?.select()},[d]),y=a.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}let n=parseInt(e.currentTarget.value);n>59&&"99"!==t.minutes?(n-=60,o((0,g.YI)(parseInt(t.minutes)+1),(0,g.YI)(n))):n>59?l((0,g.YI)(59)):(n<60||isNaN(n))&&l(e.currentTarget.value)},[l,o,t.minutes]);return{handleMinutesChange:f,handleMinutesKeyDown:h,handleMinutesBlur:E,handleMinutesFocus:_,handleSecondsChange:y,handleSecondsKeyDown:a.useCallback(e=>{let a;if("ArrowLeft"===e.key&&u.current){if(0===u.current.selectionEnd&&d.current){d.current.select(),e.preventDefault();return}}else if("Enter"===e.key){""!==t.minutes&&""!==t.seconds&&parseInt(t.minutes)+parseInt(t.seconds)!==0&&i();return}else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(u.current?.value===""&&"Backspace"===e.key&&d.current?.value){n(d.current.value.substring(0,d.current.value.length-1)||"0"),d.current.focus(),e.preventDefault();return}if((0,m.jr)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;let r=parseInt(t.seconds);if(!isNaN(r)){if("ArrowUp"===e.key){if((r+=e.shiftKey?5:1)>59&&"99"===t.minutes)return;r>=60&&(r-=60,a=1)}else if("ArrowDown"===e.key&&(r-=e.shiftKey?5:1)<0){if(0===parseInt(t.minutes))return;a=-1,r+=60}setTimeout(()=>u.current?.select(),0),e.preventDefault(),a?o((0,g.YI)(parseInt(t.minutes)+a),(0,g.YI)(r)):l((0,g.YI)(r))}},[p,d,u,n,l,o,i,t.minutes,t.seconds]),handleSecondsBlur:a.useCallback(()=>{l((0,g.YI)(parseInt(t.seconds||"00")))},[l,t.seconds]),handleSecondsFocus:a.useCallback(()=>{u.current?.select()},[u]),secondsRef:u,minutesRef:d}}let M=(e,t)=>{a.useEffect(()=>{e.length>0&&e.forEach(e=>{e&&(e.volume=t/100)})},[e,t])},D=e=>a.useCallback(()=>{e({type:"start-timer"})},[e]);function P(){let[e,t]=(0,l.fp)(h.$),n=(0,r.d4)(e=>e.timer.volume),i=(0,o.F)((0,r.d4)(e=>e.timer.volume)),s=(0,o.F)((0,r.d4)(e=>e.timer.isMuted)),c=a.useRef(e.lastUsedTime),d=D(t);return[e,a.useMemo(()=>({setMinutes:e=>t({type:"set-minutes",minutes:e}),setSeconds:e=>t({type:"set-seconds",seconds:e}),setTime:(e,n)=>t({type:"set-time",minutes:e,seconds:n}),addMinutes:e=>t({type:"add-minutes",minutes:e}),startTimer:d,stopTimer:()=>t({type:"stop-timer"}),pauseTimer:()=>t({type:"pause-timer"}),resumeTimer:()=>t({type:"resume-timer"}),playStartChime:()=>{y&&i.current&&!s.current&&c.current>5&&(0,g.PF)(y,n)}}),[i,s,n,t,d])]}function F(){x();let[e,t]=(0,l.fp)(h.$),n=(0,r.d4)(e=>e.timer.volume);O(t),A(e),M([E,y,_],n)}function B(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.timer);a.useEffect(()=>{!1!==n.startChimePlayed||(0,g.IQ)(n.time)||(0,g.CM)(n.time)||(0,g.G8)(n.time)||(e(),t(c.k1(!0)))},[t,e,n.startChimePlayed,n.time])}},826798:(e,t,n)=>{n.d(t,{s1:()=>w,aY:()=>T,nh:()=>C,J:()=>y});var a=n(848318),r=n(301168),l=n(536384),i=n.n(l),o=n(967139),s=n(238462),c=n(967688),d=n(62314),u=n(17753),m=n(16808),p=n(438673),f=n(725051),g=n(861766),h=n(142056),E=n(164251),_=n(871455),y=(e=>(e.DEFAULT="default",e.ON_FIGJAM="onFigjam",e.FIGJAM="figjam",e))(y||{});let b=(e,t)=>t||0===e?_.A:e<40?h.A:e<80?E.A:g.A;var C=(e=>(e.DEFAULT="default",e.LARGE="large",e))(C||{});function v(e){let{isMinimized:t,withDarkHoverBg:n,muteButtonRef:l,muteOnTouch:o,iconColor:p,blockTooltip:f,size:g}=e,h=(0,r.d4)(e=>e.music.volume),E=(0,r.d4)(e=>e.music.isMuted),_=(0,r.wA)(),y=a.useCallback(()=>{_(d.tk({isMuted:!E,userInitiated:!0}))},[_,E]),C=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),y()},[y]);return a.createElement("div",{onTouchEnd:o?C:s.lQ},a.createElement(m.K0,{onClick:y,className:i()("volume_control_button--button--6JyR-",{"volume_control_button--minimized--esj8w":t,"volume_control_button--withDarkHoverBg--p-OS1":n,"volume_control_button--defaultSpeakerColor--ZF9o2":"default"===p,"volume_control_button--figjamSpeakerColor--0W5TO":"figjam"===p,"volume_control_button--onFigjamSpeakerColor--KEcX8":"onFigjam"===p,"volume_control_button--large--BF5Mq":"large"===g}),svg:b(h,E),"data-tooltip-type":u.Ib.TEXT,tooltipForScreenReadersOnly:f,"data-tooltip":E?(0,c.t)("whiteboard.timer.timer_unmute_tooltip"):(0,c.t)("whiteboard.timer.timer_mute_tooltip"),"data-tooltip-show-above":!0,ref:l}))}var w=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e))(w||{});function T({volumeJustification:e,sliderVisibilitySetting:t,sliderFullWidth:n,buttonGap:l,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockButtonTooltip:d,muteOnTouch:u,size:m}){let g=a.useRef(-1),[h,E]=a.useState(!1),_=a.useCallback(()=>{g.current&&clearTimeout(g.current),g.current=window.setTimeout(()=>{E(!0)},100)},[E]),y=a.useCallback(()=>{g.current&&clearTimeout(g.current),E(!1)},[E]),b=a.useRef(null),C=a.useCallback(()=>{y()},[y]);(0,o.Xq)(b,"touchend",C);let w=a.useRef(null),T=(0,r.d4)(e=>e.timer),S=(0,p.IQ)(T.time);a.useEffect(()=>{S&&E(!1)},[S]),a.useEffect(()=>{E(!1)},[t]);let k=h;switch(t){case 1:k=!0;break;case 2:k=!1}return a.createElement("div",{ref:b,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),h?y():_()},onMouseEnter:_,onMouseLeave:y,className:"volume_control_button--volumeButtonAndSliderContainer--HyG-F",style:{gap:l}},a.createElement(v,{muteButtonRef:w,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockTooltip:d,muteOnTouch:u,size:m}),k&&a.createElement(f.S,{muteButtonRef:w,volumeJustification:e,fullWidth:n,isMinimized:i}))}},725051:(e,t,n)=>{n.d(t,{Z:()=>u,S:()=>m});var a=n(848318),r=n(301168),l=n(536384),i=n.n(l),o=n(62314),s=n(696786);let c="volume_slider--incognito--1BzqQ",d="volume_slider--thick--OwB1Y";var u=(e=>(e.LEFT="LEFT",e.RIGHT="RIGHT",e.CENTER="CENTER",e.INLINE="INLINE",e))(u||{});function m({muteButtonRef:e,volumeJustification:t,fullWidth:n,isMinimized:l}){let u=(0,r.d4)(e=>e.music.isMuted),m=(0,r.d4)(e=>u?0:e.music.volume),p=(0,s.GS)(),f=(0,r.wA)(),g=e=>{e.preventDefault(),e.stopPropagation();let t=Number(e.target.value);f(o.pX(t))},h=0,E=0;if("INLINE"!==t){let n=e.current?.getClientRects()[0];if(!n)return a.createElement(a.Fragment,null," ");h=n.x,"CENTER"===t?h+=(n.width-144)/2:"RIGHT"===t&&(h=h+n.width-144),E=(n.y||0)+32+5}let _=m-(m-50)/50*3.8;return a.createElement("div",{className:i()("volume_slider--volumeContainer--jqCRj",{"volume_slider--volumeContainerRelative--2bSYx":"INLINE"===t,[c]:!l,[d]:!l&&p,"volume_slider--fullWidth--jnzDi":n}),style:{left:`${h||0}px`,top:`${E}px`}},a.createElement("input",{className:i()("volume_slider--volumeSliderInput--RHbwq",{"volume_slider--isMuted--cDjt7":u,[c]:!l&&!p,[d]:!l&&p}),max:100,min:0,onChange:g,onInput:g,onMouseUp:e=>{let t=Number(e.target.value);f(o.tk({isMuted:0===t,userInitiated:!0}))},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},step:1,style:{background:`linear-gradient(to right,
            var(--active-slider-color) 0%,
            var(--active-slider-color) ${_}%,
            var(--inactive-slider-color) ${_}%,
            var(--inactive-slider-color) 100%
          )`},type:"range",value:m}),"INLINE"!==t&&a.createElement("div",{className:i()({"volume_slider--additionalHoverDetection--IDArn":!l,"volume_slider--shallowAdditionalHoverDetection---8pNd":l})}))}},596414:(e,t,n)=>{n.d(t,{V3:()=>L,ML:()=>z,w:()=>A,HG:()=>O});var a=n(848318),r=n(301168),l=n(954703),i=n(124810),o=n(186606),s=n(84966),c=n(978877),d=n(740705),u=n(955635),m=n(781239),p=n(755534),f=n(967688),g=n(744577),h=n(340132),E=n(130953),_=n(636524),y=n(614092),b=n(839866),C=n(243277),v=n(331945),w=n(274455),T=n(983747),S=n(531288),k=n(601167);function I({nodePosition:e,isExpanded:t,children:n}){let r=(0,k._X)({subscribeToUpdates_expensive:!0}),l=(0,a.useMemo)(()=>(0,k.Yb)(r,e.absoluteBounds),[e.absoluteBounds,r]),i=(0,a.useMemo)(()=>(0,k.ZT)(l,r),[l,r]),o=(0,a.useMemo)(()=>{if(!l)return{};let e=l.x+r.x,n=l.y+r.y;return{width:l.width,height:l.height,position:"fixed",transform:`translate(${e}px, ${n}px)`,pointerEvents:"none",zIndex:t?1:0}},[r.x,r.y,l,t]);return i?a.createElement("div",{style:o},a.createElement("div",{style:{pointerEvents:"all"}},n({viewportZoom:r.zoomScale}))):null}var N=n(27776),x=n(10897);let A=32,L=7.5,O=256;var R=(e=>(e.DEFAULT="default",e.HOVERED="hovered",e.SELECTED="selected",e.DIMMED="dimmed",e))(R||{}),M=(e=>(e.LARGE="large",e.MEDIUM="medium",e.SMALL="small",e.X_SMALL="xSmall",e))(M||{});function D({clientHeight:e,scrollHeight:t,scrollTop:n}){return 1>Math.abs(t-e-n)}function P({nodeVoteInfo:e,isMostVoted:t,isSelected:n,isHoveredInModal:r,isOtherPinSelected:l,selectPin:i,deselectPin:s,nodePosition:c,currentUserId:d}){let[u,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(u),[g,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!u){f(!1);return}let e=setTimeout(()=>f(!0),100);return()=>clearTimeout(e)},[u]);let E=(0,a.useCallback)(()=>i(e.guid),[i,e.guid]),_=(0,a.useCallback)(()=>s(e.guid),[s,e.guid]),y=n?"selected":p||r?"hovered":l?"dimmed":"default",b="selected"===y||"hovered"===y;return(0,a.useEffect)(()=>{b&&!g?(o.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!0),h(!0)):!b&&g&&(o.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!1),h(!1))},[b,g,e.guid]),a.createElement(I,{nodePosition:c,isExpanded:["selected","hovered"].includes(y)},({viewportZoom:n})=>a.createElement(F,{recordingKey:`votePin-nodeId${e.guid}`,nodeVoteInfo:e,isMostVoted:t,pinState:y,setIsHovered:m,selectPin:E,deselectPin:_,viewportSize:n>.75?"large":n>.5?"medium":n>.25?"small":"xSmall",currentUserId:d}))}let F=a.memo(function({nodeVoteInfo:e,isMostVoted:t,pinState:n,setIsHovered:r,selectPin:o,deselectPin:u,viewportSize:h,currentUserId:_,recordingKey:y}){let b=(0,a.useRef)(null),C=(0,a.useRef)(null),[v,w]=(0,a.useState)(0),[S,k]=(0,a.useState)(!1),[I,O]=(0,a.useState)(!0),[R,M]=(0,a.useState)(0),[P,F]=(0,a.useState)(!1),K=(0,T.oC)(e),H={large:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"10px",paddingRight:"10px"},medium:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"8px",paddingRight:"8px"},small:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"7px",paddingRight:"7px"},xSmall:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"6px",paddingRight:"6px"}}[h],z={large:1,medium:.9,small:.8,xSmall:.7}[h];(0,a.useEffect)(()=>{if("selected"!==n)return;let e=e=>{(0,E.n3)(e.target,b.current)||u()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[n,u,e.guid]);let W=t?g.sx.colorBgvotingtertiary.$.backgroundColor:g.sx.colorBg.$.backgroundColor,j={default:{transform:`scale(${z})`,backgroundColor:W,borderColor:W,opacity:1,...H},dimmed:{transform:`scale(${z})`,backgroundColor:W,borderColor:W,opacity:.5,...H},hovered:{transform:"scale(1)",backgroundColor:W,borderColor:W,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"},selected:{transform:"scale(1)",backgroundColor:W,...g.sx.colorBorderSelectedStrong.$,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"}},Y={default:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},dimmed:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},hovered:{width:N.$tX,height:N.$tX,marginLeft:"8px",marginRight:"12px",opacity:0},selected:{width:N.$tX,height:N.$tX,marginLeft:"8px",marginRight:"12px",opacity:1}},J=(0,a.useMemo)(()=>{let t=(0,T.zi)(_);return Object.entries(e.userIdToNodeVotes).sort((e,n)=>t(e[0],n[0]))},[e.userIdToNodeVotes,_]),q=J.length>3,X=q?J.slice(0,2):J,Z=q?J.slice(2):[],Q={hovered:{height:`${A}px`},selected:{height:"auto"}},$=(0,a.useCallback)(e=>{let t=0!==e;t!==S&&k(t);let n=C.current?.getScrollHeight(),a=C.current?.getTrackHeight(),r=void 0===n||void 0===a||D({clientHeight:a,scrollHeight:n,scrollTop:e});r!==I&&O(r)},[S,I]),ee=(0,a.useCallback)(e=>{if(!e||!C.current){k(!1),O(!0);return}let t=C.current.getScrollTop(),n=C.current.getScrollHeight(),a=C.current.getTrackHeight();k(0!==t),O(D({clientHeight:a,scrollHeight:n,scrollTop:t}))},[]);return a.createElement(s.x,{transition:{duration:.1,ease:"easeInOut"}},a.createElement("div",{role:"button",tabIndex:0,className:x.UD,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:m.rf(y,"click",o),ref:b,style:{transform:`translateX(${10-v}px)`},id:e.guid},a.createElement(c.P.div,{className:x.yM,initial:!1,animate:n,variants:j},a.createElement("p",{className:x.wx},a.createElement(B,{numTotalVotes:K,isMostVoted:t}),a.createElement(c.P.span,{className:x.cG,initial:!1,animate:n,variants:Y},"selected"===n&&a.createElement(l.K,{onClick:e=>{e.stopPropagation(),u(),r(!1)},"aria-label":(0,f.t)("general.close")},a.createElement(i.A,null)))),a.createElement(d.N,null,["selected","hovered"].includes(n)&&a.createElement(a.Fragment,null,a.createElement(c.P.div,{className:x.W0,animate:"selected"===n&&S&&!P?"scrolled":"notScrolled",initial:{marginTop:"0px",opacity:0},variants:{notScrolled:{marginTop:"4px",opacity:0},scrolled:{marginTop:"4px",opacity:1}},exit:{marginTop:"0px",opacity:0}}),a.createElement(c.P.div,{className:x.sI,initial:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/z})`},animate:{width:"240px",height:"auto",opacity:1,transform:"scale(1)"},exit:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/z})`}},a.createElement(p.P,{ref:C,maxHeight:A*L,width:240,allowScrollAndZoomOver:!0,onScroll:$,onCanScrollChange:ee,forceRerenderCount:R},a.createElement("ul",{className:x.hQ},X.map(([e,t])=>a.createElement(G,{key:e,userId:e,nodeVotes:t})),q&&a.createElement(c.P.div,{initial:!1,animate:n,variants:Q,onAnimationStart:()=>F(!0),onAnimationComplete:()=>{F(!1),M(e=>e+1)}},"hovered"===n&&a.createElement(V,{overflowCount:J.length-X.length}),"selected"===n&&Z.map(([e,t])=>a.createElement(G,{key:e,userId:e,nodeVotes:t})))))),a.createElement(c.P.div,{className:x.W0,animate:"selected"!==n||I||P?"hide":"show",initial:{opacity:0},variants:{show:{opacity:1},hide:{opacity:0}},exit:{opacity:0}}))))),a.createElement(U,{reportWidth:w,numTotalVotes:K,isMostVoted:t,scale:z,padding:H}))});function B({numTotalVotes:e,isMostVoted:t}){return a.createElement("span",{className:x.TK},a.createElement("span",null,(0,f.tx)("voting.pin.votes",{numVotes:e})),t&&a.createElement("img",{src:w.Ys,className:x.C0,alt:(0,f.t)("voting.pin.medal_img_alt")}))}function U({reportWidth:e,numTotalVotes:t,isMostVoted:n,scale:r,padding:l}){let i=a.useRef(null);return a.useLayoutEffect(()=>{let t=i.current;if(t){let{width:n}=t.getBoundingClientRect();window.myEl=t,e(n)}},[i,t,n,r,l.paddingLeft,l.paddingRight,l.paddingTop,l.paddingBottom,e]),a.createElement("div",{className:x.D9,style:{transform:`scale(${r})`},"aria-hidden":!0},a.createElement("span",{style:l,ref:i},a.createElement(B,{numTotalVotes:t,isMostVoted:n})))}function G({userId:e,nodeVotes:t}){let n=t.length>3,r=n?t.slice(0,2):t,l=t.length-2;return a.createElement("li",{key:e,className:x.QE},a.createElement(K,{userId:e}),a.createElement("div",{className:x.WK},r.map(e=>a.createElement(H,{key:e,stampId:e})),n&&a.createElement("span",{className:x._v},l)))}function K({userId:e}){let{user:t,loading:n}=(0,_.wW)(e);return a.createElement(a.Fragment,null,a.createElement(v.v,{userId:e,user:t,loading:n,size:24,loadingClassName:x.SD}),a.createElement(v.m,{userId:e,user:t,loading:n,defaultClassName:x.nT,loadingClassName:x.fK}))}function V({overflowCount:e}){return a.createElement("li",{className:x.Qf},a.createElement("div",{className:x.EA},a.createElement(w.xL,null)),a.createElement("span",{className:x.iG},(0,f.tx)("voting.pin.voter_list_overflow",{numOverflowingVoters:e})))}function H({stampId:e}){let t=(0,u.fU)(),n=(0,y.Fk)((e,t)=>{let n=e.get(t);return n?n.name:null},e),r=(()=>{let e=C.WJ.find(e=>e.label===n);return e&&(0,b.k6)(e,t)||C.tR})(),l=n?(0,f.t)("voting.pin.stamp_preview_alt_with_type",{stampType:n}):(0,f.t)("voting.pin.stamp_preview_alt_without_type");return a.createElement("img",{className:x.O8,src:r,alt:l})}function z({votedNodes:e,votingStage:t,selectedNodeId:n,currentUserId:l}){let i=(0,r.wA)(),s=(0,r.d4)(e=>e.voting.hoveredInModalVotePinId),c=(0,a.useMemo)(()=>(0,T.yn)(e),[e]),d=(0,a.useCallback)(e=>i(h.w9({votePinId:e})),[i]),u=(0,a.useCallback)(e=>i(h.rT({votePinId:e})),[i]),m=function({votedNodes:e}){let[t,n]=(0,a.useState)({}),r=(0,a.useMemo)(()=>e.map(e=>e.guid),[e]);return(0,a.useEffect)(()=>{if(!r.length){n({});return}let e="vote-pins",t=(0,S.EE)(e,r,e=>{n(t=>({...t,[e.nodeId]:e.position}))});return n(Object.entries(t.currentNodePosition).reduce((e,[t,n])=>(n&&(e[t]=n.position),e),{})),()=>{(0,S.lB)(e)}},[r]),t}({votedNodes:e});return a.createElement(a.Fragment,null,e.map(e=>{let r=m[e.guid];if(!r)return null;let i=1===c.size&&c.has(e.guid)&&t===o.W8Y.ENDED;return a.createElement(P,{key:e.guid,currentUserId:l,deselectPin:u,isHoveredInModal:s===e.guid,isMostVoted:i,isOtherPinSelected:!!n&&n!==e.guid,isSelected:n===e.guid,nodePosition:r,nodeVoteInfo:e,selectPin:d})}))}},274455:(e,t,n)=>{n.d(t,{BV:()=>s,CB:()=>N,Cu:()=>O,D5:()=>_,EW:()=>f,G7:()=>l,Gg:()=>L,H$:()=>M,H0:()=>d,HK:()=>P,I5:()=>K,JK:()=>I,Mi:()=>w,N$:()=>c,QD:()=>U,QZ:()=>F,R8:()=>R,Un:()=>k,Vq:()=>B,Yl:()=>E,Ys:()=>i,_K:()=>h,ak:()=>v,c1:()=>A,dA:()=>S,dH:()=>p,h9:()=>g,kj:()=>y,lm:()=>x,pt:()=>C,qn:()=>T,rQ:()=>b,sJ:()=>G,xL:()=>o,xf:()=>m,yc:()=>u,zp:()=>D});var a=n(848318),r=n(615233);let l=(0,r.ck)("054596349bf8a2ae155aa7818cf2a3cbf483a9f4"),i=(0,r.ck)("295306027f272a9b0931ddec9321361f7cd8299b");function o(){return a.createElement("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3.5C8.5 4.88071 7.38071 6 6 6C4.61929 6 3.5 4.88071 3.5 3.5C3.5 2.11929 4.61929 1 6 1C7.38071 1 8.5 2.11929 8.5 3.5ZM9.5 3.5C9.5 5.433 7.933 7 6 7C4.067 7 2.5 5.433 2.5 3.5C2.5 1.567 4.067 0 6 0C7.933 0 9.5 1.567 9.5 3.5ZM17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5ZM18 5C18 6.65685 16.6569 8 15 8C13.3431 8 12 6.65685 12 5C12 3.34315 13.3431 2 15 2C16.6569 2 18 3.34315 18 5ZM13.2108 10.4215C13.7492 10.1518 14.3569 10 15 10C17.2091 10 19 11.7909 19 14H20C20 11.2386 17.7614 9 15 9C14.1612 9 13.3706 9.20657 12.6763 9.57162C12.8743 9.83933 13.0532 10.1234 13.2108 10.4215ZM12 14H11C11 11.2386 8.76142 9 6 9C3.23858 9 1 11.2386 1 14H0C0 10.6863 2.68629 8 6 8C9.31371 8 12 10.6863 12 14Z"}))}function s({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4137_211384)"},a.createElement("g",{clipPath:"url(#clip1_4137_211384)"},a.createElement("rect",{width:"64",height:"64",transform:"translate(0 16.3726) rotate(-15)",fill:e}),a.createElement("rect",{x:"12.7651",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.7651 25.3755)",fill:"black",fillOpacity:"0.15"}),a.createElement("rect",{x:"15.871",y:"36.9666",width:"32",height:"6",transform:"rotate(-15 15.871 36.9666)",fill:"black",fillOpacity:"0.15"}))),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4137_211384"},a.createElement("rect",{width:"40",height:"72",fill:"white"})),a.createElement("clipPath",{id:"clip1_4137_211384"},a.createElement("rect",{width:"64",height:"64",fill:"white",transform:"translate(0 16.3726) rotate(-15)"}))))}function c(){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4119_210884)"},a.createElement("rect",{x:"1.93188",y:"17.8704",width:"40",height:"40",rx:"8",transform:"rotate(-15 1.93188 17.8704)",fill:"white"}),a.createElement("rect",{x:"4.65869",y:"35.7747",width:"4",height:"4",transform:"rotate(-15 4.65869 35.7747)",fill:"black",fillOpacity:"0.8"}),a.createElement("path",{d:"M6.55591 33.1958L4.61477 25.9514C3.47123 21.6836 5.43444 17.4495 9.59547 16.3346L33.1641 10.0194C37.3251 8.90444 41.1423 11.5897 42.2859 15.8574L44.227 23.1019",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{d:"M8.62646 40.9232L10.5676 48.1676C11.7111 52.4354 15.5284 55.1206 19.6894 54.0057L43.258 47.6905C47.419 46.5755 49.3822 42.3414 48.2387 38.0737L46.2976 30.8293",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.2731 19.058L14.8865 23.7167L15.4041 25.6486L23.1315 23.578L28.3079 42.8965L30.2398 42.3789L25.0634 23.0604L32.7908 20.9898L32.2731 19.058Z",fill:"black",fillOpacity:"0.8"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4119_210884"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function d(){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4119_210979)"},a.createElement("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),a.createElement("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4791 74.8821)",width:"10",x:"17.4791",y:"74.8821"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6782 27.9006L46.2859 22.7045L48.2177 22.1868L49.5833 27.2831L54.6798 25.9175L55.1974 27.8493L50.0013 29.2416L49.5104 27.4096L47.6782 27.9006ZM32.6806 33.8827L27.4845 35.275L26.9668 33.3431L32.0632 31.9775L30.6977 26.8814L32.6296 26.3637L34.0219 31.5598L34.1216 31.5331L47.5783 27.9274L49.5101 27.4097L50.0278 29.3416L53.6335 42.7982L54.1511 44.7301L52.2193 45.2477L38.7626 48.8534L36.8308 49.3711L36.8308 49.3711L38.6628 48.8802L40.0551 54.0763L38.1232 54.594L36.7577 49.4977L31.6615 50.8632L31.1438 48.9314L36.3399 47.5391L36.3131 47.4392L32.7074 33.9826L32.1898 32.0507L32.1897 32.0508L32.6806 33.8827ZM48.0959 29.8592L34.6393 33.4649L38.245 46.9216L51.7016 43.3159L48.0959 29.8592ZM54.278 44.8033L59.3744 43.4378L58.8568 41.5059L53.6607 42.8982L54.1515 44.73L52.3193 45.221L53.7116 50.4171L55.6435 49.8994L54.278 44.8033Z",fill:"#0D99FF"}),a.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#0D99FF",strokeWidth:"2"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4119_210979"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function u(){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4121_211214)"},a.createElement("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),a.createElement("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4789 74.8821)",width:"10",x:"17.4789",y:"74.8821"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.8154 33.1697L40.4705 25.1453L48.5141 29.7671L43.859 37.7915L35.8154 33.1697ZM37.1696 49.4156L29.1452 44.7605L33.767 36.7169L41.7914 41.372L37.1696 49.4156ZM53.4151 48.061L48.76 56.0855L40.7164 51.4636L45.3715 43.4392L53.4151 48.061ZM60.0855 36.4702L52.0611 31.8151L47.4393 39.8587L55.4637 44.5138L60.0855 36.4702Z",fill:"#8638E5"}),a.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#9747FF",strokeWidth:"2"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4121_211214"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function m(){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4591_210267)"},a.createElement("rect",{x:"-2",y:"15.4233",width:"48",height:"48",rx:"9.6",transform:"rotate(-15 -2 15.4233)",fill:"white"}),a.createElement("rect",{x:"-1.26515",y:"15.8476",width:"46.8",height:"46.8",rx:"9",transform:"rotate(-15 -1.26515 15.8476)",stroke:"black",strokeOpacity:"0.2",strokeWidth:"1.2"}),a.createElement("circle",{cx:"31.4811",cy:"24.4658",r:"4.2",transform:"rotate(-15 31.4811 24.4658)",stroke:"black",strokeOpacity:"0.8",strokeWidth:"2.4"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.606 20.7418L36.1064 13.909C37.3868 13.566 38.7028 14.3258 39.0458 15.6061L45.8786 41.1065C46.2217 42.3868 45.4619 43.7028 44.1816 44.0459L42.4018 44.5228L21.5894 30.0419L20.6167 29.3651L19.9277 30.3293L13.2094 39.7307L8.90894 23.6812C8.56588 22.4009 9.32568 21.0849 10.606 20.7418ZM14.0138 42.7329L15.7418 49.1817C16.0848 50.462 17.4008 51.2218 18.6812 50.8787L39.368 45.3357L21.1914 32.6888L14.0138 42.7329ZM6.59072 24.3024C5.9046 21.7418 7.4242 19.1097 9.98483 18.4236L35.4853 11.5908C38.0459 10.9047 40.6779 12.4243 41.364 14.9849L48.1969 40.4854C48.883 43.046 47.3634 45.678 44.8028 46.3641L19.3023 53.197C16.7417 53.8831 14.1097 52.3635 13.4235 49.8028L6.59072 24.3024Z",fill:"black",fillOpacity:"0.8"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4591_210267"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function p({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4121_211235)"},a.createElement("rect",{y:"16.5644",width:"64",height:"64",rx:"3",transform:"rotate(-15 0 16.5644)",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4121_211235"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function f({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4171_210078)"},a.createElement("rect",{x:"-5.5",y:"14.4346",width:"88.7204",height:"72.0853",rx:"25.2992",transform:"rotate(-15 -5.5 14.4346)",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4171_210078"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function g({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4171_210088)"},a.createElement("path",{d:"M16.5562 8.25247C16.8973 6.92671 18.0926 6 19.4615 6L89.4516 6C91.4118 6 92.8454 7.84915 92.357 9.74752L73.765 82.0085C73.4239 83.3342 72.2286 84.2609 70.8596 84.2609H0.869569C-1.09063 84.2609 -2.52423 82.4118 -2.0358 80.5134L16.5562 8.25247Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4171_210088"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function h({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4173_210152)"},a.createElement("path",{d:"M75.9438 8.25247C75.6027 6.92671 74.4074 6 73.0385 6L3.04841 6C1.08821 6 -0.34539 7.84915 0.143036 9.74752L18.735 82.0085C19.0761 83.3342 20.2714 84.2609 21.6404 84.2609H91.6304C93.5906 84.2609 95.0242 82.4118 94.5358 80.5134L75.9438 8.25247Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4173_210152"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function E({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4119_210848)"},a.createElement("circle",{cx:"40",cy:"46",r:"40",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4119_210848"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function _({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4119_210856)"},a.createElement("g",{clipPath:"url(#clip1_4119_210856)"},a.createElement("path",{d:"M18.693 6.40686C19.2012 4.50766 21.9085 3.78226 23.2982 5.17292L82.5015 64.4167C83.7556 65.6717 82.9788 67.752 81.0647 68.2649L0.211739 89.9294C-1.70237 90.4423 -3.41521 89.029 -2.95662 87.3152L18.693 6.40686Z",fill:e}))),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4119_210856"},a.createElement("rect",{width:"40",height:"72",fill:"white"})),a.createElement("clipPath",{id:"clip1_4119_210856"},a.createElement("rect",{width:"89.0428",height:"77.1705",fill:"white",transform:"translate(-22.3394 16.0794) rotate(-15)"}))))}function y({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4121_211255)"},a.createElement("path",{d:"M51.3523 84.6094C52.5437 86.3294 55.5163 86.0834 56.4088 84.191L94.4305 3.57293C95.2359 1.86524 93.7104 0.0603115 91.6086 0.234234L2.83059 7.58081C0.728861 7.75473 -0.479214 9.78588 0.59593 11.3379L51.3523 84.6094Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4121_211255"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function b({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4119_210865)"},a.createElement("ellipse",{cx:"36.0212",cy:"10.0459",rx:"36.2221",ry:"8.35894",transform:"rotate(-15 36.0212 10.0459)",fill:e}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.0853 4.68736C67.4361 9.37258 54.7615 15.1933 39.2535 19.3486C21.2873 24.2612 6.9678 24.914 1.84497 22.4498L15.4556 73.2452L15.4564 73.2483L15.4564 73.2483C16.6513 77.7075 33.2845 77.1251 52.6077 71.9474C71.9309 66.7698 86.6269 58.9575 85.4321 54.4984L72.0853 4.68736Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4119_210865"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function C({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4171_210106)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30957 14.019C11.2258 17.2597 17.7809 30.6301 22.2705 47.3855C27.6619 67.5064 28.033 84.8893 23.0994 86.2112C22.8341 86.2823 22.5589 86.3055 22.2747 86.2826L22.3557 86.5848L94.06 67.3717L94.072 67.3685L94.0839 67.3652L94.4168 67.276L94.4086 67.2455C98.6089 65.2803 97.911 48.5964 92.7387 29.2931C87.5664 9.98975 79.8288 -4.80791 75.2087 -4.40965L75.2005 -4.44026L6.30957 14.019Z",fill:e}),a.createElement("ellipse",{rx:"37.1231",ry:"8.56687",transform:"matrix(-0.258819 -0.965926 -0.965926 0.258819 12.747 50.7267)",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4171_210106"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function v({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4121_211283)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.808 -0.216748L71.1184 12.1379L84.015 60.2684C84.2789 61.2533 83.6944 62.2656 82.7096 62.5295L14.95 80.6856C13.9636 80.9499 12.9501 80.3633 12.6879 79.3764L0.985107 35.3241L17.2244 30.9728C18.2736 30.6916 18.8962 29.6132 18.6151 28.564L14.2374 12.2262L65.5469 -1.52218C66.5318 -1.78607 67.5441 -1.20161 67.808 -0.216748ZM14.1879 12.2394L12.5651 12.6743L12.5663 12.6788L14.1879 12.2394Z",fill:e}),a.createElement("path",{d:"M0.453613 33.7343L15.3437 29.7445C16.2999 29.4883 16.8674 28.5054 16.6112 27.5492L12.6214 12.6591L0.453613 33.7343Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4121_211283"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function w({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_4121_211302)"},a.createElement("path",{d:"M1.59945 13.1347C1.69191 12.2997 2.28702 11.6068 3.09854 11.3894L33.2368 3.31384C34.0484 3.09639 34.9102 3.39889 35.4078 4.07583L43.442 15.006L0.106658 26.6177L1.59945 13.1347Z",fill:e}),a.createElement("path",{d:"M0.49585 28.071L77.3176 7.48667C78.4055 7.19517 79.5237 7.84077 79.8152 8.92866L93.0608 58.3616C93.3523 59.4495 92.7067 60.5677 91.6188 60.8592L16.7668 80.9157C15.6789 81.2072 14.5607 80.5616 14.2692 79.4737L0.49585 28.071Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_4121_211302"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function T({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10125)"},a.createElement("path",{d:"M114.56 0.523225L5.97986 10.0227C2.09706 10.3624 -0.43629 14.2562 0.826349 17.9436L23.8419 80.1745C24.7355 82.7842 27.2933 84.4483 30.0413 84.2079L103.746 77.7596C106.494 77.5192 108.724 75.4361 109.151 72.7109L121.01 7.42886C121.613 3.57818 118.442 0.183524 114.56 0.523225Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10125"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function S({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1_2)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0018 18.1129C2.35849 15.712 3.7829 13.2449 6.18378 12.6015L8.11564 12.0839L28.0447 86.4602L26.1128 86.9778C23.712 87.6211 21.2448 86.1967 20.6015 83.7958L3.0018 18.1129ZM30.9425 85.6837L11.0134 11.3074L67.0371 -3.70406L86.9662 70.6722L30.9425 85.6837ZM89.864 69.8958L69.9349 -4.48052L71.8667 -4.99815C74.2676 -5.64147 76.7348 -4.21705 77.3781 -1.81617L94.9778 63.8668C95.6211 66.2677 94.1967 68.7348 91.7958 69.3781L89.864 69.8958Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1_2"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function k({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_9936)"},a.createElement("path",{d:"M1.28373 39.4007L27.401 4.53364C29.0584 2.33788 31.9967 1.55056 34.5299 2.62346L74.5817 19.7606C76.9322 20.7561 78.3955 23.1298 78.2289 25.677L74.5428 65.0534C74.3751 67.6187 72.5917 69.7921 70.1085 70.4574L30.506 81.0689C28.0228 81.7343 25.3917 80.7438 23.9638 78.606L1.08334 46.3481C-0.334505 44.2255 -0.254107 41.4381 1.28373 39.4007Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_9936"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function I({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_9948)"},a.createElement("path",{d:"M77.1821 12.7227L54.9038 -0.139714C53.5257 -0.935364 51.8879 -1.15098 50.3509 -0.739117L23.3659 6.49148C21.8288 6.90334 20.5183 7.90893 19.7227 9.28704L6.8603 31.5654C6.06465 32.9435 5.84904 34.5812 6.2609 36.1183L13.4915 63.1032C13.9034 64.6403 14.9089 65.9508 16.2871 66.7465L38.5654 79.6089C39.9435 80.4045 41.5812 80.6201 43.1183 80.2083L70.1032 72.9777C71.6403 72.5658 72.9508 71.5602 73.7465 70.1821L86.6089 47.9038C87.4045 46.5257 87.6201 44.888 87.2083 43.3509L79.9777 16.3659C79.5658 14.8288 78.5602 13.5183 77.1821 12.7227Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_9948"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function N({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_9990)"},a.createElement("path",{d:"M4.38961 47.4437L8.7529 18.3221C9.07419 15.9214 10.8074 13.9494 13.147 13.3225L79.3093 -4.40567C81.6489 -5.03256 84.1359 -4.1913 85.6145 -2.2729L103.954 20.7655C104.931 22.033 105.361 23.6381 105.149 25.2242L100.785 54.3458C100.464 56.7465 98.7309 58.7186 96.3914 59.3454L30.229 77.0736C27.8895 77.7005 25.4024 76.8592 23.9238 74.9408L5.58431 51.9024C4.60744 50.635 4.17733 49.0298 4.38961 47.4437Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_9990"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function x({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10069)"},a.createElement("path",{d:"M78.3034 46.7945L75.2573 11.9772C74.9685 8.67607 72.0583 6.23413 68.7572 6.52293L5.97724 12.0155C2.67614 12.3043 0.234196 15.2145 0.523004 18.5156L3.56912 53.3329C3.75676 55.4776 5.07913 57.3574 7.03428 58.2588L40.0733 74.3612C42.003 75.2509 44.2594 75.0535 46.0054 73.8422L75.7463 52.2473C77.5152 51.0201 78.4911 48.9392 78.3034 46.7945Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10069"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function A({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10082)"},a.createElement("path",{d:"M53.8362 -0.906348L28.8877 3.49274C25.6243 4.06816 23.4453 7.18012 24.0207 10.4435L25.9888 21.6046C26.5642 24.868 24.3852 27.98 21.1218 28.5554L9.96064 30.5234C6.69727 31.0988 4.51826 34.2108 5.09368 37.4741L9.49277 62.4226C10.0682 65.686 13.1801 67.865 16.4435 67.2896L27.6047 65.3216C30.868 64.7461 33.98 66.9252 34.5554 70.1885L36.5234 81.3496C37.0988 84.613 40.2108 86.792 43.4741 86.2166L68.4226 81.8175C71.686 81.2421 73.865 78.1301 73.2896 74.8668L71.3216 63.7056C70.7462 60.4423 72.9252 57.3303 76.1885 56.7549L87.3497 54.7869C90.613 54.2115 92.792 51.0995 92.2166 47.8362L87.8175 22.8877C87.2421 19.6243 84.1302 17.4453 80.8668 18.0207L69.7057 19.9887C66.4423 20.5641 63.3304 18.3851 62.7549 15.1218L60.7869 3.96061C60.2115 0.697243 57.0996 -1.48177 53.8362 -0.906348Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10082"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function L({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10095)"},a.createElement("path",{d:"M53.9511 20.3098L42.1525 3.16336C39.1912 0.00572091 33.9624 0.927699 32.2597 4.90774L27.0372 25.0555C26.4488 26.4308 25.3678 27.5367 24.0063 28.1564L3.71302 33.8825C-0.294145 35.7063 -1.03771 41.0813 2.32381 43.9245L20.084 54.7429C21.247 55.7266 21.9924 57.1158 22.1689 58.6287L21.3874 79.2433C21.8923 83.5712 26.6965 85.9346 30.4331 83.6935L46.7061 70.2694C47.9748 69.5084 49.4799 69.243 50.9323 69.5242L70.8153 76.573C75.0931 77.401 78.7991 73.537 77.7934 69.2974L70.0084 50.1933C69.6568 48.7113 69.8821 47.1509 70.6385 45.8288L83.6275 29.5885C85.8139 25.767 83.2768 20.9705 78.8875 20.6272L57.8597 22.1872C56.3683 22.0705 54.9743 21.401 53.9511 20.3098Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10095"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function O({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10138)"},a.createElement("path",{d:"M12.85 78.4563L1.39908 13.5151C0.701528 9.55913 4.01276 6.04841 8.00276 6.51361L106.493 17.9966C109.127 18.3037 111.247 20.3031 111.707 22.9144L118.224 59.876C118.8 63.1393 116.621 66.2513 113.357 66.8267L19.8007 83.3233C16.5373 83.8987 13.4254 81.7197 12.85 78.4563Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10138"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function R({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10170)"},a.createElement("path",{d:"M3.52293 10.7657C3.23413 7.46464 5.67607 4.55445 8.97717 4.26564L88.0582 -2.65305C91.3593 -2.94186 94.2695 -0.499919 94.5583 2.80118L98.93 52.7701C99.3106 57.1197 95.0142 60.5495 90.7364 59.6753C85.6875 58.6434 79.1215 57.7867 72.6631 58.3517C59.3871 59.5132 46.8006 72.394 33.8579 73.5263C25.4977 74.2577 16.8948 72.2143 12.2232 70.8232C10.0275 70.1694 8.54803 68.2028 8.34835 65.9205L3.52293 10.7657Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10170"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function M({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10181)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3176 14.6705C1.88439 9.71881 5.54731 5.35352 10.499 4.92031L74.9606 -0.719357C77.7924 -0.967105 80.3366 0.794636 81.185 3.38441L12.8314 9.36458C8.98009 9.70152 6.13115 13.0967 6.4681 16.948L10.3685 61.53L7.72221 60.9899C6.90554 60.8233 6.29563 60.1395 6.22298 59.3092L2.3176 14.6705ZM13.0928 12.3532L15.0852 12.1789L81.6029 6.35932L83.1972 6.21983C86.4983 5.93102 89.4085 8.37296 89.6973 11.6741L93.3699 53.6516C93.7502 57.9988 89.453 61.4325 85.1642 60.627C80.8923 59.8246 75.5894 59.2269 70.3662 59.6838C64.4909 60.1979 58.7686 63.3152 53.0827 66.4127C47.4685 69.4711 41.8899 72.5101 36.2345 73.0049C29.1375 73.6258 21.8422 71.9786 17.6488 70.7666C15.4459 70.1298 13.96 68.1595 13.7601 65.8752L13.4347 62.1558L9.63099 18.679L9.45668 16.6866C9.26414 14.4858 10.8921 12.5457 13.0928 12.3532Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10181"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function D({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1508_10194)"},a.createElement("path",{d:"M13.5958 79.9017C8.77167 80.3237 5.46072 75.1516 7.86364 70.9473L21.5019 47.0847C22.744 44.9115 22.5064 42.1954 20.9058 40.2709L3.33102 19.1391C0.234531 15.4159 2.59704 9.74744 7.42117 9.32538L90.1645 2.08628C92.2987 1.89955 94.3706 2.86499 95.6004 4.61925L115.109 32.4478C116.341 34.205 116.541 36.4863 115.633 38.4307L101.253 69.2241C100.346 71.1653 98.4734 72.4758 96.3391 72.6626L13.5958 79.9017Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1508_10194"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function P({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_2094_1753)"},a.createElement("path",{d:"M16.731 20.0212C13.2433 16.3882 7.10166 18.409 6.4527 23.4032L1.37881 62.4502C0.884517 66.2541 4.03759 69.5386 7.85853 69.1999L47.08 65.7235C52.0965 65.2788 54.3663 59.2248 50.8786 55.5917L46.4318 50.9596L85.863 13.1058C88.2534 10.811 88.331 7.01278 86.0361 4.62231L69.0925 -13.0273C66.7977 -15.4178 62.9995 -15.4953 60.609 -13.2005L21.1778 24.6533L16.731 20.0212Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2094_1753"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function F({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_2094_1725)"},a.createElement("path",{d:"M52.9651 15.8477L35.2998 41.0764L59.9709 58.3513C64.1126 51.7654 65.9172 43.6796 64.4598 35.4144C63.0477 27.4063 58.8158 20.6037 52.9651 15.8477ZM49.7126 13.5191L32.0232 38.7821L6.79163 21.1147C11.5638 14.9703 18.5448 10.5091 26.81 9.05173C35.0608 7.59689 43.133 9.39265 49.7126 13.5191ZM4.53573 24.4182L29.7289 42.0587L12.4783 66.6951C6.35043 61.9235 1.90212 54.9524 0.447277 46.7016C-0.962241 38.7078 0.67945 30.8817 4.53573 24.4182ZM15.779 68.955C22.2492 72.8262 30.089 74.4763 38.0971 73.0642C46.0909 71.6547 52.8835 67.4354 57.6382 61.601L33.0055 44.353L15.779 68.955Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2094_1725"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function B({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_2094_1739)"},a.createElement("path",{d:"M28.644 8.74898L34.0412 39.3575L64.2193 34.0363C62.5252 26.3602 58.0606 19.2724 51.1138 14.4082C44.3027 9.63898 36.299 7.84315 28.644 8.74898Z",fill:e}),a.createElement("path",{d:"M25.4365 9.29133L30.8376 39.9224L0.206747 45.3234C-0.826765 37.5308 0.944422 29.3435 5.80863 22.3967C10.6728 15.45 17.7605 10.9854 25.4365 9.29133Z",fill:e}),a.createElement("path",{d:"M0.79417 48.523L31.4025 43.126L36.7236 73.3038C28.9311 74.3373 20.7439 72.5661 13.7972 67.7019C6.98606 62.9327 2.56115 56.0261 0.79417 48.523Z",fill:e}),a.createElement("path",{d:"M39.9232 72.7164C47.4263 70.9495 54.3331 66.5246 59.1023 59.7134C63.8715 52.9023 65.6673 44.8987 64.7616 37.2438L34.606 42.5611L39.9232 72.7164Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2094_1739"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function U({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_2094_1770)"},a.createElement("path",{d:"M16.7681 5.48015C8.61136 6.30146 2.66482 13.5796 3.48613 21.7363L5.92497 45.9576C6.74628 54.1143 14.0244 60.0609 22.1811 59.2396L22.4765 59.2098L23.2086 66.48C23.4012 68.393 25.6685 69.2962 27.1238 68.0396L39.3133 57.5145L68.2606 54.5998C76.4174 53.7785 82.3639 46.5004 81.5426 38.3436L79.1038 14.1224C78.2825 5.96563 71.0043 0.01909 62.8476 0.840394L16.7681 5.48015Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2094_1770"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function G({color:e="#699BF7"}){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_2094_1787)"},a.createElement("path",{d:"M4.01281 14.3118C3.61202 11.0224 5.95368 8.03096 9.24306 7.63016L9.73939 7.56969L10.5256 14.022L4.07329 14.8081L4.01281 14.3118ZM4.43614 17.7861L12.7213 85.7832C13.122 89.0726 16.1135 91.4143 19.4029 91.0135L19.8992 90.953L10.8884 16.9999L4.43614 17.7861ZM13.8664 16.6371L22.8772 90.5902L106.757 80.3698C110.046 79.969 112.388 76.9776 111.987 73.6882L103.702 5.69107L13.8664 16.6371ZM103.339 2.71309L103.279 2.21676C102.878 -1.07262 99.8864 -3.41428 96.597 -3.01349L12.7174 7.20684L13.5035 13.6591L103.339 2.71309Z",fill:e})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2094_1787"},a.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function K(){return a.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_5859_244544)"},a.createElement("g",{clipPath:"url(#clip1_5859_244544)"},a.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"#2F2746"}),a.createElement("rect",{x:"12.5732",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.5732 25.3755)",fill:"#514670"}),a.createElement("rect",{x:"23.4062",y:"34.8961",width:"32",height:"6",transform:"rotate(-15 23.4062 34.8961)",fill:"#514670"}),a.createElement("rect",{x:"26.5122",y:"46.4872",width:"32",height:"6",transform:"rotate(-15 26.5122 46.4872)",fill:"#514670"}),a.createElement("rect",{x:"21.8906",y:"60.1488",width:"6",height:"6",transform:"rotate(-15 21.8906 60.1488)",fill:"#514670"}))),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_5859_244544"},a.createElement("rect",{width:"40",height:"72",fill:"white"})),a.createElement("clipPath",{id:"clip1_5859_244544"},a.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"white"}))))}},983747:(e,t,n)=>{n.d(t,{$_:()=>N,Av:()=>I,DG:()=>T,FJ:()=>M,Ld:()=>k,Pd:()=>P,YR:()=>D,e_:()=>x,hr:()=>A,oC:()=>L,yn:()=>O,zi:()=>R});var a=n(848318),r=n(301168),l=n(186606),i=n(999667),o=n(656329),s=n(967688),c=n(31898),d=n(456028),u=n(381673),m=n(303397),p=n(730143),f=n(318147),g=n(361053),h=n(520779),E=n(259964),_=n(274016),y=n(271238),b=n(264524),C=n(23897),v=n(969641),w=n(366022);function T(e){let t=(0,s.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:e.userVoteLimit});return e.title||t}let S=()=>!((0,o.wg)()||(0,o.o4)());function k(){let e=(0,w.jz)();return!!(e?.length&&e?.length>0)}function I(){let e=x(),t=!!(0,w.C3)(),n=S()&&("eligible"===e||"eligibleWithUpgrade"===e),[r,l]=a.useState(t&&n);return a.useEffect(()=>{if(!t){l(!1);return}n&&l(!0)},[t,n]),n||r}var N=(e=>(e.FEATURE_DISABLED="featureDisabled",e.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",e.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",e.ELIGIBLE="eligible",e))(N||{});function x(){let e=(0,p.q5)(),t=(0,r.d4)(t=>e&&e.teamId?t.teams[e.teamId]:null),n=(0,r.d4)(e=>e.isFreeUser),a=(0,d.DG)(e?.key||"").enabled,l=e?.isTryFile,i=!!e&&(e.canEdit||a);return l||!i?"featureDisabled":e.parentOrgId?"eligible":t?(0,g.PS)(t)?"eligible":"eligibleWithUpgrade":n?"eligibleWithUpgrade":"eligibleWithMoveFileToPaidTeam"}function A(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=m.BI.getUserId(),n=t&&e.userIdToVoteStampIds[t]?.length||0;return e.userVoteLimit-n}function L(e){return Object.values(e.userIdToNodeVotes).reduce((e,t)=>e+t.length,0)}function O(e){return new Set(e.reduce((e,t)=>{let n=L(t),a=e.voteCount;return n<a?e:n>a?{voteCount:n,nodes:[t]}:{voteCount:a,nodes:[...e.nodes,t]}},{voteCount:0,nodes:[]}).nodes.map(e=>e.guid))}function R(e){return function(t,n){return t===e?-1:n===e?1:t.localeCompare(n)}}function M(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,i.Xr)(b.Qs);a.useEffect(()=>{(e===l.W8Y.JOINED||e===l.W8Y.NOT_JOINED)&&t({type:"SET_VIEW",payload:b.iN.DEFAULT})},[e,t])}function D(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,i.Xr)(b.Qs),n=(0,y.$)(),o=(0,C.qU)();a.useEffect(()=>{e!==l.W8Y.ENDED||n||(t({type:"VOTING_ENDED"}),(0,v.D)(o))},[e,t,n,o])}function P(e){let t=x(),n=(0,r.d4)(e=>e.selectedView?.editorType),l=(0,p.q5)(),i=(0,r.d4)(e=>l&&l.teamId?e.teams[l.teamId]:null),o=(0,r.wA)();return a.useCallback(()=>{let a=n===E.nT.Whiteboard?f._Y.WHITEBOARD:f._Y.DESIGN;if("eligibleWithUpgrade"===t)o(c.to({type:_.DV,data:{team:i,resource:h.Bi.VOTING,editorType:a,currentPlan:u.F.Plan.STARTER,upsellPlan:u.F.Plan.PRO}}));else if("eligible"===t)return e(),!0;return!1},[o,n,t,i,e])}},230701:(e,t,n)=>{n.d(t,{J:()=>F});var a=n(848318),r=n(301168),l=n(999667),i=n(536384),o=n.n(i),s=n(656329),c=n(781239),d=n(967688),u=n(696786),m=n(459403),p=n(17753),f=n(271238),g=n(396912),h=n(881760),E=n(64017),_=n(250155),y=n(438673),b=n(396781),C=n(826798),v=n(725051),w=n(366022),T=n(983747),S=n(264524),k=n(23897),I=n(533737),N=n(752181);let x=e=>e.multiplayer.allUsers.filter((e,t,n)=>t===n.findIndex(t=>t.userID===e.userID)).length,A="seen_figjam_meetings_panel_gleam";var L=n(865114);let O={duration:1500,fill:"none"};function R(){return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%"}},a.createElement("g",{filter:"url(#filter0_d_3305_12330)"},a.createElement("path",{d:"M20.2469 10.6915L20.2471 10.6913C21.1037 9.81654 20.693 8.21534 19.3809 8.01578C19.3809 8.01577 19.3808 8.01576 19.3807 8.01575L14.8346 7.32381L12.7941 2.99403C12.2333 1.80375 10.5666 1.79999 10.0055 2.99476C10.0054 2.99498 10.0053 2.99521 10.0052 2.99543L7.96535 7.32381L3.41928 8.01575C3.41921 8.01576 3.41914 8.01577 3.41908 8.01578C2.107 8.21534 1.69633 9.81654 2.55291 10.6913L2.55308 10.6915L5.86693 14.0741L5.08327 18.8605C5.08326 18.8606 5.08325 18.8606 5.08324 18.8607C4.88746 20.0559 6.12574 21.1809 7.34457 20.5087L11.4 18.2756L15.4554 20.5087C15.4556 20.5088 15.4558 20.5088 15.456 20.5089C16.6746 21.1805 17.9125 20.0557 17.7168 18.8607C17.7167 18.8606 17.7167 18.8606 17.7167 18.8605L16.9331 14.0741L20.2469 10.6915Z",fill:"#FFC700",stroke:"white",strokeWidth:"1.8"}),a.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint0_linear_3305_12330)"}),a.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint1_linear_3305_12330)"}),a.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",stroke:"white",strokeWidth:"1.8"})),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_3305_12330",x:"-1.5",y:"-1",width:"27",height:"27",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"0.5"}),a.createElement("feGaussianBlur",{stdDeviation:"0.75"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_12330"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3305_12330",result:"shape"})),a.createElement("linearGradient",{id:"paint0_linear_3305_12330",x1:"13.5",y1:"12",x2:"21.9",y2:"21.6",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#F7C000"}),a.createElement("stop",{offset:"1",stopColor:"#E8B604"})),a.createElement("linearGradient",{id:"paint1_linear_3305_12330",x1:"21.9",y1:"21.6",x2:"13.5",y2:"12",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0"}),a.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),a.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),a.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}let M="meeting_tools_toolbar--withHover--r7Sks",D="meeting_tools_toolbar--selected--Lt0iR",P="meeting_tools_toolbar--hide--t1ZI-";function F(){let e=(0,u.GS)(),t=(0,l.md)(S.Qs),n=(0,k.qU)(),i=(0,k.MR)(),E=(0,k.II)(),[R]=(0,b.Jg)(),{renderGleam:F}=function(e){let[t,n]=a.useState(!1),l=(0,r.d4)(x),i=(0,N.f)(A),o=(0,r.wA)(),s=l>1&&!i;return a.useEffect(()=>{if(!s)return;let t=window.setTimeout(()=>{n(!0),o(I.b({[A]:!0}))},e?.delay_ms||1e4);return()=>clearTimeout(t)},[s,e?.delay_ms,o]),{renderGleam:t}}({delay_ms:2e3}),G=a.useCallback(()=>{t.isOpen?n({source:k.OO.MEETINGS_TOOLBAR}):i({source:k.OO.MEETINGS_TOOLBAR})},[t,n,i]),K=function(){let e=(0,u.GS)(),t=(0,k.II)();if(0===t.length)return"ALL";let n=1===t.length&&t.includes(S.sx.TIMER);return 1===t.length&&t.includes(S.sx.VOTING)||2===t.length&&t.includes(S.sx.VOTING)&&t.includes(S.sx.TIMER)?"VOTE":e&&n?"NONE":"MUSIC"}(),V=function(){let e=(0,k.II)(),t=(0,u.GS)();return 0===e.length?t?_.sD.SECONDARY:_.sD.TERTIARY:e.includes(S.sx.TIMER)&&e.includes(S.sx.VOTING)?_.sD.SECONDARY:_.sD.DEFAULT}(),H=E.includes(S.sx.TIMER)||0===E.length,z=E.includes(S.sx.MUSIC),W=function(){let e=(0,k.II)(),t=(0,w.C3)(),n=(0,r.d4)(e=>e.music.music),a=n?.selectedSongID||"",l=(0,g.N)(a);return e.includes(S.sx.VOTING)&&t?(0,T.DG)(t):e.includes(S.sx.MUSIC)&&1===e.length?l?h.Eu.format(l):"":void 0}(),j=a.useRef(null),Y=a.useRef(null),J=a.useRef(null),q=a.useRef(null),X=a.useRef(null);!function(e,t,n,r,i,o,s){let[c,d]=a.useState([]);a.useLayoutEffect(()=>{let a={transform:"scale(1)",boxShadow:"0px 0px 0px 0px var(--color-border)"},l={backgroundColor:"var(--color-bg-figjam)"};s&&(l.borderColor="var(--color-bg-figjam)");let o=new KeyframeEffect(e.current,[{offset:0,...a},{offset:.2,...a},{offset:.4,transform:"scale(1.05)",boxShadow:"0px 2.5px 5px 0px var(--color-border)"},{offset:.5,...a},{offset:.6,transform:"scale(1.025)",boxShadow:"0px 1.25px 2.5px 0px var(--color-border)"},{offset:.8,...a},{offset:1,...a}],O),c=new KeyframeEffect(i.current,[{offset:.4,...l},{offset:.62,...l},{offset:.77,backgroundColor:"var(--color-bg-secondary)"}],O),u=new KeyframeEffect(t.current,[{offset:0,backgroundColor:"#959595"},{offset:.5,backgroundColor:"#959595"},{offset:1,backgroundColor:"var(--color-bg-figjam)"}],O),m=new KeyframeEffect(r.current,[{offset:0,filter:"grayscale(80%)"},{offset:.5,filter:"grayscale(80%)"},{offset:1,filter:"grayscale(0%)"}],O),p=new KeyframeEffect(n.current,s?[{offset:.4,color:"var(--color-text-onfigjam)"},{offset:.62,color:"var(--color-text-onfigjam)"}]:[{offset:.4,color:"var(--color-text-onfigjam-tertiary)"},{offset:.62,color:"var(--color-text-onfigjam-tertiary)"},{offset:.77,color:"var(--color-text-tertiary)"}],O);d([s?void 0:o,u,p,m,c].filter(e=>!!e).map(e=>new Animation(e,document.timeline)))},[e,t,n,r,i,s]),function(e,t,n){let r=(0,L.ZC)(e),i=(0,l.md)(S.Qs),o=(0,k.II)(),s=i.isOpen||o.length>0;a.useEffect(()=>{s||(e&&!r&&t(),!e&&r&&n())},[e,t,n,r,o,s])}(o,a.useCallback(()=>{c.forEach(e=>{e.playbackRate=1,e.play()})},[c]),a.useCallback(()=>{c.forEach(e=>{e.playbackRate=-1,e.play()})},[c]))}(j,J,q,X,Y,F,e);let Z=function(e){let t=(0,l.md)(S.Qs),n=(0,k.II)();return!e&&!t.isOpen&&0===n.length}(F),Q=(0,f.$)(),$=(0,T.Av)(),ee=e?t.isOpen||E.length>0:t.isOpen;return a.createElement("div",{ref:j,className:o()("meeting_tools_toolbar--toolbarItemContainer--3HgdD",{"meeting_tools_toolbar--meetDeviceToolbarItemContainer--8R79s":(0,m.eM)(),"meeting_tools_toolbar--hasVolumeControl--jaTZr":z})},a.createElement("button",{ref:Y,className:o()("meeting_tools_toolbar--toolbarItemButton--VBNmh",{[D]:ee,[M]:!Q}),onClick:c.rf("meetingsPanelToolbar","click",G),"data-tooltip-type":p.Ib.TEXT,"data-tooltip":$?(0,d.t)("meetings_panel.toolbar_tooltip"):(0,d.t)("meetings_panel.toolbar_tooltip.no_voting"),"aria-label":$?(0,d.t)("meetings_panel.toolbar.aria_label"):(0,d.t)("meetings_panel.toolbar.aria_label.no_voting"),"aria-pressed":ee,"data-onboarding-key":"meeting-panel-button"},a.createElement(B,{icon:K,maskRef:J,starContainerRef:X,renderAsPreGleam:Z,isUI3:e}),a.createElement("div",{className:o()("meeting_tools_toolbar--textWrapper--eikYA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[D]:ee}),style:{maxWidth:(0,s.FP)()?44:122}},W),a.createElement(U,{width:W&&H?8:0}),a.createElement("div",{className:o()("meeting_tools_toolbar--minimizedTimerWrapper--adc47",{[P]:!H})},E.includes(S.sx.TIMER)?a.createElement(a.Fragment,null,a.createElement(_.k$,{isSelected:ee,prominence:V,size:_.ZP.XSMALL,withoutTimeShadow:!0,withoutFlashOnPause:!0,withoutUnderline:!0,timeDivRef:q,isInUI3Toolbar:e})):a.createElement(a.Fragment,null,a.createElement(_.p0,{isSelected:ee,prominence:V,size:_.ZP.XSMALL,withoutTimeShadow:!0,withoutUnderline:!0,timeDivRef:q,timeInSeconds:(0,y.RE)(R),isInUI3Toolbar:e})))),E.includes(S.sx.MUSIC)&&a.createElement("div",{className:o()("meeting_tools_toolbar--volumeControlContainer--gXf-m",{[D]:ee,[P]:!E.includes(S.sx.MUSIC),[M]:!Q})},a.createElement(C.aY,{volumeJustification:v.Z.CENTER,isMinimized:!0,iconColor:ee?e?C.J.FIGJAM:C.J.ON_FIGJAM:C.J.DEFAULT,blockButtonTooltip:!0,sliderVisibilitySetting:t.isOpen||Q?C.s1.NEVER:C.s1.DEFAULT,muteOnTouch:Q,size:e?C.nh.LARGE:C.nh.DEFAULT})))}function B({icon:e,maskRef:t,starContainerRef:n,renderAsPreGleam:r,isUI3:l}){return"NONE"===e?null:a.createElement("div",{className:o()("meeting_tools_toolbar--iconContainer--n2hs5",{"meeting_tools_toolbar--single--h9cHX":"ALL"!==e})},a.createElement("div",{className:o()("meeting_tools_toolbar--recordIcon--D6vfx meeting_tools_toolbar--icon--EVBBt",{[P]:"MUSIC"!==e&&"ALL"!==e})},a.createElement(E.mS,{size:E.XD.XSMALL,maskAlbumArtWhenPaused:!0,maskRef:t,useGrayMask:r,useLightShadow:l})),a.createElement("div",{className:o()("meeting_tools_toolbar--starIcon--37MdY meeting_tools_toolbar--icon--EVBBt",{"meeting_tools_toolbar--leftAlign--G1Vob":"VOTE"===e,[P]:"VOTE"!==e&&"ALL"!==e})},a.createElement("div",{ref:n,className:o()("meeting_tools_toolbar--starContainer--4lbzy",{"meeting_tools_toolbar--grayedOut--deQf-":r})},a.createElement(R,null))))}function U(e){return a.createElement("div",{style:{width:e.width||0}})}var G=(e=>(e.ALL="ALL",e.MUSIC="MUSIC",e.VOTE="VOTE",e.NONE="NONE",e))(G||{})},909307:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(848318),r=n(62034),l=n(863270),i=n(17753);let o=(0,a.memo)((0,a.forwardRef)(function({tooltip:e,isActive:t,onClick:n,recordingKey:l,dataElementTarget:o,onboardingKey:s,disabled:c,dataTestId:d,children:u},m){return a.createElement(r.d,{ref:m,"aria-expanded":t,htmlAttributes:{"data-tooltip-type":e.type,"data-testid":d,"data-tooltip":e.type===i.Ib.TEXT?e.text:e.key,"data-element-target":o,"data-fullscreen-intercept":!0,"data-onboarding-key":s},onClick:n,recordingKey:l,"aria-label":e.type===i.Ib.TEXT?e.text:e.ariaLabel,disabled:c},u)})),s=(0,l.tf)(o)},707790:(e,t,n)=>{n.d(t,{g:()=>s});var a=n(848318),r=n(301168),l=n(999667),i=n(730143),o=n(923659);function s(){let e=(0,i.tS)(),t=(0,r.d4)(e=>e.fileVersion),n=(0,l.Xr)(o.ME);return(0,a.useCallback)((a,r)=>n({fileKey:e,fileVersion:t,template:a},r),[e,t,n])}},665549:(e,t)=>{var n,a;function r(e){return null!=e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&e.message.includes("IPC")}function l(e){try{return e()}catch(e){if(r(e)){console.warn("suppressingErrorsCausedByWindowClose: ignoring IPC error:",e);return}throw e}}function i(e=window,t){return l(()=>{let n=e.__figmaFloatingWindow;if(null==n)throw Error("withFloatingWindowAPI: bindings not found");t(n)})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{FloatingWindowHorizontalZone:function(){return a},FloatingWindowVerticalZone:function(){return n},isErrorCausedByWindowClose:function(){return r},suppressingErrorsCausedByWindowClose:function(){return l},withFloatingWindowAPI:function(){return i}}),function(e){e[e.NN=0]="NN",e[e.N=1]="N",e[e.S=2]="S",e[e.SS=3]="SS"}(n||(n={})),function(e){e[e.WW=0]="WW",e[e.W=1]="W",e[e.E=2]="E",e[e.EE=3]="EE"}(a||(a={}))},317240:e=>{e.exports="data:image/png;base64,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"},795595:e=>{e.exports="data:image/png;base64,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"},947615:e=>{e.exports="data:image/png;base64,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"},377832:e=>{e.exports="data:image/png;base64,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"},476498:(e,t,n)=>{n.d(t,{N:()=>c});var a=n(749214),r=n(848318),l=n(723372),i=n(534497),o=n(957234),s=n(396822);let c=(0,r.forwardRef)(({...e},t)=>(0,a.jsx)(i._,{ref:t,...e,className:(0,l.A)(o.n,s.nf)}));c.displayName="Banner.Link"},829856:(e,t,n)=>{n.d(t,{i:()=>i});var a=n(749214),r=n(848318),l=n(58153);let i=(0,r.memo)(function(e){return(0,l.O)()?(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.3 5.163a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.169.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.406l-.057-.037-.433-.26a4.5 4.5 0 0 0-4.63 0L8 4.416l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.494.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.8 5.476a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.168.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.405l-.057-.038-.433-.26a4.5 4.5 0 0 0-4.63 0L7.5 4.73l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.493.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})})})},958662:(e,t,n)=>{n.d(t,{C:()=>r});var a=n(749214);let r=(0,n(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m4.7 4.7.315-1.259c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L4.7 6.3l-1.26-.315c-.505-.126-.505-.844 0-.97zm4.491 4.492 1.117-3.908c.486-1.702 2.898-1.702 3.384 0l1.117 3.908 3.908 1.117c1.702.486 1.702 2.898 0 3.384L14.81 14.81l-1.117 3.908c-.486 1.702-2.898 1.702-3.384 0L9.19 14.81l-3.908-1.117c-1.702-.486-1.702-2.898 0-3.384zm.809.809 1.27-4.442c.21-.735 1.25-.735 1.46 0L14 10l4.442 1.27c.735.21.735 1.25 0 1.46L14 14.002l-1.27 4.442c-.21.735-1.25.735-1.46 0L10 14.001l-4.442-1.27c-.735-.21-.735-1.25 0-1.46zm8.015 6.44-.315 1.26-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97L19.3 17.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"})})})},387873:(e,t,n)=>{n.d(t,{l:()=>i});var a=n(749214),r=n(848318),l=n(58153);let i=(0,r.memo)(function(e){return(0,l.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.354 13.854a.5.5 0 0 1-.708 0L12 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15.854 13.854a.5.5 0 0 1-.708 0L11.5 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})})})},62060:(e,t,n)=>{n.d(t,{B:()=>r});var a=n(749214);let r=(0,n(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m18.015 5.441-.315 1.26-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L19.3 8.3l1.26-.315c.505-.126.505-.844 0-.97L19.3 6.7l-.315-1.26c-.126-.505-.844-.505-.97 0M8.5 10.001a.5.5 0 0 0 0 1h7a.5.5 0 1 0 0-1zM8 13.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5M14.5 7a.5.5 0 0 1 0 1h-7A1.5 1.5 0 0 0 6 9.5v6A1.5 1.5 0 0 0 7.5 17h9a1.5 1.5 0 0 0 1.5-1.5v-4a.5.5 0 0 1 1 0v4a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 5 15.5v-6A2.5 2.5 0 0 1 7.5 7z",clipRule:"evenodd"})})})},40594:(e,t,n)=>{n.d(t,{z:()=>r});var a=n(749214);let r=(0,n(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm3.618 8.282h1.265l.542-1.614h2.46l.543 1.614h1.265l-2.307-6.545H8.922zm3.947-2.566-.886-2.637h-.05l-.885 2.637zm3.843.559v.083h1.064v-.083q.003-.338.08-.569.08-.232.243-.406.165-.173.425-.332a2.4 2.4 0 0 0 .508-.4q.214-.224.33-.511a1.7 1.7 0 0 0 .117-.652q0-.54-.262-.933a1.7 1.7 0 0 0-.725-.61 2.5 2.5 0 0 0-1.074-.215q-.56 0-1.023.205-.46.204-.741.613-.279.41-.294 1.017h1.138q.016-.3.146-.496a.84.84 0 0 1 .336-.294q.204-.099.432-.099.246 0 .444.102.2.104.32.288.117.186.118.438a.9.9 0 0 1-.09.406q-.09.18-.246.326a2.2 2.2 0 0 1-.348.265q-.284.175-.483.387a1.4 1.4 0 0 0-.307.55q-.105.342-.108.92m.06 1.873a.68.68 0 0 0 .496.204q.192 0 .348-.092a.74.74 0 0 0 .256-.256.66.66 0 0 0 .099-.355.66.66 0 0 0-.211-.492.68.68 0 0 0-.492-.204.68.68 0 0 0-.496.204.67.67 0 0 0-.207.492q0 .294.207.499",clipRule:"evenodd"})})})},818733:(e,t,n)=>{n.d(t,{g:()=>r});var a=n(749214);let r=(0,n(848318).memo)(function(e){return(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,a.jsx)("path",{fill:"var(--color-icon)",d:"m9.4 16.5.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.083.333.557 0 .64l-1.12.28-.28 1.12c-.083.333-.557.333-.64 0L9.4 17.7l-1.12-.28c-.333-.083-.333-.557 0-.64z"}),(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.224 15.448a.5.5 0 1 1-.448-.894l4-2a.5.5 0 0 1 .447.894zM12 11.442 6.224 8.554a.5.5 0 0 0-.448.894l5.995 2.998.01.005 1.673.836-.25 1.752a2.45 2.45 0 0 0 1.329 2.537l.243.122a2.177 2.177 0 0 0 1.948-3.894l-2.49-1.245-.02-.01L13.117 12l1.095-.548.021-.01 2.49-1.245a2.177 2.177 0 0 0-1.947-3.894l-.244.122a2.45 2.45 0 0 0-1.33 2.538l.251 1.751zm2.194-2.62.203 1.422 1.88-.94a1.177 1.177 0 1 0-1.053-2.105l-.244.122a1.45 1.45 0 0 0-.786 1.501m0 6.359.203-1.422 1.88.94a1.177 1.177 0 1 1-1.054 2.105l-.243-.122a1.45 1.45 0 0 1-.786-1.501",clipRule:"evenodd"})]})})},829290:(e,t,n)=>{n.d(t,{R:()=>r});var a=n(749214);let r=(0,n(848318).memo)(function(e){return(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,a.jsx)("path",{fill:"var(--color-icon)",d:"m16.7 7.7.315-1.259c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 9.3l-1.26-.315c-.505-.126-.505-.844 0-.97z"}),(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V7h3.5a.5.5 0 0 1 0 1h-1.282l-.054.16c-.503 1.488-1.086 2.54-2.03 3.708l1.527 1.907a.5.5 0 1 1-.781.625l-1.407-1.758c-.689.77-1.54 1.63-2.62 2.711a.5.5 0 1 1-.707-.706c1.146-1.148 2.013-2.028 2.693-2.798L7.21 9.812a.5.5 0 0 1 .781-.624l1.504 1.879c.773-.986 1.248-1.869 1.668-3.067H5.5a.5.5 0 0 1 0-1H9zm5.039 5.808A.5.5 0 0 1 14.5 11h.5a.5.5 0 0 1 .461.308l1.667 4 .834 2a.5.5 0 1 1-.924.384L16.334 16h-3.166l-.706 1.692a.5.5 0 1 1-.922-.384l.833-2zM15.917 15l-1.167-2.8-1.167 2.8z",clipRule:"evenodd"})]})})},319647:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(749214),r=n(848318),l=n(58153);let i=(0,r.memo)(function(e){return(0,l.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.354 6.146a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L11.5 7.707V13.5a.5.5 0 0 0 1 0V7.707l2.146 2.147a.5.5 0 0 0 .708-.708zM7 13.5a.5.5 0 0 0-1 0v3A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.854 6.146a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L11 7.707V13.5a.5.5 0 0 0 1 0V7.707l2.146 2.147a.5.5 0 0 0 .708-.708zM7 13.5a.5.5 0 0 0-1 0v3A1.5 1.5 0 0 0 7.5 18h8a1.5 1.5 0 0 0 1.5-1.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5z",clipRule:"evenodd"})})})}}]);

//# debugId=a14cc698-36ff-5e62-9965-ce91f207b049

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/cd384bd8b5205b1b198d5890149e6f6d1203d3a7/3144-2f44881b678e3458.min.js.map