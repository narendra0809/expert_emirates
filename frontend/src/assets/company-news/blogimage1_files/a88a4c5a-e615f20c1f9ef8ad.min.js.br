"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fab46ccc-a85b-5bcc-8754-f0026229ffad")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7872],{756305:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="29" viewBox="0 0 19 29"><path fill="#1ABCFE" d="M9.5 14.417c0-2.624 2.127-4.75 4.75-4.75 2.623 0 4.75 2.126 4.75 4.75v.166c0 2.623-2.127 4.75-4.75 4.75-2.623 0-4.75-2.126-4.75-4.75z" style="fill:#1abcfe;fill:color(display-p3 .1002 .7381 .9956);fill-opacity:1"/><path fill="#0ACF83" d="M0 24.209c0-2.67 2.164-4.875 4.833-4.875H9.5v4.916C9.5 26.874 7.373 29 4.75 29 2.127 29 0 26.832 0 24.21" style="fill:#0acf83;fill:color(display-p3 .0392 .8123 .5136);fill-opacity:1"/><path fill="#FF7262" d="M9.5 0v9.667h4.667C16.836 9.667 19 7.503 19 4.833 19 2.164 16.836 0 14.167 0z" style="fill:#ff7262;fill:color(display-p3 1 .4471 .3843);fill-opacity:1"/><path fill="#F24E1E" d="M0 4.833c0 2.67 2.164 4.833 4.833 4.833H9.5V0H4.833C2.164 0 0 2.164 0 4.833" style="fill:#f24e1e;fill:color(display-p3 .949 .3059 .1176);fill-opacity:1"/><path fill="#A259FF" d="M0 14.5c0 2.67 2.164 4.834 4.833 4.834H9.5V9.667H4.833C2.164 9.667 0 11.83 0 14.5" style="fill:#a259ff;fill:color(display-p3 .6353 .349 1);fill-opacity:1"/></svg>'},386094:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="33" height="24" viewBox="0 0 33 24"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M26.288.057c.235.124.323.411.197.641l-2.43 4.408c4.548 2.462 7.757 7.031 8.276 12.375.013.133-.032.265-.124.364-.092.099-.222.155-.358.155H.819c-.137 0-.268-.056-.36-.155-.091-.099-.136-.23-.123-.363.519-5.342 3.725-9.91 8.27-12.373L6.092.704c-.13-.228-.047-.516.187-.644.234-.127.529-.045.66.183l2.53 4.432c2.082-.972 4.41-1.515 6.864-1.515 2.453 0 4.779.542 6.86 1.512L25.63.249c.127-.23.42-.316.657-.192zm-9.955 4.05c-2.463 0-4.788.582-6.841 1.614C5.152 7.9 2.02 12.093 1.36 17.053h29.945c-.66-4.96-3.79-9.151-8.13-11.332-2.054-1.032-4.379-1.614-6.843-1.614z"/><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M10.838 11.368c0 .785-.65 1.421-1.454 1.421-.803 0-1.455-.636-1.455-1.42 0-.785.652-1.422 1.455-1.422.803 0 1.454.637 1.454 1.421m13.576 0c0 .785-.651 1.421-1.454 1.421-.804 0-1.455-.636-1.455-1.42 0-.785.651-1.422 1.455-1.422.803 0 1.454.637 1.454 1.421"/></svg>'},237839:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M8 3C5.295 3 3.108 4.978 3.004 7.789l1.142-1.143.708.708L2.5 9.707.146 7.354l.708-.708 1.15 1.15C2.105 4.408 4.76 2 8 2c3.314 0 6 2.686 6 6 0 3.314-2.686 6-6 6-1.845 0-3.496-.834-4.596-2.143l-.322-.382.766-.644.322.383C5.088 12.307 6.463 13 8 13c2.761 0 5-2.239 5-5 0-2.761-2.239-5-5-5m-.5 1.5v4.286H11v-1H8.5V4.5z"/></svg>'},145768:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="24" viewBox="0 0 32 24"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M14 1H2c-.552 0-1 .448-1 1v20c0 .552.448 1 1 1h12c.552 0 1-.448 1-1V2c0-.552-.448-1-1-1M2 0C.895 0 0 .895 0 2v20c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2V2c0-1.105-.895-2-2-2z"/><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M4 4.5c0-.276.224-.5.5-.5h7c.276 0 .5.224.5.5 0 .276-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5"/></svg>'},117783:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="24" viewBox="0 0 32 24"><path fill="#000" fill-opacity=".9" fill-rule="evenodd" stroke="none" d="M26 1H2c-.552 0-1 .448-1 1v18c0 .552.448 1 1 1h24c.552 0 1-.448 1-1V2c0-.552-.448-1-1-1M2 0C.895 0 0 .895 0 2v18c0 1.105.895 2 2 2h24c1.105 0 2-.895 2-2V2c0-1.105-.895-2-2-2zm16.4 6.7-.8.6 2.775 3.7-2.775 3.7.8.6 3.225-4.3zm-9.8 0L5.375 11 8.6 15.3l.8-.6L6.625 11 9.4 7.3zm2.932 8.124 3-8 .936.352-3 8-.936-.351z"/></svg>'},757731:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="m12.433 20.565 2.652-2.652.707.707-2.652 2.652c-1.269 1.27-3.327 1.27-4.596 0-1.27-1.27-1.27-3.327 0-4.596l2.652-2.652.707.707-2.652 2.652c-.879.879-.879 2.303 0 3.182.879.878 2.304.878 3.182 0m6.187-4.773-.707-.707 2.652-2.652c.879-.879.879-2.303 0-3.182-.879-.879-2.303-.879-3.182 0l-2.652 2.652-.707-.707 2.652-2.652c1.269-1.27 3.327-1.27 4.596 0 1.27 1.27 1.27 3.327 0 4.596zm-5.45 1.62 4.242-4.242-.766-.766-4.242 4.242zm9.238 4.996v-3h1v3h3v1h-3v3h-1v-3h-3v-1z"/></svg>'},8369:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="24" viewBox="0 0 32 24"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M26 1H2c-.552 0-1 .448-1 1v18c0 .552.448 1 1 1h24c.552 0 1-.448 1-1V2c0-.552-.448-1-1-1M2 0C.895 0 0 .895 0 2v18c0 1.105.895 2 2 2h24c1.105 0 2-.895 2-2V2c0-1.105-.895-2-2-2z"/><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M1 7h26V6H1zm8-3c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1M5.5 4c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1"/></svg>'},740616:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#000" fill-opacity=".9" fill-rule="evenodd" d="M4.625 11h1.25l-2.25-3 2.25-3h-1.25L2.6 7.7l-.225.3.225.3zm4.036-6-2.4 6H7.34l2.4-6zm1.464 0 2.25 3-2.25 3h1.25L13.4 8.3l.225-.3-.225-.3L11.375 5z" clip-rule="evenodd"/></svg>'},639108:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M12 14h9v-1H11v5h1zm11 3h-8v4h8zM9 11v4H8v-5h9v1zm5 5v6h10v-6z"/></svg>'},915448:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#fff" fill-opacity=".7" fill-rule="evenodd" stroke="none" d="M7.252 12.657h1c.222-.255.488-.475.79-.65 1.173-.685 3.18-.722 4.277.086H14.5V4.787c0 0-.633-1.787-3.51-1.787-1.489 0-2.304.478-2.745.94-.308.323-.433.638-.475.775h-.04c-.042-.137-.167-.452-.475-.775C6.815 3.478 5.999 3 4.51 3 1.633 3 1 4.787 1 4.787v7.298h1.181c1.098-.81 3.106-.77 4.28-.083.302.177.569.398.791.655m.998-7.712v6.635q.187-.14.391-.26c.736-.429 1.68-.631 2.574-.624.799.006 1.652.18 2.344.603h.147V4.967l-.024-.04c-.068-.11-.187-.269-.377-.432-.365-.316-1.056-.7-2.315-.7-1.26 0-1.858.383-2.14.662-.15.148-.234.292-.28.39q-.034.074-.042.104l-.004.013.001-.005.002-.006v-.006l.001-.001-.004-.001zm-1 0h-.278v.004l.001.004.002.006.001.005-.004-.013q-.008-.03-.042-.105c-.046-.097-.13-.24-.28-.389-.282-.279-.88-.663-2.14-.663-1.259 0-1.95.385-2.315.7-.19.164-.309.324-.377.433l-.024.04v6.324h.147c.692-.423 1.547-.597 2.346-.603.895-.006 1.839.197 2.575.629q.202.118.388.258z"/></svg>'},507015:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#000" fill-opacity=".9" fill-rule="evenodd" d="M13 8c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5m1 0c0 3.313-2.686 6-6 6-3.314 0-6-2.687-6-6 0-3.313 2.686-6 6-6 3.314 0 6 2.687 6 6m-6.512.383q-.132.324-.133.87h1l.016-.237q.043-.383.34-.668l.316-.301q.372-.36.52-.652.148-.297.148-.63 0-.73-.457-1.128-.457-.402-1.285-.403-.821 0-1.297.422-.473.421-.48 1.168h1.133q.005-.22.093-.374.036-.063.086-.114.093-.095.217-.14.112-.04.248-.04.61 0 .61.66 0 .112-.031.22-.03.1-.087.198-.117.195-.472.512-.352.313-.485.637m-.07 1.64q-.176.169-.176.43 0 .258.172.426.175.168.461.168.181 0 .317-.068.078-.04.14-.1.176-.168.176-.426 0-.261-.18-.43-.176-.171-.453-.171-.141 0-.258.044-.11.043-.199.127" clip-rule="evenodd"/></svg>'},454921:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M8.5 10c0-1.38 1.12-2.5 2.5-2.5h10c1.38 0 2.5 1.12 2.5 2.5v12c0 1.38-1.12 2.5-2.5 2.5H11c-1.38 0-2.5-1.12-2.5-2.5zM11 8.5c-.828 0-1.5.672-1.5 1.5v8.5h13V10c0-.828-.672-1.5-1.5-1.5zm11.5 11h-13V22c0 .828.672 1.5 1.5 1.5h10c.828 0 1.5-.672 1.5-1.5zM16 11.293l3.354 3.354-.707.707L16 12.707l-2.646 2.647-.707-.707z"/></svg>'},220638:(e,t,l)=>{l.d(t,{A:()=>n});let n='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M8.5 10c0-1.38 1.12-2.5 2.5-2.5h10c1.38 0 2.5 1.12 2.5 2.5v12c0 1.38-1.12 2.5-2.5 2.5H11c-1.38 0-2.5-1.12-2.5-2.5zM11 8.5c-.828 0-1.5.672-1.5 1.5v8.5h13V10c0-.828-.672-1.5-1.5-1.5zm11.5 11h-13V22c0 .828.672 1.5 1.5 1.5h10c.828 0 1.5-.672 1.5-1.5zM16 15.707l-3.354-3.354.707-.707L16 14.293l2.646-2.647.707.707z"/></svg>'},717031:(e,t,l)=>{l.r(t),l.d(t,{DesignView:()=>o1});var n=l(848318),r=l(301168),a=l(860676),i=l(186606),o=l(580494),s=l(386040),d=l(967688),u=l(952039),c=l(668309),m=l(413927),g=l(768618),p=l(999667),E=l(989232),f=l(359822),_=l(615233),b=l(178806),x=l(740495),y=l(957872),h=l(34375),v=l(34542),S=l(338104),R=l(15105),T=l(531288),k=l(601167),C=l(263336),I=l(556049),L=l(593713),w=l(67391),A=l(136169),O=l(555637),N=l(722541);let M=(0,_.ck)("bfb358109ac5994e69048d8390d3a0c334253aa8");function P({changedNodeId:e,nodeHeight:t,complete:l}){return(0,f.h)(()=>{i.Egt?.replaceSelection([e],!0)}),n.createElement(L.NJ,{arrowPosition:I.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:N.R3,closeButtonClassName:N.b,dismissModal:l,hideIfArrowPositionDoesNotMatch:!0,hideIfTargetLost:!0,isCanvasNode:!0,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:e,topOffset:t?-t/2-15:0,width:240},n.createElement("div",{className:N.Rg},(0,d.t)("dev_handoff.rfd_signals_upsell.title")),n.createElement("div",{className:N.O6},n.createElement("div",{className:N.j},n.createElement(w.GV,{src:M,width:240})),n.createElement("div",{className:N.zu},(0,d.t)("dev_handoff.rfd_signals_upsell.description"))),n.createElement("div",{className:N.JP},n.createElement(m.v,{mode:"dev-handoff"},n.createElement(b.$z,{trackingProperties:{trackingDescriptor:y.c.MARK_READY_FOR_DEV},variant:"primary",onClick:function(){e&&(l(),S.z4.setNodesReady(!0,[e],"dev-node-change-upsell",null))}},(0,d.t)("dev_handoff.rfd_signals_upsell.mark_ready_for_dev")))))}function B(e){E.definedAnalyticsHandler.trackDefinedEvent("activation.rfd_signal_upsell.disqualification_reason",{reason:e,upsellSubject:"frame"})}function $(){let[e,t]=n.useState(null),[l,r]=n.useState(null),a=(0,k._X)({subscribeToUpdates_expensive:!0}),i=(0,p.Xr)(O.hj),o=(0,p.Xr)(O.d1),s=(0,p.md)(O.Sp),d=(0,p.Xr)(O.Sp),u=n.useRef(null),c=(0,R.Z)("dev-handoff-rfd-signals-frame-upsell"),[m,E]=n.useState(!1),f=n.useCallback(()=>{u.current&&r(u.current.absoluteBounds.height*a.zoomScale)},[a.zoomScale]);n.useEffect(()=>{if(!e)return;let t=`dev-node-change-upsell-${e}`,l=(0,T.EE)(t,[e],e=>{u.current=e.position,f()});return u.current=l.currentNodePosition[e]?.position||null,f(),()=>{(0,T.lB)(t)}},[e,f]);let _=(0,x.cR)(),{show:b,complete:y,uniqueId:S,isShowing:I}=(0,v.e)({overlay:A.kBA,priority:C.N.HIGH_PRIORITY_MODAL,experiment:{check:_,predicate:e=>e,postCheck:()=>!0}});return(n.useEffect(()=>{o({fn:y})},[y,o]),(0,h.E)(S,["frame_node_name_changed_with_rfd_indicator"],e=>{if(!e.properties.nodeId){B("no_node_id");return}let l=(0,g.UN)().get(e.properties.nodeId);if(!l){B("node_not_found");return}if(0===l.childCount){B("no_children");return}if(!l.canHaveStatus){B("not_eligible_for_status");return}if(s){B("already_seen_upsell_this_session");return}t(e.properties.nodeId),i(e.properties.nodeId),r(l.absoluteBoundingBox.h),b({onShow:async()=>{E(!0),await c(await (0,k.QZ)({nodeId:e.properties.nodeId,alwaysPan:!0}),{alwaysNavToSimilarViewport:!0}),E(!1),d(!0)}})}),e&&l&&I&&!m)?n.createElement(P,{changedNodeId:e,nodeHeight:l,complete:y}):null}var V=l(301360),z=l(146776),D=l(480945),F=l(723437),U=l(128410);function H(e){E.definedAnalyticsHandler.trackDefinedEvent("activation.share_on_rfd_upsell.disqualification_reason",{reason:e,upsellSubject:"frame"})}let G=(0,_.ck)("bb7ff04eea67d99da7f8ceb51f1b3fe36d19bae0");function j({changedNodeId:e,nodeHeight:t,complete:l,file:r,repo:a}){let i=(0,U.l)({file:r,repo:a});return n.createElement(L.NJ,{arrowPosition:I.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:"share_on_ready_for_dev_overlay--tooltipContainer--eQp9n pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",closeButtonClassName:"share_on_ready_for_dev_overlay--closeButton--vY8RC",dismissModal:l,hideIfArrowPositionDoesNotMatch:!0,hideIfTargetLost:!0,isCanvasNode:!0,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:e,topOffset:t?-t/2-15:0,width:240},n.createElement("div",{className:"share_on_ready_for_dev_overlay--tooltipHeader--kbL2h utilities--bodyMediumStrong--1R5cZ"},(0,d.t)("dev_handoff.share_on_rfd_upsell.title")),n.createElement("div",{className:"share_on_ready_for_dev_overlay--tooltipBody--leTtO utilities--bodyMediumStrong--1R5cZ"},n.createElement("div",{className:"share_on_ready_for_dev_overlay--videoContainer--JIoHd"},n.createElement(w.GV,{src:G,width:240})),n.createElement("div",{className:"share_on_ready_for_dev_overlay--tooltipBodyText--3YX-S"},(0,d.t)("dev_handoff.share_on_rfd_upsell.description"))),n.createElement("div",{className:"share_on_ready_for_dev_overlay--tooltipFooter--o-16t"},n.createElement(m.v,{mode:"dev-handoff"},n.createElement(b.$z,{trackingProperties:{trackingDescriptor:y.c.COPY_DEV_LINK},variant:"primary",onClick:function(){e&&(i({source:D.d.SHARE_ON_READY_FOR_DEV,linkQueryMode:F.iO.DEV_MODE}),l())}},(0,d.t)("dev_handoff.share_on_rfd_upsell.copy_dev_link")))))}function q(){let[e,t]=n.useState(null),[l,r]=n.useState(null),a=(0,k._X)({subscribeToUpdates_expensive:!0}),i=n.useRef(null),o=(0,R.Z)("dev-handoff-share-on-rfd-upsell"),[s,d]=n.useState(!1),u=(0,z.RC)(),c=(0,p.md)(O.Sp),m=n.useCallback(()=>{i.current&&r(i.current.absoluteBounds.height*a.zoomScale)},[a.zoomScale]);n.useEffect(()=>{if(!e)return;let t=`dev-share-on-rfd-upsell-${e}`,l=(0,T.EE)(t,[e],e=>{i.current=e.position,m()});return i.current=l.currentNodePosition[e]?.position||null,m(),()=>{(0,T.lB)(t)}},[e,m]);let E=(0,x.HX)(),{show:f,complete:_,uniqueId:b,isShowing:y}=(0,v.e)({overlay:A.b25,priority:C.N.HIGH_PRIORITY_MODAL,experiment:{check:E,predicate:e=>e,postCheck:()=>!0}});return((0,h.E)(b,["marked_ready_for_dev"],e=>{if(c){H("already_seen_upsell_this_session");return}let{nodeIds:l}=e.properties;if(!l||0===l.length){H("no_node_ids");return}if(l.length>1){H("multiple_node_ids");return}let n=l[0];if(!n){H("no_node_id");return}let r=(0,g.UN)().get(n);if(!r){H("node_not_found");return}if("FRAME"!==r.type){H("node_not_a_frame");return}t(n),f({onShow:async()=>{d(!0),await o(await (0,k.QZ)({nodeId:n,alwaysPan:!0}),{alwaysNavToSimilarViewport:!0}),d(!1)}})}),e&&l&&y&&!s&&u?.file)?n.createElement(j,{changedNodeId:e,nodeHeight:l,complete:_,file:u.file,repo:u.repo}):null}var X=l(45137),W=l(972402),K=l(387429),Y=l(539829),Q=l(709292),J=l(834822),Z=l(45937),ee=l(481651),et=l(370715),el=l(253066);let en=(0,p.eU)(!1);function er(){let e=(0,p.md)(Y.LZ),t=(0,W._I)(),l=(0,W.U4)(),a=(0,K.J)(),i=(0,el.U)("upsell"),o=(0,p.Xr)(en),{show:s,complete:u,exportId:c,activeId:m,showing:g}=function(){let e=(0,p.md)(Q.NT),t=(0,x.lS)(),{show:l,complete:n,isShowing:r,uniqueId:a}=(0,v.e)({overlay:A.Nh9,priority:C.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]),{show:i,complete:o,isShowing:s,uniqueId:d}=(0,v.e)({overlay:A.L6E,priority:C.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]);return{show:e=>"export"===e?i:l,complete:()=>r?n():o(),measureId:a,exportId:d,activeId:s?a:d,showing:s?"export":r?"measure":void 0}}();!function(e,t){let l=n.useRef(t);n.useEffect(()=>{l.current=t},[t]);let a=(0,r.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),i=n.useRef(a);n.useEffect(()=>{let e=t=>{t.key&&(window.removeEventListener("keyup",e),l.current("measure"))};a>i.current&&window.addEventListener("keyup",e)},[a]),(0,h.E)(e,"copy_as_completed",e=>{t("export")}),(0,h.E)(e,"export_completed",e=>{t("export")})}(c,n=>{s(n)({canShow:n=>!t&&l&&a&&e&&"developer"===(0,X.HB)(n),onShow:()=>{(0,J.o9)()}})}),(0,h.E)(m,"Enter Inspect Mode",()=>{g&&u()});let E="export"===g?(0,d.tx)("upsell.dev_mode.contextual_overlay.export_title"):(0,d.tx)("upsell.dev_mode.contextual_overlay.measure_title"),f="export"===g?(0,d.tx)("upsell.dev_mode.contextual_overlay.export_description"):(0,d.tx)("upsell.dev_mode.contextual_overlay.measure_description");return n.createElement(ee.X,{description:f,forceEditorTheme:"dev-handoff",isShowing:!!g,media:n.createElement(Z.y,{src:"export"===g?(0,_.ck)("2ec45ec3c5b501ef6e755fde6a2edfb39d2218cb"):(0,_.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:u,position:et.Q.BOTTOM_RIGHT,primaryCta:{label:(0,d.tx)("upsell.dev_mode.contextual_overlay.cta"),onClick:()=>{i("handoff"),o(!0),u()},ctaTrackingDescriptor:y.c.OPEN_DEV_MODE,type:"button"},testId:"dev-mode-contextual-upsell-tooltip",title:E,trackingContextName:"Dev Mode Contextual Upsell Tooltip",width:240})}var ea=l(836402),ei=l(162796),eo=l(309488),es=l(347487),ed=l(875900),eu=l(952647),ec=l(82433),em=l(918777),eg=l(238462),ep=l(297638),eE=l(903969),ef=l(610338),e_=l(792830),eb=l(740705),ex=l(978877),ey=l(506428);let eh={container:{borderRadius:"x1mxnbhz",boxShadow:"x1wu5q8a",$$css:!0},backgroundLight:{background:"xnyijpa",$$css:!0},backgroundDark:{background:"xgnke1b",$$css:!0}};function ev(e){let t=(0,ey.DP)(),[l,r]=(0,n.useState)(0);return(0,f.h)(()=>{let t=setInterval(()=>{r(t=>(t+1)%e.steps.length)},4500);return()=>clearInterval(t)}),n.createElement("div",{...ec.xk("dark"===t?eh.backgroundDark:eh.backgroundLight,eh.container)},n.createElement(eb.N,{mode:"popLayout"},n.createElement(ex.P.div,{key:l,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.steps[l])))}var eS=l(782073),eR=l(863270),eT=l(497845);let ek={container:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",alignItems:"x6s0dn4",minHeight:"x1wxaq2x",padding:"xtdwleo",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,boxShadow:"x1wu5q8a",$$css:!0},backgroundLight:{background:"xnyijpa",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},backgroundDark:{background:"xgnke1b",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},userName:{overflow:"xb3r6kr",overflowX:null,overflowY:null,textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",maxWidth:"x16q51m2",marginRight:"xl010v5",marginInlineStart:null,marginInlineEnd:null,$$css:!0},devHandoffIcon:{backgroundColor:"x1xtplfa",margin:"x960i20",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,borderRadius:"x192jxwq",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},textBodyMediumStrong:{...eS.g.textBodyMediumStrong,$$css:!0},bannerContent:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",alignItems:"x6s0dn4",padding:"xtdwleo",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,minHeight:"x1wxaq2x",$$css:!0}};function eC(e){let t=e.isAnimated?{initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.5,delay:.5}},exit:{opacity:0,y:-10,transition:{duration:.5}}}:void 0;return(0,d.tx)("dev_handoff.upsell.user_marked_a design",{userName:n.createElement(eT.A,{styles:ek.userName},e.statusUser.user?.name||e.statusUser.user?.handle),status:n.createElement(n.Fragment,null,n.createElement(eT.A,{isAnimated:e.isAnimated,styles:ek.devHandoffIcon,motionProps:t},n.createElement(ed.O,{style:{"--color-icon":"var(--color-icon-onbrand)"}})),n.createElement(eT.A,{isAnimated:e.isAnimated,styles:ek.textBodyMediumStrong,motionProps:t},(0,d.tx)("dev_handoff.status.mark_status_sentence_part.ready_for_dev")))})}function eI(e){let t=(0,e_.W)();return e.statusUser.loading?null:n.createElement(eR.fu,{name:"Marked File Ready for Dev Animated Banner",properties:t},n.createElement(eT.L,{isAnimated:!0,styles:ek.bannerContent},n.createElement(eC,{...e,isAnimated:!0})))}function eL(e){let t=(0,e_.W)(),l=(0,ey.DP)();return e.statusUser.loading?null:n.createElement(eR.fu,{name:"Marked File Ready for Dev Banner",properties:t},n.createElement(eT.L,{styles:[ek.container,"dark"===l?ek.backgroundDark:ek.backgroundLight]},n.createElement(eC,{...e})))}var ew=l(541670),eA=l(437316),eO=l(534133),eN=l(959165),eM=l(877146),eP=l(355755),eB=l(636524),e$=l(506794),eV=l(371829);function ez(){let e=(0,x.o9)(),t=(0,eE.BI)(),l=(0,eP.aV)(),[r,a]=(0,n.useState)(null);(0,n.useEffect)(()=>{if(!l){let e=function(){let e;let t=(0,g.UN)(),l=t=>{if(t)for(let n of t.childrenNodes)(n.isTopLevelFrame()||"CANVAS"===n.type)&&(n.hasReadyStatus?e?e.getStatusInfo().lastUpdateUnixTimestamp<n.getStatusInfo().lastUpdateUnixTimestamp&&(e=n):e=n:("SECTION"===n.type||"CANVAS"===n.type)&&l(n))};return l(t?.getRoot()),e?.getStatusInfo()}();e&&a(e)}},[l]);let i=(0,eB.wW)(r&&"userId"in r?r.userId:null),o=!!r&&em.A.unix(r.lastUpdateUnixTimestamp).isAfter((0,em.A)().subtract(60,"day")),s=(0,el.U)("upsell"),u=(0,p.md)(Y.LZ),c=(0,W._I)(),m=(0,W.U4)(),E=(0,p.md)(Q.NT),f=(0,K.J)(),{show:b,complete:y,isShowing:S,uniqueId:R}=(0,v.e)({overlay:A.koo,priority:C.N.OVERRIDING_MODAL},[E]);(0,n.useEffect)(()=>{b({canShow:n=>f&&u&&!c&&"loaded"===t.status&&!t.hasPendingRequest&&o&&m&&!l&&("developer"===n||"software-development"===n||e(n)),onShow:()=>{(0,J.o9)()}})},[b,c,m,u,l,E,f,t,o,e]),(0,h.E)(R,"Enter Inspect Mode",()=>{S&&y()});let T=(0,eO.BC)({dismissModal:y,onRequestAccess:()=>{s("handoff")}}),k=n.useCallback(()=>{y(),T.hidden||T.onClick(eM.i$.Upsell)},[y,T]),I=n.createElement(n.Fragment,null,n.createElement("span",{className:eV.XQ},n.createElement(ed.O,null)),n.createElement("span",{className:ep.s.textBodyMediumStrong.$},(0,d.tx)("dev_handoff.status.mark_status_sentence_part.ready_for_dev"))),L=n.createElement(ew.H,null),w=(0,e_.W)(),O=ei.hS({open:!0,onClose:eg.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"}),N=(0,x.uf)(),M=S&&N();return n.createElement(e$.M,{testId:"rfd-upsell-upsell",isShowing:S},n.createElement(eu.J,{brand:"dev-handoff"},n.createElement(ef.OM,null),n.createElement(eR.fu,{name:"RFD Upsell Modal",properties:w,enabled:w?.gracePeriod!==void 0},n.createElement(eo.bL,{width:392,manager:O},n.createElement(es.Wk,null,"control"===M&&n.createElement("div",{className:eV.XV},n.createElement("div",{className:"xh8yej3 xysyzu8 x1xk1jr8 x1sdyfia"},i.loading?"":(0,d.tx)("dev_handoff.upsell.user_marked_a design",{userName:n.createElement("span",{className:"xb3r6kr xlyipyv xuxw1ft"},i.user?.name||i.user?.handle),status:I}))),n.createElement("div",{className:ep.s.py8.px16.$},n.createElement(eA.E,{imgSrc:(0,_.ck)("6d5e9cb0e9ec7fd5dd58425c5527dc8a78143a19"),content:L,modalType:"RFD Upsell Modal",primaryButtonLabel:T.hidden?void 0:T.label,primaryButtonType:"request_access",primaryButtonOnClick:T.hidden?void 0:k,secondaryButtonLabel:(0,d.tx)("dev_handoff.paywall.blocking_modal.button.not_now"),secondaryButtonType:"not_now",secondaryButtonOnClick:y}))),"rfd_banner_only"===M&&n.createElement(es.vo,{className:"x1xmf6yo xh8yej3"},n.createElement(es.nB,{padding:0},n.createElement(eL,{statusUser:i}))),"banner_carousel"===M&&n.createElement(es.vo,{className:"x1xmf6yo xh8yej3"},n.createElement(es.nB,{padding:0,scrolling:"none"},n.createElement(ev,{steps:[n.createElement(eI,{statusUser:i,key:"rfd-banner"}),n.createElement(eN.G,{isAnimated:!0,key:"social-proof"})]})))))))}var eD=l(410725),eF=l(361964),eU=l(961675),eH=l(730143),eG=l(55116),ej=l(43258),eq=l(391301),eX=l(175393),eW=l(226455);function eK(){let e=(0,eF.X0)(),t=(0,eH.tS)(),l=(0,el.U)("upsell"),r=(0,eD.Rs)(eG.ErZ,{key:t||""},{enabled:!!t}),{show:a,isShowing:i,complete:o,uniqueId:s}=(0,v.e)({overlay:A.wRw,priority:C.N.OVERRIDING_MODAL-1},[r]);(0,h.E)(s,"ui3_finished_entering_design_mode",()=>{(0,eU.QL)("rfd-notif")&&a({canShow:e=>!e.file?.hasPermission,onShow:()=>{(0,J.o9)()}})});let u=e?{targetKey:ej.o5,arrowPosition:eX.F_.LEFT_TITLE}:{targetKey:eW.oR,arrowPosition:eX.F_.BOTTOM};return n.createElement(eq.rq,{...u,description:(0,d.tx)("upsell.view_only_developer_notifications.tooltip_description"),forceEditorTheme:"dev-handoff",isShowing:i,media:n.createElement(Z.y,{src:(0,_.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:o,testId:"viewer-dev-mode-status-changed-tooltip",primaryCta:{ctaTrackingDescriptor:y.c.TRY_DEV_MODE,label:(0,d.tx)("upsell.view_only_developer_notifications.tooltip_cta"),onClick:()=>{o(),l("handoff")},type:"button"},title:(0,d.tx)("upsell.view_only_developer_notifications.tooltip_title"),trackingContextName:"viewer_dev_mode_status_changed_tooltip"})}var eY=l(363367),eQ=l(813147),eJ=l(643841),eZ=l(702038),e0=l(14837),e1=l(7148),e2=l(413238),e5=l(258539),e3=l(554326),e4=l(810807),e6=l(661289),e7=l(870545),e8=l(497032),e9=l(837988),te=l(637640),tt=l(972382),tl=l(633468),tn=l(230618),tr=l(642775);function ta({onClick:e,complete:t}){let l=(0,o.k)().dev_mode_demo_test_name_change;return n.createElement(m.v,{mode:"dev-handoff"},n.createElement("div",{"data-testid":"dev-mode-demo-file-entrypoint-popup",className:"x6sy6il x1dgp85l xqyf9gi x1mxnbhz x1xtplfa x10l6tqk xrv6xtj x9f619 x1p3pnes x1tk3asg x78zum5 xdt5ytf x1dipnxa xbj06nx xl56j7k x1i71x30"},n.createElement("div",{className:"x10l6tqk x1psp13h xbyvkye"},n.createElement(tr.Jn,{emphasized:!0,onClick:t})),n.createElement("div",null,n.createElement("div",{className:"x13saxwh xg4jxnz x1h94l6n x1uvdjgy x39l7i4 x1ihwiht"},(0,d.tx)("dev_mode_playground_file.still_curious_about_dev_mode")),n.createElement("div",null,l?(0,d.tx)("dev_mode_demo_file.check_out_our_interactive_test"):(0,d.tx)("dev_mode_playground_file.check_out_our_interactive_demo"))),n.createElement(b.e6,{trackingProperties:{trackingDescriptor:y.c.DEMO_FILE_THUMBNAIL},onClick:e,className:"x11g6tue xzjbwwf x3w9dv2"},n.createElement(tn.oW,{className:"xb3r6kr",alt:"A graphic showing the demo file thumbnail",src:l?(0,_.ck)("eab479b46c1a94910464200211143d64fe917ae1"):(0,_.ck)("5ab0c821447dbae8157453a07fcd1bdd94180345")})),n.createElement("div",null,n.createElement(b.e6,{trackingProperties:{trackingDescriptor:y.c.CHECK_IT_OUT},onClick:e,className:"x1iakgj3 x19y5rnk x78zum5 xx99whi xl56j7k x6s0dn4 x4wtjwi x11g6tue x1qxcl5b x1tk3asg"},(0,d.tx)("dev_mode_playground_file.check_it_out")))))}function ti(){let e=(0,x.lb)(),t=(0,W._I)(),l=(0,W.U4)(),r=(0,tt.w)(),a=(0,p.md)(ef.YU),i=(0,eE.BI)(),o=(0,_.tl)().dev_mode_demo_file_key,{isShowing:s,show:d,complete:u}=(0,v.e)({overlay:A.E5y,priority:C.N.DEFAULT_MODAL,experiment:{check:e,predicate:e=>e,postCheck:()=>!0}});return(n.useEffect(()=>{d({canShow:()=>!!("loaded"===i.status&&!i.hasPendingRequest&&l&&!t&&a&&"developer"===r&&o)})},[t,l,o,i,s,r,a,d]),s)?n.createElement(e$.M,{isShowing:s},n.createElement(eR.fu,{name:"DevModeDemoFileEntryPoint"},n.createElement(ta,{onClick:()=>{o&&te.Ay.redirect((0,tl.jN)({file:{key:o},isDevHandoff:!0}),"_blank"),u()},complete:u}))):null}var to=l(468325),ts=l(115044),td=l(533737),tu=l(696786),tc=l(517776),tm=l(887836),tg=l(859480),tp=l(125761),tE=l(752181),tf=l(543177),t_=l(614092),tb=l(954703),tx=l(124810),ty=l(536384),th=l.n(ty),tv=l(329228),tS=l(50429),tR=l(66699),tT=l(27382),tk=l(566841),tC=l(686464),tI=l(152545),tL=l(378662),tw=l(228845),tA=l(477810),tO=l(546021),tN=l(707790),tM=l(923659);let tP="starting_points_templates_modal--templateOption--qYXkm",tB="starting_points_templates_modal--templateOptionTitle--DmVPR",t$="starting_points_templates_modal--verticalTemplateImage--kAzQz";var tV=(e=>(e.DESKTOP="desktop",e.MOBILE="mobile",e.WEBSITE="website",e))(tV||{});let tz={x:0,y:0},tD={website:{x:0,y:1600},mobile:{x:0,y:300},desktop:{x:0,y:300}},tF={website:.1,mobile:.225,desktop:.1},tU=e=>{let t=(0,_.Ay)().starting_points;switch(e){case"basics":return t?.figma_basics_hub_file_id;case"desktop":return t?.desktop_templates_hub_file_id;case"mobile":return t?.mobile_templates_hub_file_id;case"website":return t?.website_templates_hub_file_id}};function tH({onClose:e}){let t=(0,r.wA)(),l=n.useRef(null),[a,s]=n.useState(!1),[u,c]=n.useState(!1),[m,g]=n.useState(!1),[b,x]=n.useState(!1),[h,v]=n.useState(window.innerWidth),S=(0,tC.q)(),R=(0,eH.tS)(),T=(0,r.d4)(e=>e.fileVersion),k=(0,r.d4)(e=>e.mirror.sceneGraph),C=S&&(0,tO.Qf)(k),I=!!C&&0===C.childCount,[L]=(0,tv.IT)((0,tT.tH)({})),{inProductHelpViewType:w}=(0,tL.A5)(),A=(0,e3.ut)(i.Ez5?.uiState().inProductHelpSidePanelWidth,0),O="side_panel"===w?A:0,{insertTemplate:N}=(0,tk.Fz)(),M=(0,tN.g)(),P=(0,p.Xr)(tM.Yq),B=(0,p.Xr)(tM.bj),[$,V]=n.useState(!1),z=(0,tw.GQ)(),D=(0,tA.P)();(0,f.h)(()=>{let e=()=>{v(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),n.useEffect(()=>{x(z+50>h/2-257||h-D-O-50<h/2+257),g(z+50>h/2-365||h-D-O-50<h/2+365)},[O,z,D,h]);let F=n.useCallback(()=>{if("loaded"!==L.status||!L.data)return;let e=[];for(let t of Object.values(tV)){let l=tU(t);if(!l)return;let n=L.data[l];if(!n)return;let r={type:tI.n.HubFile,template:n};e.push(r)}Promise.all(e.map(e=>p.zl.get((0,tM.Re)({fileKey:R,fileVersion:T,template:e})))).then(()=>{V(!0)}).catch(e=>{console.error("Failed to load template buffers",e),V(!0)})},[R,T,L]);if(n.useEffect(()=>{"loaded"!==L.status||$||F()},[L,$,F]),n.useEffect(()=>{S&&C&&!I&&!u&&e()},[S,C,I,u,e]),!(0,o.k)().starting_points_modal)return null;let U=async l=>{if("loaded"!==L.status)return;s(!0);let n=tU(l);if(!n)return;let r=L.data[n];r&&("basics"!==l?await (0,tk.Zg)({insert:()=>B({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:i.zkO.USER}),template:{template:r,type:tI.n.HubFile},fileKey:R,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1}):await N({template:{template:r,type:tI.n.HubFile},userTriggered:!1,editScopeType:i.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:i.hKj.RIGHT}),"basics"===l?(0,tR.YQ)({id:"starting_points_basics_template_inserted"}):(0,tR.YQ)({id:"starting_points_template_inserted"}),e(),s(!1))},H=n.createElement(eR.$z,{onClick:()=>U("basics"),trackingProperties:{trackingDescriptor:y.c.LEARN_THE_BASICS}},(0,d.tx)("starting_points.learn_the_basics")),G=e=>{(0,E.trackEvent)("Starting Points Template Option Hover",{template:e});let l=tU(e);if(!l||!L.data)return;let n=L.data[l];if(!n)return;let r={type:tI.n.HubFile,template:n},a=tF[e];window.innerWidth>1700&&(a*=1.5),(0,tk.Zg)({insert:()=>M(r,{moveViewportAfterPreview:!0,priority:"user-visible",previewManager:{nodeType:i.Z6A.CANVAS},position:tz,viewportOptions:{position:tD[e],scale:a,duration:0}}),template:r,fileKey:R,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1,isPreview:!0})};return n.createElement(eR.fu,{name:"Starting Points Modal"},n.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u",style:{marginRight:`${O}px`}},n.createElement(tS.x,{isLoading:a,className:"starting_points_templates_modal--loadingSpinner--UOrjg"},()=>n.createElement("div",{className:th()({"starting_points_templates_modal--startingPointsTemplatesModal--dUQte":!0,"starting_points_templates_modal--isHidden--jVN1L":b,"starting_points_templates_modal--isCondensedView--3tVz6":m}),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),ref:l},n.createElement("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL"},n.createElement("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ"},(0,d.t)("starting_points.what_do_you_want_to_make_today")),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo"},(0,d.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:H}))),n.createElement("div",{className:"starting_points_templates_modal--optionContainer--mYEsG"},n.createElement(eR.$z,{className:tP,onClick:()=>U("website"),onMouseEnter:()=>G("website"),onMouseLeave:P,trackingProperties:{trackingDescriptor:y.c.WEBSITE_TEMPLATES}},n.createElement("div",{className:tB},(0,d.t)("starting_points.website")),n.createElement(tn.oW,{className:t$,src:(0,_.ck)("9b8475fdab7c1ed3cd1c0d16b957d65a80840b74"),alt:"Website template"})),n.createElement(eR.$z,{className:tP,onClick:()=>U("mobile"),onMouseEnter:()=>G("mobile"),onMouseLeave:P,trackingProperties:{trackingDescriptor:y.c.MOBILE_APP_TEMPLATES}},n.createElement("div",{className:tB},(0,d.t)("starting_points.mobile_app")),n.createElement(tn.oW,{className:t$,src:(0,_.ck)("b262e57bed515b9f0da45ae54fa43824d9704c14"),alt:"Mobile app template"})),n.createElement(eR.$z,{className:tP,onClick:()=>U("desktop"),onMouseEnter:()=>G("desktop"),onMouseLeave:P,trackingProperties:{trackingDescriptor:y.c.DESKTOP_APP_TEMPLATES}},n.createElement("div",{className:tB},(0,d.t)("starting_points.desktop_app")),n.createElement(tn.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:(0,_.ck)("cb2f715253dacb4e7d3fb211ff2792fc28a38832"),alt:"Desktop app template"}))),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX"},(0,d.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:H})),n.createElement("div",{className:"starting_points_templates_modal--closeButton--io-14"},n.createElement(tb.K,{onClick:e,"aria-label":(0,d.t)("general.close"),htmlAttributes:{"data-testid":"close-button"}},n.createElement(tx.A,null)))))))}let tG=(0,tc.r1)("dismissed_starting_points_templates_modal");function tj(){let e=(0,r.wA)(),t=!!(0,o.k)().starting_points_modal,l=(0,x.GM)(),a=(0,eU.QL)(eW.E_.key)===eW.E_.value,i=(0,eP.aV)(),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),d=(0,t_.Fk)((e,t)=>(0,tg.zC)(e,t),s),u=(0,eU.QL)(tf.pt.KEY)===tf.pt.VALUE,c=(0,eH.q5)(),m=(0,tp.TA)(),g=c?.creatorId===m,E=(0,p.md)(Q.Fy),f=(0,p.md)(tm.UQ),b=!(0,tE.f)("not_gen_0"),y=(0,tu.GS)(),h=(0,p.md)(tG),S=(0,_.Ay)().starting_points,{show:R,isShowing:T,complete:k}=(0,v.e)({overlay:A.EYw,priority:C.N.OVERRIDING_MODAL+1,experiment:{check:l,predicate:e=>e,postCheck:(e,t)=>!t}},[E,h]);return(n.useEffect(()=>{t&&g&&!u&&!i&&d&&!T&&(a?R():b&&f&&y&&S&&R({canShow:e=>!e}))},[t,g,i,d,T,a,b,f,y,u,S,R]),T)?n.createElement(tH,{onClose:()=>{h.data||e(td.b({dismissed_starting_points_templates_modal:!0})),k()}}):null}var tq=l(118287),tX=l(244534),tW=l(265098),tK=l(526594),tY=l(295156),tQ=l(161245),tJ=l(437973),tZ=l(257264);let t0=(0,tZ.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,tZ.nr)("curator_content_shown","ui3_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===A.KTt.id})]},{id:"ui3_onboarding_was_shown_in_current_session",terminal:!0}]}),t1=(0,tZ.rn)("track_ui3_onboarding_shown",t0);var t2=l(876326);function t5(){let{isShowing:e,complete:t,show:l,uniqueId:a}=(0,v.e)({overlay:A.l_p,priority:C.N.SECONDARY_MODAL}),o=(0,r.wA)(),s=(0,eP.aV)(),u=(0,eH.q5)(),c=(0,tp.iZ)(),m=(0,tq.te)(),g=!!(0,tE.f)(tQ.bo),E="ui3_onboarding_was_shown_in_current_session"===(0,tW.zl)(t1).currentState,f="no_figma_basics_onboarding_was_shown_in_current_session"===(0,tW.zl)(tJ.j).currentState,_=(0,p.md)(tY.dL),b=(0,tK.jO)(),x=u?.canEdit,S=(0,r.d4)(e=>e.leftPanel.activeTab===i.xae.LAYERS);if((0,h.E)(a,["Reset Visual Assets Tooltips",tQ.io],()=>{c&&u&&o(td.b(t2.g))}),(0,n.useEffect)(()=>{!m()||!x||_||g||E||f||!b||s||!S||e||l()},[l,m,x,g,b,s,E,f,e,_,S]),(0,n.useEffect)(()=>{!S&&e&&t()},[S,e,t]),!e)return null;let R=n.createElement("strong",{style:{display:"contents"}},(0,d.tx)("design_systems.assets_panel.assets"));return n.createElement(ee.X,{isShowing:e,title:(0,d.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,d.tx)("rcs.visual_assets.grab_visual_assets",{strongAssets:R}),primaryCta:{label:(0,d.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{o(tX.FP({tab:i.xae.ASSETS})),t()},ctaTrackingDescriptor:y.c.PRESETS_TRY_IT},trackingContextName:"Visual Assets Intro Tooltip",userFlagOnShow:tQ.bo,position:et.Q.UI3_EDITOR_TOP_LEFT,onClose:t})}var t3=l(577796),t4=l(763716),t6=l(511067),t7=l(971845),t8=l(689329),t9=l(286803),le=l(566090),lt=l(23373);let ll=new Date("2025-03-05");function ln(){let e=(0,p.md)(Q.mp),t=(0,eP.p8)("isReadOnly"),l=(0,eP.aV)(),r=(0,W._I)(),a=(0,tu.GS)(),{uniqueId:i,show:o,isShowing:s,complete:u}=(0,v.e)({overlay:A.k2l,priority:C.N.SECONDARY_MODAL},[e]),c=(0,n.useCallback)(()=>{l||t||!r||o({canShow:e=>e.getTime()<=ll.getTime()&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(e)})},[l,o,t,r]),m=(0,t6.Um)(),g=m?.type===(0,t9.Tm)(le.tD.name),E=m?.type===(0,t4.mb)(t7.M.CommentTools);return(0,n.useEffect)(()=>{a||c()},[c,a]),(0,n.useEffect)(()=>{(g||E)&&u()},[g,E,u]),(0,h.E)(i,(0,t8.wX)("design"),()=>{c()}),n.createElement(eq.rq,{arrowPosition:eX.F_.BOTTOM,clickOutsideToHide:!0,description:(0,d.tx)("dev_handoff.annotations.tool_in_editor_onboarding.body"),isShowing:s,media:n.createElement(Z.y,{src:(0,_.ck)("f93933f2cfd98d5f79223a25cab05b4ffacb0ec7"),alt:(0,d.t)("dev_handoff.annotations.tool_in_editor_onboarding.image_alt"),aspectRatio:1200/675}),onClose:u,primaryCta:{type:"button",label:(0,d.tx)("dev_handoff.annotations.tool_in_editor_onboarding.primary_cta_label"),onClick:u,ctaTrackingDescriptor:y.c.GOT_IT},targetKey:a?lt.G:le.tD.name,title:(0,d.tx)("dev_handoff.annotations.tool_in_editor_onboarding.title"),trackingContextName:"Annotation Tools In Editor Onboarding",width:240})}var lr=l(306152),la=l(226601),li=l(621451),lo=l(354733),ls=l(251776),ld=l(79083),lu=l(227276),lc=l(438071),lm=l(788903),lg=l(277454),lp=l(240237),lE=l(516300),lf=l(483656),l_=l(728536),lb=l(612363),lx=l(815347);function ly(){let e=(0,n.useRef)(!1),t=function(){let[e,t]=(0,n.useState)(!1),l=(0,n.useRef)(null),r=(0,p.md)(la.u2);return(0,n.useEffect)(()=>{if(r===ld.td.DETECTION_REQUESTED){t(!1),l.current=performance.now();return}if(r===ld.td.IDLE&&(t(!0),l.current)){let e=performance.now()-l.current;p.zl.set(lo.eF,e)}},[r]),e}(),{status:l}=(0,p.md)(la.v4),r=["uninitialized","loading"].includes(l);return(0,n.useEffect)(()=>{e.current||r||(e.current=!0)},[r]),!t||!e.current}var lh=l(531788),lv=l(128080),lS=l.n(lv),lR=l(107584),lT=l(781239),lk=l(540698),lC=l(880801),lI=l(697587),lL=l(622518),lw=l(410135),lA=l(773511),lO=l(869143),lN=l(805353),lM=l.n(lN),lP=l(561258),lB=l(130768),l$=l(906419),lV=l(368112),lz=l(182317),lD=l(4881),lF=l(69658),lU=l(127711),lH=l(342878),lG=l(439796);let lj=(0,lD.Wh)(()=>(0,p.eU)(null)),lq=(0,lD.Wh)(()=>(0,p.eU)(e=>e(lj),(e,t,l)=>{t(lj,l)})),lX=(0,lD.Wh)(()=>(0,p.eU)(null)),lW=(0,lD.Wh)(()=>(0,p.eU)(null)),lK=(0,p.eU)(!1),lY=(0,p.eU)(null),lQ=(0,p.Iz)(e=>(0,p.eU)(t=>{let{libraryVariables:l}=t(la.v4),n=t(lG.uk),{localVariableSets:r,libraryVariableSets:a}=t(la.mn),o=t(lF.$p)??[],s={};n.forEach(t=>{"LOCAL"===t.subscriptionStatus&&t.resolvedType===e.type&&(s[t.node_id]=t)}),l.forEach(t=>{"LIBRARY"===t.subscriptionStatus&&t.resolvedType===e.type&&(s[t.node_id]=t)});let d={};o.forEach(e=>{d[e.libraryKey]=e.name});let u=Object.values(s).filter(t=>t.resolvedType===e.type).filter(t=>t.scopes.some(t=>e.scopes.includes(t)||t===i.j0r.ALL_SCOPES));return{allVariableListItems:(0,lV.dC)({variables:u,variableSets:[...Object.values(r),...Object.values(a)],styles:[],componentProps:[],layout:"list",fileNamesByLibraryKey:d,openFileLibraryKey:t(eH._S),collapsedLibraryKeys:new Set,slideThemeId:null}).reduce((e,t)=>{switch(t.type){case lV.Yc.VARIABLES:let l=t.items[0],n=t.variableSet;l&&n&&e.push({id:l.node_id,variable:l,type:"LIST",variableSet:n,isSuggestion:!1});break;case lV.Yc.SEPARATOR:e.push({id:(0,lz.g)(),type:"LIST_SEPARATOR"});break;case lV.Yc.SECTION_HEADER:e.push({id:(0,lz.g)(),type:"LIST_SECTION_HEADER",name:t.name,fileName:t.fileName,secondaryText:t.secondaryText});break;case lV.Yc.HIERARCHY_PATH:e.push({id:(0,lz.g)(),type:"LIST_HIERARCHY_PATH",label:t.name})}return e},[]),variableMap:s,localVariableSetIdToSet:r,libraryVariableSetIdToSet:a,localVariables:n,libraryVariables:l}}),(e,t)=>lS()(e.type,t.type)&&lS()(e.scopes,t.scopes)),lJ=(0,p.eU)(e=>{let{subscribedStylesByFileKey:t,localStyles:l}=e(la.jq),n=new lU.V(!0);if(l){let{sortedPrefixes:e,stylesByPrefix:t}=(0,lg.uJ)(l.styles);n.addLibraryStyleItemsToResult(e,t,l.fileKey,l.libraryKey)}for(let[e,l]of Object.entries(t)){let{sortedPrefixes:t,stylesByPrefix:r}=(0,lg.uJ)(l.styles);n.addLibraryStyleItemsToResult(t,r,e,l.libraryKey,l.fileName)}return function(e){let t=[];return{listItems:e.reduce((e,l)=>{switch(l.type){case lH.b.StylesRow:{let n=l.styles[0];if(!n)break;let{node_id:r}=n;e.push({id:r,type:"TEXT_STYLE_LIST",style:n,isSuggestion:!1}),t.push(n);break}case lH.b.Separator:e.push({id:(0,lz.g)(),type:"LIST_SEPARATOR"});break;case lH.b.LibraryName:e.push({id:(0,lz.g)(),type:"LIST_SECTION_HEADER",name:l.name});break;case lH.b.HierarchyPathName:e.push({id:(0,lz.g)(),type:"LIST_HIERARCHY_PATH",label:l.name})}return e},[]),allStyles:t}}(n.getResult())});var lZ=l(323010);let l0="16px",l1="design_linter_suggestions_modal--spacer--cOcTq";function l2(){let e=(0,p.Xr)(lY),t=(0,p.Xr)(lK),l=(0,p.Xr)(lq),r=(0,p.Xr)(lX),a=(0,p.Xr)(lW);return(0,n.useMemo)(()=>lM()(()=>{e(null),t(!1),l(null),r(null),a(null)},100),[e,t,l,r,a])}function l5(){return(0,p.md)(lK)?n.createElement(l3,null):null}function l3(){let[e,t]=(0,n.useState)(""),[l,r]=(0,n.useState)(""),a=(0,p.md)(lY),i=(0,p.md)(lq)??{title:"",emptyLabel:"",display:"GRID",items:[]},o=l2(),s=a?.current?.getBoundingClientRect()??{x:0,y:0,width:0,height:0},u=(0,n.useMemo)(()=>({x:s.x+("LIST"===i.display?s.width:0),y:s.y+("GRID"===i.display?s.height:0)}),[s.y,s.x,s.height,s.width,i.display]);(0,n.useEffect)(()=>{let t=setTimeout(()=>{r(e)},300);return()=>{clearTimeout(t)}},[e]);let c=(0,d.t)("design_linter.dropdown.search_placeholder"),m=(0,n.useRef)(null);return n.createElement(lL.bL,{width:260,maxHeight:320,onClose:o,defaultPosition:u},n.createElement(es.vo,null,n.createElement(l4,null,n.createElement(es.hE,null,i.title),n.createElement(lw.p,{type:"search",size:"md",placeholder:c,ref:m,id:c,value:e,onChange:e=>t(e)})),n.createElement(es.nB,{scrolling:"none",padding:0},n.createElement(l6,{items:i.items,display:i.display,searchQuery:l}))))}function l4({children:e}){return n.createElement("div",{className:"design_linter_suggestions_modal--header--XSpwy","data-fpl-header":!0},e)}function l6({items:e,display:t,searchQuery:l}){let r=(0,p.md)(lX)??eg.lQ,a=(0,p.md)(lW)??(()=>!1);return"GRID"===t?n.createElement(l9,{items:e,onSelection:r,checkIsSelected:a}):n.createElement(l7,{items:e,searchQuery:l,onSelection:r,checkIsSelected:a})}function l7({items:e,searchQuery:t,onSelection:l,checkIsSelected:r}){let a="design-linter-dropdown",i=(0,n.useRef)(null),[o,s]=(0,n.useState)(null),u=(0,n.useCallback)(e=>{s(e)},[s]),c=(0,n.useCallback)(e=>{o===e&&s(null)},[o,s]),m=l2(),g=(0,n.useCallback)(e=>{l&&l(e)},[l]),p=!0,E=(0,n.useMemo)(()=>e.filter(e=>{let l=t.toLocaleLowerCase();switch(e.type){case"LIST":if(""!==l&&(e.isSuggestion||!e.variable.name.toLocaleLowerCase().includes(l)))return!1;break;case"TEXT_STYLE_LIST":if(""!==l&&(e.isSuggestion||!e.style.name.toLocaleLowerCase().includes(l)&&!e.style.description?.toLocaleLowerCase().includes(l)))return!1;break;case"LIST_HIERARCHY_PATH":case"LIST_SECTION_HEADER":case"LIST_SEPARATOR":if(""!==t)return!1;break;default:return!1}return!0}),[e,t]),f=(0,n.useCallback)(e=>{let t=E[e];return t?`${e}-${t.id}`:""},[E]),_=(0,n.useCallback)(()=>i.current,[i]),b=(0,lO.Te)({count:E.length,estimateSize:()=>33,getItemKey:f,getScrollElement:_,overscan:5});return(0,n.useEffect)(()=>{let e=E.findIndex(e=>r(e))??-1;e>=0&&b.scrollToIndex(e,{align:"center"})},[r,E,b]),n.createElement(lP.dP,{recordingKey:a},E.length>0?n.createElement("div",{ref:i,className:"xysyzu8",style:{height:`${Math.min(b.getTotalSize()+8,248)}px`}},n.createElement("div",{className:"x1n2onr6",style:{height:`${b.getTotalSize()+8}px`}},b.getVirtualItems().map(e=>{let{index:t}=e,l=[1,t],i=E[t];if(!i)return null;p=!1;let s=!!r&&r(i);return n.createElement("div",{key:e.key,className:"x10l6tqk x13vifvy xu96u03 xh8yej3",style:{height:`${e.size}px`,transform:`translateY(${e.start}px)`}},n.createElement(l8,{isHighlighted:!b.isScrolling&&o===t,isSelected:s,keyboardNavigationPath:l,listItem:i,onItemHighlight:()=>{u(t)},onItemMouseLeave:()=>{c(t)},onItemSelect:()=>{"variable"in i&&g(i.variable.node_id),"style"in i&&g(i.style.node_id),m()},recordingKey:lT.Pt(a,`${"variable"in i?i.variable.id:t}`)}))}))):null,p?n.createElement("div",{className:"x78zum5 xl56j7k x6s0dn4 x84pvj6 x87ps6o",style:{height:(0,lV.Ih)({layout:"list"})}},(0,d.t)("variables.binding_ui.no_search_results")):null)}let l8=n.memo(function({isHighlighted:e,isSelected:t,keyboardNavigationPath:l,listItem:r,onItemHighlight:a,onItemMouseLeave:i,onItemSelect:o,recordingKey:s}){switch(r.type){case"LIST":return n.createElement("div",{className:ep.s.bRadius5.overflowHidden.mt8.mb4.ml8.mr8.$},n.createElement(l$._J,{key:r.id,disabledVariableIds:new Set,isHighlighted:e,isSelected:t,keyboardNavigationPath:l,onItemHighlight:a,onItemMouseLeave:i,onItemSelect:o,pickerType:"fields",recordingKey:s,variable:r.variable,variableSet:r.variableSet}));case"TEXT_STYLE_LIST":return n.createElement("div",{className:th()(ep.s.bRadius5.overflowHidden.mt8.ml8.mr8.$,"design_linter_suggestions_modal--dropdownRow--i801b")},n.createElement(lB.m3,{dsStyle:r.style,additionalClassName:ep.s.flex.wFull.$},n.createElement(l$.DL,{dsStyle:r.style,hideContextMenu:!0,isHighlighted:e,isSelected:t,keyboardNavigationPath:l,onItemContextMenu:i,onItemHighlight:a,onItemMouseLeave:i,onItemSelect:o,recordingKey:s})));case"LIST_SEPARATOR":return n.createElement("div",{className:th()(lZ.me,"design_linter_suggestions_modal--separator--CnjLD")});case"LIST_SECTION_HEADER":return n.createElement("div",{className:l1},n.createElement(l$.KL,{groupName:r.name,fileName:r.fileName,secondaryText:r.secondaryText}));case"LIST_HIERARCHY_PATH":return n.createElement("div",{className:l1},n.createElement(l$.Tg,{groupName:r.label}));default:return null}});function l9({items:e,onSelection:t,checkIsSelected:l}){let r=l2(),a=(0,n.useCallback)(e=>{t(e)},[t]),i=ep.s.flex.justifyCenter.itemsCenter.colorBgSecondary.selectNone.bRadius5.$,o=ep.s.b2.colorBorderSelected.$;return n.createElement("div",{className:ep.s.grid.borderBox.gridTemplateColumns2.mt8.mb8.ml16.$},e.map(e=>{let t=!!l&&l(e);return"GRID"===e.type?n.createElement("div",{key:e.id,className:ep.s.textBodyMedium.colorText.truncate.selectNone.mt8.mr16.mb8.$},n.createElement(lA.E,{className:th()("design_linter_suggestions_modal--thumbnailContainer--mBL-q",i,t?o:null),onClick:()=>{a(e.id),r()}},n.createElement(tn.oW,{src:e.thumbnail_url,alt:e.name})),n.createElement("h3",{className:ep.s.truncate.mt2.$},e.name)):null}))}var ne=l(403451),nt=l(88009),nl=l(882839);function nn(){let{isLibraryModalShown:e,onToggleLibraryModal:t}=(0,ne.u)({entrypoint:nl.r6.DESIGN_LINTER,modalType:"editor",initialTab:nt.Wv.LIBRARIES}),l=(0,n.useCallback)(()=>{i.Ez5?.uiState().showDesignLinter.set(!1),e||t()},[e,t]);return n.createElement("div",{...ec.Ay.props(nr.box)},(0,d.tx)("design_linter.library_selector.no_libraries"),n.createElement(lh.$n,{onClick:l},(0,d.tx)("design_linter.library_selector.manage_libraries")))}let nr={box:{display:"x78zum5",alignItems:"x6s0dn4",padding:"x1pcupwp",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,gap:"x1nfngrj",rowGap:null,columnGap:null,borderRadius:"x1sxf85j",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,backgroundColor:"x1v8gsql",...eS.g.textBodyMedium,$$css:!0}};var na=l(837983),ni=l(134611),no=l(283622);function ns(){let e=(0,ni.$)(),t=(0,na.e)(),l=(0,no.$)(e,t),r=nd(e),a=nd(l);return(0,n.useMemo)(()=>({variableOrStyleSubscribedLibraries:r,variableOrStyleUsedInThisFile:a}),[r,a])}function nd(e){return(0,n.useMemo)(()=>"loaded"===e.status?{...e,data:e.data.filter(e=>e.num_variables>0||e.num_styles>0)}:e,[e])}function nu(e){return(0,n.useMemo)(()=>{if("loaded"===e.status)return 0===e.data.length?ld.oV.EMPTY:ld.oV.CONTENT;if("errors"===e.status||"disabled"===e.status);else if("loading"===e.status)return ld.oV.LOADING;return ld.oV.ERROR},[e])}var nc=l(544405),nm=l(584978),ng=l(334804),np=l(903832),nE=l(181243),nf=l(799272),n_=l(376852),nb=l(48908);function nx({numPlaceholderLibraries:e}){return n.createElement(n.Fragment,null,(0,n_.y1)(e).map(e=>n.createElement(ny,{key:e})))}function ny(){let e={opacity:50,animationType:nb.JR.SHIMMER};return n.createElement("div",{className:"x78zum5 x6s0dn4 x9f619 x1ef8nbk x17f4yl9 x1bamp8i x19y5rnk xh8yej3 x1nfngrj"},n.createElement(nb.Qp,{className:"x1exxlbk xnnlda6 x1ino65a x19y5rnk",...e})," ",n.createElement("div",{className:"x98rzlu x78zum5 xdt5ytf x1nfngrj"},n.createElement(nb.Wi,{className:"xygnafs",...e}),n.createElement(nb.Wi,{className:"x1dmp6jm",...e})),n.createElement(nm.W,{id:"loading",disabled:!0}))}function nh({subscribedLibraries:e,usedInThisFile:t,subscribedLibrariesStatus:l,usedInThisFileStatus:r,checkedStates:a,setCheckedStates:i,setSubscribeCallbacks:o}){let s=n.useCallback((e,t)=>{i(l=>({...l,[e]:t}))},[i]),d=n.useCallback((e,t)=>{o(l=>({...l,[e]:t}))},[o]);return n.createElement(n.Fragment,null,n.createElement(nv,{subscribedLibraries:e,subscribedLibrariesStatus:l,checkedStates:a,setLibraryCheckedState:s}),n.createElement(nS,{usedInThisFile:t,usedInThisFileStatus:r,checkedStates:a,setLibraryCheckedState:s,setLibrarySubscribeCallback:d}))}function nv({subscribedLibraries:e,subscribedLibrariesStatus:t,checkedStates:l,setLibraryCheckedState:r}){return t===ld.oV.LOADING?n.createElement(nx,{numPlaceholderLibraries:2}):t===ld.oV.CONTENT?n.createElement(n.Fragment,null,e?.data?.map((e,t)=>n.createElement("div",{"data-testid":`design-linter-subscribed-library-item-${t}`,key:e.library_key},n.createElement(nR,{library:e,checked:l[e.library_key]||!1,setChecked:t=>r(e.library_key,t)})))):null}function nS({usedInThisFile:e,usedInThisFileStatus:t,checkedStates:l,setLibraryCheckedState:r,setLibrarySubscribeCallback:a}){return t===ld.oV.LOADING?n.createElement(nx,{numPlaceholderLibraries:1}):t===ld.oV.CONTENT?n.createElement(n.Fragment,null,e.data?.map((e,t)=>n.createElement("div",{"data-testid":`design-linter-in-file-library-item-${t}`,key:e.library_key},n.createElement(nR,{library:e,checked:l[e.library_key]||!1,setChecked:t=>r(e.library_key,t),setLibrarySubscribeCallback:a})))):null}function nR({library:e,checked:t,setChecked:l,setLibrarySubscribeCallback:r}){let{subscribe:a}=(0,np._)(e);return n.createElement("div",{...ec.Ay.props(nk.listItem,t&&nk.selectedListItem)},n.createElement(nc.J,{className:"xgqk73l",htmlFor:e.library_key},n.createElement(nT,{library:e})),n.createElement("div",{className:"x8x9d4c"},n.createElement(nm.W,{id:e.library_key,checked:t,onChange:t=>{l(t),r?.(e.library_key,a)}})))}function nT({library:e}){let t=(0,nt.P2)(e),l=!t||null!==e.thumbnail_guid,r=t?e.team_name:e.community_author_name;return n.createElement("div",{className:"x78zum5 x6s0dn4 x1nfngrj"},n.createElement(nE.D,{thumbnailUrl:e.thumbnail_url,coverThumbnail:l,name:e.library_name}),n.createElement("div",{className:"x98rzlu x78zum5 xdt5ytf"},n.createElement("span",{...ec.Ay.props(nk.listItemHeader)},n.createElement(nf.C,{publishedLibrary:e})),r&&n.createElement(ng.G,{...ec.Ay.props(nk.listItemSubheader),text:r})))}let nk={listItem:{display:"x78zum5",position:"x1n2onr6",alignItems:"x6s0dn4",textAlign:"xdpxx8g",color:"x1akne3o",boxSizing:"x9f619",marginBottom:"x1ef8nbk",padding:"x17f4yl9",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,border:"x1bamp8i",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,backgroundColor:"x1yjdb4r xv2f06h",$$css:!0},selectedListItem:{borderColor:"x1va2ikv",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},listItemHeader:{...eS.g.textBodyMedium,width:"x1oysuqx",$$css:!0},listItemSubheader:{...eS.g.textBodyMedium,color:"x1n0bwc9",width:"x1oysuqx",$$css:!0}};var nC=l(133595);function nI(){let e="design-linter-library-selector",[t,l]=(0,p.fp)(lb._M),r=()=>{t===ld.FR.LIBRARY_SELECTOR_FROM_ALL_GROUPS_VIEW?l(ld.FR.ALL_VISUAL_GROUPS_VIEW):t===ld.FR.LIBRARY_SELECTOR_FROM_SELECTED_GROUP_VIEW?l(ld.FR.SELECTED_VISUAL_GROUP_VIEW):i.Ez5?.uiState().showDesignLinter.set(!1)},a=ei.hS({open:!0,onClose:r}),{variableOrStyleSubscribedLibraries:o,variableOrStyleUsedInThisFile:s}=ns(),[u,c]=(0,n.useState)((0,lx.Bx)()),[m,g]=(0,n.useState)({}),E=(0,n.useMemo)(()=>new Set(Object.keys(u).filter(e=>u[e])),[u]),f=(0,p.md)(la.Ut),_=nu(o),b=nu(s),x=l2(),y=0===E.size,h=_!==ld.oV.CONTENT&&b!==ld.oV.CONTENT,v=_===ld.oV.ERROR||b===ld.oV.ERROR,S=lS()(E,f),R=(h||v||y||S)&&!(0,lk.PN)(),T=t===ld.FR.LIBRARY_SELECTOR_FROM_ALL_GROUPS_VIEW||t===ld.FR.LIBRARY_SELECTOR_FROM_SELECTED_GROUP_VIEW,k=(0,n.useCallback)(()=>{for(let[e,t]of Object.entries(m))E.has(e)&&t();(0,nC.U_)(T,o.data?.length??0,E.size),x();let e=(0,lR.r)();e?.resetStateForLibrarySelection(),p.zl.set(la.Ut,E),l(ld.FR.ALL_VISUAL_GROUPS_VIEW),e?.requestDetection(!0)},[x,E,l,m,o,T]);return!function(e,t,l,r){let a=(0,n.useRef)(t.status),i=e===ld.FR.LIBRARY_SELECTOR_INITIAL,o="loaded"===t.status&&"loaded"!==a.current,s=(0,n.useRef)(!0);(0,n.useEffect)(()=>{if(i&&(o||"loaded"===t.status&&s.current)){let e={...l};t.data.forEach(t=>{e[t.library_key]=!0}),r(e)}a.current=t.status,s.current=!1},[i,t,l,r,o])}(t,o,u,c),(0,nC.PV)(T),n.createElement(eo.bL,{manager:a,width:385},n.createElement(es.vo,null,n.createElement(es.Y9,null,n.createElement(es.hE,null,n.createElement("div",{className:"x78zum5 x6s0dn4 xg2d0mh"},(0,d.tx)("design_linter.title"),n.createElement(lI.y,{helpUrlVariant:lC.JT.DETECT_VIOLATIONS})))),n.createElement(es.nB,null,n.createElement(nL,{subscribedLibraries:o,usedInThisFile:s,subscribedLibrariesStatus:_,usedInThisFileStatus:b,checkedStates:u,setCheckedStates:c,setSubscribeCallbacks:g})),n.createElement(es.wi,null,n.createElement(es.jk,null,T&&n.createElement(lh.$n,{variant:"secondary",onClick:r},(0,d.tx)("general.cancel")),n.createElement(lh.$n,{recordingKey:lT.Pt(e,"continue-button"),"data-testid":`${e}-continue-button`,disabled:R,onClick:k},T?(0,d.tx)("general.save"):(0,d.tx)("general.continue"))))))}function nL({subscribedLibraries:e,usedInThisFile:t,subscribedLibrariesStatus:l,usedInThisFileStatus:r,checkedStates:a,setCheckedStates:i,setSubscribeCallbacks:o}){if(l===ld.oV.ERROR||r===ld.oV.ERROR)return n.createElement("div",{...ec.Ay.props(nA.errorState)},(0,d.tx)("design_linter.library_selector.error"));let s=l===ld.oV.EMPTY&&r===ld.oV.EMPTY;return n.createElement("div",{"data-testid":"design-linter-library-selector",className:"x1b21aiw"},n.createElement(nw,null),s?n.createElement(nn,null):n.createElement(nh,{subscribedLibraries:e,usedInThisFile:t,subscribedLibrariesStatus:l,usedInThisFileStatus:r,checkedStates:a,setCheckedStates:i,setSubscribeCallbacks:o}))}function nw(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"x7hzu26 x1ef8nbk x1nfngrj x78zum5 xdt5ytf"},n.createElement("div",{...ec.Ay.props(nA.instructions)},(0,d.tx)("design_linter.library_selector.instructions")),n.createElement("div",{...ec.Ay.props(nA.header_text)},(0,d.tx)("design_linter.library_selector.header"))))}let nA={instructions:{...eS.g.textBodyMedium,$$css:!0},header_text:{...eS.g.textBodyMediumStrong,$$css:!0},errorState:{display:"x78zum5",justifyContent:"xl56j7k",alignCenter:"xxt28ha",padding:"xi4wr45",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,...eS.g.textBodyLarge,$$css:!0}};var nO=l(562027),nN=l(693108),nM=l(231159),nP=l(670549),nB=l(447071);let n$=(0,n.memo)(function(){let e=function(){let e=(0,nB.dG)(nN.s4.TEXT,null),t=(0,p.md)(la.Ut);return(0,n.useMemo)(()=>{let l=e.libraries.filter(e=>e.numStylesText>0&&t.has(e.libraryKey));return{...e,libraries:l}},[e,t])}();return(function({status:e,libraries:t}){let[l,r]=(0,p.fp)(la.jq),a=(0,p.md)(la.Ut),i=(0,p.md)(eH.yV),o=(0,p.md)(nV),{status:s,stylesByFileKey:d}=(0,nB.Zk)({styleType:nN.s4.TEXT,initialSelectedSubscribedStyle:null,selectedLibraries:t.filter(e=>e.numStylesText>0)}),u=(0,n.useMemo)(()=>{if("loading"===s||"loading"===e)return{status:"loading",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if((0,lk.PN)())return{status:"loaded",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if("invalidated"===l.status||"loaded"===s){let e=Object.entries(d).reduce((e,[t,l])=>(a.has(l.libraryKey)&&(e[t]=l),e),{}),t=Object.values(e).flatMap(e=>e.styles),l=null;return o.length>0&&i?.key&&i?.libraryKey&&(l={fileKey:i.key,styles:o,libraryKey:(0,nO.l)(i.libraryKey)},t.push(...o)),{status:"loaded",subscribedStylesByFileKey:e,allStyles:t,localStyles:l}}return l},[s,e,l,d,o,a,i?.key,i?.libraryKey]);(0,n.useEffect)(()=>{(u.status!==l.status||u.allStyles.length!==l.allStyles.length)&&r(u)},[u,l,r])}(e),e.libraries.length)?n.createElement(nP.MM,{inheritStyleKey:null,inheritStyleID:null,styleType:nN.s4.TEXT,selectedLibraries:e.libraries}):null}),nV=(0,nM.bt)(e=>(0,lg.ti)(e.library.local.styles,nN.s4.TEXT));var nz=l(354427),nD=l(716365),nF=l(1511),nU=l(442393),nH=l(930229),nG=l(813321),nj=l(410441),nq=l(10855),nX=l(454805),nW=l(143823),nK=l(588123),nY=l(142917),nQ=l(459633),nJ=l(399994),nZ=l(195257),n0=l(552807),n1=(e=>(e.ALL_GROUPS_VIEW="all_groups_view",e.PREVIEW="preview",e))(n1||{}),n2=(e=>(e.COLOR="color",e.IMAGE="image",e))(n2||{});function n5(){return{bg:"var(--color-bg-secondary)",type:"color"}}function n3(e,t){let l=(0,nY.ei)(e),r=(0,lx.wg)(l),[a,o]=(0,n.useState)(n5());return(0,n.useEffect)(()=>{let l=(0,g.UN)().get(e);if(!l)return;let n=l.parentNode;for(;n;){let e=n.guid,l=(0,ls.kl)(n.fills).paint;if(l){let n=l.type;if("SOLID"===n){o(function(e){let t=e.color;if(!t)return n5();let l=e.opacity??1,{hex:n}=(0,nZ.XF)(t),r=Math.floor(255*l).toString(16);return{bg:`#${n}${r}`,type:"color"}}(l));return}if("IMAGE"===n){o(n4(e,"preview"===t?8:2,r));return}if("VIDEO"!==n&&"EMOJI"!==n){o(n4(e,2,r));return}o(n5());return}n=n.parentNode}let a=i.Egt?.getNodePageBackgroundColor(e);o(a?{bg:a,type:"color"}:n5())},[r,e,t]),a}function n4(e,t,l){let n=`${e}-${t}`,r=p.zl.get(la.g7),a=r.get(n),o=a?.lastEditedAtTime!==l;if(a&&!o)return{bg:a.src,type:"image"};let s=function(e,t){let l=i.mHF?.copyNodeToLinterScene(e);if(!l)return null;let n=new g.qo(i.juq.LINTER).get(l);if(!n)return null;for(let e of n.childrenNodes)e.removeSelfAndChildren();n.cornerRadius=0,n.effects=[];let[r,a]=(0,lx.tJ)(l,t),o=r.width,s=r.height;return(0,n0.Pv)(a,new nX.Mi(o,s))}(e,t);if(!s)return n5();if(l>0){let e=new Map(r);e.set(n,{src:s,lastEditedAtTime:l}),p.zl.set(la.g7,e)}return{bg:s,type:"image"}}let n6=n.memo(function(){let e=(0,n.useRef)(null),t=(0,p.md)(lb.Bd),l=(0,p.md)(lb.$H),r=(0,lO.Te)({count:t?.length??0,getScrollElement:()=>e.current,overscan:3,estimateSize:()=>88}),a=l?l.y-40:475;return n.createElement("div",{"data-testid":"design-linter-groups-list",ref:e,className:"x1rife3k x8rdmch xctkrei",style:{height:a}},n.createElement("div",{...ec.Ay.props(re.description)},(0,d.t)("design_linter.modal.description")),n.createElement("div",{className:"x1n2onr6",style:{height:r.getTotalSize()}},n.createElement("div",{className:"x13vifvy xu96u03 x1n2onr6",style:{height:`${r.getTotalSize()+16}px`}},r.getVirtualItems().map(e=>{let l=t[e.index];return l?n.createElement(n8,{key:e.index,group:l,virtualRow:e}):null}))))}),n7=e=>{let t=(0,p.md)(lb.MP);return e?t.get(e)??0:0},n8=n.memo(function({group:e,virtualRow:t}){let l=(0,p.Xr)(lb.NM),r=(0,p.Xr)(lb._M),[a,i]=(0,nQ.M)(),o=n7(e.id),s=(0,n.useCallback)(()=>{l(e.id),r(ld.FR.SELECTED_VISUAL_GROUP_VIEW),(0,nC.Jq)(e.id)},[e.id,r,l]),u=(0,lx.ac)(e);return u?n.createElement(lA.E,{"data-testid":`design-linter-group-item-${t.index}`,className:"xf7z5ut x78zum5 xl56j7k xb3r6kr xkzqb9i x19y5rnk x7z60cl x1exxlbk xdd8jsf",onClick:s,key:u,"data-index":t.index,...ec.Ay.props(re.groupRow,i&&re.groupRowHover),style:{height:`${t.size}px`,transform:`translateY(${t.start}px)`},ref:a},n.createElement("div",{className:"x78zum5 x6s0dn4"},n.createElement(n9,{rootNodeId:u}),n.createElement("div",{className:"xrybvsa x78zum5 xdt5ytf"},n.createElement("div",{...ec.Ay.props(re.groupTitle)},(0,d.t)("design_linter.visual_group_row.title",{count:e?.rootNodeIdToViolatingNodeIdSet.size})),n.createElement("div",{...ec.Ay.props(re.groupSubtitle)},(0,d.t)("design_linter.visual_group_row.subtitle",{count:o})))),n.createElement("div",{...ec.Ay.props(re.chevron,i&&re.showChevron)},n.createElement(nK.e,null))):null}),n9=n.memo(function({rootNodeId:e}){let t=(0,nY.ei)(e),l=(0,lx.wg)(t),r=(0,nJ.yh)({nodeId:e,width:100,height:100,shouldSkip:!1,version:l,reason:"design-linter.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:!1,shouldCache:l>0}),{bg:a,type:i}=n3(e,n1.ALL_GROUPS_VIEW),o=i===n2.COLOR,s=i===n2.IMAGE;return r?n.createElement("div",{...ec.Ay.props(re.thumbnailContainer,s&&re.backgroundImageContainer),style:{...o&&{backgroundColor:a},...s&&{backgroundImage:`url(${a})`}}},n.createElement(tn.oW,{src:r.src,className:"x19kjcj4 x193iq5w xmz0i5r",alt:(0,d.t)("design_linter.penalty_box.thumbnail_alt")})):n.createElement("div",{className:"xf7z5ut x78zum5 xl56j7k xb3r6kr xkzqb9i x19y5rnk x7z60cl x1exxlbk xdd8jsf"},n.createElement(nb.Qp,{className:"x1exxlbk x14nwjz3 x19y5rnk x7z60cl",animationType:nb.JR.LIGHT_SHIMMER}))}),re={description:{...eS.g.textBodyMedium,marginLeft:"xrybvsa",marginInlineStart:null,marginInlineEnd:null,marginTop:"xehsoiq",userSelect:"x87ps6o",$$css:!0},thumbnailContainer:{padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,display:"x78zum5",justifyContent:"xl56j7k",overflow:"xb3r6kr",overflowX:null,overflowY:null,border:"xkzqb9i",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,borderColor:"x7z60cl",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,width:"x1exxlbk",height:"xdd8jsf",$$css:!0},groupRowHover:{backgroundColor:"x1v8gsql",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},groupRow:{display:"x78zum5",marginTop:"x7hzu26",marginBottom:"x1ef8nbk",padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,height:"xt7dq6l",position:"x10l6tqk",top:"x13vifvy",left:"xu96u03",insetInlineStart:null,insetInlineEnd:null,width:"xh8yej3",justifyContent:"x1qughib",$$css:!0},groupTitle:{...eS.g.textBodyMedium,color:"x1akne3o",$$css:!0},groupSubtitle:{...eS.g.textBodyMedium,color:"x1n0bwc9",$$css:!0},chevron:{opacity:"xg01cxk",height:"xxk0z11",width:"xvy4d1p",visibility:"xlshs6z",$$css:!0},showChevron:{opacity:"x1hc1fzr",visibility:"xnpuxes",$$css:!0},backgroundImageContainer:{backgroundRepeat:"xiy17q3",backgroundSize:"x18d0r48",backgroundPosition:"x1xsqp64",backgroundPositionX:null,backgroundPositionY:null,backgroundColor:"x1v8gsql",$$css:!0}};var rt=l(195124),rl=l(320953),rn=l(303397);function rr({title:e,getItems:t,getItemName:l}){let[r,a]=(0,n.useState)(!1),o=(0,n.useCallback)(async()=>{r||(a(!0),await n());async function n(){try{let n;let r=[];(0,rl.l7)(i.zkO.USER,"debug-linter-visual-groups",()=>{let t=(0,g.UN)(),l=t.getCurrentPage();(n=t.createNode("SECTION")).fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:0},opacity:1}],n.name=e;let r=0;for(let e of l?.childrenNodes??[])e.x+e.size.x>r&&(r=e.x+e.size.x);n.x=r+100,n.y=0});let a=0,o=40,s=t();for(let[e,[t,d]]of Array.from(s.entries()).entries()){let s;(0,rl.l7)(i.zkO.USER,"debug-linter-visual-groups",()=>{let i=(0,g.UN)();if(e>0){let e=i.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3,a:1},opacity:1}],e.size={x:a,y:12},e.y=o+40,e.x=40,n.appendChild(e),o+=e.size.y+80,r.push(e.guid)}(s=i.createNode("FRAME")).visible=!1,s.name=l(t),s.x=40,s.y=o,s.fills=[{type:"SOLID",color:{r:.7,g:.7,b:.7,a:1},opacity:1}],s.stackMode="HORIZONTAL",s.stackSpacing=40,s.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",s.stackTopPadding=40,s.stackBottomPadding=40,s.stackLeftPadding=40,s.stackRightPadding=40,s.frameMaskDisabled=!0});let u=0,c=0,m=0;for(let[e,t]of d.entries())await new Promise(e=>setTimeout(e,0)),(0,rl.l7)(i.zkO.USER,"debug-linter-visual-groups",()=>{let l;let r=(0,g.UN)(),a=r.get(t);if(!a)return;if("DOCUMENT"===a.type)l=r.createNode("FRAME").guid;else{if("CANVAS"===a.type)return;l=a.clone()}if(e>0){let e=r.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.6,g:.2,b:.6,a:1},opacity:1}],e.size={x:4,y:c+40},e.y=40,e.x=u,s.appendChild(e),u+=e.size.x+40}let i=r.get(l);i&&(i.y=40,i.x=u,i.stackPositioning="AUTO",u+=i.size.x+40,c=Math.max(c,i.size.y),m=Math.max(m,i.size.x),"SECTION"===a.type?(n.appendChild(i),i.y=o):s.appendChild(i))});a=Math.max(a,u),o=o+c+120,(0,rl.l7)(i.zkO.USER,"debug-linter-visual-groups",()=>{if(n.size={x:a+40,y:o},0===s.childCount){s.removeSelfAndChildren();return}s.size={x:u,y:c+40},n.appendChild(s),s.visible=!0})}let d=(0,g.UN)().getCurrentPage();(0,rl.l7)(i.zkO.USER,"debug-linter-visual-groups",()=>{n&&(d?.appendChild(n),function(e,t){let l=(0,g.UN)();for(let n of e){let e=l.get(n);e&&(e.size={x:t,y:e.size.y})}}(r,n.size.x-80),i.Egt?.replaceSelection([n.guid],!0),rn.Y5.triggerAction("goto-layer",{args:{nodeId:n.guid}}))})}catch(e){console.error(e)}finally{a(!1)}}},[r,t,l,e]);return{isRunning:r,handleClick:o}}function ra(){let e=(0,p.md)(lb.Bd),{isRunning:t,handleClick:l}=rr({title:"Visual groups",getItems:(0,n.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let l=`${e.id} | ${e.type}`;t.set(l,Array.from(e.rootNodeIdToViolatingNodeIdSet.keys()))}),t},[e]),getItemName:(0,n.useCallback)(e=>e,[])});return n.createElement("div",{className:"xz9dl7a"},n.createElement(lh.$n,{disabled:t,onClick:l,iconPrefix:t?n.createElement(nW.k,null):void 0},"Inspect groups"))}function ri(){let e=(0,p.md)(la.fY),{isRunning:t,handleClick:l}=rr({title:"Visual Hashes",getItems:(0,n.useCallback)(()=>(function(e){let t=new Map,l=(0,g.UN)();return e.forEach(e=>{let n=l.get(e);n&&(0,rt.hV)(n,e=>{let l=String(i.mHF?.getVisualGroupFieldsHash(e.guid)??0),n=t.get(l)??[];t.set(l,[...n,e.guid])})}),t})(e?.guids??[]),[e]),getItemName:(0,n.useCallback)(e=>`Hash: ${e}`,[])});return n.createElement("div",{className:"xz9dl7a"},n.createElement(lh.$n,{disabled:t,onClick:l,iconPrefix:t?n.createElement(nW.k,null):void 0},"Inspect Vis. G Field Hashes"))}function ro(){let e=(0,p.md)(la.u2),t=(0,p.md)(la.fY),l=t?.guids??[],r=function(){let e=(0,p.md)(la.fY),[t,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let t=0;if(e){let l=(0,g.UN)();e.guids.forEach(e=>{let n=l.get(e);n&&(0,rt.hV)(n,()=>{t++})})}l(t)},[e]),t}(),a=(0,p.md)(lo.yd),i=(0,p.md)(la.Iy),{status:o}=(0,p.md)(la.v4),s=function(){let e=(0,p.md)(la.m7);return(0,n.useMemo)(()=>Array.from(e.values()).reduce((e,t)=>e+t.size,0),[e])}(),d=function(){let[e,t]=(0,n.useState)(0),l=(0,p.md)(la.Iy),r=(0,p.md)(la.m7);return(0,n.useEffect)(()=>{let e=new Set;for(let t of l.values())for(let l of t.violatingNodeIdToRootNodeId.keys())e.add(l);let n=new Set;for(let t of r.values())for(let l of t.values())for(let t of l)e.has(t.guid)||n.add(t.guid);t(n.size)},[r,l]),e}(),u=function(){let e=(0,p.md)(la.m7);return(0,n.useMemo)(()=>{let t={};for(let l of e.values())for(let e of l.values())for(let l of e){let{ruleId:e}=l;t[e]=t[e]||[],t[e].push(l)}return Object.entries(t).map(([e,t])=>({rule:e,count:t.length}))},[e])}();return n.createElement(n.Fragment,null,n.createElement("div",{className:ep.s.grid.gridTemplateColumns2.gap2.py8.$},n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Linter status:"),n.createElement("div",{className:ep.s.textBodyMedium.$},e),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Variable context status:"),n.createElement("div",{className:ep.s.textBodyMedium.$},o),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Linting target:"),n.createElement("div",{className:ep.s.textBodyMedium.maxW200.overflowAuto.$},`${l.join(",")}`),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Linting target nodes:"),n.createElement("div",{className:ep.s.textBodyMedium.$},r),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Lintable nodes:"),n.createElement("div",{className:ep.s.textBodyMedium.$},a),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Visual groups:"),n.createElement("div",{className:ep.s.textBodyMedium.$},i.size),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Violations:"),n.createElement("div",{className:ep.s.textBodyMedium.$},s),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Ungrouped violations:"),n.createElement("div",{className:ep.s.textBodyMedium.$},d),n.createElement("div",{className:ep.s.textHeadingSmall.pb4.$},"Violations per rule:"),n.createElement("ol",null,u.map(({rule:e,count:t})=>n.createElement("span",{key:e,className:ep.s.textBodyMedium.block.$},n.createElement("strong",null,e),": ",t)))))}function rs(e){if(!e)return"loading";let t=e.toFixed(3);return e<1e3?`${t}ms`:e<6e4?`${(e/1e3).toFixed(2)}s (${t}ms)`:`${(e/6e4).toFixed(2)}min (${t}ms)`}function rd({label:e,value:t,isHeader:l=!1}){return n.createElement(n.Fragment,null,n.createElement("div",{className:th()(ep.s.textHeadingSmall.mr1.$,{[ep.s.textHeadingMedium.$]:l})},e),n.createElement("div",{className:ep.s.textBodyMedium.$},rs(t)))}function ru({items:e}){return n.createElement("div",{className:ep.s.flex.flexColumn.overflowAuto.$},n.createElement("table",null,n.createElement("tbody",null,e.map(([e,t])=>n.createElement("tr",{key:e},n.createElement("td",{className:ep.s.textBodyMedium.pr2.italic.noWrap.$},n.createElement("strong",null,e)),n.createElement("td",{className:ep.s.textBodyMedium.alignLeft.$},rs(t)))))))}function rc(){let e=(0,p.md)(lo.eF),t=(0,p.md)(lo.L2)??[],l=t.reduce((e,{duration:t})=>e+t,0),r=(0,p.md)(lo.rT)??new Map,a=(0,p.md)(lo.KV)??new Map,i=(0,p.md)(lo.zZ)??new Map;return n.createElement(n.Fragment,null,n.createElement("div",{className:ep.s.textHeadingSmall.mr1.textHeadingMedium.$},"Overall latency info:"),n.createElement("div",{className:ep.s.grid.gridTemplateColumns2.gap2.py8.$},n.createElement(rd,{label:"Time until first group:",value:e}),n.createElement(rd,{label:"Total loading time:",value:l}),n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Time per status:"),n.createElement(ru,{items:t.map(({status:e,duration:t})=>[e,t])}),n.createElement("div",{className:ep.s.textHeadingSmall.pb4.$},"Detection time per rule:"),n.createElement(ru,{items:Array.from(r)}),n.createElement("div",{className:ep.s.textHeadingSmall.pb4.$},"Avg detection time per rule per node:"),n.createElement(ru,{items:Array.from(a)}),n.createElement("div",{className:ep.s.textHeadingSmall.pb4.$},"P95 detection time per rule:"),n.createElement(ru,{items:Array.from(i).filter(([e,t])=>null!==t).map(([e,t])=>[e,t])})))}function rm(){let e=(0,p.md)(lb.E$),t=e?.rootNodeIdToViolatingNodeIdSet.size,l=(0,p.md)(lo.Op),r=(0,p.md)(lo.iS),a=(0,p.md)(lo.ky);return n.createElement(n.Fragment,null,n.createElement("div",{className:ep.s.textHeadingSmall.italic.mt8.$},"For current group:"),n.createElement("div",{className:ep.s.grid.gridTemplateColumns2.gap2.py8.$},n.createElement("div",{className:ep.s.textHeadingSmall.mr1.$},"Group size (nodes):"),n.createElement("div",{className:ep.s.textBodyMedium.$},t),n.createElement(rd,{label:"Fix loading time:",value:l}),n.createElement(rd,{label:"Current thumbnail loading time:",value:r}),n.createElement(rd,{label:"Suggested thumbnail loading time:",value:a})))}function rg(){let e=(0,lR.r)();return n.createElement("div",{className:ep.s.flex.flexColumn.gap4.py8.w150.$},n.createElement(lh.$n,{onClick:()=>{e?.debugLinterState()}},"Copy linter state"),n.createElement(ra,null),n.createElement(ri,null))}function rp(){let[e,t]=(0,n.useState)(!1);return n.createElement("div",{className:ep.s.colorBg.mx16.mt16.flex.flexColumn.b2.bRadius4.colorBorder.p4.wAuto.$},n.createElement("div",{className:ep.s.p4.$},n.createElement(lA.E,{className:ep.s.colorBg.wFull.$,onClick:()=>t(!e)},n.createElement("span",null,e?"\u25BC":"\u25B6"),n.createElement("span",{className:ep.s.ml2.textHeadingMedium.$},"Linter debug view")),e&&n.createElement(n.Fragment,null,n.createElement(ro,null),n.createElement(rc,null),n.createElement(rm,null),n.createElement(rg,null))))}let rE=(0,p.eU)(null,async e=>{p.zl.set(lo.Op,null);let t=performance.now(),l=e(lb.E7),n=(0,lR.r)();if(!n)return;let r=Object.values(l);await Promise.allSettled(r.map(e=>n.requestFix(e))),p.zl.set(lo.Op,performance.now()-t)}),rf={suggestionsViewWidth:"var(--x1uvavt)",suggestionsModalHeaderHeight:"var(--x1vqszz8)",previewHeaderHeight:"var(--xkgaxnv)"};var r_=l(762217),rb=l(300322),rx=l(373286),ry=l(183867),rh=l(581672),rv=l(624236);class rS extends rv.JB{constructor(){super(!1),this.name="AbortError"}}var rR=l(769690),rT=l(508328);function rk(e,t,l){let[r,a]=(0,n.useState)((0,rb.Ok)()),o=(0,n.useRef)(null),{violationsWithFixes:s,areFixesReady:d}=function(e){let t=function(e){let t=(0,p.md)(lb.IZ);return(0,n.useMemo)(()=>{if(!e)return[];let l=(0,g.UN)();return t.filter(t=>t.guid===e||(0,rt.rV)(l,e,t.guid))},[e,t])}(e),l=(0,p.md)(lb.$C),[r,a]=(0,n.useState)(!1);return{violationsWithFixes:(0,n.useMemo)(()=>{if(!l)return[];let e=!0,n=t.map(t=>{let n=l.get(t.groupKey);return n?.status==="loading"&&(e=!1),{violation:t,selectedFix:n?.fix||null}});return a(e),n},[l,t]),areFixesReady:r}}(t);return(0,n.useEffect)(()=>{let n=e===an.SUGGESTED,r=async()=>{let r=performance.now();n?p.zl.set(lo.ky,null):p.zl.set(lo.iS,null);let d=new AbortController;o.current=d;try{let r;if(!t)return;a((0,rb.ux)());let o=rC(t,e),u=p.zl.get(la.qL).get(o),c=l<=0,m=u?.lastEditedAtTime!==l||c,E=m,f="";if(n){f=function(e){let t=JSON.stringify(e.map(e=>(function({violation:e,selectedFix:t}){var l;return t?.fixContext?`${e.guid}_${e.groupKey}_${l=t.fixContext,JSON.stringify(l,(e,t)=>t&&"object"==typeof t&&!Array.isArray(t)?Object.keys(t).sort().reduce((e,l)=>(e[l]=t[l],e),{}):t)}`:`${e.guid}_${e.groupKey}`})(e)).sort());return(0,rT.F)(t)}(s);let e=u?.violationsStateHash!==f;E=m||e}if(u&&!E){let e=(0,rb.NY)(u.thumbnail);a(e);return}if((r=n?await rI(t,l,f,s,d.signal):function(e,t,l){let n=i.mHF?.copyNodeToLinterScene(e);if(!n)throw Error("Current linter scene guid not found");let r=(0,g.UN)().get(e);if(!r)throw Error("Original node not found");if(l.aborted)throw new rS;let a=new g.qo(i.juq.LINTER).get(n);if(!a)throw Error("Current linter scene node not found");let{activeToLinterGuidsMap:o,linterToActiveGuidsMap:s}=rL(r,a),[d,u]=(0,lx.tJ)(n,al);if(l.aborted)throw new rS;return{thumbnail:{width:d.width,height:d.height,image:u},activeToLinterGuidsMap:o,linterToActiveGuidsMap:s,linterGuidsToNodeInfoMap:rw(a),lastEditedAtTime:t}}(t,l,d.signal)).thumbnail.image.length>0){a((0,rb.NY)(r.thumbnail)),function(e,t){let l=new Map(p.zl.get(la.qL));l.set(e,t),p.zl.set(la.qL,l)}(o,r);return}a((0,rb.uW)())}catch(e){a((0,rb.uW)())}finally{let e=performance.now()-r;n?p.zl.set(lo.ky,e):p.zl.set(lo.iS,e)}};if(n&&!d){a((0,rb.Ok)());return}return r(),()=>{o.current?.abort()}},[t,l,e,s,d]),r}function rC(e,t){return`${e}-${t}`}async function rI(e,t,l,n,r){let a=i.mHF?.copyNodeToLinterScene(e);if(!a)throw Error("Suggested linter scene guid not found");let o=(0,g.UN)().get(e);if(!o)throw Error("Original node not found");if(r.aborted)throw new rS;let s=new g.qo(i.juq.LINTER).get(a);if(!s)throw Error("Suggested linter scene node not found");let{activeToLinterGuidsMap:d,linterToActiveGuidsMap:u}=rL(o,s);await lR.r()?.applyFixesToThumbnailNode(n,d,r);let[c,m]=(0,lx.tJ)(a,al);if(r.aborted)throw new rS;return{thumbnail:{width:c.width,height:c.height,image:m},activeToLinterGuidsMap:d,linterToActiveGuidsMap:u,linterGuidsToNodeInfoMap:rw(s),lastEditedAtTime:t,violationsStateHash:l}}function rL(e,t){let l=new Map,n=new Map,r=[],a=[];return(0,rR.eA)(e,e=>{r.push(e.guid)}),(0,rR.eA)(t,e=>{a.push(e.guid)}),r.forEach((e,t)=>{let r=a[t];r&&(l.set(e,r),n.set(r,e))}),{activeToLinterGuidsMap:l,linterToActiveGuidsMap:n}}function rw(e){let t=new Map;return(0,rR.eA)(e,e=>{let l=e.childrenNodes.reduce((e,t)=>(t.visible&&e.set(t.guid,rA(t,!1)),e),new Map);t.set(e.guid,{absoluteRenderBounds:rA(e,!0),absoluteBoundingBox:rA(e,!1),childrenBoundingBoxesMap:l,cornerRadiusValues:e.cornerRadiusValues,absoluteCornerPoints:i.mHF?.getLinterNodeAbsoluteCornerPoints(e.guid)??null,absoluteTransform:e.absoluteTransform,stackTopPadding:e.stackTopPadding,stackBottomPadding:e.stackBottomPadding,stackLeftPadding:e.stackLeftPadding,stackRightPadding:e.stackRightPadding})}),t}function rA(e,t){let l=t?e.absoluteRenderBounds:e.absoluteBoundingBox;return l?{x:l.x,y:l.y,width:l.w,height:l.h}:null}function rO(e){let t=p.zl.get(la.qL),l=t.get(rC(e,an.CURRENT)),n=t.get(rC(e,an.SUGGESTED)),r=l?.activeToLinterGuidsMap;return{currentActiveToLinterGuidsMap:r,currentLinterToActiveGuidsMap:l?.linterToActiveGuidsMap,suggestedActiveToLinterGuidsMap:n?.activeToLinterGuidsMap,suggestedLinterToActiveGuidsMap:n?.linterToActiveGuidsMap}}var rN=l(28827),rM=l(880191),rP=l(994441),rB=l(940807),r$=l(269466);function rV(e,t){let l=e.transformRect(new rB.r(new r$.M(t.x,t.y),new r$.M(t.width,t.height)));return{x:l.left(),y:l.top(),width:l.width(),height:l.height()}}function rz(e,t){let l=new r$.M(t.x,t.y),n=e.transformPoint(l);return{x:n.x,y:n.y}}function rD(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rF(e,t){let l=rD(e.topRight,e.topLeft),n=rD(e.bottomLeft,e.topLeft),r={topLeft:rz(t,e.topLeft),topRight:rz(t,e.topRight),bottomRight:rz(t,e.bottomRight),bottomLeft:rz(t,e.bottomLeft)},a=rD(r.topRight,r.topLeft),i=rD(r.bottomLeft,r.topLeft),o=Math.min(a/l,i/n);return{transformedPoints:r,width:a,height:i,scale:o}}function rU(e){let t=rP.s.fromFigMatrix(e);return{normalizedRotation:(t.toDegrees()%360+360)%360,isFlipped:0>t.determinant()}}let rH={blueBorderHover:{position:"x10l6tqk",borderColor:"x1va2ikv",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,$$css:!0},pinkBgHover:{position:"x10l6tqk",backgroundColor:"x6zv46q",opacity:"xuzhngd",$$css:!0}};function rG({overlayInfo:e,imageTransform:t}){let l,r;let{ruleId:a,cornerRadiusValues:i,cornerPoints:o,absoluteTransform:s}=e;if(!i||!o||!s)return null;let{transformedPoints:d,width:u,height:c,scale:m}=rF(o,t),g=Math.max(2*m,1),p=Math.max(16*m,16),E=rM.S[a].toLowerCase(),f=E.includes("right"),_=E.includes("bottom"),b=function(e,t,l,n,r){let a=Math.min(t/(e.topLeft+e.topRight),1),i=Math.min(l/(e.topRight+e.bottomRight),1),o=Math.min(t/(e.bottomLeft+e.bottomRight),1),s=Math.min(l/(e.topLeft+e.bottomLeft),1),d=e.topLeft*Math.min(a,s);return{topLeft:d*n+r,topRight:e.topRight*Math.min(a,i)*n+r,bottomRight:e.bottomRight*Math.min(o,i)*n+r,bottomLeft:e.bottomLeft*Math.min(o,s)*n+r}}(i,u/m,c/m,m,g);f&&_?(l=b.bottomRight,r=d.bottomRight):f&&!_?(l=b.topRight,r=d.topRight):!f&&_?(l=b.bottomLeft,r=d.bottomLeft):(l=b.topLeft,r=d.topLeft);let{borderWidth:x,borderLength:y}=function(e,t,l,n,r,a,i,o){let s=r?"bottom":"top",d=n?"Right":"Left",u=n?a[`${s}Left`]:a[`${s}Right`];return{borderWidth:Math.max(Math.min(l+(e+i-u-l)/2-2,o),l),borderLength:Math.max(Math.min(l+(t+i-(r?a[`top${d}`]:a[`bottom${d}`])-l)/2-2,o),l)}}(u,c,l,f,_,b,g,p),h=f?r.x-x:r.x-g/2,v=_?r.y-y:r.y-g/2,{normalizedRotation:S,isFlipped:R}=rU(s),T=r.x-h,k=r.y-v,C={width:x,height:y,transformOrigin:`${T}px ${k}px`,transform:`translate(${h}px, ${v}px) rotate(${S}deg)${R?" scaleY(-1)":""}`,[`border${_?"Bottom":"Top"}Width`]:g,[`border${f?"Right":"Left"}Width`]:g,[`border${_?"Bottom":"Top"}${f?"Right":"Left"}Radius`]:l};return n.createElement("div",{...ec.Ay.props(rH.blueBorderHover),style:C})}var rj=l(812696);function rq({overlayInfo:e,imageTransform:t}){let{ruleId:l,cornerPoints:r,absoluteTransform:a}=e;if(!r||!a)return null;let{transformedPoints:i,width:o,height:s,scale:d}=rF(r,t),u=rj.g[l],c=e[({paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"})[u]]*d,m={paddingTop:i.topLeft,paddingBottom:i.bottomLeft,paddingLeft:i.topLeft,paddingRight:i.topRight}[u],{translateX:g,translateY:p,highlightWidth:E,highlightHeight:f}={paddingTop:{translateX:m.x,translateY:m.y,highlightWidth:o,highlightHeight:c},paddingBottom:{translateX:m.x,translateY:m.y-c,highlightWidth:o,highlightHeight:c},paddingLeft:{translateX:m.x,translateY:m.y,highlightWidth:c,highlightHeight:s},paddingRight:{translateX:m.x-c,translateY:m.y,highlightWidth:c,highlightHeight:s}}[u],{normalizedRotation:_,isFlipped:b}=rU(a),x=m.x-g,y=m.y-p,h=`translate(${g}px, ${p}px) rotate(${_}deg)${b?" scaleY(-1)":""}`;return n.createElement("div",{...ec.Ay.props(rH.pinkBgHover),style:{transformOrigin:`${x}px ${y}px`,transform:h,width:E,height:f}})}function rX({overlayInfo:e,imageTransform:t}){let l=rV(t,e.bounds),r=Array.from(e.childrenBoundsMap.entries()).map(([e,l])=>({guid:e,bounds:rV(t,l)})),a=e.ruleId===rN.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES,i=r.sort((e,t)=>a?e.bounds.x-t.bounds.x:e.bounds.y-t.bounds.y),o=[];for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1];if(!t||!r)continue;let s=`${t.guid}-${r.guid}`;if(a){let e=t.bounds.x+t.bounds.width,a=r.bounds.x-e;a>0&&o.push(n.createElement("div",{...ec.Ay.props(rH.pinkBgHover),key:s,style:{transform:`translate(${e}px, ${l.y}px)`,width:a,height:l.height}}))}else{let e=t.bounds.y+t.bounds.height,a=r.bounds.y-e;a>0&&o.push(n.createElement("div",{...ec.Ay.props(rH.pinkBgHover),key:s,style:{transform:`translate(${l.x}px, ${e}px)`,width:l.width,height:a}}))}}return n.createElement(n.Fragment,null,o)}let rW=(0,n.createContext)(null);function rK({children:e,value:t}){return n.createElement(rW.Provider,{value:t},e)}function rY(e){let t=(0,n.useContext)(rW);return t?n.createElement(rQ,{...e,...t}):null}let rQ=n.memo(function(e){let{overlayInfoList:t,transform:l}=e;return n.createElement(n.Fragment,null,t.map((e,t)=>n.createElement("div",{key:t},n.createElement(rJ,{overlayInfo:e,imageTransform:l}))))});function rJ({overlayInfo:e,imageTransform:t}){switch(e.ruleId){case rN.C.REQUIRE_BOTTOM_LEFT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_BOTTOM_RIGHT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_TOP_LEFT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_TOP_RIGHT_CORNER_RADIUS_VARIABLES:return n.createElement(rG,{overlayInfo:e,imageTransform:t});case rN.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case rN.C.REQUIRE_VERTICAL_SPACING_VARIABLES:return n.createElement(n.Fragment,null,!e.isNested&&n.createElement(rZ,{overlayInfo:e,imageTransform:t}),n.createElement(rX,{overlayInfo:e,imageTransform:t}));case rN.C.REQUIRE_TOP_PADDING_VARIABLES:case rN.C.REQUIRE_BOTTOM_PADDING_VARIABLES:case rN.C.REQUIRE_LEFT_PADDING_VARIABLES:case rN.C.REQUIRE_RIGHT_PADDING_VARIABLES:return n.createElement(n.Fragment,null,n.createElement(rZ,{overlayInfo:e,imageTransform:t}),n.createElement(rq,{overlayInfo:e,imageTransform:t}));default:return n.createElement(rZ,{overlayInfo:e,imageTransform:t})}}function rZ({overlayInfo:e,imageTransform:t}){let{cornerPoints:l,absoluteTransform:r}=e;if(!l||!r)return null;let{transformedPoints:a,width:i,height:o}=rF(l,t),{normalizedRotation:s,isFlipped:d}=rU(r),u=a.topLeft.x-2,c=a.topLeft.y-2,m=a.topLeft.x-u,g=a.topLeft.y-c,p=`translate(${u}px, ${c}px) rotate(${s}deg)${d?" scaleY(-1)":""}`;return n.createElement("div",{...ec.Ay.props(rH.blueBorderHover),style:{transformOrigin:`${m}px ${g}px`,transform:p,borderWidth:2,width:i,height:o}})}var r0=(e=>(e.BACKGROUND_COLOR="BACKGROUND_COLOR",e.STROKE_COLOR="STROKE_COLOR",e.TEXT_COLOR="TEXT_COLOR",e.TEXT_STROKE_COLOR="TEXT_STROKE_COLOR",e.SHAPE_COLOR="SHAPE_COLOR",e.SHAPE_STROKE_COLOR="SHAPE_STROKE_COLOR",e.TEXT_STYLE="TEXT_STYLE",e.COMPONENT_MATCH="COMPONENT_MATCH",e.COMPONENT_UPDATE="COMPONENT_UPDATE",e.CORNER_RADIUS="CORNER_RADIUS",e.HORIZONTAL_SPACING="HORIZONTAL_SPACING",e.VERTICAL_SPACING="VERTICAL_SPACING",e.PADDING="PADDING",e.TEXT_BACKGROUND_CONTRAST_AA="TEXT_BACKGROUND_CONTRAST_AA",e.ASSETS_OUTSIDE_SELECTED_LIBRARIES="ASSETS_OUTSIDE_SELECTED_LIBRARIES",e))(r0||{});let r1=()=>({BACKGROUND_COLOR:{id:"BACKGROUND_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.fill_colors.background_colors"),priority:0},STROKE_COLOR:{id:"STROKE_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.stroke_colors.stroke_color"),priority:1},SHAPE_COLOR:{id:"SHAPE_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.fill_colors.shape_colors"),priority:2},SHAPE_STROKE_COLOR:{id:"SHAPE_STROKE_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.stroke_colors.shape_stroke_colors"),priority:3},TEXT_COLOR:{id:"TEXT_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.fill_colors.text_color"),priority:4},TEXT_STROKE_COLOR:{id:"TEXT_STROKE_COLOR",getLabel:()=>(0,d.t)("design_linter.suggestion_block.stroke_colors.text_stroke_color"),priority:5},TEXT_STYLE:{id:"TEXT_STYLE",getLabel:()=>(0,d.t)("design_linter.suggestion_block.text_style"),priority:6},CORNER_RADIUS:{id:"CORNER_RADIUS",getLabel:()=>(0,d.t)("design_linter.suggestion_block.corner_radius"),priority:7},HORIZONTAL_SPACING:{id:"HORIZONTAL_SPACING",getLabel:()=>(0,d.t)("design_linter.suggestion_block.horizontal_spacing"),priority:8},VERTICAL_SPACING:{id:"VERTICAL_SPACING",getLabel:()=>(0,d.t)("design_linter.suggestion_block.vertical_spacing"),priority:9},PADDING:{id:"PADDING",getLabel:()=>(0,d.t)("design_linter.suggestion_block.padding"),priority:10},COMPONENT_MATCH:{id:"COMPONENT_MATCH",getLabel:()=>(0,d.t)("design_linter.rules.component_match.dropdown_title"),priority:11},COMPONENT_UPDATE:{id:"COMPONENT_UPDATE",getLabel:()=>(0,d.t)("design_linter.rules.component_match.dropdown_title"),priority:12},TEXT_BACKGROUND_CONTRAST_AA:{id:"TEXT_BACKGROUND_CONTRAST_AA",getLabel:()=>(0,d.t)("design_linter.suggestion_block.text_background_contrast_aa"),priority:13},ASSETS_OUTSIDE_SELECTED_LIBRARIES:{id:"ASSETS_OUTSIDE_SELECTED_LIBRARIES",getLabel:()=>"",priority:14}});var r2=(e=>(e.COLOR="COLOR",e.TEXT="TEXT",e.NUMBER="NUMBER",e.DEFAULT="DEFAULT",e))(r2||{});let r5=(0,p.eU)(e=>{let t=e(lb.IZ),l={},n=0,r=(e,t,r)=>{l[e]||(l[e]={}),l[e][t]||(l[e][t]=[]),l[e][t].push(r),n++};for(let e of t){let{groupKey:t,ruleId:l,nodeType:n}=e;switch(l){case rN.C.REQUIRE_FILL_COLOR_VARIABLES:!function(e,t,l){"TEXT"===e?r(r0.TEXT_COLOR,t,l):"FRAME"===e?r(r0.BACKGROUND_COLOR,t,l):r(r0.SHAPE_COLOR,t,l)}(n,t,e);break;case rN.C.REQUIRE_STROKE_COLOR_VARIABLES:!function(e,t,l){"TEXT"===e?r(r0.TEXT_STROKE_COLOR,t,l):"FRAME"===e?r(r0.STROKE_COLOR,t,l):r(r0.SHAPE_STROKE_COLOR,t,l)}(n,t,e);break;case rN.C.REQUIRE_TEXT_STYLES:r(r0.TEXT_STYLE,t,e);break;case rN.C.COMPONENT_MATCH:r(r0.COMPONENT_MATCH,t,e);break;case rN.C.COMPONENT_UPDATE:r(r0.COMPONENT_UPDATE,t,e);break;case rN.C.REQUIRE_BOTTOM_LEFT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_BOTTOM_RIGHT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_TOP_LEFT_CORNER_RADIUS_VARIABLES:case rN.C.REQUIRE_TOP_RIGHT_CORNER_RADIUS_VARIABLES:r(r0.CORNER_RADIUS,t,e);break;case rN.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:r(r0.HORIZONTAL_SPACING,t,e);break;case rN.C.REQUIRE_VERTICAL_SPACING_VARIABLES:r(r0.VERTICAL_SPACING,t,e);break;case rN.C.REQUIRE_TOP_PADDING_VARIABLES:case rN.C.REQUIRE_BOTTOM_PADDING_VARIABLES:case rN.C.REQUIRE_LEFT_PADDING_VARIABLES:case rN.C.REQUIRE_RIGHT_PADDING_VARIABLES:r(r0.PADDING,t,e);break;case rN.C.TEXT_BACKGROUND_CONTRAST_AA:r(r0.TEXT_BACKGROUND_CONTRAST_AA,t,e);break;case rN.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:r(r0.ASSETS_OUTSIDE_SELECTED_LIBRARIES,t,e);break;default:throw Error("Unknown rule ID: "+l)}}return{suggestionBlocks:l,violationCount:n}}),r3=(0,p.Iz)(e=>(0,p.eU)(t=>{let{suggestionBlocks:l}=t(r5),n=[],r=0,a=r1();for(let t of e){let e=l[t];e&&0!==Object.keys(e).length&&(r+=Object.values(e).flat().length,n.push({blockConfig:a[t],violationsByGroupKey:e}))}return{blocks:n.sort((e,t)=>e.blockConfig.priority-t.blockConfig.priority),totalViolations:r}})),r4=r3(["BACKGROUND_COLOR","STROKE_COLOR","SHAPE_COLOR","SHAPE_STROKE_COLOR","TEXT_COLOR","TEXT_STROKE_COLOR"]),r6=r3(["CORNER_RADIUS","HORIZONTAL_SPACING","VERTICAL_SPACING","PADDING"]),r7=r3([r0.TEXT_STYLE]),r8=r3([r0.COMPONENT_MATCH]),r9=r3([r0.TEXT_BACKGROUND_CONTRAST_AA]),ae=r3([r0.ASSETS_OUTSIDE_SELECTED_LIBRARIES]),at=[2,3,6,13,25,50,75,100,200,300,1e3],al=2;var an=(e=>(e.CURRENT="current",e.SUGGESTED="suggested",e))(an||{});let ar=n.memo(function(){let{rootNodeId:e}=function(){let e=(0,p.md)(lb.E$),t=(0,p.md)(lb.Bp)??"",l=(0,n.useMemo)(()=>e&&t?e.rootNodeIdToViolatingNodeIdSet.get(t)??new Set:new Set,[t,e]);return{rootNodeId:t,violatingNodeIdSet:l,hasValidGroup:!!e}}(),t=(0,nY.ei)(e),l=(0,lx.wg)(t),r=rk("current",e,l),a=rk("suggested",e,l);return n.createElement(aa,{nodeId:e,currentImage:r,suggestedImage:a})});function aa({nodeId:e,currentImage:t,suggestedImage:l}){let r=(0,p.md)(lb.$H),[a,i]=function(e){let t=(0,p.md)(la.hx);if(!e)return[[],[]];let l=(0,g.UN)(),n=t.filter(t=>t.guid===e||(0,rt.rV)(l,e,t.guid)).map(e=>({guid:e.guid,ruleId:e.ruleId})),{currentActiveToLinterGuidsMap:r,suggestedActiveToLinterGuidsMap:a}=rO(e),{currentNodeGuids:i,suggestedNodeGuids:o}=n.reduce((e,{guid:t,ruleId:l})=>{let n=r?.get(t),i=a?.get(t);return n&&e.currentNodeGuids.push({guid:n,ruleId:l}),i&&e.suggestedNodeGuids.push({guid:i,ruleId:l}),e},{currentNodeGuids:[],suggestedNodeGuids:[]});return[i,o]}(e),{current:o,suggested:s}=function(e,t,l){let n={current:null,suggested:null};if(!e)return n;let{currentActiveToLinterGuidsMap:r,currentLinterToActiveGuidsMap:a,suggestedActiveToLinterGuidsMap:i,suggestedLinterToActiveGuidsMap:o}=rO(e),[s,d]=function(e){let t=p.zl.get(la.qL),l=t.get(rC(e,an.CURRENT)),n=t.get(rC(e,an.SUGGESTED));return[l?.linterGuidsToNodeInfoMap,n?.linterGuidsToNodeInfoMap]}(e),u=r?.get(e)??"-1:-1";n.current=ai(t,u,a,s);let c=i?.get(e)??"-1:-1";return n.suggested=ai(l,c,o,d),n}(e,a,i),u=n3(e,n1.PREVIEW);return n.createElement(r_.o,{eventListeners:["onPointerDown"]},n.createElement("div",{...ec.xk(am.previewContainer(r?.x,r?.y))},n.createElement(ac,null),n.createElement(rx.qW,{zoomPercentageOptions:at,zoomOnMousePointer:!1,resetStateOnChangeValue:e,compareThumbnailSource:rh.FO.LINTER},n.createElement(rK,{value:o},n.createElement(ad,{asyncLoadedImage:t,scale:al,thumbnailType:"current",title:(0,d.t)("design_linter.preview.current"),Overlay:rY,background:u})),n.createElement(rK,{value:s},n.createElement(ad,{asyncLoadedImage:l,scale:al,thumbnailType:"suggested",title:(0,d.t)("design_linter.preview.suggested"),Overlay:rY,background:u})))))}function ai(e,t,l,n){let r=n?.get(t)?.absoluteRenderBounds;if(!r)return null;let a=[];for(let{guid:t,ruleId:i}of e){let o=n?.get(t);if(!o)continue;let{absoluteBoundingBox:s,absoluteCornerPoints:d,cornerRadiusValues:u,absoluteTransform:c,stackTopPadding:m,stackBottomPadding:p,stackLeftPadding:E,stackRightPadding:f}=o;if(!s)continue;let _=ao(s,r),b=d?{topLeft:as(d.topLeft,r),topRight:as(d.topRight,r),bottomLeft:as(d.bottomLeft,r),bottomRight:as(d.bottomRight,r)}:null,x=n?.get(t)?.childrenBoundingBoxesMap||new Map,y=new Map;for(let[e,t]of x)if(t){let l=ao(t,r);y.set(e,l)}let h=function(e,t,l){let n=(0,g.UN)(),r=l?.get(e);if(!r)return!1;for(let a of t){if(a.guid===e)continue;let t=l?.get(a.guid);if(t&&(0,rt.rV)(n,t,r))return!0}return!1}(t,e,l);a.push({guid:t,ruleId:i,isNested:h,bounds:_,childrenBoundsMap:y,cornerRadiusValues:u,cornerPoints:b,absoluteTransform:c,stackTopPadding:m,stackBottomPadding:p,stackLeftPadding:E,stackRightPadding:f})}return{overlayInfoList:a}}function ao(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function as(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ad({asyncLoadedImage:e,scale:t,thumbnailType:l,title:r,Overlay:a,background:i}){let o;let{image:s,isLoading:u}=n.useMemo(()=>(0,rb.xj)(e)?{isLoading:!1,image:{data:e.value.image,width:e.value.width,height:e.value.height,scale:t}}:(0,rb.Mx)(e)||(0,rb.yx)(e)?{isLoading:!0,image:null}:{isLoading:!1,image:null},[e,t]);return o=s?n.createElement(ry.ec,{image:s,paddingPixels:30,Overlay:a}):u?n.createElement("div",{className:"x78zum5 x5yr21d x6s0dn4 xl56j7k x1v8gsql"},n.createElement(tS.x,{isLoading:!0},()=>(0,d.tx)("design_linter.preview.thumbnail_unavailable"))):n.createElement("div",{className:"x78zum5 x5yr21d x6s0dn4 xl56j7k x1v8gsql"},(0,d.tx)("design_linter.preview.thumbnail_unavailable")),n.createElement(au,{title:r,thumbnailType:l,background:i},o)}function au({title:e,thumbnailType:t,children:l,background:r}){let{bg:a,type:i}=r,o=i===n2.COLOR,s=i===n2.IMAGE;return n.createElement("div",{...ec.xk(am.comparableContainer,"current"===t&&am.currentContainer,"suggested"===t&&am.suggestedContainer,s&&am.backgroundImageContainer),style:{...o&&{backgroundColor:a},...s&&{backgroundImage:`url(${a})`}}},n.createElement("div",{className:"xuuh30 x10l6tqk x1ey2m1c x1vjfegm x87ps6o x1y1aw1k xwib8y2 x1nrll8i"},n.createElement("span",{...ec.xk(am.comparableTitle)},e)),l)}let ac=(0,n.memo)(function(){let e=(0,p.md)(lb.vu).length,t=0===(0,p.md)(r5).violationCount;return n.createElement("div",{className:"x78zum5 xdt5ytf x1yjdb4r xso031l x1y0btm7 x7z60cl x1vp34bk xl56j7k xb3r6kr"},n.createElement("div",{...ec.xk(am.previewContent)},t?null:n.createElement("span",null,(0,d.tx)("design_linter.preview_header.title",{count:e}))))}),am={previewContainer:(e,t)=>[{width:(rf.suggestionsViewWidth,"x1bl4301"),height:(rf.suggestionsModalHeaderHeight,rf.previewHeaderHeight,"x1f5funs"),borderLeftWidth:"xe0pwq",borderInlineStartWidth:null,borderInlineEndWidth:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:"x7z60cl",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},{"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??915}px - ${rf.suggestionsViewWidth})`),"--height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${t??540}px - ${rf.suggestionsModalHeaderHeight} - ${rf.previewHeaderHeight})`)}],comparableTitle:{...eS.g.textBodySmall,color:"x1n0bwc9",textAlign:"x2b8uid",backgroundColor:"x1v8gsql",padding:"x9cpjcd",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,borderRadius:"xur7f20",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},comparableContainer:{position:"x10l6tqk",width:"x3hqpx7",display:"x3nfvp2",flexDirection:"xdt5ytf",height:"x5yr21d",overflow:"xb3r6kr",overflowX:null,overflowY:null,flexGrow:"x1iyjqo2",$$css:!0},currentContainer:{left:"xu96u03",insetInlineStart:null,insetInlineEnd:null,$$css:!0},suggestedContainer:{right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,borderLeftWidth:"xe0pwq",borderInlineStartWidth:null,borderInlineEndWidth:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:"x7z60cl",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},backgroundImageContainer:{backgroundRepeat:"xiy17q3",backgroundSize:"x18d0r48",backgroundPosition:"x1xsqp64",backgroundPositionX:null,backgroundPositionY:null,backgroundColor:"x1v8gsql",$$css:!0},previewContent:{...eS.g.textBodyMedium,userSelect:"x87ps6o",padding:"xiqviz9",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,display:"x78zum5",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,textOverflow:"xlyipyv",$$css:!0}};var ag=l(176576),ap=l(389541),aE=l(992288),af=l(900980),a_=l(180294),ab=l(474132),ax=l(17753);function ay({selectedFixes:e,cachedFixes:t,violatingNodeId:l,type:r,scopes:a}){let{allVariableListItems:i,variableMap:o,localVariableSetIdToSet:s,libraryVariableSetIdToSet:u,localVariables:c,libraryVariables:m}=(0,p.md)(lQ({type:r,scopes:a}));return(0,n.useMemo)(()=>{let n=(0,g.UN)().get(l??""),a=t.reduce((e,{variableId:t})=>{let l=o[t];if(!l)return e;let n=l.variableSetId&&(s[l.variableSetId]??u[l.variableSetId]);return n&&e.push({id:t,variable:l,type:"LIST",variableSet:n,isSuggestion:!0}),e},[]);if(a.length>0&&(a.unshift({id:(0,lz.g)(),type:"LIST_HIERARCHY_PATH",label:(0,d.t)("design_linter.preview.suggested")}),a.push({id:(0,lz.g)(),type:"LIST_SEPARATOR"})),!n)return{fixes:e,listItems:a};let p=(0,ag.TW)({node:n,resolvedType:r,localVariables:c,libraryVariableSetIdToSet:u,libraryVariables:m});return{fixes:[...e,...i.reduce((e,t)=>{if("LIST"!==t.type)return e;let{node_id:l}=t.variable,n=p.libraryVariables[l]?.resolvedValue??p.localVariables[l]?.resolvedValue;return n&&e.push({variableId:l,resolvedValue:n}),e},[])],listItems:[...a,...i],allResolvedVariables:p,variableMap:o}},[l,t,r,c,u,m,i,e,o,s])}var ah=l(921666),av=l(713196),aS=l(9106),aR=l(491383),aT=l(833420),ak=l(890868);function aC({ignoreViolationRow:e}){return n.createElement(tb.K,{htmlAttributes:{"data-tooltip-type":ax.Ib.TEXT,"data-tooltip":(0,d.t)("design_linter.penalty_box.ignore_suggestion_tooltip")},onClick:e,"aria-label":(0,d.t)("design_linter.penalty_box.ignore_suggestion_aria")},n.createElement(tx.A,null))}var aI=l(113752);function aL(e){let t=(0,p.md)(lb.$C);return t?.get(e)??{fix:null,status:"loading"}}function aw(e){return(0,p.md)(la.VG).get(e)??{fix:null,status:"loading"}}let aA="suggestion_rule_blocks--chit--zCpjn";function aO({blockConfig:e,children:t,icon:l,violationsByGroupKey:r}){let{getLabel:a,id:i}=e,{applyFixToBlock:o,isApplying:s}=function(e){let[t,l]=(0,n.useState)("idle");return{applyFixToBlock:(0,n.useCallback)(()=>{"running"!==t&&(l("running"),setTimeout(async()=>{try{let t;let n=(0,lR.r)();if(!n)throw Error("Design linter not available");let r=0,a=0,i=0,o=p.zl.get(lb.$C),s=[];for(let l in e){let n=e[l]??[],d=o?.get(l);if(!d?.fix?.fixContext){i++;continue}t=d.fix.ruleId,r+=n.length,a++,s.push({violations:n,fixContext:d.fix.fixContext})}await n.applyFixContextToViolations(s),l("applied"),(0,nC.DC)(r,a,i,t)}catch{(0,lx.Lt)((0,d.t)("design_linter.penalty_box.fix_failed_bell"),aI.zX.EXCLAMATION,"fix error"),(0,nC.av)(),l("error")}},0))},[t,e]),isApplying:"running"===t}}(r),{ignoreRowsWithNoSuggestions:u}=function(e){let[t,l]=(0,n.useState)("idle");return{ignoreRowsWithNoSuggestions:(0,n.useCallback)(()=>{if("running"!==t)try{let t;l("running");let n=(0,lR.r)();if(!n)return;let r=0,a=0,i=0,o=p.zl.get(lb.$C);for(let[l,s]of Object.entries(e)){let e=o?.get(l);if(e?.fix?.fixContext){i++;continue}t=e?.fix?.ruleId,r++,a+=s.length;let d=s.map(e=>e.guid);n.ignoreViolationsForGuidsWithGroupKey(d,l)}l("applied"),(0,nC.h5)(r,a,i,t)}catch{l("error"),(0,nC.Gj)()}},[t,e]),status:t}}(r),c=function(e){let t=(0,p.md)(lb.$C);return(Object.keys(e)||[]).every(e=>{let l=t?.get(e);return l?.status!=="loading"})}(r),m=function(e){let t=(0,p.md)(lb.$C);return(Object.keys(e)||[]).every(e=>{let l=t?.get(e);return!l?.fix?.fixContext&&l?.status!=="loading"})}(r),[g,E]=(0,n.useState)(!1),f=(0,n.useCallback)(()=>{if(!g){E(!0);try{u()}catch(e){E(!1)}}},[g,u]);return!r||0===Object.keys(r).length||g?null:n.createElement(aH,{key:i,label:a(),isApplying:s,isReady:c,onApply:o,onIgnore:f,shouldShowIgnore:m,icon:l},t(s))}function aN({children:e,fixStatus:t,groupKey:l,violations:r,isApplying:a}){let[i,o]=(0,n.useState)(!1),[s,d]=(0,n.useState)(!1),u=(0,p.md)(lb.E7),c=(0,n.useCallback)(()=>{if(!i){o(!0);try{let e=r.map(e=>e.guid);lR.r()?.ignoreViolationsForGuidsWithGroupKey(e,l);let t=u[l];(0,nC.dg)(e.length,t?.ruleId)}catch(e){o(!1)}}},[r,l,u,i]);if(!r||0===r.length||i)return null;let m=s&&!a;return n.createElement(n.Fragment,null,e.rowDescription?n.createElement("div",{className:"x78zum5 xbnpv00"},e.rowDescription):null,n.createElement("div",{...ec.Ay.props(aK.violationRowContainer,m&&aK.hoveredViolationRowContainer),onMouseEnter:()=>{d(!0),p.zl.set(la.hx,r)},onMouseLeave:()=>{d(!1),p.zl.set(la.hx,[])}},n.createElement("div",{...ec.Ay.props(aK.violationRowContent,m&&aK.hoveredViolationRow)},n.createElement("div",{...ec.Ay.props(aK.currentValueContainer)},n.createElement("div",{...ec.Ay.props(aK.currentValueContent,a&&aK.colorTextTertiary)},e.currentValue)),n.createElement("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11 x1iog12x x1db2dqx"},n.createElement(ah.o,{className:"xe5c7bq"})),n.createElement(aM,{fixStatus:t},n.createElement(n.Fragment,null,n.createElement("div",{...ec.Ay.props(aK.suggestedValueSizer,m&&aK.hoveredSuggestedValueSizer)},e.suggestedValue),m?n.createElement("div",{className:"xd8780z xvy4d1p xxk0z11"},n.createElement(aC,{ignoreViolationRow:c})):null)))))}function aM({fixStatus:e,children:t}){return"loading"===e?n.createElement("div",{className:"x19y5rnk x7z60cl xmkeg23 x1y0btm7 x1yjdb4r xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4"},n.createElement(nb.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:nb.JR.SHIMMER})):t}let aP=n.forwardRef(function({onClick:e,type:t},l){return n.createElement(aU,{ref:l,onClick:e},e=>n.createElement("div",{...ec.Ay.props(aK.noSuggestionFound(e))},n.createElement(aB,{type:t,isHovered:e})))});function aB({type:e,isHovered:t}){let l=(0,d.t)("design_linter.penalty_box.no_suggestion_found");return e===r2.TEXT?l=(0,d.t)("design_linter.suggestion_block.select_style"):(e===r2.COLOR||e===r2.NUMBER)&&(l=(0,d.t)("design_linter.suggestion_block.select_variable")),n.createElement(n.Fragment,null,n.createElement(a$,{type:e,isHovered:t}),n.createElement(ng.G,{text:l}))}function a$({type:e,isHovered:t}){return e===r2.COLOR?n.createElement(aV,{isHovered:t}):e===r2.TEXT?n.createElement(az,null):e===r2.NUMBER?n.createElement(aD,null):n.createElement(aq,null,n.createElement(av.Z,null))}function aV({isHovered:e}){return n.createElement(aq,null,n.createElement(ak.J,{color:(0,aT.E2)(e?"#D9D9D9":"#F5F5F5"),className:aA}))}function az(){return n.createElement(aq,null,n.createElement("div",{...ec.Ay.props(aK.textIcon)},"Ag"))}function aD(){return n.createElement(aq,null,n.createElement(aS.c,null))}function aF({label:e,value:t,isApplying:l}){let r=void 0!==t;return n.createElement("span",{...ec.Ay.props(aK.selectedSuggestion,r&&aK.selectedSuggestionWithValue),"data-tooltip":e,"data-tooltip-type":ax.Ib.TEXT},n.createElement("div",{...ec.Ay.props(aK.labelText,l&&aK.colorTextTertiary)},e),r&&n.createElement("div",{...ec.Ay.props(aK.valueText,l&&aK.colorTextTertiary)},t))}let aU=n.forwardRef(function({children:e,onClick:t,tooltip:l,disabled:r=!1},a){let[i,o]=(0,nQ.M)();return n.createElement("div",{ref:e=>{i(e),a&&("function"==typeof a?a(e):a.current=e)},...ec.Ay.props(aK.suggestedValueContent,o&&aK.hoveredSuggestedValueContent)},n.createElement(lA.E,{onClick:t,className:"x78zum5 x6s0dn4 xjbqb8w xh8yej3 x1l2q4c8 xmzs88n x98rzlu","data-tooltip":l,"data-tooltip-type":ax.Ib.TEXT,disabled:r},e(o)))});function aH({children:e,label:t,icon:l,isApplying:r,isReady:a,onApply:i,onIgnore:o,shouldShowIgnore:s}){return n.createElement("div",{className:"x78zum5 xdt5ytf x87ps6o"},n.createElement("div",{className:"x78zum5 x10w6t97 x1qughib x84vhe8"},n.createElement("div",{className:"x78zum5 x6s0dn4 x1jnr06f"},l&&n.createElement("div",{className:"x78zum5 x6s0dn4 xl56j7k xlup9mm x1kky2od"},l),n.createElement("div",{...ec.Ay.props(aK.titleContent)},t)),n.createElement(aG,{label:"string"==typeof t?t:"",onApply:i,onIgnore:o,isApplying:r,isReady:a,shouldShowIgnore:s})),e)}function aG({label:e,isApplying:t,isReady:l,onApply:r,onIgnore:a,shouldShowIgnore:i}){return l?i?n.createElement(lA.E,{...ec.Ay.props(aK.blockActionButton),onClick:a,"data-tooltip":(0,d.t)("design_linter.suggestion_block.ignore_tooltip",{section:e.toLowerCase()}),"data-tooltip-type":ax.Ib.TEXT},(0,d.t)("general.ignore")):n.createElement(lA.E,{...ec.Ay.props(aK.blockActionButton,t&&aK.blockActionButtonDisabled),onClick:r,"data-tooltip":(0,d.t)("design_linter.suggestion_block.apply_tooltip",{section:e.toLowerCase()}),"data-tooltip-type":ax.Ib.TEXT,disabled:t},t?n.createElement(nW.k,{size:"sm"}):null,(0,d.t)("design_linter.suggestion_block.apply")):n.createElement("div",{...ec.Ay.props(aK.blockActionButton,aK.blockActionButtonLoading,aK.blockActionButtonDisabled)},n.createElement(nW.k,{size:"sm"}),(0,d.t)("design_linter.suggestion_block.loading"))}function aj(){return n.createElement("div",{className:"xjm9jq1 xbpqucl x1xpthql"})}function aq({children:e,isDisabled:t}){return n.createElement("div",{...ec.Ay.props(aK.suggestedValueIconContainer,t&&aK.suggestedValueIconDisabled)},e)}function aX({label:e}){return n.createElement("div",{className:"x78zum5 x6s0dn4 x10w6t97 x1qughib x1rrr4bg"},e)}function aW({description:e}){return n.createElement("div",{className:"x78zum5 x6s0dn4 x10w6t97 x1qughib x1n0bwc9 x1rrr4bg"},e)}let aK={titleContent:{...eS.g.textBodyMedium,display:"x78zum5",$$css:!0},suggestedValueIconContainer:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",height:"xxk0z11",width:"xvy4d1p",minWidth:"xnei2rj",$$css:!0},suggestedValueIconDisabled:{opacity:"x1ksfsxq",$$css:!0},blockActionButton:{...eS.g.textBodyMedium,color:"x1quhyk7",marginLeft:"x1iog12x",marginInlineStart:null,marginInlineEnd:null,gap:"xg2d0mh",rowGap:null,columnGap:null,$$css:!0},blockActionButtonLoading:{display:"x78zum5",alignItems:"x6s0dn4",$$css:!0},blockActionButtonDisabled:{color:"x1n0bwc9",$$css:!0},violationRowContainer:{display:"x78zum5",height:"x10w6t97",paddingLeft:"x163pfp",paddingRight:"xnuq7ks",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},hoveredViolationRowContainer:{paddingRight:"xy13l1i",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},hoveredViolationRow:{backgroundColor:"x30nh5c",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},violationRowContent:{display:"x78zum5",alignItems:"x6s0dn4",borderRadius:"x192jxwq",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,padding:"xehqz9p",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,width:"x5c4s84",$$css:!0},currentValueContainer:{...eS.g.textBodyMedium,display:"x78zum5",color:"x1n0bwc9",alignItems:"x6s0dn4",width:"x29ncy0",minWidth:"xwrg52n",paddingLeft:"x6wrskw",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},currentValueContent:{textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},suggestedValueContent:{width:"xh8yej3",minWidth:"xgqtt45",display:"x78zum5",alignItems:"x6s0dn4",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,borderColor:"x7z60cl",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,userSelect:"x87ps6o",borderWidth:"xmkeg23",borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,backgroundColor:"x1yjdb4r",flex:"x98rzlu",flexGrow:null,flexShrink:null,flexBasis:null,$$css:!0},hoveredSuggestedValueContent:{backgroundColor:"x1oqziki",$$css:!0},suggestedValueSizer:{width:"xxbzjz2",height:"x1l2q4c8",display:"x78zum5",alignItems:"x6s0dn4",$$css:!0},hoveredSuggestedValueSizer:{width:"xq1dxzn",$$css:!0},selectedSuggestion:{...eS.g.textBodyMedium,display:"xrvj5dj",gridTemplateColumns:"xju1xpo",width:"xh8yej3",userSelect:"x87ps6o",$$css:!0},selectedSuggestionWithValue:{gap:"x167g77z",rowGap:null,columnGap:null,$$css:!0},labelText:{textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},valueText:{color:"x1n0bwc9",$$css:!0},noSuggestionFound:e=>[{display:"x78zum5",alignItems:"x6s0dn4",color:(e?aR.Tj.textSecondary:aR.Tj.textTertiary)==null?null:"xfx01vb","--color-icon":(e?aR.Tj.iconSecondary:aR.Tj.iconTertiary)==null?null:"xhxir3b",flex:"x98rzlu",flexGrow:null,flexShrink:null,flexBasis:null,$$css:!0},{"--color":(e?aR.Tj.textSecondary:aR.Tj.textTertiary)!=null?e?aR.Tj.textSecondary:aR.Tj.textTertiary:void 0,"----color-icon":(e?aR.Tj.iconSecondary:aR.Tj.iconTertiary)!=null?e?aR.Tj.iconSecondary:aR.Tj.iconTertiary:void 0}],colorTextTertiary:{color:"x3vvef7",$$css:!0},textIcon:{...eS.g.textBodyMediumStrong,$$css:!0}};var aY=l(693964);function aQ({items:e}){return n.createElement("div",{className:"x78zum5 xdt5ytf"},e.map((e,t)=>e?n.createElement(n.Fragment,{key:t},t>0?n.createElement(aj,null):null,n.createElement("div",null,e)):null))}function aJ(){let{blocks:e,totalViolations:t}=(0,p.md)(ae),l=(e,t)=>{if(!("assetProp"in e.violation.detectionContext)||!("assetProp"in t.violation.detectionContext))return -1;let l=e=>"FILL"===e?0:"STROKE"===e?1:2,n=l(e.violation.detectionContext.assetProp)-l(t.violation.detectionContext.assetProp);if(0!==n)return n;let r=e=>"FRAME"===e?0:"TEXT"===e?1:2;return r(e.violation.nodeType)-r(t.violation.nodeType)},r=(0,n.useMemo)(()=>{let t=e.flatMap(e=>Object.entries(e.violationsByGroupKey).flatMap(([t,l])=>l.map(l=>({groupKey:t,violation:l,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:l,violation:n})=>{let{detectionContext:r}=n;if(!r||!("libraryKey"in r))return e;let a=r.libraryKey;return e[a]||(e[a]={blockConfig:t,violationLists:[],violationsByGroupKey:{}}),e[a].violationsByGroupKey[l]||(e[a].violationsByGroupKey[l]=[],e[a].violationLists.push({groupKey:l,violation:n})),e[a].violationsByGroupKey[l].push(n),e},{});for(let e in t)t[e]&&t[e].violationLists.sort(l);return t},[e]);return t?n.createElement(aQ,{items:Object.entries(r).map(([e,{blockConfig:t,violationLists:l,violationsByGroupKey:r}])=>n.createElement(aO,{blockConfig:{...t,getLabel:()=>(0,d.tx)("design_linter.suggestion_block.assets_outside_selected_libraries",{name:n.createElement(aZ,{libraryKey:e})})},icon:null,key:e,violationsByGroupKey:r},e=>n.createElement(a1,{violationLists:l,violationsByGroupKey:r,isApplying:e})))}):null}function aZ({libraryKey:e}){let{variableOrStyleSubscribedLibraries:t,variableOrStyleUsedInThisFile:l}=ns(),r="loaded"===t.status?t.data.find(t=>t.library_key===e):void 0,a="loaded"===l.status?l.data.find(t=>t.library_key===e):void 0,i=r?.library_name||a?.library_name;return i?n.createElement(a0,{libraryName:i,libraryKey:e}):null}function a0({libraryName:e,libraryKey:t}){let l=(0,a_.sZ)(),r=(0,ab.Oe)(l),a=(0,ap.fV)(t),i=(0,p.md)(aY.V9),o=t?i[t]?.hubFileId??null:null;return n.createElement(n.Fragment,null,n.createElement("span",{className:"x10gc95e"},e),r&&a&&n.createElement(aE.KP,{libraryKey:t}),o&&n.createElement(af.E,{libraryKey:t,showTooltip:!0}))}function a1({violationLists:e,isApplying:t,violationsByGroupKey:l}){let r,a="",i=(e,t)=>{switch(t){case"FILL":if("FRAME"===e)return(0,d.t)("design_linter.suggestion_block.fill_colors.background_colors");if("TEXT"===e)return(0,d.t)("design_linter.suggestion_block.fill_colors.text_color");return(0,d.t)("design_linter.suggestion_block.fill_colors.shape_colors");case"STROKE":if("FRAME"===e)return(0,d.t)("design_linter.suggestion_block.stroke_colors.stroke_color");if("TEXT"===e)return(0,d.t)("design_linter.suggestion_block.stroke_colors.text_stroke_color");return(0,d.t)("design_linter.suggestion_block.stroke_colors.shape_stroke_colors");case"COMPONENT":return(0,d.t)("design_linter.suggestion_block.stroke_colors.shape_stroke_colors")}};return n.createElement(n.Fragment,null,n.createElement(aW,{description:(0,d.t)("design_linter.suggestion_block.assets_outside_selected_libraries.instructions")}),e.map(({groupKey:e,violation:o})=>{let{detectionContext:s}=o;if(!s||!("assetProp"in s))return null;let d=s.assetProp!==r||o.nodeType!==a;return a=o.nodeType,r=s.assetProp,n.createElement(n.Fragment,null,d&&n.createElement(aX,{label:i(o.nodeType,s.assetProp)}),n.createElement(a2,{key:e,groupKey:e,violations:l[o.groupKey]??[],ruleId:o.ruleId,isApplying:t}))}))}function a2({groupKey:e,violations:t,ruleId:l,isApplying:r}){let a=t[0],{fix:i,status:o}=aL(e);if(!a?.detectionContext)return null;let{detectionContext:s,guid:d}=a;return"assetProp"in s?n.createElement(aN,{fixStatus:o,groupKey:e,violations:t,isApplying:r},{currentValue:n.createElement(a5,{context:s}),suggestedValue:n.createElement(a3,{fix:i,groupKey:e,ruleId:l,violatingNodeId:d,assetProp:s.assetProp,isApplying:r})}):null}function a5({context:e}){let t=(0,p.md)(la.nE);if(!e)return null;let{assetId:l}=e,r=t[l];if(!r)return null;let a=`${r.name}`;return n.createElement("span",{"data-tooltip":a,"data-tooltip-type":ax.Ib.TEXT},a)}function a3({ruleId:e,fix:t,groupKey:l,violatingNodeId:r,assetProp:a,isApplying:o}){let{fixContext:s,valid:u}=t??{},c=(0,n.useRef)(null),m=l2(),[g,E]=(0,p.fp)(lY),f=(0,p.Xr)(lK),_=(0,p.Xr)(lq),b=(0,p.Xr)(lX),x=(0,p.Xr)(lW),{fix:y}=aw(l),{fixContext:h}=y??{},v=s?.fixes,S=h?.fixes,R=(0,ag.d$)(e),{fixes:T,listItems:k,allResolvedVariables:C,variableMap:I}=ay({selectedFixes:v?.fixes??[],cachedFixes:(S?.fixes??[]).slice(0,3),violatingNodeId:r,type:i.rXF.COLOR,scopes:R}),L=(0,n.useMemo)(()=>{if(!v?.fixes.length)return T[0];let e=v?.fixes[0]?.variableId;if(!e||!C)return T[0];let t=C.libraryVariables[e]?.resolvedValue??C.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:T[0]},[v,C,T]),w=(0,n.useCallback)(e=>!!(e?.id&&v?.fixes.length)&&e.id===v?.fixes[0]?.variableId,[v]),A=(0,n.useCallback)(t=>{if(!C||!e)return;let n=C.libraryVariables[t]?.resolvedValue??C.localVariables[t]?.resolvedValue;if(!n)return;let i={...s,assetProp:a,fixes:{suggestionId:(0,lz.g)(),fixes:[{variableId:t,resolvedValue:n}]}};p.zl.set(lb.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:e,guid:r??"",valid:!0,fixContext:i},status:"loaded"}})},[C,e,s,a,l,r]),O=(0,n.useCallback)(()=>{let e=!!g?.current&&!!c.current,t=g?.current===c.current;if(e&&t){m();return}E(c),f(!0),x(()=>w),b(()=>A),_({title:(0,d.t)("design_linter.rules.color_rules.dropdown_title"),emptyLabel:"",display:"LIST",items:k})},[g,E,f,x,w,b,A,_,k,m]);if(!t||!u||!s||!T||0===T.length||!L||!r)return n.createElement(aP,{ref:c,onClick:O,type:r2.COLOR});let{variableId:N,resolvedValue:M}=L,P=(I??{})[N]?.name,B=M.value;return B&&P?n.createElement(aU,{ref:c,onClick:O,tooltip:P,disabled:o},()=>n.createElement(n.Fragment,null,n.createElement(aq,{isDisabled:o},n.createElement(ak.J,{color:B,opacity:B.a,className:th()(aA)})),n.createElement(aF,{label:P,isApplying:o}))):n.createElement(aP,{ref:c,onClick:O,type:r2.COLOR})}var a4=l(301249),a6=l(632727),a7=l(372566);function a8(){let{blocks:e,totalViolations:t}=(0,p.md)(r4);return t?n.createElement(aQ,{items:e.map(({blockConfig:e,violationsByGroupKey:t})=>n.createElement(aO,{blockConfig:e,icon:n.createElement(a4.E,null),key:e.id,violationsByGroupKey:t},e=>n.createElement(n.Fragment,null,Object.entries(t).map(([t,l])=>{let r=l[0];return n.createElement(a9,{key:t,violations:l,groupKey:t,ruleId:r?.ruleId,isApplying:e})}))))}):null}function a9({groupKey:e,violations:t,ruleId:l,isApplying:r}){let a=t[0],{fix:i,status:o}=aL(e);if(!a?.detectionContext)return null;let{detectionContext:s,guid:d}=a;return n.createElement(aN,{fixStatus:o,groupKey:e,violations:t,isApplying:r},{currentValue:n.createElement(ie,{context:s}),suggestedValue:n.createElement(it,{fix:i,groupKey:e,ruleId:l,violatingNodeId:d,isApplying:r})})}function ie({context:e}){if(!e)return null;let t=e.color,l=e.opacity,r=`${a6.z5.format(t)}${l&&l<1?` \xb7 ${function(e){let t=new a7.t6({min:0,max:100});return`${t.format(100*e)}%`}(l)}`:""}`;return n.createElement("span",{"data-tooltip":r,"data-tooltip-type":ax.Ib.TEXT},r)}function it({ruleId:e,fix:t,groupKey:l,violatingNodeId:r,isApplying:a}){let{fixContext:o,valid:s}=t??{},u=(0,n.useRef)(null),c=l2(),[m,g]=(0,p.fp)(lY),E=(0,p.Xr)(lK),f=(0,p.Xr)(lq),_=(0,p.Xr)(lX),b=(0,p.Xr)(lW),{fix:x}=aw(l),{fixContext:y}=x??{},h=o?.fixes,v=y?.fixes,S=(0,ag.d$)(e),{fixes:R,listItems:T,allResolvedVariables:k,variableMap:C}=ay({selectedFixes:h??[],cachedFixes:(v??[]).slice(0,3),violatingNodeId:r,type:i.rXF.COLOR,scopes:S}),I=(0,n.useMemo)(()=>{if(!h?.length)return R[0];let e=h[0]?.variableId;if(!e||!k)return R[0];let t=k.libraryVariables[e]?.resolvedValue??k.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:R[0]},[h,k,R]),L=(0,n.useCallback)(e=>!!(e?.id&&h?.length)&&e.id===h[0]?.variableId,[h]),w=(0,n.useCallback)(t=>{if(!k||!e)return;let n=k.libraryVariables[t]?.resolvedValue??k.localVariables[t]?.resolvedValue;if(!n)return;let a={...o,fixes:[{variableId:t,resolvedValue:n}]};p.zl.set(lb.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:e,guid:r??"",valid:!0,fixContext:a},status:"loaded"}})},[k,e,l,r,o]),A=(0,n.useCallback)(()=>{let e=!!m?.current&&!!u.current,t=m?.current===u.current;if(e&&t){c();return}g(u),E(!0),b(()=>L),_(()=>w),f({title:(0,d.t)("design_linter.rules.color_rules.dropdown_title"),emptyLabel:"",display:"LIST",items:T})},[m,g,E,b,L,_,w,f,T,c]);if(!t||!s||!o||!R||0===R.length||!I||!r)return n.createElement(aP,{ref:u,onClick:A,type:r2.COLOR});let{variableId:O,resolvedValue:N}=I,M=(C??{})[O]?.name,P=N.value;return P&&M?n.createElement(aU,{ref:u,onClick:A,tooltip:M,disabled:a},()=>n.createElement(n.Fragment,null,n.createElement(aq,{isDisabled:a},n.createElement(ak.J,{color:P,opacity:P.a,className:th()(aA)})),n.createElement(aF,{label:M,isApplying:a}))):n.createElement(aP,{ref:u,onClick:A,type:r2.COLOR})}var il=l(577972),ir=l(88706);function ia(){let{blocks:e,totalViolations:t}=(0,p.md)(r8);return t?n.createElement(aQ,{items:e.map(({blockConfig:e,violationsByGroupKey:t})=>n.createElement(aO,{blockConfig:e,icon:n.createElement(il.k,null),key:e.id,violationsByGroupKey:t},e=>n.createElement(n.Fragment,null,Object.entries(t).map(([t,l])=>n.createElement(ii,{key:t,violations:l,groupKey:t,isApplying:e})))))}):null}function ii({violations:e,groupKey:t,isApplying:l}){let r=e[0],{fix:a,status:i}=aL(t);return r?.detectionContext?n.createElement(aN,{fixStatus:i,groupKey:t,violations:e,isApplying:l},{currentValue:n.createElement(io,{context:r.detectionContext}),suggestedValue:n.createElement(is,{fix:a,groupKey:t,isApplying:l})}):null}function io({context:e}){return e&&"components"in e?n.createElement("span",{"data-tooltip":e.name,"data-tooltip-type":ax.Ib.TEXT},e.name):null}function is({fix:e,groupKey:t,isApplying:l}){let{fixContext:r,guid:a,valid:i}=e??{},o=(0,n.useRef)(null),[s,u]=(0,p.fp)(lY),c=r??{},m=(0,p.Xr)(lK),g=(0,p.Xr)(lq),E=(0,p.Xr)(lX),f=(0,p.Xr)(lW),_=l2(),{listItems:b,componentsById:x}=(0,n.useMemo)(()=>{if(!c?.components)return{listItems:[],componentsById:{}};let e=[],t={};return c.components.forEach(l=>{let n={id:l.id??"",name:l.name,type:"GRID",thumbnail_url:l.thumbnail_url};e.push(n),l.id&&(t[l.id]=l)}),{listItems:e,componentsById:t}},[c]),y=(0,n.useCallback)(t=>{let l=e?.fixContext?.components?.[0]?.id;return!!(t?.id&&x?.length)&&t.id===l},[x,e?.fixContext]),h=(0,n.useCallback)(e=>{let l=x[e];if(!l)return;let n={...r,components:[l]};p.zl.set(lb.Sg,{groupKey:t,selectedFixItem:{fix:{ruleId:rN.C.COMPONENT_MATCH,guid:a??"",valid:!0,fixContext:n},status:"loaded"}})},[x,t,a,r]),v=(0,n.useCallback)(()=>{let e=!!s?.current&&!!o.current,t=s?.current===o.current;if(e&&t){_();return}f(()=>y),E(()=>h),u(o),m(!0),g({title:(0,d.t)("design_linter.rules.component_match.dropdown_title"),emptyLabel:"",display:"GRID",items:b})},[s,u,m,f,y,E,h,g,b,_]),S=(c.components??[])[0];return e&&i&&r&&S?n.createElement(aU,{onClick:v,ref:o,disabled:l},()=>n.createElement(n.Fragment,null,n.createElement(aF,{label:S.name,isApplying:l}),n.createElement(ir.r,null))):n.createElement(aP,{onClick:v,type:r2.DEFAULT})}function id(){let{blocks:e,totalViolations:t}=(0,p.md)(r6);return t?n.createElement(aQ,{items:e.map(({blockConfig:e,violationsByGroupKey:t})=>n.createElement(aO,{blockConfig:e,icon:n.createElement(aS.c,null),key:e.id,violationsByGroupKey:t},e=>n.createElement(n.Fragment,null,Object.entries(t).map(([t,l])=>{let r=l[0];return n.createElement(iu,{key:t,violations:l,groupKey:t,ruleId:r?.ruleId,isApplying:e})}))))}):null}function iu({groupKey:e,violations:t,ruleId:l,isApplying:r}){let a=t[0],{fix:i,status:o}=aL(e);if(!a?.detectionContext)return null;let{detectionContext:s,guid:d}=a;return n.createElement(aN,{fixStatus:o,groupKey:e,violations:t,isApplying:r},{currentValue:n.createElement(ic,{context:s}),suggestedValue:n.createElement(im,{fix:i,groupKey:e,ruleId:l,violatingNodeId:d,isApplying:r})})}function ic({context:e}){if(!e)return null;let t=e.numericValue;return n.createElement("span",{"data-tooltip":t,"data-tooltip-type":ax.Ib.TEXT},t)}function im({ruleId:e,fix:t,groupKey:l,violatingNodeId:r,isApplying:a}){let{fixContext:o,valid:s}=t??{},u=(0,n.useRef)(null),c=l2(),[m,g]=(0,p.fp)(lY),E=(0,p.Xr)(lK),f=(0,p.Xr)(lq),_=(0,p.Xr)(lX),b=(0,p.Xr)(lW),{fix:x}=aw(l),{fixContext:y}=x??{},h=o?.fixes,v=y?.fixes,S=(0,ag.d$)(e),{fixes:R,listItems:T,allResolvedVariables:k,variableMap:C}=ay({selectedFixes:h??[],cachedFixes:(v??[]).slice(0,3),violatingNodeId:r,type:i.rXF.FLOAT,scopes:S}),I=(0,n.useMemo)(()=>{if(!h?.length)return R[0];let e=h[0]?.variableId;if(!e||!k)return R[0];let t=k.libraryVariables[e]?.resolvedValue??k.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:R[0]},[h,k,R]),L=(0,n.useCallback)(e=>!!(e?.id&&h?.length)&&e.id===h[0]?.variableId,[h]),w=(0,n.useCallback)(t=>{if(!k||!e)return;let n=k.libraryVariables[t]?.resolvedValue??k.localVariables[t]?.resolvedValue;if(!n)return;let a={...o,fixes:[{variableId:t,resolvedValue:n}]};p.zl.set(lb.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:e,guid:r??"",valid:!0,fixContext:a},status:"loaded"}})},[k,e,l,r,o]),A=(0,n.useCallback)(()=>{let e=!!m?.current&&!!u.current,t=m?.current===u.current;if(e&&t){c();return}g(u),E(!0),b(()=>L),_(()=>w),f({title:(0,d.t)("design_linter.rules.number_rules.dropdown_title"),emptyLabel:"",display:"LIST",items:T})},[m,g,E,b,L,_,w,f,T,c]);if(!t||!s||!o||!R||0===R.length||!I||!r)return n.createElement(aP,{ref:u,onClick:A,type:r2.NUMBER});let{variableId:O,resolvedValue:N}=I,M=(C??{})[O]?.name,P=N.value;return M?n.createElement(aU,{ref:u,onClick:A,tooltip:M,disabled:a},()=>n.createElement(n.Fragment,null,n.createElement(aq,{isDisabled:a},n.createElement(aS.c,null)),n.createElement(aF,{label:M,value:P,isApplying:a}))):n.createElement(aP,{ref:u,onClick:A,type:r2.NUMBER})}var ig=l(907727),ip=l(802070),iE=l(45341);function i_(){let{blocks:e,totalViolations:t}=(0,p.md)(r9);return t?n.createElement(aQ,{items:e.map(({blockConfig:e,violationsByGroupKey:t})=>n.createElement(aO,{blockConfig:e,icon:null,key:e.id,violationsByGroupKey:t},e=>n.createElement(n.Fragment,null,Object.entries(t).map(([t,l])=>{let r=l[0];return n.createElement(ib,{key:t,violations:l,groupKey:t,ruleId:r?.ruleId,isApplying:e})}))))}):null}function ib({groupKey:e,violations:t,ruleId:l,isApplying:r}){let a=t[0],{fix:i,status:o}=aL(e);if(!a?.detectionContext)return null;let{detectionContext:s,guid:d}=a;return n.createElement(aN,{fixStatus:o,groupKey:e,violations:t,isApplying:r},{rowDescription:n.createElement(ih,{context:s,fix:i}),currentValue:n.createElement(ix,{context:s}),suggestedValue:n.createElement(iy,{fix:i,groupKey:e,ruleId:l,violatingNodeId:d,isApplying:r})})}function ix({context:e}){if(!e)return null;let t=e.fillColor,l=e.fillOpacity,r=`${a6.z5.format(t)}${l&&l<1?` \xb7 ${function(e){let t=new a7.t6({min:0,max:100});return`${t.format(100*e)}%`}(l)}`:""}`;return n.createElement("span",{"data-tooltip":r,"data-tooltip-type":ax.Ib.TEXT},r)}function iy({ruleId:e,fix:t,groupKey:l,violatingNodeId:r,isApplying:a}){let{fixContext:o,valid:s}=t??{},u=(0,n.useRef)(null),c=l2(),[m,g]=(0,p.fp)(lY),E=(0,p.Xr)(lK),f=(0,p.Xr)(lq),_=(0,p.Xr)(lX),b=(0,p.Xr)(lW),{fix:x}=aw(l),{fixContext:y}=x??{},h=o?.fixes,v=y?.fixes,S=(0,ag.d$)(e),{fixes:R,listItems:T,allResolvedVariables:k,variableMap:C}=ay({selectedFixes:h??[],cachedFixes:(v??[]).slice(0,3),violatingNodeId:r,type:i.rXF.COLOR,scopes:S}),I=(0,n.useMemo)(()=>{if(!h?.length)return R[0];let e=h[0]?.variableId;if(!e||!k)return R[0];let t=k.libraryVariables[e]?.resolvedValue??k.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:R[0]},[h,k,R]),L=(0,n.useCallback)(e=>!!(e?.id&&h?.length)&&e.id===h[0]?.variableId,[h]),w=(0,n.useCallback)(t=>{if(!k||!e)return;let n=k.libraryVariables[t]?.resolvedValue??k.localVariables[t]?.resolvedValue;if(!n)return;let a={...o,fixes:[{variableId:t,resolvedValue:n}]};p.zl.set(lb.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:e,guid:r??"",valid:!0,fixContext:a},status:"loaded"}})},[k,e,l,r,o]),A=(0,n.useCallback)(()=>{let e=!!m?.current&&!!u.current,t=m?.current===u.current;if(e&&t){c();return}g(u),E(!0),b(()=>L),_(()=>w),f({title:(0,d.t)("design_linter.rules.color_rules.dropdown_title"),emptyLabel:"",display:"LIST",items:T})},[m,g,E,b,L,_,w,f,T,c]);if(!t||!s||!o||!R||0===R.length||!I||!r)return n.createElement(aP,{ref:u,onClick:A,type:r2.COLOR});let{variableId:O,resolvedValue:N}=I,M=(C??{})[O]?.name,P=N.value;return P&&M?n.createElement(aU,{ref:u,onClick:A,tooltip:M,disabled:a},()=>n.createElement(n.Fragment,null,n.createElement(aq,{isDisabled:a},n.createElement(ak.J,{color:P,opacity:P.a,className:th()(aA)})),n.createElement(aF,{label:M,isApplying:a}))):n.createElement(aP,{ref:u,onClick:A,type:r2.COLOR})}function ih({context:e,fix:t}){let l=(0,n.useMemo)(()=>{if(!t||!e)return!1;let{contrastRatios:l}=e;if(!l)return!1;let n=t.fixContext?.fixes[0]?.resolvedValue?.value;if(!n)return!1;let{aaPass:r}=(0,iE.Ef)((0,ls.Hu)(n),e.backgroundColor,l.AA,l.AAA);return!!r},[e,t]);return n.createElement("div",{...ec.Ay.props(iv.contrastCheck,l?iv.passing:iv.failing)},l?n.createElement(ig.l,null):n.createElement(ip.X,null),(0,d.t)("design_linter.suggestion_block.text_background_contrast_aa.aaStandard"))}let iv={contrastCheck:{display:"x78zum5",alignItems:"x6s0dn4",gap:"x195vfkc",rowGap:null,columnGap:null,$$css:!0},passing:{color:"xq6u9c4","--color-icon":"x11vm0g5",$$css:!0},failing:{color:"x1akne3o","--color-icon":"xbzrb6o",$$css:!0}};function iS(){let{blocks:e,totalViolations:t}=(0,p.md)(r7);return t?n.createElement(aQ,{items:e.map(({blockConfig:e,violationsByGroupKey:t})=>n.createElement(aO,{blockConfig:e,icon:n.createElement(iR,null),key:e.id,violationsByGroupKey:t},e=>n.createElement(n.Fragment,null,Object.entries(t).map(([t,l])=>n.createElement(iT,{key:t,violations:l,groupKey:t,isApplying:e})))))}):null}function iR(){return n.createElement("div",{...ec.Ay.props(iI.textIcon)},"Ag")}function iT({groupKey:e,violations:t,isApplying:l}){let r=t[0],{fix:a,status:i}=aL(e);return r?.detectionContext?n.createElement(aN,{fixStatus:i,groupKey:e,violations:t,isApplying:l},{currentValue:n.createElement(ik,{context:r.detectionContext}),suggestedValue:n.createElement(iC,{fix:a,groupKey:e,isApplying:l})}):null}function ik({context:e}){let{fontFamily:t,fontSize:l,lineHeight:r}=e,a=`${t} ${l}, ${r}`;return n.createElement("span",{"data-tooltip":a,"data-tooltip-type":ax.Ib.TEXT},a)}function iC({fix:e,groupKey:t,isApplying:l}){let{fixContext:r,valid:a}=e??{},i=(0,n.useRef)(null),[o,s]=(0,p.fp)(lY),u=(0,p.Xr)(lK),c=(0,p.Xr)(lq),m=(0,p.Xr)(lX),g=(0,p.Xr)(lW),E=l2(),{fix:f}=aw(t),{fixContext:_}=f??{},b=r?.styles,{allStyles:x,listItems:y,styleNodeIdToStyle:h}=function({selectedStyles:e,cachedStyles:t}){let{listItems:l,allStyles:r}=(0,p.md)(lJ);return(0,n.useMemo)(()=>{let n=[],a={};for(let e of(t.forEach(e=>{n.push({id:e.node_id,type:"TEXT_STYLE_LIST",style:e,isSuggestion:!0}),a[e.node_id]=e}),n.length>0&&(n.push({id:(0,lz.g)(),type:"LIST_SEPARATOR"}),n.unshift({id:(0,lz.g)(),type:"LIST_HIERARCHY_PATH",label:(0,d.t)("design_linter.preview.suggested")})),r))a[e.node_id]=e;return{listItems:[...n,...l],allStyles:[...e,...r],styleNodeIdToStyle:a}},[r,l,e,t])}({selectedStyles:b??[],cachedStyles:(_?.styles??[]).slice(0,1)}),v=b?.length?b[0]:x[0],S=(0,n.useCallback)(e=>!!(e?.id&&b?.length)&&e.id===b?.[0]?.node_id,[b]),R=(0,n.useCallback)(l=>{let n=h[l];if(!n)return;let a={...r,styles:[n]};p.zl.set(lb.Sg,{groupKey:t,selectedFixItem:{fix:{ruleId:rN.C.REQUIRE_TEXT_STYLES,guid:e?.guid??"",valid:!0,fixContext:a},status:"loaded"}})},[h,t,e?.guid,r]),T=(0,n.useCallback)(()=>{if(l)return;let e=!!o?.current&&!!i.current,t=o?.current===i.current;if(e&&t){E();return}g(()=>S),m(()=>R),c({title:(0,d.t)("design_linter.rules.text_styles.dropdown_title"),emptyLabel:"",display:"LIST",items:y}),s(i),u(!0)},[E,o,l,S,y,R,s,u,g,c,m]);return e&&a&&r&&v?n.createElement(aU,{ref:i,onClick:T,tooltip:v.name},()=>n.createElement(n.Fragment,null,n.createElement(aq,{isDisabled:l},n.createElement(ak.J,{fillStyle:v,className:aA})),n.createElement(aF,{label:v.name,isApplying:l}))):n.createElement(aP,{ref:i,onClick:T,type:r2.TEXT})}let iI={textIcon:{...eS.g.textBodyMediumStrong,width:"x1kky2od",height:"xlup9mm",$$css:!0}},iL=n.memo(function(){let e=l2(),t=0===(0,p.md)(r5).violationCount,l=function(){let{blocks:e,totalViolations:t}=(0,p.md)(r4);return!!e.length&&!!t}(),r=function(){let{blocks:e,totalViolations:t}=(0,p.md)(r7);return!!e.length&&!!t}(),a=function(){let{blocks:e,totalViolations:t}=(0,p.md)(r6);return!!e.length&&!!t}(),i=function(){let{blocks:e,totalViolations:t}=(0,p.md)(r8);return!!e.length&&!!t}(),o=function(){let{blocks:e,totalViolations:t}=(0,p.md)(r9);return!!e.length&&!!t}(),s=function(){let{blocks:e,totalViolations:t}=(0,p.md)(ae);return!!e.length&&!!t}(),{nextGroup:u,hasNextGroup:c}=function(){let e=(0,p.md)(lb.NM),t=(0,n.useRef)(null),l=(0,n.useRef)(null),r=(0,p.md)(lb.Bd);return(0,n.useEffect)(()=>{if(!(l.current!==e))return;l.current=e;let n=r.map(e=>e.id),a=n.findIndex(t=>t===e);t.current=-1!==a?n.slice(a+1):n},[e,r]),{nextGroup:(0,n.useCallback)(()=>{if(!t.current||!r.length)return;let e=r.reduce((e,t)=>(e.add(t.id),e),new Set),l="";for(let n=0;n<t.current.length;n++){let r=t.current[n]??"";if(e.has(r)){l=r;break}}if(!l){let e=r[0]?.id??"";if(!e){p.zl.set(lb._M,ld.FR.ALL_VISUAL_GROUPS_VIEW);return}l=e}(0,nC.n7)(),p.zl.set(lb.NM,l),p.zl.set(rE)},[r]),hasNextGroup:r.length>0}}();if(t)return n.createElement("div",{...ec.xk(iA.noViolations)},(0,d.tx)("design_linter.modal.group_suggestions_completed"),c?n.createElement(lh.$n,{variant:"primary",onClick:u},(0,d.tx)("general.next")):null);let m=[];return l&&m.push(n.createElement(a8,{key:"color-variables"})),r&&m.push(n.createElement(iS,{key:"text-styles"})),a&&m.push(n.createElement(id,{key:"number-variables"})),i&&m.push(n.createElement(ia,{key:"components"})),o&&m.push(n.createElement(i_,{key:"text-background-contrast"})),s&&m.push(n.createElement(aJ,{key:"assets-from-library"})),n.createElement("div",{className:"x78zum5 xdt5ytf x5yr21d x1rife3k xp6roeo",onScroll:e},n.createElement("div",{className:"x78zum5 xdt5ytf x1gskr33"},m.map((e,t)=>n.createElement(n.Fragment,{key:e.key},t>0&&n.createElement(aj,null),e))))}),iw=(0,n.memo)(function(){return!function(){let e=(0,p.md)(lb.vu);(0,n.useEffect)(()=>{e.length&&i.Egt?.replaceSelection(e,!0)},[e])}(),(0,f.h)(()=>{p.zl.set(rE)}),n.createElement("div",{className:"x78zum5 x1v8gsql x5yr21d xh8yej3"},n.createElement("div",{className:"x78zum5 xdt5ytf x5yr21d xqo8coc xuhaxrz x1yjdb4r"},(0,o.k)().aip_flower_garden_debug&&n.createElement(rp,null),n.createElement(iL,null)),n.createElement(ar,null))}),iA={noViolations:{...eS.g.textBodyMedium,color:"x1n0bwc9",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",userSelect:"x87ps6o",flexDirection:"xdt5ytf",gap:"x1i71x30",rowGap:null,columnGap:null,height:"x5yr21d",$$css:!0}},iO=n.memo(function(){let e=ly(),t=0===(0,p.md)(la.Kk),l=(0,p.md)(lb._M);return e?n.createElement("div",{className:"x78zum5 xh8yej3 x5yr21d xdt5ytf x6s0dn4 xl56j7k x1nfngrj"},n.createElement(nW.k,null),n.createElement("span",{...ec.xk(iN.loadingText)},(0,d.tx)("design_linter.modal.loading")),(0,o.k)().aip_flower_garden_debug&&n.createElement(rp,null)):l===ld.FR.SELECTED_VISUAL_GROUP_VIEW?n.createElement(iw,null):t?n.createElement("div",{"data-testid":"design-linter-container-no-violations",...ec.xk(iN.noViolationsContainer)},n.createElement("div",{className:"x78zum5 xl56j7k x87ps6o xdt5ytf x6s0dn4"},n.createElement("span",null,(0,d.tx)("design_linter.modal.suggestions_completed")),(0,o.k)().aip_flower_garden_debug&&n.createElement(rp,null))):n.createElement(n6,null)}),iN={loadingText:{color:"x1n0bwc9",...eS.g.textBodyLarge,marginLeft:"xrybvsa",marginRight:"x17qaar8",marginInlineStart:null,marginInlineEnd:null,textAlign:"x2b8uid",userSelect:"x87ps6o",$$css:!0},noViolationsContainer:{color:"x1n0bwc9",...eS.g.textBodyMedium,display:"x78zum5",width:"xh8yej3",height:"x5yr21d",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",$$css:!0}},iM=(0,nj.jz)(l0);function iP(){let e=nD.ox(),t=function(){let e=(0,tw.GQ)(),t=(0,p.md)(lb._M),l=(0,n.useMemo)(()=>new nX.Mi(e+(0,nj.jz)(l0),(0,nj.jz)(l0)),[e]),[{windowInnerHeight:r,windowInnerWidth:a}]=(0,nG.A)((0,nq.l)(),300,{equalityFn:nz.c2}),i=915,o=540;return t===ld.FR.ALL_VISUAL_GROUPS_VIEW&&(i=336,o=475),{initialPosition:l,maxHeight:r-2*iM,minHeight:250,minWidth:400,initialHeight:o,initialWidth:Math.min(a-2*iM,i)}}(),l=function(){let e=(0,p.Xr)(lb.$H);return(0,n.useMemo)(()=>lM()(t=>{e(t)},100),[e])}(),r=function(){let e=(0,p.Xr)(lb.r4);return(0,n.useMemo)(()=>lM()(t=>{e(t)},100),[e])}(),a=l2(),[o,s]=(0,p.fp)(lb._M),d=(0,n.useCallback)(e=>{e.size&&l(e.size),r(e.position)},[r,l]);return(0,f.h)(()=>{l({x:t.initialWidth,y:t.initialHeight}),r({x:t.initialPosition.x,y:t.initialPosition.y})}),(0,n.useLayoutEffect)(()=>{let t=475,n=336;o===ld.FR.SELECTED_VISUAL_GROUP_VIEW&&(t=540,n=915);let r=new nX.Mi(n,t);e.setSize(r),l(r)},[o,l,e]),(0,nC.ZE)(),n.createElement(lL._L,{defaultWidth:t.initialWidth,defaultHeight:t.initialHeight,defaultPosition:{left:t.initialPosition.x,top:t.initialPosition.y},constraints:{maxHeight:t.maxHeight},manager:e,onClose:({source:e})=>{"outside"!==e&&(a(),i.Ez5?.uiState().showDesignLinter.set(!1),s(ld.FR.ALL_VISUAL_GROUPS_VIEW),lR.r()?.clearLinterScene())},onTransform:d},n.createElement(es.vo,null,n.createElement(es.Y9,null,n.createElement(iB,null)),n.createElement(es.nB,{padding:0,scrolling:"none",className:"xb3r6kr"},n.createElement(iO,null))),n.createElement(l5,null))}function iB(){let[e,t]=(0,p.fp)(lb._M);return e===ld.FR.SELECTED_VISUAL_GROUP_VIEW?n.createElement("div",{className:"xt0e3qv x87ps6o xh8yej3"},n.createElement(i$,{showBackButton:!0,onBackClick:()=>t(ld.FR.ALL_VISUAL_GROUPS_VIEW)})):n.createElement("div",{className:"xt0e3qv x87ps6o xh8yej3 x8rdmch"},n.createElement(i$,null))}function i$({showBackButton:e=!1,onBackClick:t}){let l=ly();return n.createElement("div",{className:"x78zum5 x1qughib x6s0dn4"},n.createElement("div",{className:"x78zum5 xg2d0mh x6s0dn4"},e&&t&&n.createElement(lA.E,{onClick:t},n.createElement(nF.C,null),n.createElement("div",{className:"x78zum5 x1g2dr8m xiqqdae xkezfkh x1giz659 x14kxzw3"},l?(0,d.tx)("design_linter.title"):(0,d.tx)("design_linter.review_title"))),!e&&n.createElement("div",{className:"x78zum5 x1g2dr8m xiqqdae xkezfkh x1giz659 x14kxzw3"},l?(0,d.tx)("design_linter.title"):(0,d.tx)("design_linter.review_title")),n.createElement(lI.y,{helpUrlVariant:lC.JT.DETECT_VIOLATIONS})),n.createElement("div",{className:"x78zum5 xg2d0mh x1057jvv"},n.createElement(iz,null),n.createElement(iV,null)))}function iV(){let[e,t]=(0,p.fp)(lb._M);return n.createElement(tb.K,{onClick:()=>{e===ld.FR.SELECTED_VISUAL_GROUP_VIEW?t(ld.FR.LIBRARY_SELECTOR_FROM_SELECTED_GROUP_VIEW):t(ld.FR.LIBRARY_SELECTOR_FROM_ALL_GROUPS_VIEW)},"aria-label":(0,d.t)("design_linter.penalty_box.open_library_selector_aria")},n.createElement(nU.l,null))}function iz(){let e=(0,p.Xr)(lb._M),t=ly(),l=(0,n.useCallback)(()=>{(0,nC.il)(),lR.r()?.requestDetection(!0),e(ld.FR.ALL_VISUAL_GROUPS_VIEW)},[e]);return n.createElement(tb.K,{onClick:l,"aria-label":(0,d.t)("design_linter.modal.penalty_box.refresh_button_tooltip"),disabled:t},n.createElement(nH.T,null))}function iD(){return(0,la.qZ)()?n.createElement(n.Fragment,null,!!(0,o.k)().aip_flower_garden_ts&&n.createElement(n$,null),n.createElement(iF,null)):null}let iF=n.memo(()=>{let e=(0,e3.J2)(i.Ez5.uiState().showDesignLinter),t=(0,p.md)(la.FD),l=function(){let e=(0,p.md)(lb._M);return(0,lx.y4)(e)}();return((0,n.useEffect)(()=>()=>{i.Ez5?.uiState()?.showDesignLinter?.set(!1)},[]),!function(){let e=(0,p.Xr)(la.v4),t=(0,lm.pN)(),l=t.data?.libraryVariables,r=t.data?.libraryVariableSets,a=(0,p.md)(la.Ut);(0,n.useEffect)(()=>{if(a.size<1){(0,li.PN)()&&e(e=>({...e,status:"loaded"}));return}if("errors"===t.status){e(e=>({...e,status:"error"}));return}if("loaded"!==t.status)return;let n=new AbortController,i=n.signal;return async function(){if(!r||!l)return;e(e=>({...e,status:"loading"}));let t=new Set,n=[];r.forEach(e=>{a.has(e.library_key)&&(n.push(e),t.add(e.library_key))});for(let e=0;e<n.length;e+=2){if(i.aborted)return;let t=n.slice(e,e+2).map(e=>(0,lc.RI)(e));await Promise.allSettled(t)}e({libraryVariables:l,libraryVariableSetIdToSet:n.reduce((e,t)=>(t.node_id&&(e[t.node_id]=t),e),{}),status:"loaded",libraryKeys:t})}(),()=>{n.abort()}},[t.status,r,l,a,e])}(),!function(){let e=(0,p.md)(la.Ut);(0,n.useEffect)(()=>{let t=[...e].map(e=>e.toString());(0,lf.kA)({library_keys:t,entity_type:"VARIABLE",entity_value_type:"FLOAT",max_results_per_library:100}),(0,lf.kA)({library_keys:t,entity_type:"STYLE",entity_value_type:"TEXT",max_results_per_library:100}),(0,lu.w0)(ls.yA).then(e=>{let l=e.get(ls.tS,ls.Iv);(0,lf.kA)({library_keys:t,entity_type:"VARIABLE",entity_value_type:"COLOR",max_results_per_library:l})})},[e])}(),!function(){let e=(0,lp.n)(),t=(0,lg.eS)(lg.aD.CURRENT),l=(0,p.Xr)(l_._),r=(0,n.useMemo)(()=>{if((0,o.k)().aip_flower_garden_component_update&&e)return(0,lE.n)(t,e,lg.aD.CURRENT)},[t,e]);(0,n.useEffect)(()=>{(0,o.k)().aip_flower_garden_component_update&&r&&l({status:"loaded",checkpoints:p.zl.get(r)})},[r,l])}(),(0,nC.fx)(e,"ACTIONS_MENU"),!e||t)?null:l?n.createElement(nI,null):n.createElement(iP,null)});var iU=l(809761),iH=l(868489),iG=l(701455),ij=l(408742),iq=l(868840),iX=l(853733),iW=l(353620),iK=l(776435);function iY({children:e}){return n.createElement(iK.G.Provider,{value:{loggerEventName:"design_navigate"}},n.createElement(iX.s.Provider,{value:{allowLibraryPublish:!0}},n.createElement(iW.y0.Provider,{value:iW.X},e)))}var iQ=l(813009),iJ=l(797688),iZ=l(995218),i0=l(330362),i1=l(959750),i2=l(831271),i5=l(922484),i3=l(407638),i4=l(259964),i6=l(450651),i7=l(858160),i8=l(919671),i9=l(963307),oe=l(394882),ot=l(698429),ol=l(24508),on=l(231563);function or({dropdownShown:e,pickerShown:t,saveAsState:l,sceneGraphSelection:a}){let i=(0,r.wA)(),o=(0,eH.q5)(),s=(0,eP.p8)("currentPage"),u=(0,eP.p8)("isReadOnly"),c=(0,eP.p8)("currentSelectedProperty"),m=(0,ot.ks)(),g=u&&!m,p=(0,i9.Gt)("numSelected"),{exportSettings:E}=(0,i9.pw)("exportSettings"),f=(0,ol.Wd)();return n.createElement(oe.VF,{isVisible:!0},()=>n.createElement(ol.LI,{key:"export",currentPage:s,currentSelectedProperty:c,dispatch:i,dropdownShown:e,exportSettings:E,isSelectionRenamable:ol.LI.isSelectionRenamable(Object.keys(a)),numSelected:p,openFile:o,panelWidth:on.iP,pickerShown:t,recordingKey:"exportsPanel",saveAsState:l,sceneGraphSelection:a,singleNodeName:f,standalone:!0,title:g?(0,d.t)("fullscreen.properties_panel.export"):(0,d.t)("fullscreen.properties_panel.presets")}))}var oa=l(714327),oi=l(812045),oo=l(562026),os=l(596224),od=l(257009),ou=l(587995),oc=l(612499);function om({dropdownShown:e,expandedFramePresetType:t,pickerShown:l,sceneGraphSelection:a,shownPanels:o,userFlags:s}){let d=(0,r.wA)(),u=(0,eH.q5)(),c=(0,os.cJ)(),m=(0,i9.tN)("containsResponsiveSets"),g=!o[i.ibQ.FRAME_PRESETS]&&!o[i.ibQ.PENCIL_TOOL]&&!m;return n.createElement(n.Fragment,null,n.createElement(oe.VF,{isVisible:o[i.ibQ.FRAME_PRESETS]},()=>n.createElement(od.nl,{key:"frame-presets",recordingKey:"framePresetPanel",dispatch:d,expandedFramePresetType:t})),!c&&n.createElement(oe.VF,{isVisible:o[i.ibQ.PENCIL_TOOL]},()=>n.createElement(ou.q,{id:"pencilToolPanel",key:"pencilToolPanel",recordingKey:"pencilToolPanel",openFile:u})),n.createElement(oe.VF,{isVisible:g},()=>n.createElement(oc.Z0,{key:"prototype",recordingKey:"prototypePanel",dropdownShown:e,pickerShown:l,sceneGraphSelection:a,shouldUseSelectedStyleProperties:!0,userFlags:s})))}function og({scrollContainer:e,refMainScrollContainer:t,...l}){(0,oa.S2)();let r=(0,i0.k)(),a=l.propertiesPanelTab,o=(0,eP.p8)("topLevelMode"),s=(0,on.Dj)(l.user),d=o!==i.lyf.PREVIEW&&(o!==i.lyf.BRANCHING||!s)&&o!==i.lyf.DEV_HANDOFF&&a===i.FAf.DESIGN,u=o!==i.lyf.PREVIEW&&o!==i.lyf.BRANCHING&&a===i.FAf.PROTOTYPE,c=o===i.lyf.PREVIEW&&!l.userStateLoaded&&!r||a===i.FAf.INSPECT,m=a===i.FAf.EXPORT,g=a===i.FAf.COMMENT;return n.createElement(n.Fragment,null,d&&n.createElement(i8.Y,{scrollContainer:e,...l}),u&&n.createElement(om,{dropdownShown:l.dropdownShown,expandedFramePresetType:l.expandedFramePresetType,pickerShown:l.pickerShown,sceneGraphSelection:l.sceneGraphSelection,shownPanels:l.shownPanels,userFlags:l.userFlags}),c&&n.createElement(oi.q,{scrollContainer:e}),m&&n.createElement(or,{dropdownShown:l.dropdownShown,pickerShown:l.pickerShown,saveAsState:l.saveAsState,sceneGraphSelection:l.sceneGraphSelection}),g&&n.createElement(l.commentsPanel,null))}function op(e){!function(){let e=(0,tu.GS)(),{isPropertiesPanelCollapsed:t,setPropertiesPanelCollapsed:l}=(0,i7.iT)(),a=(0,tw.Ye)(),o=(0,iZ.ow)(),s=(0,eP.ax)(),d=(0,eP.dH)(),u=d===i.NLJ.FRAME||d===i.NLJ.COMMENTS||d===i.NLJ.VECTOR_PENCIL,c=(0,r.d4)(e=>e.mirror.appModel.activeUserAction===i.QOV.DEFAULT),m=(0,i7.ys)();(0,n.useEffect)(()=>{e&&c&&!o&&t&&(u||s)&&l(!1)},[s,c,d,e,l,t,a,u,o]),(0,n.useEffect)(()=>{m&&l(!0)},[m,l,t])}();let t=null,l=e=>{t=e};return n.createElement(oo.j,{recordingKey:e.recordingKey,activeTab:e.propertiesPanelTab,refMainScrollContainer:l},n.createElement(og,{...e,scrollContainer:t,refMainScrollContainer:l}))}var oE=l(620512),of=l(493209),o_=l(459762),ob=l(719486);let ox=n.memo(function(){let e=(0,iQ.R)(e=>(0,i3.getPermissionsState)(e)),t=(0,eP.aV)(),l=(0,r.d4)(e=>e.loadingState),a=(0,g.UN)(),s=(0,r.d4)(e=>e.mirror.sceneGraphSelection),d=(0,r.d4)(e=>e.currentUserOrgId),u=(0,r.d4)(e=>e.dropdownShown),c=(0,r.d4)(e=>e.fonts),m=(0,r.d4)(e=>e.fileVersion),p=(0,r.d4)(e=>e.installedPluginVersions),E=(0,r.d4)(e=>e.library),f=(0,r.d4)(e=>e.localPlugins),_=(0,r.d4)(e=>e.modalShown),b=(0,r.d4)(e=>e.openFile),x=(0,r.d4)(e=>e.pickerShown),y=(0,r.d4)(e=>e.pickerInStyleCreationShown),h=(0,r.d4)(e=>e.publishedPlugins),v=(0,r.d4)(e=>e.saveAsState),S=(0,r.d4)(e=>e.selectedView),R=(0,r.d4)(e=>e.voice.showWidget),T=(0,r.d4)(e=>e.stylePickerListLayout),k=(0,r.d4)(e=>e.stylePickerShown),C=(0,r.d4)(e=>e.stylePreviewShown),I=(0,r.d4)(e=>e.styleSets),L=(0,r.d4)(e=>e.usedKeyboardShortcuts),w=(0,r.d4)(e=>e.user),A=(0,r.d4)(e=>e.userFlags),O=(0,r.d4)(e=>e.userStateLoaded),N=(0,r.d4)(e=>e.repos),M=(0,r.d4)(e=>e.folders),P=(0,r.d4)(e=>e.teams),B=(0,r.d4)(e=>e.orgById),$=(0,r.d4)(e=>e.orgUsersByOrgId),V=(0,r.d4)(e=>e.userEduGracePeriods),z=(0,r.d4)(e=>e.licenseGroups),D=(0,tu.GS)(),F=(0,iZ.my)()===i4.nT.Design,U=(0,i0.k)(),H=(0,i5.VP)(l,"edit_button_upgrading_to_edit"),G=t||H,j=(0,e3.ut)((0,eZ.aY)(),i.FAf.DESIGN),q=(0,e3.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),X=(0,e3.J2)((0,i1.UK)().expandedFramePresetType),W=(0,i1.Ku)(),K=(0,i1.qw)(),Y=(0,e3.J2)(i.Ez5.uiState().showPropertiesPanel),Q=!(0,iJ.Oo)()&&D&&Y,J=(0,e3.J2)((0,i1.UK)().renderRulers),{isRightPanelCollapsed:Z}=(0,n.useContext)(i6.t),{inProductHelpViewType:ee}=(0,tL.A5)(),et=(0,e3.J2)(i.Ez5.uiState().inProductHelpSidePanelWidth),el=(0,i2.T)(),en=(0,i2.q)(),er=(0,n.useMemo)(()=>U?i.FAf.COMMENT:j,[j,U]);return(0,n.useEffect)(()=>{er!==j&&eZ.aY()?.set(er)},[er,j]),n.createElement(ob.o,{boundaryKey:"PropertiesPanel",loggedOutDesktopRevampExpAvaialable:F},n.createElement(op,{key:(0,lk.tw)()??void 0,allSavedPlugins:p,colorFormat:W,commentsPanel:o_.L,currentUserOrgId:d,dropdownShown:u,expandedFramePresetType:X,fileVersion:m,folders:M,fonts:c,hasMergedDimensionsAndAutolayout:D,inProductHelpSidePanelWidth:et,inProductHelpViewType:ee,isCollapsed:Z,isLoading:G,isUI3:D,isUIMinimized:en,justChangedMinimizeUIValue:el,library:E,licenseGroups:z,localPlugins:f,modalShown:_,openFile:b,orgById:B,orgUsersByOrgId:$,permissionsState:e,pickerInStyleCreationShown:y,pickerShown:x,propertiesPanelSplitPosition:K,propertiesPanelTab:er,publishedPlugins:h,recordingKey:"propertiesPanel",repos:N,rulersVisible:J,saveAsState:v,sceneGraph:a,sceneGraphSelection:s,selectedView:S,shouldAnimateLoadingState:t,shouldShowBackgroundGradient:Q,showVoiceWidget:R,shownPanels:q,stylePickerListLayout:T,stylePickerShown:k,stylePreviewShown:C,styleSets:I,teams:P,usedKeyboardShortcuts:L,user:w,userEduGracePeriods:V,userFlags:A,userStateLoaded:O}),(0,o.k)().asset_binding_picker?n.createElement(of.lD,null):n.createElement(oE.tZ,null))});var oy=l(837018),oh=l(17726),ov=l(473935),oS=l(220559),oR=l(188775),oT=l(612803),ok=l(904617),oC=l(776740),oI=l(47003),oL=l(759102),ow=l(304756),oA=l(87463),oO=l(18584),oN=l(704410),oM=l(526697);function oP(){let e=(0,v.e)({overlay:A.Dqt,priority:C.N.DEFAULT_MODAL});(0,h.E)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,E.trackEvent)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,n.useCallback)(async()=>{(0,E.trackEvent)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await ow.Ay.post("/api/send_mobile_download_email"),e.complete()},[e]);return n.createElement(oO.h,{isShowing:e.isShowing,modalType:oN.q3.FEATURE_UPDATE,closeButtonStyle:oN.M_.ON_DARK,element:()=>n.createElement(oB,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function oB(e){return n.createElement("div",{className:"modal_comment_sidebar_announcement--container--5oh-p"},n.createElement("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V"},n.createElement("img",{alt:"Background",src:(0,_.ck)("e19f2f58bc09414847ad59ff9228e07032e8842c"),className:"modal_comment_sidebar_announcement--image--lyA61"}),n.createElement("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),n.createElement(oM.T,null)),n.createElement("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy"},n.createElement("div",{className:"modal_comment_sidebar_announcement--title--eiyLq"},n.createElement(oA.E,{fontSize:24,fontWeight:"semi-bold"},(0,d.t)("rcs.mobile_comment_announcement.title"))),n.createElement("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE"},n.createElement(oA.E,{fontSize:14},(0,d.t)("rcs.mobile_comment_announcement.description")))),n.createElement("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc"},n.createElement(lh.$n,{variant:"secondary",onClick:e.onEmailClick,iconPrefix:n.createElement(oI.f,null)},(0,d.t)("rcs.mobile_comment_announcement.email_download_link")),n.createElement(lh.$n,{variant:"primary",onClick:()=>{(0,E.trackEvent)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),te.Ay.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},iconPrefix:n.createElement(oL.b,null)},(0,d.t)("rcs.rcs_shared.learn_more"))))}var o$=l(26181),oV=l(52576),oz=l(984079),oD=l(199617),oF=l(260387),oU=l(881658),oH=l(548467),oG=l(601745),oj=l(197183),oq=l(521e3),oX=l(649685),oW=l(483438),oK=l(369644),oY=l(850568),oQ=l(957070);let oJ=n.memo(({shouldShowDragAndDropBorder:e})=>{let t=(0,eP.p8)("isReadOnly"),l=(0,r.d4)(e=>e.progressBarState),m=(0,eP.p8)("loadingEmbeds"),g=(0,e3.ut)(i.Ez5?.uiState().showCanvasSearch,!1),p=(0,e4.Lk)(),E=(0,n.useRef)(null),f=(0,r.d4)(e=>e.userFlags),_=!!(0,o.k)().internal_only_debug_tools||!!f.has_cursor_bot_onboarding_v2,b=(0,r.d4)(e=>e.openFile),x=b?b.key:"",y=(0,r.d4)(e=>e.universalInsertModal),h=(0,r.wA)();(0,eQ.Gb)(x),(0,e5.W)(),(0,oz.K)(),(0,e7.qh)();let v=(0,e1.BI)(),S=(0,eY.e)(),R=(0,eF.ZO)(),T=(0,eF.l7)(),k=n.createElement(e6.m,{role:"region","aria-label":(0,d.t)("fullscreen_actions.left_sidebar_label")},T?n.createElement(s.tH,{boundaryKey:"DevModeLeftPanel",fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:a.eBU.DEVELOPER_TOOLS}},n.createElement(c.O,null)):n.createElement(oS.m,null));return n.createElement(iY,null,n.createElement(eJ.ED,null),n.createElement(oy.sk,null,l.mode!==i.Oin.OFF&&n.createElement("div",{className:oQ._q}),n.createElement(lr.pO,{initialFilterState:{currentPage:!1}},m.map(e=>n.createElement(ij._,{key:`loading-embed-${e}`,nodeId:e})),n.createElement(oh.qn,null),n.createElement(oq.u,null),g&&n.createElement(oC.n,null),(0,o.k)().ce_al_experiments_on&&n.createElement(oC.n,null),n.createElement(iG.GR,null),n.createElement(iG.bu,null),n.createElement(oD.J,null),!T&&!S&&!R&&n.createElement(t3.b,null),n.createElement(oh.XI,{commentsDetailContainerRef:E}),n.createElement(oY.Z,null),(0,o.k)().cursor_bot&&_&&n.createElement(oT.S,null),n.createElement(ov.X,null),n.createElement(iU.J,null),n.createElement(oR.Nz,null),n.createElement("div",{ref:E}),!(0,e0.T)()&&k,!t&&n.createElement(o$.E,null),n.createElement(iH.G,null,T?null:n.createElement(n.Fragment,null,n.createElement(oZ,null),!!v?.shouldOptimizeForIpadApp&&n.createElement(oG.K,null),!!v?.shouldOptimizeForIpadApp&&n.createElement(oj.t,null))),e&&n.createElement(oR.X5,null),(0,o.k)().aip_flower_garden&&n.createElement(iD,null)),n.createElement(e8.A,{isFigjamEditor:!1,isDesignEditor:!0,isSlidesEditor:!1,openFile:b}),n.createElement(oV.l,{defaultViewTabsAvailable:!0,defaultViewAssetsTabVisible:!0}),y.showing&&n.createElement(s.tH,{boundaryKey:"FdBrowseResourceModal",onError:()=>{h(u.F.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(oU.k,null))),p&&n.createElement(ok.K,{className:oQ.PA},n.createElement(oH.s,null)))}),oZ=n.memo(function(){let e=(0,eP.p8)("topLevelMode"),t=(0,eP.ax)(),l=(0,eP.dH)();return(0,e2.z)({topLevelMode:i.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),n.useEffect(()=>{t&&e===i.lyf.PREVIEW&&l!==i.NLJ.COMMENTS&&(0,eZ.NT)(i.FAf.INSPECT)},[t,e,l]),n.createElement(n.Fragment,null,n.createElement(ox,null),n.createElement(o0,null))}),o0=n.memo(function(){let e=(0,o.k)().switch_gen1_nux_overlay;return n.createElement(n.Fragment,null,n.createElement(e9.p,null,n.createElement(to.Gen0WelcomeOverlay,null)),e&&n.createElement(e9.p,null,n.createElement(ts.OnboardGen1WelcomeOverlay,null)),n.createElement(e9.p,{featureFlag:"starting_points_modal"},n.createElement(tj,null)),n.createElement(e9.p,null,n.createElement(ez,null)),n.createElement(e9.p,null,n.createElement(eK,null)),n.createElement(e9.p,null,n.createElement(oF.e,null)),n.createElement(e9.p,null,n.createElement($,null)),n.createElement(e9.p,null,n.createElement(q,null)),n.createElement(e9.p,null,n.createElement(V.A,null)),n.createElement(e9.p,{featureFlag:"mobile_prompt_sidebar_modal"},n.createElement(oP,null)),n.createElement(e9.p,null,n.createElement(ea.S,null)),n.createElement(e9.p,{featureFlag:"cmty_visual_assets_nux"},n.createElement(t5,null)),n.createElement(e9.p,null,n.createElement(ln,null)),n.createElement(e9.p,null,n.createElement(er,null)),n.createElement(e9.p,null,n.createElement(ti,null)),n.createElement(e9.p,{featureFlag:"cheddar"},n.createElement(oX.Ab,null)),n.createElement(e9.p,{featureFlag:"bob_template_gen"},n.createElement(oW.E,null)))});function o1(){let[e,t]=(0,n.useState)(!1);return n.createElement(iq.c,{loadedCommentsProvider:!1},n.createElement(oK.v,{setShouldShowDragAndDropBorder:t,isDragTarget:!1},n.createElement(oJ,{shouldShowDragAndDropBorder:e})))}}}]);

//# debugId=fab46ccc-a85b-5bcc-8754-f0026229ffad

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/74e8aeee361c7f8e1e8237f5fd8640329e7560fc/a88a4c5a-e615f20c1f9ef8ad.min.js.map